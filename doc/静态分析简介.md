# 静态分析简介

2018年08月16日 16:51:53 [caymant](https://me.csdn.net/cayman_2015) 阅读数：452



> **一：程序静态分析简介（Program Static Analysis）：** 
> 程序静态分析简介（Program Static Analysis）是指在不运行代码的方式下，通过词法分析、语法分析、控制流、数据流分析等技术对程序代码进行扫描，验证代码是否满足规范性、安全性、可靠性、可维护性等指标的一种代码分析技术。目前静态分析技术向模拟执行的技术发展以能够发现更多传统意义上动态测试才能发现的缺陷，例如符号执行、抽象解释、值依赖分析等等并采用数学约束求解工具进行路径约减或者可达性分析以减少误报增加效率。目前的静态分析工具，无论从科研角度还是实用性角度还有很大的提高余地，国际最好分析工具误报率在5-10%之间，能够报出的缺陷种类也仅有几百种。 
> **二：静态分析特点：** 
> 程序静态分析是与程序动态分析相对应的代码分析技术，它通过对代码的自动扫描发现隐含的程序问题，主要具有以下特点： 
> （1）不实际执行程序。动态分析是通过在真实或模拟环境中执行程序进行分析的方法，多用于性能测试、功能测试、内存泄漏测试等方面。与之相反，静态分析不运行代码只是通过对代码的静态扫描对程序进行分析。 
> （2）执行速度快、效率高。目前成熟的代码静态分析工具每秒可扫描上万行代码，相对于动态分析，具有检测速度快、效率高的特点。 
> （3）误报率较高。代码静态分析是通过对程序扫描找到匹配某种规则模式的代码从而发现代码中存在的问题，例如可以定位strcpy（）这样可能存在漏洞的函数，这样有时会造成将一些正确代码定位为缺陷的问题，因此静态分析有时存在误报率较高的缺陷，可结合动态分析方法进行修正。 
> **三：常用静态分析技术：** 
> （1）词法分析：从左至右一个字符一个字符的读入源程序，对构成源程序的字符流进行扫描，通过使用正则表达式匹配方法将源代码转换为等价的符号（Token） 流，生成相关符号列表，Lex为常用词法分析工具。 
> （2）语法分析：判断源程序结构上是否正确，通过使用上下文无关语法将相关符号整理为语法树， Yacc为常用工具。 
> （3）抽象语法树分析：将程序组织成树形结构，树中相关节点代表了程序中的相关代码，目前已有javacc/ Antlra等抽象语法树生成工具。 
> （4）语义分析：对结构上正确的源程序进行上下文有关性质的审查。 
> （5）控制流分析：生成有向控制流图，用节点表示基本代码块，节点间的有向边代表控制流路径，反向边表示可能存在的循环；还可生成函数调用关系图，表示函数间的嵌套关系。 
> （6）数据流分析：对控制流图进行遍历，记录变量的初始化点和引用点，保存切片相关数据信息。 
> （7）污点分析：基于数据流图判断源代码中哪些变量可能受到攻击，是验证程序输入、识别代码表达缺陷的关键。 
> （8）无效代码分析，根据控制流图可分析孤立的节点部分为无效代码。

## 静态分析的相关技术：

```
——数据流分析
——控制流分析
——程序切片
——指针分析
——WCET分析
12345
```

## 程序静态分析基本实现原理：

程序静态分析分为 分析前段（Frontend）和静态分析后端。前段主要是在Preprocessor[LEXER/PARSER] 上做一些抽象语法树（AST） 符号表 控制流图（CFG）的分析。静态分析后端主要是 语义分析 编码标准符合性检查 度量分析 缺陷检测 数据流分析 抽象解释 模型检验等 有前端到后端来分析程序。CFG一般是通过遍历AST构造出来的。