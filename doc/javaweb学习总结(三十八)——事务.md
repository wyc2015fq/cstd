## [javaweb学习总结(三十八)——事务](https://www.cnblogs.com/xdp-gacl/p/3984001.html)

## 一、事务的概念

　　**事务指逻辑上的一组操作，组成这组操作的各个单元，要不全部成功，要不全部不成功**。
　　例如：A——B转帐，对应于如下两条sql语句
  　　update from account set money=money+100 where name='B';
 　　 update from account set money=money-100 where name='A';

## 二、MySQL数据库中操作事务命令

　　1、编写测试SQL脚本，如下：

[![复制代码](https://common.cnblogs.com/images/copycode.gif)](javascript:void(0);)

```sql
 1 /*创建账户表*/
 2 create table account(
 3     id int primary key auto_increment,
 4     name varchar(40),
 5     money float
 6 );
 7 
 8 /*插入测试数据*/
 9 insert into account(name,money) values('A',1000);
10 insert into account(name,money) values('B',1000);
11 insert into account(name,money) values('C',1000);
```

[![复制代码](https://common.cnblogs.com/images/copycode.gif)](javascript:void(0);)

　　下面我们在MySQL数据库中模拟A——B转帐这个业务场景

### 2.1、开启事务(start transaction)

　　使用"start transaction"开启MySQL数据库的事务，如下所示：

　　![img](data:image/png;base64,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)

　　我们首先在数据库中模拟转账失败的场景，首先执行update语句让A用户的money减少100块钱，如下图所示：

　　![img](data:image/png;base64,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)

　　然后我们关闭当前操作的dos命令行窗口，这样就导致了刚才执行的update语句的数据库的事务没有被提交，那么我们对A用户的修改就不算是是真正的修改了，下次在查询A用户的money时，依然还是之前的1000，如下图所示：

　　![img](data:image/png;base64,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)

### 2.2、提交事务(commit)

　　下面我们在数据库模拟A——B转账成功的场景

　　![img](data:image/png;base64,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)

　　我们手动提交(commit)数据库事务之后，A——B转账100块钱的这个业务操作算是真正成功了，A账户中少了100，B账户中多了100。

### 2.3、回滚事务(rollback)

　　![img](https://images0.cnblogs.com/blog/289233/201409/212258234406731.png)

　　通过手动回滚事务，让所有的操作都失效，这样数据就会回到最初的初始状态！

## 三、JDBC中使用事务

　　当Jdbc程序向数据库获得一个Connection对象时，默认情况下这个Connection对象会自动向数据库提交在它上面发送的SQL语句。若想关闭这种默认提交方式，让多条SQL在一个事务中执行，可使用下列的JDBC控制事务语句

- Connection.setAutoCommit(false);//开启事务(start transaction)
- Connection.rollback();//回滚事务(rollback)
- Connection.commit();//提交事务(commit)

### 3.1、JDBC使用事务范例

　　在JDBC代码中演示银行转帐案例，使如下转帐操作在同一事务中执行

　　"update account set money=money-100 where name='A'"

　　update account set money=money+100 where name='B'

　　代码如下：

[![复制代码](https://common.cnblogs.com/images/copycode.gif)](javascript:void(0);)

```
  1 package me.gacl.demo;
  2 
  3 import java.sql.Connection;
  4 import java.sql.PreparedStatement;
  5 import java.sql.ResultSet;
  6 import java.sql.SQLException;
  7 import me.gacl.utils.JdbcUtils;
  8 import org.junit.Test;
  9 
 10 /**
 11 * @ClassName: TransactionDemo1
 12 * @Description: 
 13 * JDBC中使用事务来模似转帐 
 14     create table account(
 15         id int primary key auto_increment,
 16         name varchar(40),
 17         money float
 18     );
 19     insert into account(name,money) values('A',1000);
 20     insert into account(name,money) values('B',1000);
 21     insert into account(name,money) values('C',1000);
 22 * @author: 孤傲苍狼
 23 * @date: 2014-9-22 下午11:16:17
 24 *
 25 */ 
 26 public class TransactionDemo1 {
 27 
 28     /**
 29     * @Method: testTransaction1
 30     * @Description: 模拟转账成功时的业务场景
 31     * @Anthor:孤傲苍狼
 32     *
 33     */ 
 34     @Test
 35     public void testTransaction1(){
 36         Connection conn = null;
 37         PreparedStatement st = null;
 38         ResultSet rs = null;
 39         
 40         try{
 41             conn = JdbcUtils.getConnection();
 42             conn.setAutoCommit(false);//通知数据库开启事务(start transaction)
 43             String sql1 = "update account set money=money-100 where name='A'";
 44             st = conn.prepareStatement(sql1);
 45             st.executeUpdate();
 46             String sql2 = "update account set money=money+100 where name='B'";
 47             st = conn.prepareStatement(sql2);
 48             st.executeUpdate();
 49             conn.commit();//上面的两条SQL执行Update语句成功之后就通知数据库提交事务(commit)
 50             System.out.println("成功！！！");  //log4j
 51         }catch (Exception e) {
 52             e.printStackTrace();
 53         }finally{
 54             JdbcUtils.release(conn, st, rs);
 55         }
 56     }
 57     
 58     /**
 59     * @Method: testTransaction1
 60     * @Description: 模拟转账过程中出现异常导致有一部分SQL执行失败后让数据库自动回滚事务
 61     * @Anthor:孤傲苍狼
 62     *
 63     */ 
 64     @Test
 65     public void testTransaction2(){
 66         Connection conn = null;
 67         PreparedStatement st = null;
 68         ResultSet rs = null;
 69         
 70         try{
 71             conn = JdbcUtils.getConnection();
 72             conn.setAutoCommit(false);//通知数据库开启事务(start transaction)
 73             String sql1 = "update account set money=money-100 where name='A'";
 74             st = conn.prepareStatement(sql1);
 75             st.executeUpdate();
 76             //用这句代码模拟执行完SQL1之后程序出现了异常而导致后面的SQL无法正常执行，事务也无法正常提交，此时数据库会自动执行回滚操作
 77             int x = 1/0;
 78             String sql2 = "update account set money=money+100 where name='B'";
 79             st = conn.prepareStatement(sql2);
 80             st.executeUpdate();
 81             conn.commit();//上面的两条SQL执行Update语句成功之后就通知数据库提交事务(commit)
 82             System.out.println("成功！！！");
 83         }catch (Exception e) {
 84             e.printStackTrace();
 85         }finally{
 86             JdbcUtils.release(conn, st, rs);
 87         }
 88     }
 89     
 90     /**
 91     * @Method: testTransaction1
 92     * @Description: 模拟转账过程中出现异常导致有一部分SQL执行失败时手动通知数据库回滚事务
 93     * @Anthor:孤傲苍狼
 94     *
 95     */ 
 96     @Test
 97     public void testTransaction3(){
 98         Connection conn = null;
 99         PreparedStatement st = null;
100         ResultSet rs = null;
101         
102         try{
103             conn = JdbcUtils.getConnection();
104             conn.setAutoCommit(false);//通知数据库开启事务(start transaction)
105             String sql1 = "update account set money=money-100 where name='A'";
106             st = conn.prepareStatement(sql1);
107             st.executeUpdate();
108             //用这句代码模拟执行完SQL1之后程序出现了异常而导致后面的SQL无法正常执行，事务也无法正常提交
109             int x = 1/0;
110             String sql2 = "update account set money=money+100 where name='B'";
111             st = conn.prepareStatement(sql2);
112             st.executeUpdate();
113             conn.commit();//上面的两条SQL执行Update语句成功之后就通知数据库提交事务(commit)
114             System.out.println("成功！！！");
115         }catch (Exception e) {
116             try {
117                 //捕获到异常之后手动通知数据库执行回滚事务的操作
118                 conn.rollback();
119             } catch (SQLException e1) {
120                 e1.printStackTrace();
121             }
122             e.printStackTrace();
123         }finally{
124             JdbcUtils.release(conn, st, rs);
125         }
126     }
127 }
```

[![复制代码](https://common.cnblogs.com/images/copycode.gif)](javascript:void(0);)

###  3.2、设置事务回滚点

　　在开发中，有时候可能需要手动设置事务的回滚点，在JDBC中使用如下的语句设置事务回滚点

　　Savepoint sp = conn.setSavepoint();
　　Conn.rollback(sp);
　　Conn.commit();//回滚后必须通知数据库提交事务
　　**设置事务回滚点范例**：

[![复制代码](https://common.cnblogs.com/images/copycode.gif)](javascript:void(0);)

```
 1 package me.gacl.demo;
 2 
 3 import java.sql.Connection;
 4 import java.sql.PreparedStatement;
 5 import java.sql.ResultSet;
 6 import java.sql.SQLException;
 7 import java.sql.Savepoint;
 8 
 9 import me.gacl.utils.JdbcUtils;
10 import org.junit.Test;
11 
12 /**
13 * @ClassName: TransactionDemo1
14 * @Description: 
15 * JDBC中使用事务来模似转帐 
16     create table account(
17         id int primary key auto_increment,
18         name varchar(40),
19         money float
20     );
21     insert into account(name,money) values('A',1000);
22     insert into account(name,money) values('B',1000);
23     insert into account(name,money) values('C',1000);
24 * @author: 孤傲苍狼
25 * @date: 2014-9-22 下午11:16:17
26 *
27 */ 
28 public class TransactionDemo2 {
29 
30     /**
31     * @Method: testTransaction1
32     * @Description: 模拟转账成功时的业务场景
33     * @Anthor:孤傲苍狼
34     *
35     */ 
36     @Test
37     public void testTransaction1(){
38         Connection conn = null;
39         PreparedStatement st = null;
40         ResultSet rs = null;
41         Savepoint sp = null;
42         
43         try{
44             conn = JdbcUtils.getConnection();
45             conn.setAutoCommit(false);//通知数据库开启事务(start transaction)
46             
47             String sql1 = "update account set money=money-100 where name='A'";
48             st = conn.prepareStatement(sql1);
49             st.executeUpdate();
50             
51             //设置事务回滚点
52             sp = conn.setSavepoint();
53             
54             String sql2 = "update account set money=money+100 where name='B'";
55             st = conn.prepareStatement(sql2);
56             st.executeUpdate();
57             
58             //程序执行到这里出现异常，后面的sql3语句执行将会中断
59             int x = 1/0;
60             
61             String sql3 = "update account set money=money+100 where name='C'"; 
62             st = conn.prepareStatement(sql3);
63             st.executeUpdate();
64             
65             conn.commit();
66             
67         }catch (Exception e) {
68             try {
69                 /**
70                  * 我们在上面向数据库发送了3条update语句，
71                  * sql3语句由于程序出现异常导致无法正常执行，数据库事务而已无法正常提交，
72                  * 由于设置的事务回滚点是在sql1语句正常执行完成之后，sql2语句正常执行之前,
73                  * 那么通知数据库回滚事务时，不会回滚sql1执行的update操作
74                  * 只会回滚到sql2执行的update操作，也就是说，上面的三条update语句中，sql1这条语句的修改操作起作用了
75                  * sql2的修改操作由于事务回滚没有起作用，sql3由于程序异常没有机会执行
76                  */
77                 conn.rollback(sp);//回滚到设置的事务回滚点
78                 //回滚了要记得通知数据库提交事务
79                 conn.commit();
80             } catch (SQLException e1) {
81                 e1.printStackTrace();
82             }
83             e.printStackTrace();
84         }finally{
85             JdbcUtils.release(conn, st, rs);
86         }
87     }
88 }
```

[![复制代码](https://common.cnblogs.com/images/copycode.gif)](javascript:void(0);)

## 四、事务的四大特性(ACID)

### 4.1、原子性（Atomicity）

　　**原子性是指事务是一个不可分割的工作单位，事务中的操作要么全部成功，要么全部失败**。比如在同一个事务中的SQL语句，要么全部执行成功，要么全部执行失败

### 4.2、一致性（Consistency）

　　官网上**事务一致性**的概念是：**事务必须使数据库从一个一致性状态变换到另外一个一致性状态**。以转账为例子，A向B转账，假设转账之前这两个用户的钱加起来总共是2000，那么A向B转账之后，不管这两个账户怎么转，A用户的钱和B用户的钱加起来的总额还是2000，这个就是事务的一致性。

### 4.3、隔离性（Isolation）

　　事务的隔离性是多个用户并发访问数据库时，数据库为每一个用户开启的事务，不能被其他事务的操作数据所干扰，多个并发事务之间要相互隔离。

### 4.4、持久性（Durability）

　　持久性是指一个事务一旦被提交，它对数据库中数据的改变就是永久性的，接下来即使数据库发生故障也不应该对其有任何影响

　　事务的四大特性中最麻烦的是隔离性，下面重点介绍一下事务的隔离级别

## 五、事务的隔离级别

　　多个线程开启各自事务操作数据库中数据时，数据库系统要负责隔离操作，以保证各个线程在获取数据时的准确性。

### 5.1、事务不考虑隔离性可能会引发的问题　　

　　如果事务不考虑隔离性，可能会引发如下问题：

#### 　　1、脏读

　　　　　**脏读指一个事务读取了另外一个事务未提交的数据**。

　　　　　这是非常危险的，假设Ａ向Ｂ转帐100元，对应sql语句如下所示
    　　　　　　1.update account set money=money+100 where name='B';    
    　　　　　　2.update account set money=money-100  where name='A';
    　　　 当第1条sql执行完，第2条还没执行(A未提交时)，如果此时Ｂ查询自己的帐户，就会发现自己多了100元钱。如果A等B走后再回滚，B就会损失100元。　　

#### 　　2、不可重复读

　　**不可重复读指在一个事务内读取表中的某一行数据，多次读取结果不同。**
　　例如银行想查询A帐户余额，第一次查询A帐户为200元，此时A向帐户内存了100元并提交了，银行接着又进行了一次查询，此时A帐户为300元了。银行两次查询不一致，可能就会很困惑，不知道哪次查询是准的。
　　**不可重复读****和脏读的区别**是，**脏读是读取前一事务未提交的脏数据，不可重复读是重新读取了前一事务已提交的数据**。
　　很多人认为这种情况就对了，无须困惑，当然是后面的为准。我们可以考虑这样一种情况，比如银行程序需要将查询结果分别输出到电脑屏幕和写到文件中，结果在一个事务中针对输出的目的地，进行的两次查询不一致，导致文件和屏幕中的结果不一致，银行工作人员就不知道以哪个为准了。

#### 　　3、虚读(幻读)

　　**虚读(幻读)是指在一个事务内读取到了别的事务插入的数据，导致前后读取不一致**。
　　如丙存款100元未提交，这时银行做报表统计account表中所有用户的总额为500元，然后丙提交了，这时银行再统计发现帐户为600元了，造成虚读同样会使银行不知所措，到底以哪个为准。

### 5.2、事务隔离性的设置语句

　　MySQL数据库共定义了四种隔离级别：

1. Serializable(串行化)：可避免脏读、不可重复读、虚读情况的发生。
2. Repeatable read(可重复读)：可避免脏读、不可重复读情况的发生。
3. Read committed(读已提交)：可避免脏读情况发生。
4. Read uncommitted(读未提交)：最低级别，以上情况均无法保证。

　　mysql数据库查询当前事务隔离级别：**select @@tx_isolation**

　　**例如：**

　　![img](data:image/png;base64,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)

　　**mysql数据库默认的事务隔离级别**是：**Repeatable read(可重复读)**

　　mysql数据库设置事务隔离级别：**set transaction isolation level 隔离级别名**

　　**例如：**

　　![img](data:image/png;base64,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)

### 5.3、使用MySQL数据库演示不同隔离级别下的并发问题

　　同时打开两个窗口模拟2个用户并发访问数据库

#### 1、当把事务的隔离级别设置为read uncommitted时，会引发脏读、不可重复读和虚读

　　A窗口
　　　　set transaction isolation level  read uncommitted;--设置A用户的数据库隔离级别为Read uncommitted(读未提交)
　　　　start transaction;--开启事务
　　　　select * from account;--查询A账户中现有的钱，转到B窗口进行操作
　　　　select * from account--发现a多了100元，这时候A读到了B未提交的数据（脏读）

　　B窗口
　　　　start transaction;--开启事务
　　　　update account set money=money+100 where name='A';--不要提交，转到A窗口查询

#### 2、当把事务的隔离级别设置为read committed时，会引发不可重复读和虚读，但避免了脏读

　　A窗口
　　　　set transaction isolation level  read committed;
　　　　start transaction;
　　　　select * from account;--发现a帐户是1000元，转到b窗口
　　　　select * from account;--发现a帐户多了100,这时候，a读到了别的事务提交的数据，两次读取a帐户读到的是不同的结果（不可重复读）
　　B窗口
　　　　start transaction;
　　　　update account set money=money+100 where name='aaa';
　　　　commit;--转到a窗口

#### 3、当把事务的隔离级别设置为repeatable read(mysql默认级别)时，会引发虚读，但避免了脏读、不可重复读

　　A窗口
　　　　set transaction isolation level repeatable read;
　　　　start transaction;
　　　　select * from account;--发现表有4个记录，转到b窗口
　　　　select * from account;--可能发现表有5条记录，这时候发生了a读取到另外一个事务插入的数据（虚读）
　　B窗口
　　　　start transaction;
　　　　insert into account(name,money) values('ggg',1000);
　　　　commit;--转到a窗口

#### 4、当把事务的隔离级别设置为Serializable时，会避免所有问题

　　A窗口
　　　　set transaction isolation level Serializable;
　　　　start transaction;
　　　　select * from account;--转到b窗口

　　B窗口
　　　　start transaction;
　　　　insert into account(name,money) values('ggg',1000);--发现不能插入，只能等待a结束事务才能插入



分类: [JavaWeb学习总结](https://www.cnblogs.com/xdp-gacl/category/574705.html)