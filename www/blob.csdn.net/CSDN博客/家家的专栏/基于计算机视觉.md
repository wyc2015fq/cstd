# 基于计算机视觉 - 家家的专栏 - CSDN博客





2010年11月08日 18:33:00[依海之燕](https://me.csdn.net/yihaizhiyan)阅读数：1337








### 转自：[http://blog.163.com/lizhh@126/blog/static/210660602009528111110998/](http://blog.163.com/lizhh@126/blog/static/210660602009528111110998/)

###  下面的综述主要来自Dalal & Triggs 的博士论文，以及一些读过的文献，但不够全面，仅作参考。




人的检测是计算机视觉中挑战性的问题，吸引了许多学者的注意。其难点主要在于两点，一是人体非刚体运动造成的形状不确定，另一个是遮挡使通过肤色检测或人脸检测方法有时不能使用。人的检测方法按是否能对背景建模分为基于背景减除的方法和非背景减除两类方法，还可根据人的运动情况分为基于静态图像特征和基于运动的检测方法，本文仅讨论非背景减除和基于静态图像的方法。

1.1 所采用的特征

现有的人的检测方法主要通过提取图像特征进行匹配，所提取的特征一般是针对光照、视点和目标轮廓变化不变的，包括特征点、块、梯度、纹理等。所有的特征可分为稀疏特征和密集特征。

1.1.1 稀疏局部特征描述

?关键点 

这类方法提取局部图像特征----一些突出的点形成的集合，这些点叫作感兴趣点或关键点，由这些点形成的向量作为检测特征。如果这些关键点的提取是稳定可靠的，则包含了图像的局部特征的大量信息。该类方法的性能主要取决于特征点是否有效描述图像特征以及其提取方法是否准确可靠。一般的点检测器包括Harris、拉普拉斯、高斯差分（DoGs）和尺度不变量Harris-Laplace检测器。该类稀疏点特征的优势之一是它的特征描述压缩性，这使分类过程加快。但是用于一类目标的特征点不能用于另一类目标，使这类特征不具备通用性。

目前，最流行的方法是基于图像梯度的尺度不变图像特征变换（SIFT）和形状上下文（shape context），都是通过计算图像梯度或边缘的直方图得到的。SIFT采用局部尺度和由关键点检测器投票得到的直方图图来描述的主要梯度方向。它计算尺度和旋转不变的特征点向量。通过尺度信息定义一个适当的平滑尺度。SIFT在矩形格上计算直方图。形状上下文使用log-polar格。早期的形状上下文方法通过边缘向2-D直方图投票，后来被扩展到一般的形状上下文，Mori和Malik[2003]使用梯度方向向3-D空间和方向直方图，其梯度量加权方法类似于SIFT.

?部分人体检测器

基于局部部分的检测器也广泛用于目标和人的检测系统。[]使用显式人体部分（上肢、下肢等），采用圆柱体描述肢体。用平行线边缘检测器来检测相应肢体，通过形体几何表示关节约束，或采用图形模型来约束肢体的相对几何位置，还使用了3-D检测器。这类方法的一个问题是用平行线检测肢体的方法太简单，对于真实实例的适用性值得怀疑。这类方法缺乏真实图像的扩展性测试。

2.1.2 密集图像区域描述

该类方法以密集的方式在整个图像或检测窗口中提取图像特征，将特征形成一个高维描述矢量，用以判别图像的分类或窗口中是否包含目标。典型的描述是基于图像的亮度、梯度或高阶微分算子。

? 基于图像亮度的区域或片断

使用图像亮度的主要方法之一类似于“特征脸”的方法[]，固定分辨率的人脸图像重新安排形成大的特征向量，PCA方法用于得到人脸向量的主要变化并以此为特征。[Vidal-Naquet 和Ullman2003]使用基于图像灰度的简单对像片断作为特征，片断是随机生成的，采用贪婪算法通过最大化片断和类之间的互信息实现分类。片断间成对地统计依赖关系用于建立基于非线性树的模型。作者给出的结果证明性能优于基于小波的描述方法。但是他们的评估是基于刚体目标类如人脸和汽车。

?基于边缘和和梯度的检测器

[Gavila 和Philomin1999]的行人检测系统采用了一个普通模板匹配方法，提取边缘图像与一个学习的模板集合进行匹配，匹配时采用chamfer距离。该方法后来被用于一个实际的实时行人检测系统[Gavrila 2004]。类似的方法采用图像梯度描述子等[]。[Ronfard et al.[2002]提出一个关节形体检测器，采用SVM分类器，对肢体进行分类，分类器建立于一阶和二阶高斯滤波器和动态识别框架。Mikolajczyk et al. [2004]提出了基于7部分的检测器，头的正面和侧面、躯干、上肢和下肢。根据梯度图像计算多尺度描述子，该描述子基于直方图的主方向，与SIFT的思想相同。

? 基于小波的检测器

一些著名的方法采用基于图像区域的密集编码方案，采用类Haar小波的算子。Papageorgiou and Poggio [2000]采用微分的方向的Haar小波系数的绝对值和尺度作为局部描述子，图像映射到像素空间形成一个超完备的Haar小波字典。为得到一个超完备基，通过交叠支撑方式计算小波。在对重要的视觉模式进行充分编码时，超完备性的使用提供了与移位不变性相当的性质。该描述子应用于一个核支持向量机框架，最后的判别标准为距所选训练样本的加权核距离之和。但我们发现线性SVM可获得同样的结果而运行速度则快得多。Papageorgiou and Poggio [2000]的方法用于行人、人脸和汽车的检测。

Viola and Jones [2001] and Viola et al. [2003]没有用一种单一的复杂分类器，他们采用一般性Haar小波建立了一个更有效的推进否绝方式的分类器链。矩形区域的差分以若干个小波和柱形排列，作为特征。每个段（stage）被设计用于拒绝尽量多的反例，但仍剩下一部分可忽略的反例。在训练每个段时，所有可能的矩形维的特征被测试，使用采样重加权过程Vector Boosting作为一个贪婪特征选择方法。在Viola and Jones [2001]中用于人脸检测，在Viola et al. [2003]中用于行人检测，为增加准确性，在行人检测中包括了时间信息。

1.2 分类方法

基于局部特征描述子的分类方法可以分为判别方法（如SVM）和生成性方法（如图模式）。

1.2.1 判别方法

机器学习方法如SVM和Boosting在目标识别中极为流行，原因是它们从大特征集中选择相关描述子和特征的能力强，性能高而且相对易用。

?支持向量机

在过去的几十年中，SVM已经广泛用于目标识别。SVM通过最大化目标类和非目标类边缘距离来找到一个超平面。在下述方法中采用了SVM. Mohan et al. [2001]建立了一个瀑布型SVM分类器，一阶为通过Haar小波的肢体检测器，二阶把肢体检测结果组合起来得到最终的检测结果。在Mohan et al. [2001]k中， 采用15个SVM和基于实用向量机（Relevance Vector Machine, RVM）的肢体检测器，其特征为一阶和二阶图像梯度。但是最后的分类是通过组合了肢体检测的动态规划来实现。Dork´o and Schmid [2003]使用基于感兴趣点的SVM分类器，作为中间部分的检测器，用于通用目标的检测。

?瀑布AdaBoost

AdaBoost把一些弱分类器结合起来形成一个强分类器，在视觉中，它特别用于建立瀑布模式否绝器，在每一个分类层为其否绝任务选择最相关的特征。尽管AdaBoost瀑布在训练时很慢，其原因是它的选择特征进行编码的方式在后面的检测时提供了有效的改善（与SVM相比）。

Viola and Jones [2001], Viola et al. [2003]使用AdaBoost训练弱分类器瀑布实现人脸和行人的检测，采用的是基于时空矩形差分的描述子。Opelt et al. [2004]使用一个类似的AdaBoost框架作为感兴趣点的弱分类器。Schneiderman and Kanade [2000, 2004]提出一个更细致的分类模型，定义目标肢体为小波系数集的函数，采用一个一般的坐标系框架来表示。这可以隐式捕捉肢体之间的几何关系。似然比的独立组合形成最后的分类器。Zhu et al. [2006]使用基于梯度方向直方图作为特征，采用瀑布否绝器。

1.2.2 贝叶斯和图模式

Ullman et al. [2001] and Vidal-Naquet and Ullman [2003]给出了图像片断的选择方法，通过最大化片断和类标记之间的互信息，得到一个有效的独立描述。他们采用Na?ve贝叶斯分类器，并通过结果表明树形贝叶斯网络在同样的片断集上没有对分类效果有明显改进。

Weber et al. [2000]采用一般性贝叶斯模型，通过EM算法学习，形成特征类，采用似然比进行分类。Fergus et al. [2003]也采用似然比，但是建立了一个更细致的条件概率模型，在其外观中包括了位置和尺度特征。

1.3 近几年的进展

近几年较突出的方法如下：

（1）Dalal & Triggs [2005] 提出一个基于梯度方向直方图（Histograms of Oriented Gradients, HOG）的方法，取得较突出的结果，他们先将图像分成8*8的像素块，一个块叫作一个单元（cell），对每个像素计算梯度方向，每个单元形成9个主要梯度方向构成的直方图，每个方向叫作一个“箱”（bin），每2*2单元形成一个“块”（block），块之间的单元有交叠。每个检测窗口由若干块构成。根据上述特征向量，采用SVM分类器, 对图像进行不同尺度、不同位置的检测。 Dalal & Triggs [2005]方法用于MIT数据库和INRIA数据库，这两个数据库中的图像都是检测难度较高的图像，包括各个侧面，人的背景较复杂，有些图像中有较多个人。该方法的检测结果较突出，每窗口10-4反例时，检测率为90%。该方法的缺点是特征维数较高，一个窗口的特征共3780维。Qiang Zhu，etc.[2006]在HOG特征基础上，采用积分图像，并将Dalal & Triggs [2005]的向量L2规格化变为L1规格化，采用AdaBoost瀑布否绝器，在保持了检测率的情况下，提高了检测的速度。精扫描最长时间为250ms，粗扫描最长时间为30ms（Pentium 4 1.4GCPU）. Cong Hou，etc.[2007]也采用这种特征。

（2） Ying Wu，Ting Yu[2006]提出一种场模型用于人的检测与跟踪，通过一个两层的随机场来刻画目标形状的复杂变化，一层为图像观察，另一层为判别结果。采用0-1分布作为形状的先验模型，并将此先验分布和复杂的图像似然嵌入MRF场，通过学习方法计算图像似然函数，贝叶斯分类器进行分类。该方法的的优点是适合捕捉局部的非刚体性，并且对于部分遮挡的鲁棒性较强。作者给出了在自己拍摄的图像库上的实验结果，也达到了与Dalal & Triggs相当的识别率（但其图像检测难度没有MIT和INRIA高），同时给出了对一些部分遮挡图像的测试结果，证明其对遮挡的有效性。

（3）Vinay D. Shet[2007]提出一种基于双格(bilattice)逻辑推理的人体检测方法，该方法首先将人体分为三部分进行检测，即头、上身和腿部的检测，将上下文线索、景物几何和人体约束以逻辑程序语言中的规则的形式编码，正面信息和反面信息和不确定性也集成于规则中，上述规则应用于各部分的检测结果。人体各部分的检测采用的是Qiang Zhu，etc.[2006]的基于HOG的方法，采用基于双格理论的方法处理遮挡，通过推理形成最终的人体检测。该文给出的检测率在90%以上（基于CNVIR数据库），值得一提的是，在对不同遮挡程度的人体的检测中也达到了90%以上的检测率。（Bilattice-based Logical Reasoning for Human Detection）

（4） Wael Abd-Almageed[2007]也采用HOG实现人的检测，该方法将HOG方法应用于深度图像，采用v-视差(disparity)算法计算视差直方图，并估计地平面(ground plane), 通过均值移位(mean shift)算法对视差图像聚类，从而确定一个搜索范围，这样使HOG窗口的搜索范围变小，提高其效率，提取HOG特征后，采用Fisher线性判别的方法实现人的检测。在自己制作的数据库上进行了测试。(Real-Time Human Detection and Tracking from Mobile Vehicles)

（5）He Xangjian etc.[2007]提出一种基于局部二值模式(LBP)的人体检测方法，采用局部二值模式来描述人体特征，在对人体特征进行描述时，将一般用于LBP的正方形结构改为六角形结构，采用Mahalanobis距离映射（MDM）实现人体的检测。该方法在作者自己拍摄的数据库上进行了测试，检测率为92%.假例率为8%.

1.4机器人对人的检测方法

Kai Nickel, Rainer Stiefelhagen[2007]通过人的姿势检测实现人与机器人的交互，其检测方法主要通过基于颜色的方法检测人的头部和手来实现人的检测与定位。通过确定肤色的分布来检测人脸和手。（Visual recognition of pointing gestures for human–robot interaction，Image and Vision Computing 25 (2007) 其他方法还有[Human-Oriented Tracking for Human-Robot Interaction].

[]通过Hough变换检测人的头部，通过肤色检测确定人脸。（Localization and Approaching to the Human by Mobile Home Robot）

从上述文献可看出，近几年的方法以基于机器学习的方法为主，而HOG特征无疑在准确性和鲁棒性方面具有优势，在室外环境[]和室内环境[]、及遮挡情况下都取得了成功。大部分现有人体检测方法是针对行人的检测，即人体的姿态为站立情况的检测。成功的特征具有粗的空间采样、细的方向采样和强的局部光强规格化的特性[]。




