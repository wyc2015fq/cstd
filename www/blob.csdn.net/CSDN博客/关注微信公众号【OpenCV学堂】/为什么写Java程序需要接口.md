# 为什么写Java程序需要接口 - 关注微信公众号【OpenCV学堂】 - CSDN博客





2012年03月27日 17:28:28[gloomyfish](https://me.csdn.net/jia20003)阅读数：9997








为什么写Java程序需要接口




我之所以以这个作为标题，并不是为了玩噱头，讲一些似是而非的空话，还是以探索加发现，

追本溯源的讲解一下为什么Java需要接口，怎么理解，怎么用它。



首先接口并不是Java才有的，这个是面向对象语言的基本特征之一。回想面向对象之前的那些

编程语言Win32 API中有个最经典的例子是当你在windows窗口中绘制一些内容以后，最大

化再最小化以后内容没了，原因是你没有捕获重写windows的一个WM_Paint的消息，

windows不知道你想绘制什么东西了，高人管这种应用叫**CallBack(回调)**，意思是你调用

windows的paint方法绘制方法，但是windows不知道要绘制什么，结果回头跟你要，你重

写了它就绘出来，不然就什么都没有一张白纸了。



然而当面向对象语言汹涌发展，各种设计模式应运大行其道，很少再有人提及Callback了，怎

么回事情，难道它消失了吗，没有它被面向对象语言换了个名字用得更加的大行其道，以致你以

为它不存在了，在Java中它就是接口。举个Java中最简单的例子，线程的Runnable接口，当

你在Java中启动一个线程时候，Java通过调用thread.start()函数来帮你实现线程的启动，但是

启动以后它执行什么JVM并需要不知道，如果你不重写run方法，就什么都不执行，原因在于

JVM并不知道你在线程里面想要干什么，而你又不能自己调度线程，线程调度依赖JVM本身实

现，所以这个是个很好的CallBack的例子，你调用start()方法让JVM执行线程，JVM回调你实

现的线程run()方法。很完美的实现！没有接口你怎么办到。



另外个很好的例子，可以很完美的诠释接口的秒用，Java编译的时候常会有包依赖关系，假设A

要依赖B，这个没问题，如果有一天你发现B中的类C居然要反过来访问A里面的类D，你傻

眼了，这样就会破坏AB之间的依赖关系，还会产生编译错误，这个时候定义接口文件E在B中，

让D继承一下，传回一个reference给C,问题很完美的解决，也许这么说比较复杂，看下图：

![](https://img-my.csdn.net/uploads/201203/27/1332840350_7408.PNG)




就这样，你还可以在D中调用C，想让C执行D的方法process()只要回传一个reference即可。



而Spring则将接口的概念更加的发扬光大，很多人接触Spring就知道一个概念依赖注入，如果

定义个接口话，然后将引用配置在xml文件中，至于你需要的那个reference的接口帮你做什么

事情，完全由你自己决定，这是一个很伟大的思想，不过是把接口与实现更加测地的分离了，这

样你再也不遇到因为包依赖关系导致的编译错误，Spring的ApplicationContext与

XMLBeanFactory对象帮你自动实现了包依赖解耦。



最后你会发现，接口本质上不过在回调函数之上批了一件华丽的外衣，想当初WIN32 API的年

代，只有Callback这种东西真的满天飞，而且现在还在飞！



**我知道文字比较多，语言不够流畅，但是如果你能读懂它，真的难为你了！**



