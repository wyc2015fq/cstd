# 建立虚拟主机 - 阿瞒--治国之能臣 乱世之奸雄 - CSDN博客
2012年07月13日 21:06:25[baofenny](https://me.csdn.net/jiaminbao)阅读数：574标签：[apache																[server																[服务器																[引擎																[测试																[php](https://so.csdn.net/so/search/s.do?q=php&t=blog)](https://so.csdn.net/so/search/s.do?q=测试&t=blog)](https://so.csdn.net/so/search/s.do?q=引擎&t=blog)](https://so.csdn.net/so/search/s.do?q=服务器&t=blog)](https://so.csdn.net/so/search/s.do?q=server&t=blog)](https://so.csdn.net/so/search/s.do?q=apache&t=blog)
个人分类：[学习实例开发](https://blog.csdn.net/jiaminbao/article/category/1158383)
                
今天学到了很多的东西
有怎么排除apache的错误，1.在apache_star.bat中寻找然后细心的发现错的什么地方，
2.到apache的配置中httpd.conf中进行正确配置和修改。
还学到了怎么建立虚拟主机。。
一般的建立是；
用记事本打开httpd.conf
添加访问目录，不是我写的，我师父写的，把下面这段代码复制到最后
<Directory "/wwwroot">
   Options +FollowSymLinks
    AllowOverride all
    Order allow,deny
    Allow from all
</Directory>
保存关闭就行了。
xammp\apache\conf\extra\httpd_vhosts.conf,
用记事本打开httpd_vhosts.conf，然后仿造上面的代码在复制一个
<VirtualHost *:80>
    DocumentRoot "E:/wwwroot/cms"
    ServerName 127.0.0.2
</VirtualHost>
保存后重启apache，最后进行测试在地址栏输入127.0.0.2。
另一种简单的添加虚拟主机的方法，
点击E:\xampp\apache\conf用记事本打开httpd.conf，在最后面添加代码
<Directory "/wwwroot">
   Options +FollowSymLinks
    AllowOverride all
    Order allow,deny
    Allow from all
</Directory>
# 重写引擎开启
RewriteEngine on
# 将服务器名小写规则
RewriteMap lowercase int:tolower
RewriteMap vhost txt:e:/xampp/apache/conf/vhost.map 
#代理
RewriteCond ${lowercase:%{SERVER_NAME}} ^(.+)$
##RewriteCond ${Proxy_vhost:%1} ^(.*)$
RewriteCond ${vhost:%1} ^(http.*)$
RewriteRule ^/(.*)$ %1/$1  [P]
#目录虚拟主机
RewriteCond ${lowercase:%{SERVER_NAME}} ^(.+)$
RewriteCond ${vhost:%1} ^(.*)$
RewriteRule ^/(.*)$ %1/$1
然后你运行这段代码肯定会出现错误的，因为上面的代码给了它一个新的路径，而且文件名是vhost.map
所以你就在conf目录的下面建立vhost.map
然后用记事本打开vhost.map
里面这时候肯定是空的了，那就在里面加入你要访问的主机名和路径吧，
格式是
列如；127.0.0.2 e:/wwwroot/test03
然后就可以在test03里面写入php代码进行试验了。
对一个知识的掌握程序分几个阶段：
1，知道[知道有这么个东西，但不会用
2，学会[自己学会了，但不懂原理
3，教授[可以把这个知识教给别人，并且回答学习者提出的相关问题。
