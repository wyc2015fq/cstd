# java中的IO操作总结（一） - u013366022的专栏 - CSDN博客
2016年05月09日 10:33:29[slitaz](https://me.csdn.net/u013366022)阅读数：260
所谓IO，也就是Input与Output的缩写。在java中，IO涉及的范围比较大，这里主要讨论针对文件内容的读写
其他知识点将放置后续章节（我想，文章太长了，谁都没耐心翻到最后）
对于文件内容的操作主要分为两大类
分别是：
字符流
字节流
其中，字符流有两个抽象类：Writer   Reader
其对应子类FileWriter和FileReader可实现文件的读写操作
BufferedWriter和BufferedReader能够提供缓冲区功能，用以提高效率
同样，字节流也有两个抽象类：InputStream   OutputStream
其对应子类有FileInputStream和FileOutputStream实现文件读写
BufferedInputStream和BufferedOutputStream提供缓冲区功能
俺当初学IO的时候犯了不少迷糊，网上有些代码也无法通过编译，甚至风格都很大不同，所以新手请注意：
        1.本文代码较长，不该省略的都没省略，主要是因为作为一个新手需要养成良好的代码编写习惯
　　 2.本文在linux下编译，类似于File.pathSeparator和File.separator这种表示方法是出于跨平台性和健壮性考虑
　　 3.代码中有些操作有多种执行方式，我采用了方式1...方式2...的表述，只需轻轻解开注释便可编译
　　 4.代码中并没有在主方法上抛出异常，而是分别捕捉，造成代码过长，如果仅是测试，或者不想有好的编程习惯，那你就随便抛吧……
        5.功能类似的地方就没有重复写注释了，如果新手看不懂下面的代码，那肯定是上面的没有理解清楚
### 字符流
#### 实例1：字符流的写入
```
```java
import
```
```java
java.io.File;
```
```java
import
```
```java
java.io.FileWriter;
```
```java
import
```
```java
java.io.IOException;
```
```java
public
```
```java
class
```
```java
Demo
 {
```
```java
```
```java
public
```
```java
static
```
```java
void
```
```java
main(String[]
 args ) {
```
```java
```
```java
```
```java
//创建要操作的文件路径和名称
```
```java
```
```java
//其中，File.separator表示系统相关的分隔符，Linux下为：/ 
 Windows下为：\\
```
```java
```
```java
String
 path = File.separator +
```
```java
"home"
```
```java
+
 File.separator +
```
```java
"siu"
```
```java
+
```
```java
```
```java
File.separator
 +
```
```java
"work"
```
```java
+
 File.separator +
```
```java
"demo.txt"
```
```java
;
```
```java
```
```java
```
```java
//由于IO操作会抛出异常，因此在try语句块的外部定义FileWriter的引用
```
```java
```
```java
FileWriter
 w =
```
```java
null
```
```java
;
```
```java
```
```java
try
```
```java
{
```
```java
```
```java
//以path为路径创建一个新的FileWriter对象
```
```java
```
```java
//如果需要追加数据，而不是覆盖，则使用FileWriter（path，true）构造方法
```
```java
```
```java
w
 =
```
```java
new
```
```java
FileWriter(path);
```
```java
```
```java
```
```java
//将字符串写入到流中，\r\n表示换行想有好的
```
```java
```
```java
w.write(
```
```java
"Nerxious
 is a good boy\r\n"
```
```java
);
```
```java
```
```java
//如果想马上看到写入效果，则需要调用w.flush()方法
```
```java
```
```java
w.flush();
```
```java
```
```java
}
```
```java
catch
```
```java
(IOException
 e) {
```
```java
```
```java
e.printStackTrace();
```
```java
```
```java
}
```
```java
finally
```
```java
{
```
```java
```
```java
//如果前面发生异常，那么是无法产生w对象的
```
```java
```
```java
//因此要做出判断，以免发生空指针异常
```
```java
```
```java
if
```
```java
(w
 !=
```
```java
null
```
```java
)
 {
```
```java
```
```java
try
```
```java
{
```
```java
```
```java
//关闭流资源，需要再次捕捉异常
```
```java
```
```java
w.close();
```
```java
```
```java
}
```
```java
catch
```
```java
(IOException
 e) {
```
```java
```
```java
e.printStackTrace();
```
```java
```
```java
}
```
```java
```
```java
}
```
```java
```
```java
}
```
```java
```
```java
}
```
```java
}
```
```
编译之后，在目录下面生成文件，并写入字符串
![](http://pic002.cnblogs.com/images/2012/476392/2012121500314932.png)
#### 实例2：字符流的读取
```
```java
import
```
```java
java.io.File;
```
```java
import
```
```java
java.io.FileReader;
```
```java
import
```
```java
java.io.IOException;
```
```java
public
```
```java
class
```
```java
Demo2
 {
```
```java
```
```java
public
```
```java
static
```
```java
void
```
```java
main(String[]
 args ) {
```
```java
```
```java
String
 path = File.separator +
```
```java
"home"
```
```java
+
 File.separator +
```
```java
"siu"
```
```java
+
```
```java
```
```java
File.separator
 +
```
```java
"work"
```
```java
+
 File.separator +
```
```java
"demo.txt"
```
```java
;
```
```java
```
```java
FileReader
 r =
```
```java
null
```
```java
;
```
```java
```
```java
try
```
```java
{
```
```java
```
```java
r
 =
```
```java
new
```
```java
FileReader(path);
```
```java
```
```java
```
```java
//方式一：读取单个字符的方式
```
```java
```
```java
//每读取一次，向下移动一个字符单位
```
```java
```
```java
int
```
```java
temp1
 = r.read();
```
```java
```
```java
System.out.println((
```
```java
char
```
```java
)temp1);
```
```java
```
```java
int
```
```java
temp2
 = r.read();
```
```java
```
```java
System.out.println((
```
```java
char
```
```java
)temp2);
```
```java
```
```java
```
```java
//方式二：循环读取
```
```java
```
```java
//read()方法读到文件末尾会返回-1
```
```java
```
```java
/*
```
```java
```
```java
while
 (true) {
```
```java
```
```java
int
 temp = r.read();
```
```java
```
```java
if
 (temp == -1) {
```
```java
```
```java
break;
```
```java
```
```java
}
```
```java
```
```java
System.out.print((char)temp);
```
```java
```
```java
}
```
```java
```
```java
*/
```
```java
```
```java
```
```java
//方式三：循环读取的简化操作
```
```java
```
```java
//单个字符读取，当temp不等于-1的时候打印字符
```
```java
```
```java
/*int
 temp = 0;
```
```java
```
```java
while
 ((temp = r.read()) != -1) {
```
```java
```
```java
System.out.print((char)temp);
```
```java
```
```java
}
```
```java
```
```java
*/
```
```java
```
```java
```
```java
//方式四：读入到字符数组
```
```java
```
```java
/*
```
```java
```
```java
char[]
 buf = new char[1024];
```
```java
```
```java
int
 temp = r.read(buf);
```
```java
```
```java
//将数组转化为字符串打印,后面参数的意思是
```
```java
```
```java
//如果字符数组未满，转化成字符串打印后尾部也许会出现其他字符
```
```java
```
```java
//因此，读取的字符有多少个，就转化多少为字符串
```
```java
```
```java
System.out.println(new
 String(buf,0,temp));
```
```java
```
```java
*/
```
```java
```
```java
```
```java
//方式五：读入到字符数组的优化
```
```java
```
```java
//由于有时候文件太大，无法确定需要定义的数组大小
```
```java
```
```java
//因此一般定义数组长度为1024，采用循环的方式读入
```
```java
```
```java
/*
```
```java
```
```java
char[]
 buf = new char[1024];
```
```java
```
```java
int
 temp = 0;
```
```java
```
```java
while((temp
 = r.read(buf)) != -1) {
```
```java
```
```java
System.out.print(new
 String(buf,0,temp));
```
```java
```
```java
}
```
```java
```
```java
*/
```
```java
```
```java
```
```java
}
```
```java
catch
```
```java
(IOException
 e) {
```
```java
```
```java
e.printStackTrace();
```
```java
```
```java
}
```
```java
finally
```
```java
{
```
```java
```
```java
if
```
```java
(r
 !=
```
```java
null
```
```java
)
 {
```
```java
```
```java
try
```
```java
{
```
```java
```
```java
r.close();
```
```java
```
```java
}
```
```java
catch
```
```java
(IOException
 e) {
```
```java
```
```java
e.printStackTrace();
```
```java
```
```java
}
```
```java
```
```java
}
```
```java
```
```java
}
```
```java
```
```java
}
```
```java
}
```
```
编译之后的效果：
![](http://pic002.cnblogs.com/images/2012/476392/2012121512105139.png)
#### 实例3：文本文件的复制
```
```java
import
```
```java
java.io.File;
```
```java
import
```
```java
java.io.FileReader;
```
```java
import
```
```java
java.io.FileWriter;
```
```java
import
```
```java
java.io.IOException;
```
```java
public
```
```java
class
```
```java
Demo
 {
```
```java
```
```java
public
```
```java
static
```
```java
void
```
```java
main(String[]
 args ) {
```
```java
```
```java
```
```java
String
 doc = File.separator +
```
```java
"home"
```
```java
+
 File.separator +
```
```java
"siu"
```
```java
+
```
```java
```
```java
File.separator
 +
```
```java
"work"
```
```java
+
 File.separator +
```
```java
"demo.txt"
```
```java
;
```
```java
```
```java
```
```java
String
 copy = File.separator +
```
```java
"home"
```
```java
+
 File.separator +
```
```java
"siu"
```
```java
+
```
```java
```
```java
File.separator
 +
```
```java
"life"
```
```java
+
 File.separator +
```
```java
"lrc.txt"
```
```java
;
```
```java
```
```java
FileReader
 r =
```
```java
null
```
```java
;
```
```java
```
```java
FileWriter
 w =
```
```java
null
```
```java
;
```
```java
```
```java
try
```
```java
{
```
```java
```
```java
r
 =
```
```java
new
```
```java
FileReader(doc);
```
```java
```
```java
w
 =
```
```java
new
```
```java
FileWriter(copy);
```
```java
```
```java
```
```java
//方式一：单个字符写入
```
```java
```
```java
int
```
```java
temp
 =
```
```java
0
```
```java
;
```
```java
```
```java
while
```
```java
((temp
 = r.read()) != -
```
```java
1
```
```java
)
 {
```
```java
```
```java
w.write(temp);
```
```java
```
```java
}
```
```java
```
```java
```
```java
//方式二：字符数组方式写入
```
```java
```
```java
/*
```
```java
```
```java
char[]
 buf = new char[1024];
```
```java
```
```java
int
 temp = 0;
```
```java
```
```java
while
 ((temp = r.read(buf)) != -1) {
```
```java
```
```java
w.write(new
 String(buf,0,temp));
```
```java
```
```java
}
```
```java
```
```java
*/
```
```java
```
```java
```
```java
}
```
```java
catch
```
```java
(IOException
 e) {
```
```java
```
```java
e.printStackTrace();
```
```java
```
```java
}
```
```java
finally
```
```java
{
```
```java
```
```java
//分别判断是否空指针引用，然后关闭流
```
```java
```
```java
if
```
```java
(r
 !=
```
```java
null
```
```java
)
 {
```
```java
```
```java
try
```
```java
{
```
```java
```
```java
r.close();
```
```java
```
```java
}
```
```java
catch
```
```java
(IOException
 e) {
```
```java
```
```java
e.printStackTrace();
```
```java
```
```java
}
```
```java
```
```java
}
```
```java
```
```java
if
```
```java
(w
 !=
```
```java
null
```
```java
)
 {
```
```java
```
```java
try
```
```java
{
```
```java
```
```java
w.close();
```
```java
```
```java
}
```
```java
catch
```
```java
(IOException
 e) {
```
```java
```
```java
e.printStackTrace();
```
```java
```
```java
}
```
```java
```
```java
}
```
```java
```
```java
}
```
```java
```
```java
}
```
```java
}
```
```
 编译之后，产生life目录下的lrc.txt文件，复制成功
![](http://pic002.cnblogs.com/images/2012/476392/2012121513515966.png)
#### 实例4：利用字符流的缓冲区来进行文本文件的复制
```
```java
import
```
```java
java.io.BufferedReader;
```
```java
import
```
```java
java.io.BufferedWriter;
```
```java
import
```
```java
java.io.File;
```
```java
import
```
```java
java.io.FileReader;
```
```java
import
```
```java
java.io.FileWriter;
```
```java
import
```
```java
java.io.IOException;
```
```java
public
```
```java
class
```
```java
Demo
 {
```
```java
```
```java
public
```
```java
static
```
```java
void
```
```java
main(String[]
 args ) {
```
```java
```
```java
```
```java
String
 doc = File.separator +
```
```java
"home"
```
```java
+
 File.separator +
```
```java
"siu"
```
```java
+
```
```java
```
```java
File.separator
 +
```
```java
"work"
```
```java
+
 File.separator +
```
```java
"demo.txt"
```
```java
;
```
```java
```
```java
```
```java
String
 copy = File.separator +
```
```java
"home"
```
```java
+
 File.separator +
```
```java
"siu"
```
```java
+
```
```java
```
```java
File.separator
 +
```
```java
"life"
```
```java
+
 File.separator +
```
```java
"lrc.txt"
```
```java
;
```
```java
```
```java
FileReader
 r =
```
```java
null
```
```java
;
```
```java
```
```java
FileWriter
 w =
```
```java
null
```
```java
;
```
```java
```
```java
//创建缓冲区的引用
```
```java
```
```java
BufferedReader
 br =
```
```java
null
```
```java
;
```
```java
```
```java
BufferedWriter
 bw =
```
```java
null
```
```java
;
```
```java
```
```java
try
```
```java
{
```
```java
```
```java
r
 =
```
```java
new
```
```java
FileReader(doc);
```
```java
```
```java
w
 =
```
```java
new
```
```java
FileWriter(copy);
```
```java
```
```java
//创建缓冲区对象
```
```java
```
```java
//将需要提高效率的FileReader和FileWriter对象放入其构造函数内
```
```java
```
```java
//当然，也可以使用匿名对象的方式
 br = new BufferedReader(new FileReader(doc));
```
```java
```
```java
br
 =
```
```java
new
```
```java
BufferedReader(r);
```
```java
```
```java
bw
 =
```
```java
new
```
```java
BufferedWriter(w);
```
```java
```
```java
```
```java
String
 line =
```
```java
null
```
```java
;
```
```java
```
```java
//读取行，直到返回null
```
```java
```
```java
//readLine()方法只返回换行符之前的数据
```
```java
```
```java
while
```
```java
((line
 = br.readLine()) !=
```
```java
null
```
```java
)
 {
```
```java
```
```java
//使用BufferWriter对象的写入方法
```
```java
```
```java
bw.write(line);
```
```java
```
```java
//写完文件内容之后换行
```
```java
```
```java
//newLine()方法依据平台而定
```
```java
```
```java
//windows下的换行是\r\n
```
```java
```
```java
//Linux下则是\n
```
```java
```
```java
bw.newLine();
```
```java
```
```java
}
```
```java
```
```java
```
```java
}
```
```java
catch
```
```java
(IOException
 e) {
```
```java
```
```java
e.printStackTrace();
```
```java
```
```java
}
```
```java
finally
```
```java
{
```
```java
```
```java
//此处不再需要捕捉FileReader和FileWriter对象的异常
```
```java
```
```java
//关闭缓冲区就是关闭缓冲区中的流对象
```
```java
```
```java
if
```
```java
(br
 !=
```
```java
null
```
```java
)
 {
```
```java
```
```java
try
```
```java
{
```
```java
```
```java
r.close();
```
```java
```
```java
}
```
```java
catch
```
```java
(IOException
 e) {
```
```java
```
```java
e.printStackTrace();
```
```java
```
```java
}
```
```java
```
```java
}
```
```java
```
```java
if
```
```java
(bw
 !=
```
```java
null
```
```java
)
 {
```
```java
```
```java
try
```
```java
{
```
```java
```
```java
bw.close();
```
```java
```
```java
}
```
```java
catch
```
```java
(IOException
 e) {
```
```java
```
```java
e.printStackTrace();
```
```java
```
```java
}
```
```java
```
```java
}
```
```java
```
```java
}
```
```java
```
```java
}
```
```java
}
```
```
### 字节流
#### 实例5：字节流的写入
```
```java
import
```
```java
java.io.File;
```
```java
import
```
```java
java.io.FileOutputStream;
```
```java
import
```
```java
java.io.IOException;
```
```java
public
```
```java
class
```
```java
Demo
 {
```
```java
```
```java
public
```
```java
static
```
```java
void
```
```java
main(String[]
 args ) {
```
```java
```
```java
```
```java
String
 path = File.separator +
```
```java
"home"
```
```java
+
 File.separator +
```
```java
"siu"
```
```java
+
```
```java
```
```java
File.separator
 +
```
```java
"work"
```
```java
+
 File.separator +
```
```java
"demo.txt"
```
```java
;
```
```java
```
```java
```
```java
FileOutputStream
 o =
```
```java
null
```
```java
;
```
```java
```
```java
```
```java
try
```
```java
{
```
```java
```
```java
o
 =
```
```java
new
```
```java
FileOutputStream(path);
```
```java
```
```java
String
 str =
```
```java
"Nerxious
 is a good boy\r\n"
```
```java
;
```
```java
```
```java
byte
```
```java
[]
 buf = str.getBytes();
```
```java
```
```java
//也可以直接使用o.write("String".getBytes());
```
```java
```
```java
//因为字符串就是一个对象，能直接调用方法
```
```java
```
```java
o.write(buf);
```
```java
```
```java
```
```java
}
```
```java
catch
```
```java
(IOException
 e) {
```
```java
```
```java
e.printStackTrace();
```
```java
```
```java
}
```
```java
finally
```
```java
{
```
```java
```
```java
if
```
```java
(o
 !=
```
```java
null
```
```java
)
 {
```
```java
```
```java
try
```
```java
{
```
```java
```
```java
o.close();
```
```java
```
```java
}
```
```java
catch
```
```java
(IOException
 e) {
```
```java
```
```java
e.printStackTrace();
```
```java
```
```java
}
```
```java
```
```java
}
```
```java
```
```java
}
```
```java
```
```java
```
```java
}
```
```java
}
```
```
编译之后产生的文件，以上在字符串中加\r\n就是为了便于终端显示
其实在linux下面换行仅用\n即可
![](http://pic002.cnblogs.com/images/2012/476392/2012121522000693.png)
#### 实例6：字节流的读取
```
```java
import
```
```java
java.io.File;
```
```java
import
```
```java
java.io.FileInputStream;
```
```java
import
```
```java
java.io.IOException;
```
```java
public
```
```java
class
```
```java
Demo
 {
```
```java
```
```java
public
```
```java
static
```
```java
void
```
```java
main(String[]
 args ) {
```
```java
```
```java
```
```java
String
 path = File.separator +
```
```java
"home"
```
```java
+
 File.separator +
```
```java
"siu"
```
```java
+
```
```java
```
```java
File.separator
 +
```
```java
"work"
```
```java
+
 File.separator +
```
```java
"demo.txt"
```
```java
;
```
```java
```
```java
```
```java
FileInputStream
 i =
```
```java
null
```
```java
;
```
```java
```
```java
```
```java
try
```
```java
{
```
```java
```
```java
i
 =
```
```java
new
```
```java
FileInputStream(path);
```
```java
```
```java
```
```java
//方式一：单个字符读取
```
```java
```
```java
//需要注意的是，此处我用英文文本测试效果良好
```
```java
```
```java
//但中文就悲剧了，不过下面两个方法效果良好
```
```java
```
```java
int
```
```java
ch
 =
```
```java
0
```
```java
;
```
```java
```
```java
while
```
```java
((ch=i.read())
 != -
```
```java
1
```
```java
){
```
```java
```
```java
System.out.print((
```
```java
char
```
```java
)ch);
```
```java
```
```java
}
```
```java
```
```java
```
```java
//方式二：数组循环读取
```
```java
```
```java
/*
```
```java
```
```java
byte[]
 buf = new byte[1024];
```
```java
```
```java
int
 len = 0;
```
```java
```
```java
while((len
 = i.read(buf)) != -1) {
```
```java
```
```java
System.out.println(new
 String(buf,0,len));
```
```java
```
```java
}
```
```java
```
```java
*/
```
```java
```
```java
```
```java
```
```java
//方式三：标准大小的数组读取
```
```java
```
```java
/*
```
```java
```
```java
//定一个一个刚好大小的数组
```
```java
```
```java
//available()方法返回文件的字节数
```
```java
```
```java
//但是，如果文件过大，内存溢出，那就悲剧了
```
```java
```
```java
//所以，亲们要慎用！！！上面那个方法就不错
```
```java
```
```java
byte[]
 buf = new byte[i.available()];
```
```java
```
```java
i.read(buf);
```
```java
```
```java
//因为数组大小刚好，所以转换为字符串时无需在构造函数中设置起始点
```
```java
```
```java
System.out.println(new
 String(buf));
```
```java
```
```java
*/
```
```java
```
```java
```
```java
}
```
```java
catch
```
```java
(IOException
 e) {
```
```java
```
```java
e.printStackTrace();
```
```java
```
```java
}
```
```java
finally
```
```java
{
```
```java
```
```java
if
```
```java
(i
 !=
```
```java
null
```
```java
)
 {
```
```java
```
```java
try
```
```java
{
```
```java
```
```java
i.close();
```
```java
```
```java
}
```
```java
catch
```
```java
(IOException
 e) {
```
```java
```
```java
e.printStackTrace();
```
```java
```
```java
}
```
```java
```
```java
}
```
```java
```
```java
}
```
```java
```
```java
```
```java
}
```
```java
}
```
```
 读取文件到终端
![](http://pic002.cnblogs.com/images/2012/476392/2012121522385673.png)
#### 实例7：二进制文件的复制
```
```java
import
```
```java
java.io.File;
```
```java
import
```
```java
java.io.FileInputStream;
```
```java
import
```
```java
java.io.FileOutputStream;
```
```java
import
```
```java
java.io.IOException;
```
```java
public
```
```java
class
```
```java
Demo
 {
```
```java
```
```java
public
```
```java
static
```
```java
void
```
```java
main(String[]
 args ) {
```
```java
```
```java
```
```java
String
 bin = File.separator +
```
```java
"home"
```
```java
+
 File.separator +
```
```java
"siu"
```
```java
+
```
```java
```
```java
File.separator
 +
```
```java
"work"
```
```java
+
 File.separator +
```
```java
"一个人生活.mp3"
```
```java
;
```
```java
```
```java
```
```java
String
 copy = File.separator +
```
```java
"home"
```
```java
+
 File.separator +
```
```java
"siu"
```
```java
+
```
```java
```
```java
File.separator
 +
```
```java
"life"
```
```java
+
 File.separator +
```
```java
"一个人生活.mp3"
```
```java
;
```
```java
```
```java
```
```java
FileInputStream
 i =
```
```java
null
```
```java
;
```
```java
```
```java
FileOutputStream
 o =
```
```java
null
```
```java
;
```
```java
```
```java
```
```java
try
```
```java
{
```
```java
```
```java
i
 =
```
```java
new
```
```java
FileInputStream(bin);
```
```java
```
```java
o
 =
```
```java
new
```
```java
FileOutputStream(copy);
```
```java
```
```java
```
```java
//循环的方式读入写出文件，从而完成复制
```
```java
```
```java
byte
```
```java
[]
 buf =
```
```java
new
```
```java
byte
```
```java
[
```
```java
1024
```
```java
];
```
```java
```
```java
int
```
```java
temp
 =
```
```java
0
```
```java
;
```
```java
```
```java
while
```
```java
((temp
 = i.read(buf)) != -
```
```java
1
```
```java
)
 {
```
```java
```
```java
o.write(buf,
```
```java
0
```
```java
,
 temp);
```
```java
```
```java
}
```
```java
```
```java
}
```
```java
catch
```
```java
(IOException
 e) {
```
```java
```
```java
e.printStackTrace();
```
```java
```
```java
}
```
```java
finally
```
```java
{
```
```java
```
```java
if
```
```java
(i
 !=
```
```java
null
```
```java
)
 {
```
```java
```
```java
try
```
```java
{
```
```java
```
```java
i.close();
```
```java
```
```java
}
```
```java
catch
```
```java
(IOException
 e) {
```
```java
```
```java
e.printStackTrace();
```
```java
```
```java
}
```
```java
```
```java
}
```
```java
```
```java
if
```
```java
(o
 !=
```
```java
null
```
```java
)
 {
```
```java
```
```java
try
```
```java
{
```
```java
```
```java
o.close();
```
```java
```
```java
}
```
```java
catch
```
```java
(IOException
 e) {
```
```java
```
```java
e.printStackTrace();
```
```java
```
```java
}
```
```java
```
```java
}
```
```java
```
```java
}
```
```java
```
```java
}
```
```java
}
```
```
 复制效果，如图：
![](http://pic002.cnblogs.com/images/2012/476392/2012121522552691.png)
####  实例8：利用字节流的缓冲区进行二进制文件的复制
```
```java
import
```
```java
java.io.BufferedInputStream;
```
```java
import
```
```java
java.io.BufferedOutputStream;
```
```java
import
```
```java
java.io.File;
```
```java
import
```
```java
java.io.FileInputStream;
```
```java
import
```
```java
java.io.FileOutputStream;
```
```java
import
```
```java
java.io.IOException;
```
```java
public
```
```java
class
```
```java
Demo
 {
```
```java
```
```java
public
```
```java
static
```
```java
void
```
```java
main(String[]
 args ) {
```
```java
```
```java
```
```java
String
 bin = File.separator +
```
```java
"home"
```
```java
+
 File.separator +
```
```java
"siu"
```
```java
+
```
```java
```
```java
File.separator
 +
```
```java
"work"
```
```java
+
 File.separator +
```
```java
"一个人生活.mp3"
```
```java
;
```
```java
```
```java
```
```java
String
 copy = File.separator +
```
```java
"home"
```
```java
+
 File.separator +
```
```java
"siu"
```
```java
+
```
```java
```
```java
File.separator
 +
```
```java
"life"
```
```java
+
 File.separator +
```
```java
"一个人生活.mp3"
```
```java
;
```
```java
```
```java
```
```java
FileInputStream
 i =
```
```java
null
```
```java
;
```
```java
```
```java
FileOutputStream
 o =
```
```java
null
```
```java
;
```
```java
```
```java
BufferedInputStream
 bi =
```
```java
null
```
```java
;
```
```java
```
```java
BufferedOutputStream
 bo =
```
```java
null
```
```java
;
```
```java
```
```java
```
```java
try
```
```java
{
```
```java
```
```java
i
 =
```
```java
new
```
```java
FileInputStream(bin);
```
```java
```
```java
o
 =
```
```java
new
```
```java
FileOutputStream(copy);
```
```java
```
```java
bi
 =
```
```java
new
```
```java
BufferedInputStream(i);
```
```java
```
```java
bo
 =
```
```java
new
```
```java
BufferedOutputStream(o);
```
```java
```
```java
```
```java
byte
```
```java
[]
 buf =
```
```java
new
```
```java
byte
```
```java
[
```
```java
1024
```
```java
];
```
```java
```
```java
int
```
```java
temp
 =
```
```java
0
```
```java
;
```
```java
```
```java
while
```
```java
((temp
 = bi.read(buf)) != -
```
```java
1
```
```java
)
 {
```
```java
```
```java
bo.write(buf,
```
```java
0
```
```java
,temp);
```
```java
```
```java
}
```
```java
```
```java
```
```java
}
```
```java
catch
```
```java
(IOException
 e) {
```
```java
```
```java
e.printStackTrace();
```
```java
```
```java
}
```
```java
finally
```
```java
{
```
```java
```
```java
if
```
```java
(bi
 !=
```
```java
null
```
```java
)
 {
```
```java
```
```java
try
```
```java
{
```
```java
```
```java
i.close();
```
```java
```
```java
}
```
```java
catch
```
```java
(IOException
 e) {
```
```java
```
```java
e.printStackTrace();
```
```java
```
```java
}
```
```java
```
```java
}
```
```java
```
```java
if
```
```java
(bo
 !=
```
```java
null
```
```java
)
 {
```
```java
```
```java
try
```
```java
{
```
```java
```
```java
o.close();
```
```java
```
```java
}
```
```java
catch
```
```java
(IOException
 e) {
```
```java
```
```java
e.printStackTrace();
```
```java
```
```java
}
```
```java
```
```java
}
```
```java
```
```java
}
```
```java
```
```java
}
```
```java
}
```
```
 两个目录都有 “一个人生活.mp3”文件，顺便说一下，这歌挺好听的
![](http://pic002.cnblogs.com/images/2012/476392/2012121523200145.png)
初学者在学会使用字符流和字节流之后未免会产生疑问：什么时候该使用字符流，什么时候又该使用字节流呢？
其实仔细想想就应该知道，所谓字符流，肯定是用于操作类似文本文件或者带有字符文件的场合比较多
而字节流则是操作那些无法直接获取文本信息的二进制文件，比如图片，mp3，视频文件等
说白了在硬盘上都是以字节存储的，只不过字符流在操作文本上面更方便一点而已
此外，为什么要利用缓冲区呢？
我们知道，像迅雷等下载软件都有个缓存的功能，硬盘本身也有缓冲区
试想一下，如果一有数据，不论大小就开始读写，势必会给硬盘造成很大负担，它会感觉很不爽
人不也一样，一顿饭不让你一次吃完，每分钟喂一勺，你怎么想？
因此，采用缓冲区能够在读写大文件的时候有效提高效率
