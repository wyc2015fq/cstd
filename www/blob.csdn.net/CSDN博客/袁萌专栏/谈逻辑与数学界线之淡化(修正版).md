
# 谈逻辑与数学界线之淡化(修正版) - 袁萌专栏 - CSDN博客

2018年12月16日 23:01:50[yuanmeng001](https://me.csdn.net/yuanmeng001)阅读数：1189


在近代数学研究中，逻辑与数学界线之淡化。这种现象值得关注。
在“模型论入门”博文中，我们指出，进入二十一世纪，世界数学形式化、公理化高潮兴起。“知识共享”无穷小微积分就是在这种发展浪潮中崛起的。
反观我们国内，数学教育界的学术认识水平似乎仍然停留在世界数学形式化、公理化发展阶段之前。
无论如何，我们的数学教育落伍了。
说明：本本附件，是关于模型论的长篇论文，资料详实，值得存档备查。
袁萌  陈启清   12月17日
附件：**模型论（Model Theory）**
Class Notes for Mathematics 571 Spring 2010
Model Theory
written by C. Ward Henson
Mathematics Department University of Illinois 1409 West Green Street Urbana, Illinois 61801 email: henson@math.uiuc.edu www: http://www.math.uiuc.edu/~henson/
c Copyright by C. Ward Henson 2010; all rights reserved.
Introduction
The purpose of Math 571 is to give a thorough introduction to the methods of model theory for ﬁrst order logic. Model theory is the branch of logic that deals with mathematical structures and the formal languages they interpret. First order logic is the most important formal language and its model theory is a rich and interesting subject with signiﬁcant applications to the main body of mathematics. Model theory began as a serious subject in the 1950s with the work of Abraham Robinson and Alfred Tarski, and since then it has been an active and successful area of research. Beyond the core techniques and results of model theory, Math 571 places a lot of emphasis on examples and applications, in order to show clearly the variety of ways in which model theory can be useful in mathematics. For example, we give a thorough treatment of the model theory of the ﬁeld of real numbers (real closed ﬁelds) and show how this can be used to obtain the characterization of positive semi-deﬁnite rational functions that gives a solution to Hilbert’s 17th Problem. A highlight of Math 571 is a proof of Morley’s Theorem: if T is a complete theory in a countable language, and T is κ-categorical for some uncountable κ, then T is categorical for all uncountable κ. The machinery needed for this proof includes the concepts of Morley rank and degree for formulas in ω-stable theories. The methods needed for this proof illustrate ideas that have become central to modern research in model theory. To succeed in Math 571, it is necessary to have exposure to the syntax and semantics of ﬁrst order logic, and experience with expressing mathematical properties via ﬁrst order formulas. A good undergraduate course in logic will usually provide the necessary background. The canonical prerequisite course at UIUC is Math 570, but this covers many things that are not needed as background for Math 571. In the lecture notes for Math 570 (written by Prof. van den Dries) the material necessary for Math 571 is presented in sections 2.3 through 2.6 (pages 24–37 in the 2009 version). These lecture notes are available at http://www.math.uiuc.edu/ vddries/410notes/main.dvi. A standard undergraduate text in logic is A Mathematical Introduction to Logic by Herbert B. Enderton (Academic Press; second edition, 2001). Here the material needed for Math 571 is covered in sections 2.0 through 2.2 (pages 67–104). This material is also discussed in Model Theory by David Marker (see sections 1.1 and 1.2, and the ﬁrst half of 1.3, as well as many of the exercises at the end of chapter 1) and in many other textbooks in model theory. For Math 571 it is not necessary to have any exposure to a proof system for ﬁrst order logic, nor to G¨odel’s completeness theorem. Math 571 begins with a proof of the compactness theorem for ﬁrst order languages, and this is all one needs for model theory.
We close this introduction by discussing a number of books of possible interest to anyone studying model theory. The ﬁrst two books listed are now the standard graduate texts in model theory; they can be used as background references for most of what is done in Math 571. David Marker, Model Theory: an Introduction. Bruno Poizat, A Course in Model Theory.
The next book listed was the standard graduate text in model theory from its ﬁrst publication in the 1960s until recently. It is somewhat out of date and incomplete from a modern viewpoint, but for much of the content of Math 571 it is a suitable reference. C. C. Chang and H. J. Keisler, Model Theory.
Another recent monograph on model theory is Model Theory by Wilfrid Hodges. This book contains many results and examples that are otherwise only available in journal articles, and gives a very comprehensive treatment of basic model theory. However it is very long and it is organized in a complicated way that makes things hard to ﬁnd. The author extracted a shorter and more straightforward text entitled A Shorter Model Theory, which is published in an inexpensive paperback edition.
In the early days of the subject (i.e., 1950s and 1960s), Abraham Robinson was the person who did the most to make model theory a useful tool in the main body of mathematics. Along with Alfred Tarski, he created much of modern model theory and gave it its current style and emphasis. He published three books in model theory, and they are still interesting to read: (a) Intro. to Model Theory and the Metamathematics of Algebra, 1963; (b) Complete Theories, 1956; new edition 1976; (c) On the Metamathematics of Algebra, 1951.
The ﬁnal reference listed here is Handbook of Mathematical Logic, Jon Barwise, editor; this contains expository articles on most parts of logic. Of particular interest to students in model theory are the following chapters: A.1. An introduction to ﬁrst-order logic, Jon Barwise. A.2. Fundamentals of model theory, H. Jerome Keisler. A.3. Ultraproducts for algebraists, Paul C. Eklof. A.4. Model completeness, Angus Macintyre.
Contents
Introduction 3 1. Ultraproducts and the Compactness Theorem 1 Appendix 1.A: Ultraﬁlters 6 Appendix 1.B: From prestructures to structures 8 2. Theories and Types 12 3. Elementary Maps 18 4. Saturated Models 25 5. Quantiﬁer Elimination 30 6. L¨owenheim-Skolem Theorems 35 7. Algebraically Closed Fields 39 8. Z-groups 44 9. Model Theoretic Algebraic Closure 49 10. Algebraic Closure in Minimal Structures 52 11. Real Closed Ordered Fields 58 12. Homogeneous Models 62 13. Omitting Types 68 14. ω-categoricity 76 15. Skolem Hulls 80 16. Indiscernibles 82 17. Morley rank and ω-stability 86 18. Morley’s uncountable categoricity theorem 96 19. Characterizing Deﬁnability 102 Appendix: Systems of Deﬁnable Sets and Functions 110
1. Ultraproducts and the Compactness Theorem
The main purpose of this chapter is to give a proof of the Compactness Theorem for arbitrary ﬁrst order languages. We do this using ultraproducts. The ultraproduct construction has the virtue of being explicit and algebraic in character, so it is accessible to mathematicians who know little about formal logic. Fix a ﬁrst order language L. Let I be a nonempty set and let U be an ultraﬁlter1 on I. Consider a family of L-structures (Ai | i ∈ I). For each i ∈ I let Ai denote the underlying set of the structure Ai and take A =Q(Ai | i ∈ I) to be the cartesian product of the sets Ai. We deﬁne an interpretation2 A of L as follows: (i) the underlying set of A is the cartesian product A =Q(Ai | i ∈ I); (ii) for each constant symbol c of L we set cA = (cAi | i ∈ I); (iii) for each n and each n-ary function symbol F of L we let FA be the function deﬁned on An by FA(f1,...,fn) = (FAi(f1(i),...,fn(i))| i ∈ I); (iv) for each n and each n-ary predicate symbol P of L we let PA be the n-ary relation on A deﬁned by PA(f1,...,fn) ⇐⇒ {i ∈ I | PAi(f1(i),...,fn(i))}∈ U; (v) =A is the binary relation on A deﬁned by f =A g ⇐⇒ {i ∈ I | f(i) = g(i)}∈ U. Note that constants and function symbols are treated in this construction in a “coordinatewise” way, exactly as we would do in forming the cartesian product of algebraic structures. Only in deﬁning the interpretations of predicate symbols and = (clauses (iv) and (v)) do we do something novel, and only there does the ultraﬁlter enter into the deﬁnition. For the algebraic part of A we have the following easy fact, proved by a straightforward argument using induction on terms: 1.1. Lemma. For any L-term t(x1,...,xn) and any f1,...,fn ∈ A, tA(f1,...,fn) = (tAi(f1(i),...,fn(i))| i ∈ I). The following result gives the most important model theoretic property of this construction: 1.2. Proposition. For any L-formula ϕ(x1,...,xn) and any f1,...,fn ∈ A A |= ϕ[f1,...,fn] ⇐⇒ {i ∈ I | Ai |= ϕ[f1(i),...,fn(i)]}∈ U. 1See Appendix 1 of this chapter for some basic facts about ﬁlters and ultraﬁlters. 2See Appendix 2 of this chapter for an explanation of the words “interpretation”, “prestructure”, and “structure” and for some basic relations among them. 1
Proof. The proof is by induction on formulas ϕ(x1,...,xn), where x1,...,xn is an arbitrary list of distinct variables. In the basis step of the induction ϕ is an atomic formula of the form P(t1,...,tm), where P is an m-place predicate symbol or the equality symbol =. Our assumptions ensure that any variable occurring in a term tj, j = 1,...,m, is among x1,...,xn; thus we may write each such tj as tj(x1,...,xn). Let (f1,...,fn) range over An; let gj(i) = tAi j (f1(i),...,fn(i)) for each j = 1,...,m and i ∈ I. Note that gj ∈ A for each j = 1,...,m. Then we have: A |= ϕ[f1,...,fn] ⇔ PAtA 1 (f1,...,fn),...,tA m(f1,...,fn)⇔ PA(g1,...,gm) ⇔ i | PAi (g1(i),...,gm(i))    ∈ U ⇔ ni | PAitAi 1 (f1(i),...,fn(i)),...,tAi m (f1(i),...,fn(i))o∈ U⇔ { i | Ai |= ϕ[f1(i),...,fn(i)]}∈ U. (Lemma 1.1 is used in the second equivalence.) In the induction step of the proof we consider three cases: (1) ϕ is ¬ϕ1 for some formula ϕ1; (2) ϕ is (ϕ1∧ϕ2) for some formulas ϕ1,ϕ2 (3); ϕ is ∃yϕ1 for some formula ϕ1 and some variable y. Case (1) ϕ is ¬ϕ1: A |= ϕ[f1,...fn] ⇔ A 6|= ϕ1[f1,...fn] ⇔ {i | Ai |= ϕ1[f1(i),...,fn(i)]}6∈ U ⇔? {i | Ai 6|= ϕ1[f1(i),...,fn(i)]}∈ U ⇔ {i | Ai |=¬ϕ1[f1(i),...,fn(i)]}∈ U ⇔ {i | Ai |= ϕ[f1(i),...,fn(i)]}∈ U In the equivalence ? we use the fact that for any subset A of I, A is not in U if and only if I \A is in U. Case (2) ϕ is (ϕ1 ∧ϕ2): A |= ϕ[f1,...fn] ⇔ A |= (ϕ1 ∧ϕ2)[f1,...fn] ⇔ A |= ϕ1[f1(i),...,fn(i)] and A |= ϕ2[f1(i),...,fn(i)] ⇔ {i | Ai |= ϕ1[f1(i),...,fn(i)]}∈ U and {i | Ai |= ϕ2[f1(i),...,fn(i)]}∈ U ⇔? {i | Ai |= ϕ1[f1(i),...,fn(i)]}∩ {i | Ai |= ϕ2[f1(i),...,fn(i)]}∈ U ⇔ {i | Ai |= ϕ1[f1(i),...,fn(i)] and Ai |= ϕ2[f1(i),...,fn(i)]}∈ U ⇔ {i | Ai |= (ϕ1 ∧ϕ2)[f1(i),...,fn(i)]}∈ U ⇔ {i | Ai |= ϕ[f1(i),...,fn(i)]}∈ U In the equivalence ? we use the fact that for any subsets A and B of I, A and B are in U if and only if A∩B is in U.
2
Case (3) ϕ is the formula ∃yϕ1: We may assume that y is not among the variables x1,...,xn. A |= ϕ[f1,...,fn] ⇔ A |=∃yϕ1[f1,...,fn] ⇔ for some g ∈ A : A |= ϕ1[f1,...,fn,g] ⇔ for some g ∈ A : {i | Ai |= ϕ1[f1(i),...,fn(i),g(i)]}∈ U ⇔† {i |for some a ∈ Ai : Ai |= ϕ1[f1(i),...,fn(i),a]}∈ U ⇔ {i | A |=∃yϕ1[f1(i),...,fn(i)]}∈ U To see the “⇐”-part of the equivalence †, use the Axiom of Choice to obtain a function g such that for any i ∈ {i | for some a ∈ Ai : Ai |= ϕ1[f1(i),...,fn(i),a]} we have Ai |= ϕ1[f1(i),...,fn(i),g(i)]}. For all other values of i the value of g(i) can be arbitrary.   1.3. Corollary. The interpretation A deﬁned above is a prestructure.
Proof. Applying Proposition 1.2 to the equality axioms, we see that they are valid in A.   1.4. Deﬁnition (Ultraproduct of a family of L-structures). Let (Ai | i ∈ I) be a family of L-structures and U an ultraﬁlter on I. Let A be the prestructure for L that is deﬁned above. The ultraproductQU Ai of the given family of L-structures (Ai | i ∈ I) with respect to U is deﬁned to be the L-structure B obtained by taking the quotient of A by the congruence =A as described in Appendix 2 of this chapter. 1.5. Notation. Let (Ai | i ∈ I) and A be as above. For each f ∈QAi we let f/U denote the equivalence class of f under the equivalence relation =A. As f varies, f/U gives an arbitrary element of the underlying set of the ultraproductQU Ai. The ultrapower of the L-structure C with respect to U is the ultraproduct QU Ai with Ai equal to C for every i ∈ I. We denote this structure by CI/U. 1.6. Fact. Let I be a nonempty set and let U be the principal ultraﬁlter on I that is generated by the singleton set {j}, where j is a ﬁxed element of I. For every family {Ai | i ∈ I} of L-structures, the ultraproductQU Ai is isomorphic to Aj. The next theorem is the main result of this chapter; it is basic to any use of the ultraproduct construction in model theory. This result was originally proved by the Polish logician Jerzy L os. 1.7. Theorem (Fundamental Theorem of Ultraproducts). Let an indexed family of L-structures and an ultraﬁlter U be given as described above. For any L-formula ϕ(x1,...,xn) and any sequence f/U = (f1/U,...,fn/U), Y U Ai |= ϕ[f/U] if and only if {i ∈ I | Ai |= ϕ[f1(i),...,fn(i)]}∈ U. 3
Proof. This is an immediate consequence of Propositions 1.2 and 1.29.   1.8. Corollary. If σ is an L-sentence, then Y U Ai |= σ if and only if {i ∈ I | Ai |= σ}∈ U. Proof. This is a special case of Theorem 1.7.
Now we use the ultraproduct construction to prove the Compactness Theorem, which is one of the most important tools in model theory. First we need a basic deﬁnition: 1.9. Deﬁnition. Let T be a set of sentences in L and let A be an Lstructure. We say that A is a model of T, and write A |= T, if every sentence in T is true in A. 1.10. Theorem (Compactness Theorem). Let T be any set of sentences in L. If every ﬁnite subset of T has a model, then T has a model.
Proof. Assume that every ﬁnite subset of T has a model. Let I be the set of all ﬁnite subsets of T. For each i ∈ I let Ai be any model of i, which exists by assumption. We will obtain the desired model of T as an ultraproduct QU Ai for a suitably chosen ultraﬁlter U on I. Let S be the family of all the subsets of I of the form Iσ ={i ∈ I : σ ∈ i}, where σ ∈ T. Note that S has the ﬁnite intersection property; indeed, each ﬁnite intersection Iσ1 ∩ ... ∩ Iσn has {σ1,...,σn} as an element. So there exists an ultraﬁlter U on I that contains S, by Corollary 1.25. We complete the proof by showing that the ultraproductQU Ai is a model of T. Given σ ∈ T, we see that Ai |= σ whenever σ ∈ i, because of the way we chose Ai. Hence {i : Ai |= σ}⊇ Iσ ∈ U. It follows from Theorem 1.7 that each such σ is true inQU Ai.   1.11. Remark. Note that the preceding proof yields the following result: Let T beasetofsentencesin L andlet C beaclassof L-structures. Suppose each ﬁnite subset of T has a model in C. Then T has a model that is an ultraproduct of structures from C.
The Compactness Theorem is a very useful tool for building models of a given set of sentences, and nearly everything we do in this course depends on it in one way or another. We give a number of examples of this in the rest of this chapter. 1.12. Corollary. Let L be a ﬁrst order language and let κ be an inﬁnite cardinal number. If T is a set of sentences in L such that for each positive integer n there is a model of T with at least n elements, then T has a model with at least κ many elements. (In particular, this holds if T has at least one inﬁnite model.)
4
Proof. Expand L by adding a set of κ many new constant symbols; let L0 be the new language. Let T0 be T together with all sentences ¬(c1 = c2), where c1 and c2 are distinct new constants. Our hypothesis implies that every ﬁnite subset of T0 has a model. Therefore T0 itself has a model A, by the Compactness Theorem. Let B be the reduct of A to the original language L; A is a model of T and has at least κ many elements.   1.13. Fact. Let T be a set of sentences in a ﬁrst order language L and let ϕ(x) be a formula in L. For each L-structure A let ϕA denote the set of tuples a from A such that A |= ϕ(a). Suppose that the set ϕA is ﬁnite whenever A is a model of T. Then there is a positive integer N such that ϕA has at most N elements for every model A of T. This can be proved using the Compactness Theorem in a manner similar to the proof of the previous result. 1.14. Remark. The preceding results demonstrate a fundamental limitation on the expressive power of ﬁrst order logic: only ﬁnite cardinalities can be “expressed” by ﬁrst order formulas. There is no way to express any bound on the sizes of deﬁnable sets other than a uniform ﬁnite upper bound. We will see later on how to control more precisely the cardinality of models like the one constructed above. In particular, it turns out to be possible to make the model have precisely κ many elements, as long as the number of symbols in the language L is less than or equal to κ. 1.15. Deﬁnition. Let Γ be a set of L-formulas and let the family (xj | j ∈ J) include all variables that occur free in some member of Γ. Let A be an L-structure. We say that Γ is satisﬁable in A if there exist elements (aj | j ∈ J) of A such that A |= Γ[aj | j ∈ J]. 1.16. Deﬁnition. Let T be asetofsentencesin L andΓ asetof L-formulas. We say that Γ is consistent with T if for every ﬁnite subsets F of T and G of Γ there exists a model A of F such that G is satisﬁable in A.
The next result is a version of the Compactness Theorem for formulas. 1.17. Corollary. Let T be a set of sentences in L and Γ a set of L-formulas, and assume that Γ is consistent with T. Then Γ is satisﬁable in some model of T. Proof. Let (xj | j ∈ J) include all variables that occur free in some member of Γ. Let (cj | j ∈ J) be new constants and consider the language L(cj | j ∈ J). Apply the Compactness Theorem to the set T ∪Γ(cj | j ∈ J) of L(cj | j ∈ J)-sentences.
5
Appendix 1.A: Ultrafilters
Here we present some prerequisites about ﬁlters and ultraﬁlters: 1.18. Deﬁnition. (1) Let I be a nonempty set. A ﬁlter on I is a collection F of subsets of I that satisﬁes: (a) ∅6∈ F and I ∈ F; (b) for all A,B ∈ F,A∩B ∈ F; (c) for all A ∈ F and B ⊆ I, if A ⊆ B then B ∈ F. (2) Let F be a ﬁlter on I; F is an ultraﬁlter if it is maximal under⊆among ﬁlters on I. F is principal if there exists a subset A of I such that F is exactly the collection of all sets B that satisfy A ⊆ B ⊆ I. 1.19. Deﬁnition. Let I be a set and let S be a collection of subsets of I; S has the ﬁnite intersection property (FIP) if for every integer n and every ﬁnite subcollection {A1,...,An} of S, the intersection A1 ∩...∩An is nonempty. 1.20. Lemma. Let I be a nonempty set and let S be a collection of subsets of I. There exists a ﬁlter F on I that contains S if and only if S has the ﬁnite intersection property. Proof. (⇒) It is immediate (by induction) from the deﬁnition of ﬁlter that any ﬁlter is closed under ﬁnite intersections. Since no ﬁlter contains the empty set, this shows that each ﬁlter has the FIP; hence the same is true of any subcollection of a ﬁlter. (⇐) Let S ⊆ P(I) have the FIP; we want to ﬁnd a ﬁlter F ⊇ S. We know that all supersets of ﬁnite intersections of elements of S must be elements of F. Thus we are led to deﬁne F ={A | A ⊆ I and there exist A1,...,An ∈ S with A ⊇ A1 ∩...∩An} Since S has the FIP, we see that F does not contain the empty set. It is easy to check that conditions (b) and (c) in the deﬁnition of ﬁlter are satisﬁed.
Remark: The ﬁlter deﬁned in the preceding proof is evidently the smallest ﬁlter on I containing S. Thus it is called the ﬁlter generated by S. 1.21. Facts. Let I be a nonempty set. (a) If S is a collection of subsets of I and S has the FIP, then for any A ⊆ I, either S ∪{A} or S ∪{I \A} has the FIP. (b) Suppose J is an index set and for each j ∈ J, Sj is a collection of subsets of I that has the FIP. Suppose that the family {Sj | j ∈ J} is directed, in the sense that for any j1,j2 ∈ J there is j3 ∈ J such that Sj1 ∪Sj2 ⊆ Sj3. Let S be the union of the family {Sj | j ∈ J}. Then S has the FIP. 6
1.22. Lemma. Let I be a nonempty set and let F be a ﬁlter on I. F is an ultraﬁlter if and only if for each A ⊆ I, either A ∈ F or I \A ∈ F. Proof. (⇒) If F is an ultraﬁlter on I and A ⊆ I, then by Fact 1.21(a), either F ∪{A} or F ∪{I \ A} has the FIP. Therefore by Lemma 1.20, F ∪{A} or F ∪{I \A} is contained in a ﬁlter. But F is maximal, so the only ﬁlter it can be contained in must be F itself. Hence F ∪{A}⊆ F or F ∪{I \A}⊆ F. (⇐) Suppose F is a ﬁlter on I with the property that for any A ⊆ I either A ∈ F or I\A ∈ F. We have to show that F is maximal among the ﬁlters on I under set-theoretic inclusion. If F is not maximal, then there is a ﬁlter G on I with F ⊆ G and G 6= F. Take any set A ∈ G\F. Since A / ∈ F wemust have I\A ∈ F ⊆ G. But then A and I\A are in G, and this implies ∅∈ G, which is a contradiction.   1.23. Facts. Let I be a nonempty set and let U be an ultraﬁlter on I. (a) If A1,...,An are subsets of I and if the set A1 ∪•••∪An is in U, then for some j = 1,...,n the set Aj is in U. (b) If A1,...,An are subsets of I and if the set A1 ∩•••∩An is in U, then for all j = 1,...,n the set Aj is in U. (c) The ultraﬁlter U is principal iﬀ some element of U is a ﬁnite set iﬀ some element of U is a singleton set (a set of the form {i} for some i ∈ I).
In the next proof we are going to use the Axiom of Choice in the form of Zorn’s Lemma, which we formulate as follows: Zorn’s Lemma: If (Λ,≤) is a nonempty partially ordered set with the property that every linearly ordered subset of (Λ,≤) has an upper bound in (Λ,≤), then (Λ,≤) has a maximal element. Remark: An element of (Λ,≤) is maximal if no other element is strictly larger than it. There may be many maximal elements. We will often use Zorn’s Lemma where Λ is a collection of sets and ≤ is the set containment relation ⊆. In that situation the hypothesis of Zorn’s Lemma states that whenever C is a subcollection of Λ and C is a chain under⊆, the union of C is a subset of some element of Λ. (This restricted formulation is easily seen to be equivalent to Zorn’s Lemma; it is known as Hausdorﬀ’s Maximum Principle.) 1.24. Theorem. Let I be a nonempty set. Every ﬁlter on I is contained in an ultraﬁlter on I. Proof. Let F be a ﬁlter on I. Let Λ ={G | G is a ﬁlter on I and F ⊆ G}. Partially order Λ by set inclusion ⊆. We want to apply Zorn’s Lemma to (Λ,≤). Suppose C is a chain in Λ. It is easy to show that the union of C is a ﬁlter, and hence it is in Λ. (Compare Fact 1.21(b).) Zorn’s Lemma yields the existence of a maximal element G in Λ. That is, G is a ﬁlter 7
that contains F and G is maximal among all ﬁlters on I that contain F. In particular, G is maximal as a ﬁlter on I; by deﬁnition G is an ultraﬁlter.   1.25.Corollary. Let I be a nonempty set and let S be a collection of subsets of I. If S has the FIP, then there is an ultraﬁlter on I that contains S.
Proof. Immediate from Lemma 1.20 and Theorem 1.24.
Appendix 1.B: From prestructures to structures
Let L be any ﬁrst order language. 1.26. Deﬁnition. An interpretation A of L consists of (i) a nonempty set A, the underlying set of A; (ii) for each constant symbol c of L an element cA of A, the interpretation of c in A; (iii) for each n and each n-ary function symbol F of L a function FA from An to A, the interpretation of F in A; (iv) for each n and each n-ary predicate symbol P of L a subset PA of An, the interpretation of P in A; (v) a subset =A of A2, the interpretation of = in A.
Suppose A is an interpretation of L. For each L-term t(x1,...,xn) we deﬁne the interpretation of t in A by induction on t; it is a function from An to A and it is denoted by tA. By induction on formulas we likewise deﬁne the satisfaction relation A |= ϕ[a1,...,an] where ϕ(x1,...,xn) is an L-formula and a1,...,an ∈ A. Formally this is identical to what is done for L-structures, with which we assume the reader is familiar. The only diﬀerence here is that we are allowing an arbitrary binary relation to be used as the interpretation of =; that is, we are temporarily treating = as if it were a non-logical symbol. 1.27. Deﬁnition. A prestructure A for L is an interpretation of L in which the logical equality axioms are valid; that is, (i) =A is an equivalence relation on A; (ii) for any n, any n-ary function symbol F of L, and any elements a1,b1,...,an,bn of A such that a1 =A b1,...,an =A bn one has FA(a1,...,an) =A FA(b1,...,bn); (iii) for any n, any n-ary predicate symbol P of L, and any elements a1,b1,...,an,bn of A such that a1 =A b1,...,an =A bn one has PA(a1,...,an) ⇐⇒ PA(b1,...,bn). 8
When =A is an equivalence relation on A, universal algebraists express conditions (ii) and (iii) by saying that =A is a congruence with respect to the functions FA mentioned in (ii) and the relations PA mentioned in (iii). Note that A is a structure for L if it is an interpretation of L and =A is the identity relation on A, that is a =A b ⇔ a = b for any a,b ∈ A. (In that case, A trivially satisﬁes the equality axioms and hence it is a prestructure.) When A is a prestructure for L, we deﬁne the quotient of A by =A as follows; it is a structure for L. We will denote it here by B. (i) The underlying set B of B is the set of all equivalence classes of =A. We denote the equivalence class of a ∈ A with respect to =A by [a], and we let π: A → B denote the quotient map that takes each a ∈ A to its equivalence class (π(a) = [a] for each a ∈ A). (ii) For each constant symbol c of L the interpretation of c in B is [cA]. (iii) For each n and each n-ary function symbol F of L the interpretation of F in B is the function FB: Bn → B deﬁned by FB([a1],...,[an]) = [FA(a1,...,an)] for every a1,...,an ∈ A. The fact that =A is a congruence for FA ensures that the right hand side of this deﬁnition depends only on the equivalence classes [a1],...,[an] and not on their representatives a1,...,an. (iv) For each n and each n-ary predicate symbol P of L the interpretation of P in B is the n-ary relation PB on B deﬁned by PB([a1],...,[an]) ⇐⇒ PA(a1,...,an) for every a1,...,an ∈ A. The fact that =A is a congruence for PA ensures that the right hand side of this deﬁnition depends only on the equivalence classes [a1],...,[an] and not on their representatives a1,...,an. Since B is to be a structure, the interpretation =B of = in B must be the identity relation on B. Note that we have [a] =B [b] ⇐⇒ a =A b for all a,b ∈ A. Hence the identity interpretation of = in B is the same as the one we would get if we treated = as another predicate symbol of L and applied clause (iv) of this construction. Our deﬁnition of the quotient structure B can be summarized by saying that the quotient map π from A onto B is a strong homomorphism of A onto B. The following Lemma is easily proved by induction on terms. 1.28. Lemma. For any L-term t(x1,...,xn) and any a1,...,an ∈ A, tB([a1],...,[an]) = [tA(a1,...,an)].
The following result gives the main content of this quotient construction from a model theoretic point of view. It says that no diﬀerence between 9
a prestructure A and its quotient structure B can be expressed in ﬁrst order logic. It justiﬁes the usual practice of only considering structures in model theory. (However, prestructures are often used, at least implicitly, in the construction of structures; this happens in the usual proof of the completeness theorem for ﬁrst order logic, for example.) 1.29. Proposition. Let A be a prestructure for L and B its quotient structure as described above. For any L-formula ϕ(x1,...,xn) and any a1,...,an ∈ A B |= ϕ[[a1],...,[an]] ⇐⇒ A |= ϕ[a1,...,an]. Proof. By induction on the formula ϕ. When ϕ is an atomic formula, this equivalence follows from the preceding Lemma and the fact that π is a strong homomorphism. The induction step is an immediate consequence of the deﬁnition of |= and (for quantiﬁers) the fact that π is surjective.   Exercises 1.30. Let I be a nonempty set, U an ultraﬁlter on I, and J an element of U. Deﬁne V to be the set of X ⊆ J such that X ∈ U. • Show that V is an ultraﬁlter on J. • Show that if (Ai | i ∈ I) is a family of L-structures, then ΠU(Ai | i ∈ I) is isomorphic to ΠV (Aj | j ∈ J) 1.31. Let I be an index set and U an ultraﬁlter on I. Let (Ai | i ∈ I) and (Bi | i ∈ I) be families of L-structures. If Ai can be embedded in Bi for all i ∈ I, show that ΠUAi can be embedded in ΠUBi. 1.32. Let A be any L-structure. Show that A can be embedded in some ultraproduct of a family of ﬁnitely generated substructures of A. 1.33. Let L be the ﬁrst order language whose only nonlogical symbol is the binary predicate symbol <. Let A = (N,<) and let B = AI/U be an ultrapower of A where I is countably inﬁnite and U is a nonprincipal ultraﬁlter on I. • Show that B is a linear ordering. • Show that the range of the diagonal embedding of A into B is a proper initial segment of B. Give an explicit description of an element of B that is not in the range of this embedding. •Show that B is not a well ordering; that is, describe an inﬁnite descending sequence in B. 1.34. Let L be the ﬁrst order language whose nonlogical symbols consist of a binary predicate symbol <, a binary function symbol + and a constant symbol 0. Let Z be the ordered abelian group of all the integers, considered as an L-structure. Let I be any countable inﬁnite set and let U be a nonprincipal ultraﬁlter on I. Consider the ultrapower ZI/U. 10
• Show that ZI/U is an ordered abelian group. • Find a natural embedding of Z into this group so that the image of the embedding is a convex subgroup. • Show that ZI/U contains a nonzero element b that is divisible in ZI/U by every positive integer n. (This means that for each n ≥1 there exists a in ZI/U that satisﬁes b = a +•••+ a (n times).) Such an element can be produced explicitly.
11
2. Theories and Types
In this chapter we discuss a few basic topics in model theory; they are closely tied to the Compactness Theorem. A theory consists of a ﬁrst order language L together with a set T of sentences in L; often the language is determined by the context. We may refer to T as an L-theory to indicate which language is intended. 2.1. Deﬁnition. Let L be a ﬁrst order language, let T,T0 be L-theories, let σ be an L-sentence, and let K be a class of L-structures. • T is satisﬁable if it has at least one model; Mod(T) denotes the class of all models of T. • σ is a logical consequence of T (and we write T |= σ) if σ is true in every model of T. • T is complete if it is satisﬁable and for every L-sentence σ, either T |= σ or T |=¬σ. • T and T0 are equivalent if they have the same logical consequences in L; this is the same as saying that each sentence in T is a logical consequence of T0 and each sentence in T0 is a logical consequence of T. When T and T0 are equivalent we will also say that T is axiomatized by T0. • The theory of K is deﬁned by Th(K) ={σ | σ is an L-sentence and A |= σ for all A ∈ K}. If K ={A}we write Th(A) instead of Th({A}). We say K is axiomatizable if K = Mod(T) for some theory T.
The following results are easy consequences of the deﬁnitions. 2.2. Facts. Let K, K1 and K2 be classes of L-structures, and let T,T1, and T2 be L-theories. (1) K1 ⊆ K2 ⇒Th(K1)⊇Th(K2); (2) T1 ⊆ T2 ⇒Mod(T1)⊇Mod(T2); (3) T1 and T2 are equivalent iﬀ Mod(T1) = Mod(T2); (4) Mod(Th(K))⊇ K, with equality if K is axiomatizable; (5) Th(K) contains its logical consequences; (6) Th(Mod(T))⊇ T and T axiomatizes Th(Mod(T)). (7) T is of the form Th(A), where A is an L-structure, iﬀ T is ﬁnitely satisﬁable and it is ⊆-maximal among ﬁnitely satisﬁable sets of Lsentences. (8) Among L-theories containing T, the complete theories are those equivalent to theories of the form Th(A), where A is a model of T. 2.3. Deﬁnition. If A and B are two structures for the same language L, we say that A and B are elementarily equivalent, and write A ≡ B, if Th(A) = Th(B).
12
2.4. Fact. Let T be a theory. Then T is complete iﬀ T has a model and any two models of T are elementarily equivalent. 2.5. Deﬁnition. Let L1 ⊆ L2 be two ﬁrst order languages and let Ti be a theory in Li for i = 1,2. We say that T2 is an extension of T1 (and, equivalently, that T1 is a subtheory of T2), if T1 is contained in the set of logicalconsequencesof T2. Further, T2 issaidtobeaconservative extension of T1, if, in addition, T2 |= σ ⇒ T1 |= σ for every sentence σ of L1. 2.6.Fact. If T2 isanextensionof T1 andeverymodelof T1 hasanexpansion to a model of T2, then T2 is a conservative extension of T1.
The following result, which is just a restatement of the Compactness Theorem, expresses a fundamental property of logical consequence in ﬁrst order logic. It shows that the relation T |= σ has ﬁnitary character, and thus (in principle) can be analyzed by some sort of (possibly abstract) “proof system” with the property that only ﬁnitely many sentences appear in each “proof.” Each presentation of G¨odel’s Completeness Theorem (which we do not need for model theory) gives such a proof system. 2.7. Corollary. If T |= σ, then there is a ﬁnite set T0 ⊆ T with T0 |= σ. Proof. Assume T |= σ, so T∪{¬σ}has no model. Hence there exists a ﬁnite T0 ⊆ T ∪{¬σ} such that T0 has no model, by the Compactness Theorem. There exists a ﬁnite T0 ⊆ T with T0 ⊆ T0 ∪{¬σ}. Evidently T0 ∪{¬σ} cannot have a model, and therefore T0 |= σ.   The following result is a variation on the same theme: 2.8. Corollary. Let L be a ﬁrst order language and let S and T be sets of sentences in L. Suppose that for every model A of T there exists γ ∈ S such that A |= γ. Then there exists a ﬁnite subset {γ1,...,γm} of S such that T |= γ1 ∨...∨γm. Proof. Apply the Compactness Theorem to T ∪{¬γ | γ ∈ S}.   2.9. Deﬁnition. Let T be a satisﬁable L-theory. We denote by S0(T) the set of all theories of the form Th(A), where A is a model of T.
Note that we may regard S0(T) as the set of complete L-theories that extend T, up to equivalence of theories. We think of it as the space of completions of T. We put a natural topology on S0(T) as follows: for each L-sentence σ, let [σ] ={T0 ∈ S0(T)| σ ∈ T0}={T0 ∈ S0(T)| T0 |= σ}. Note that the family F ={[σ]| σ is an L-sentence} 13
is closed under ﬁnite intersections and unions; indeed, for any L-sentences σ and τ, we see that [σ]∩[τ] = [σ∧τ] and [σ]∪[τ] = [σ∨τ]. The logic topology on S0(T) is the topology for which F is the family of basic open sets. That is, for each T0 ∈ S0(T), the basic open neighborhoods of T0 are the sets [σ] where σ ∈ T0. Evidently this is a Hausdorﬀ topology. Moreover, each set of the form [σ] is closed as well as open, since S0(T)\[σ] = [¬σ] for all L-sentences σ. Furthermore, the logic topology on S0(T) is compact; this is an immediate consequence of Corollary 2.8. Note also that there is a close relation between closed sets in S0(T) and L-theories T1 that extend T. For such a theory T1, deﬁne K(T1) ={T0 ∈ S0(T)| T1 ⊆ T0}=\{[σ]| σ ∈ T1}.Then K(T1) is closed, because it is the intersection of a family of clopen sets. Conversely, if K is a closed set in S0(T), then there is a set Σ of L-sentences such that the open set S0(T)\K is equal to the union of the basic open sets [σ] with σ ∈ Σ. Taking T1 = T ∪{¬σ | σ ∈ Σ} we have that T1 extends T and K(T1) = K. Note that K(T1) is nonempty iﬀ T1 is satisﬁable. 2.10. Proposition. Let T be a satisﬁable L-theory. The space S0(T) with the logic topology is a totally disconnected, compact Hausdorﬀ space. Its closed sets are the sets of the form {T0 ∈ S0(T)| T1 ⊆ T0} where T1 is a set of L-sentences containing T. Moreover, the clopen subsets of S0(T) in this topology are exactly the sets of the form [σ], where σ is an L-sentence. Proof. It remains only to prove that each clopen set C ⊆ S0(T) is of the form [σ] for some sentence σ. Since C is open, it is the union of a family of basic open sets. Since C is closed, hence compact, this family can be taken to be ﬁnite. In S0(T), a union of ﬁnitely many basic open sets is itself a basic open set.   2.11. Fact. Let T be a satisﬁable L-theory and let σ,τ be L-sentences. Then [σ] = [τ] iﬀ σ and τ are equivalent over T (i.e., σ ↔ τ is a logical consequence of T).
These results show that the topological space S0(T) by itself characterizes the relation of equivalence of L-sentences over the theory T.
14
Types Next we introduce types; they provide a way of describing the ﬁrst order expressible properties of elements of a structure. Fix n ≥1 and let x1,...,xn be a ﬁxed sequence of distinct variables. 2.12. Deﬁnition. Let A be an L-structure and consider a1,...,an ∈ A. • The type of (a1,...,an) in A is the set of L-formulas {ϕ(x1,...,xn)| A |= ϕ[a1,...,an]}; we denote this set by tpA(a1,...,an) or simply by tp(a1,...,an) if the structure A is understood. • An n-type in L is a set of formulas of the form tpA(a1,...,an) for some L-structure A and some a1,...,an ∈ A. A partial n-type in L is a subset of an n-type in L. • If Γ(x1,...,xn) is a partial n-type in L, we say (a1,...,an) realizes Γ in A if every formula in Γ is true of a1,...,an in A. • If Γ(x1,...,xn) is a partial n-type in L and A is an L-structure, we say that Γ is realized in A if there is some n-tuple in A that realizes Γ in A. If no such n-tuple exists, then we say that A omits Γ. 2.13. Facts. Let Γ(x1,...,xn) be a set of formulas in L, all of whose free variables are among x1,...,xn. • Γ(x1,...,xn) is an n-type in L if and only if it is a maximal (ﬁnitely) satisﬁable subset of the set of all formulas in L whose free variables are among x1,...,xn. •Γ(x1,...,xn)isapartial n-typein L ifandonlyifitis(ﬁnitely)satisﬁable. 2.14. Deﬁnition. Let T be a theory in L and let Γ = Γ(x1,...,xn) be a partial n-type in L. • Γ is consistent with T if T ∪Γ is ﬁnitely satisﬁable. This is equivalent to saying that Γ is realized in some model of T. • The set of all n-types that contain T is denoted by Sn(T). These are exactly the n-types in L that are consistent with T.
Let c1,...,cn be distinct new constant symbols and let Ln be the language L(c1,...,cn) extending T. Let Tn denote the theory whose set of sentences is T but whose language is Ln. The simple observation we give next allows us to identify Sn(T) with S0(Tn) using the bijection that takes an n-type Γ(x1,...,xn) to the set of Ln-sentences Γ(c1,...,cn). 2.15. Lemma. Let A,B be L-structures, let a be an n-tuple in A and let b be an n-tuple in B. The n-type tpA(a) can be identiﬁed with the complete theory Th(A,a1,...,an). In particular, tpA(a) = tpB(b) if and only if (A,a1,...,an)≡(B,b1,...,bn). 15
Proof. Set Γ(x1,...,xn) = tpA(a), and consider the set of formulas Γ(c1,...,cn) ={ϕ(c1,...,cn)| ϕ(x1,...,xn)∈Γ(x1,...,xn)} in the language Ln. Evidently Γ(c1,...,cn) ⊆ Th(A,a1,...,an). Moreover, it is an easy exercise in changing bound variables to show that every sentence in Th(A,a1,...,an) is logically equivalent to a sentence in Γ(c1,...,cn).
We deﬁne the logic topology on the space of n-types Sn(T) so that the bijection by which we identify Sn(T) with S0(Tn) is a homeomorphism, when we put the logic topology deﬁned above on S0(Tn). That is, the basic open sets for the logic topology on Sn(T) are the sets of the form [ϕ(x1,...,xn)] ={Γ(x1,...,xn)∈ Sn(T)| ϕ ∈Γ} where ϕ(x1,...,xn) is any L-formula whose free variables are among x1,...,xn. The following result is immediate from Corollary 2.10. 2.16. Proposition. Let T be a satisﬁable L-theory and n ≥ 0. The space Sn(T) with the logic topology is a totally disconnected, compact Hausdorﬀ space. Its closed sets are the sets of the form {Γ0 ∈ Sn(T)|Γ⊆Γ0} where Γ is a set of L-formulas whose free variables are among x1,...,xn such that Γ⊇ T. Moreover, the clopen subsets of Sn(T) in this topology are exactly the sets of the form [ϕ(x1,...,xn)], where ϕ(x1,...,xn) is an L-formula whose free variables are among x1,...,xn. Furthermore, two L-formulas ϕ(x1,...,xn) and ψ(x1,...,xn) are equivalent over T iﬀ the basic open sets [ϕ(x1,...,xn)] and [ψ(x1,...,xn)] are equal. Types over a set of parameters Later we will need the formalism of n-types over X, where X is a subset of a model A of an L-theory T. In such a situation, we take TX to be Th((A,a)a∈X); thus TX is a complete L(X)-theory. It speciﬁes the elementary properties of elements of X within a model A of T. (The model A is arbitrary except that X ⊆ A and (A,a)a∈X |= TX. Note that any model of TX is isomorphic to an L(X)-structure of the form (A,a)a∈X, where A |= T and X ⊆ A.) 2.17. Deﬁnition. An n-type over X for the theory T is an n-type in L(X) that is consistent with TX. The space of all n-types over X for the theory T, namely the space Sn(TX), will be denoted by Sn(X) if the theory T and model A containing X are understood. 2.18. Fact. Let T be an L-theory, A a model of T, and X a subset of A. Let Γ(x1,...,xn) be an n-type in L(X). Then Γ ∈ Sn(X) iﬀ Γ is ﬁnitely satisﬁable in the given structure (A,a)a∈X. 16
An application of type spaces To close this chapter we give an application of the topology of type spaces that will be used later (for example, when we consider Quantiﬁer Elimination). Let T be a satisﬁable L-theory and n ≥ 0. Let Σ be a nonempty set of L-formulas whose free variables are among x1,...,xn. Assume that Σ is closed under disjunction and conjunction (up to equivalence over T). 2.19. Proposition. Let ϕ(x1,...,xn) be an L-formula. The following are equivalent: (1) T |= ϕ or T |=¬ϕ or T |= ϕ ↔ σ for some formula σ ∈Σ. (2) For every T1,T2 ∈ Sn(T), if ϕ ∈ T1 and ¬ϕ ∈ T2, then there exists σ ∈Σ such that σ ∈ T1 and ¬σ ∈ T2. Proof. (1 ⇒ 2): If ϕ ∈ T1 and ¬ϕ ∈ T2, then neither T |= ϕ nor T |= ¬ϕ hold. Thus there exists σ ∈Σ such that T |= ϕ ↔ σ. It follows that σ ∈ T1 and ¬σ ∈ T2. (2 ⇒ 1): Assume that condition (2) holds and that neither T |= ϕ nor T |= ¬ϕ. Let K denote the clopen set [ϕ] in Sn(T), with its complement denoted by Kc. Note that both K and Kc are nonempty. Let S be the family of basic open sets of the form [σ] where σ ∈Σ. We will ﬁrst show that K is the union of a family of basic open sets from S. Fix T1 ∈ K; condition (1) implies that there is a subset Σ0 of Σ such thatS{[¬σ0]| σ0 ∈Σ0} contains Kc as a subset and does not have T1 as an element. Since Kc is compact, the set Σ0 can be taken to be ﬁnite. Since Σ is closed under conjunction, there is a single formula σ0 from Σ such that Kc ⊆[¬σ0] and T1 ∈[σ0]. That is, T1 ∈[σ0]⊆ K. Therefore K is the union of a family of basic open sets from S. Since K is compact, it is a ﬁnite union of such basic open sets. Since Σ is closed under disjunction, there must be a single formula σ ∈ Σ such that K = [σ], and therefore T |= ϕ ↔ σ, as desired.
Exercises 2.20. Show that the Compactness Theorem (Theorem 1.10) can be derived from Corollary 2.7 by a trivial argument. 2.21. Let T be an L-theory and let K be the set of all L-structures that are not models of T. Show that T is equivalent to a ﬁnite L-theory iﬀ K is axiomatizable.
17
3. Elementary Maps
3.1. Deﬁnition. Let A,B be L-structures and let f be a function from a subset X of A into B. We say f is elementary (with respect to A,B) if for every L-formula ϕ(x1,...,xm) and every a1,...,am ∈ X A |= ϕ[a1,...,am]⇔ B |= ϕ[f(a1),...,f(am)]. If the domain of the function f is all of A and f is elementary with respect to A,B, then f is called an elementary embedding from A into B. 3.2. Fact. Let A,B,X,f be as in the Deﬁnition. The function f is elementary with respect to A,B if and only if (A,a)a∈X ≡ (B,f(a))a∈X. In particular, if there exists a function f: X → B that is elementary with respect to A,B for some subset X of A (including the empty set), then A ≡ B. 3.3. Fact. If f is an elementary function then f must be 1-1. Moreover, if f is an elementary embedding of A into B, then f is an embedding of A into B. 3.4. Deﬁnition. Let A,B be L-structures and suppose A ⊆ B. We say A is an elementary substructure of B and write A B if the inclusion map is an elementary embedding from A into B. In this case we also refer to B as an elementary extension of A and write B  A. The importance of elementary extensions for model theoretic arguments is indicated by the following remark. 3.5. Remark. Let L be a ﬁrst order language and let A,B be L-structures that satisfy A  B. An important property of elementary extensions is that each relation R on A that is deﬁnable in A has a canonical extension R0 to a relation on B that is deﬁnable in B. To obtain this extension, take any L-formula ϕ(x1,...,xm,y1,...,yn) and any b1,...,bn ∈ A such that R ={(a1,...,am)∈ Am | A |= ϕ[a1,...,am,b1,...,bn]} and set R0 ={(a1,...,am)∈ Bm | B |= ϕ[a1,...,am,b1,...,bn]} It is an easy exercise to show that R0 does not depend on the speciﬁc L(A)-formula ϕ(x1,...,xm,b1,...,bn) used in deﬁning R. Note that the parameters needed to deﬁne R0 in B are exactly the same as the parameters used to deﬁne R in A. This correspondence between (certain) relations R on A and R0 on B preserves all structural properties that can be expressed in ﬁrst order logic. For example: it is an isomorphism with respect to Boolean operations and projections; also, if R is the graph of a function, then so is R0. 18
3.6. Facts. (a) Let g be an isomorphism from A onto B, and let f be any restriction of g to a subset X of A. Then f is elementary with respect to A,B. (b) If g is elementary (with respect to A,B) and f is elementary (with respect to B,C), and if the range of g is contained in the domain of f, then the composition f ◦g is elementary (with respect to A,C). (c) If f is elementary (with respect to A,B), then f−1 is elementary (with respect to B,A). 3.7. Fact. Let I be an index set and U be an ultraﬁlter on I. Fix a ﬁrst order language L and an L-structure A. Consider the ultrapower AI/U of A. Deﬁne a function δ on A by setting δ(a) = ga/U, where ga is the constant function with ga(i) = a for all i ∈ I. Then δ is an elementary embedding from A into AI/U. (This is called the diagonal embedding; often one identiﬁes a with δ(a) for each a ∈ A and thereby regards A as an elementary substructure of AI/U.) The following result gives a useful tool for showing that A is an elementary substructure of B. Note that the condition in this Theorem refers to truth of formulas only in the structure B. 3.8. Theorem (Tarski-Vaught Test for ). Let B be an L-structure and suppose A ⊆ B. Then A is the underlying set of an elementary substructure of B if and only if for every formula ψ(x1,...,xm,y) in L and every sequence a1,...,am in A, if B |= ∃yψ[a1,...,am], then there exists b ∈ A such that B |= ψ[a1,...,am,b]. Proof. (⇒) This follows immediately from the deﬁnition of elementary substructure. (⇐): Suppose A and B satisfy the given conditions. We ﬁrst need to show that A is the underlying set of a substructure of B. If c is a constant symbol in L, apply the given conditions on A,B to the formula ψ(y) equal to y = c; this shows that cB ∈ A. If F is an m-ary function symbol in L, apply the given conditions on A,B to the formula ψ(y) equal to F(x1,...,xm) = y; this shows that A is closed under the function FB. Hence there exists A ⊆ B whose underlying set is A. We need to show that for any formula ϕ(x1,...,xm) and any a1,...,am ∈ A, A |= ϕ[a1,...,am]⇔ B |= ϕ[a1,...,am]. The proof is by induction on the formula ϕ. By changing bound variables if necessary, we may restrict attention to formulas ϕ(a1,...,xm) that have no bound occurrences of any xj, j = 1,...,m. In the basis step ϕ is an atomic formula; the displayed equivalence follows from the assumption that A is a substructure of B. In the induction step, the cases of propositional connectives are trivial. In the remaining case ϕ is of the form∃yψ(x1,...,xm,y), where the statement 19
to be proved is assumed to be true for ψ and y is not among x1,...,xm. Then we have: A |= ϕ ⇔ A |=∃yψ[a1,...,am] ⇔ A |= ψ[a1,...,am,b] for some b ∈ A ⇔ B |= ψ[a1,...,am,b] for some b ∈ A ⇔ B |=∃yψ[a1,...,am] ⇔ B |= ϕ[a1,...,am] In the third equivalence we used the induction hypothesis and in the fourth we used the hypothesis of the implication we are proving as well as the fact that y is distinct from all of x1,...,xm.   3.9.Facts (UnionsofChains). Let(I,≤)bealinearlyorderedset. Foreach i ∈ I let Ai be an L-structure, and suppose this indexed family of structures is a chain. That is, for each i,j ∈ I, we suppose i ≤ j ⇒ Ai ⊆ Aj. (1) There is a well deﬁned structure whose universe is the union of the sets Ai and which is an extension of each Ai; moreover, such a structure is unique. (For obvious reasons, this structure is called the union of the given chain of structures.) (2) If, in addition, Ai  Aj holds whenever i,j ∈ I and i ≤ j, then the union of this chain of structures is an elementary extension of each Ai. (In thissituationwereferto(Ai | i ∈ I)asanelementary chain of L-structures. A useful way of proving that functions are elementary is the back-and-forth method, which we now describe. 3.10. Deﬁnition. Let A,B be L-structures and let F be a nonempty family of functions. We say F is a local isomorphism from A onto B if it has the following properties: • Each function in F is an embedding from a substructure of A into B. • (“back”) For each f ∈ F and each b ∈ B there is some g ∈ F such that g extends f and b is in the range of g. • (“forth”) For each f ∈ F and each a ∈ A there is some g ∈ F such that g extends f and a is in the domain of g. We say A is locally isomorphic to B if there is a local isomorphism from A onto B.
To work eﬀectively with local isomorphisms, we need some facts about maps between substructures. 3.11. Lemma. Let A,B be L-structures and let f be an embedding of a substructure of A into B. Then (1) The range of f is a substructure of B. (2) For each L-term t(x1,...,xn) and each a1,...,an in the domain of f, tB(f(a1),...,f(an)) = f(tA(a1,...,an)).
(3) For each quantiﬁer-free L-formula ϕ(x1,...,xn) and each a1,...,an in 20
the domain of f, B |= ϕ[f(a1),...,f(an)] ⇔ A |= ϕ[a1,...,an]. Proof. (1) We need to show that cB is in the range of f for any constant symbol c of L and that the range of f is closed under the application of FB for any function symbol F of L. If c is a constant symbol of L, then cA is in the domain of f and we have cB = f(cA). If F is an n-ary function symbol of L and a1,...,an are in the domain of f (so f(a1),...,f(an) are arbitrary elements of the range of f), we have FB(f(a1),...,f(an)) = f(FA(a1,...,an)), which is in the range of f. (2) This is proved by induction on terms. (3) This is proved by induction on formulas. Part (2) yields the base case, in which atomic formulas are treated. The induction steps for propositional connectives are trivial.   3.12. Proposition. Let A,B be L-structures and let F be a local isomorphism from A onto B. Then each function in F is elementary with respect to A,B. In particular, A ≡ B. Proof. Let ϕ(x1,...,xn) be an L-formula, f a function in F, and a1,...,an elements of the domain of f. We must prove A |= ϕ[a1,...,an] ⇐⇒ B |= ϕ[f(a1),...,f(an)]. This is done by induction on ϕ(x1,...,xn). In the base case of the induction ϕ is an atomic formula, and the desired equivalence is contained in Lemma 3.11(3). The induction steps for propositional connectives are trivial. The induction steps for quantiﬁers follow from the “back-and-forth” properties satisﬁed by F. The ﬁnal statement follows, because F is nonempty.
When constructing local isomorphisms, the following notation and result are often useful. 3.13. Notation. Let A be an L-structure and X a nonempty subset of A. We denote by hXiA the substructure of A that is generated by X. 3.14. Lemma. Let A,B be L-structures. Let J be a nonempty set and consider two functions α: J → A, β: J → B. Let (xj | j ∈ J) be a family of distinct variables. Suppose that for any quantiﬁer-free formula ϕ(xj | j ∈ J) whose variables are among (xj | j ∈ J) we have A |= ϕ[α(j)| j ∈ J] ⇔ B |= ϕ[β(j)| j ∈ J]. Then there exists an embedding f from h{α(j)| j ∈ J}iA into B such that f(α(j)) = β(j) for all j ∈ J. Moreover, f is unique with these properties and its range is h{β(j)| j ∈ J}iB. 21
Proof. The underlying set of h{α(j) | j ∈ J}iA consists exactly of those elements of A that can be written in the form tA(α(j) | j ∈ J) where t(xj | j ∈ J) is any L-term whose variables are among (xj | j ∈ J). If t1,t2 are two such terms and tA 1 (α(j) | j ∈ J) = tA 2 (α(j) | j ∈ J), thenour assumptions yield that tB 1 (β(j) | j ∈ J) = tB 2 (β(j) | j ∈ J). (Considerthe quantiﬁer-free formula t1 = t2.) Thus we may deﬁne a function f on h{α(j)| j ∈ J}iA by f(tA(α(j)| j ∈ J)) = tB(β(j)| j ∈ J) where t ranges over the L-terms whose variables are among (xj | j ∈ J). It is routine to show that this f has the desired properties.   Theory of dense linear orderings without endpoints We illustrate the use of these ideas by treating the theory of dense linear orderings without endpoints. Let L denote the language whose only nonlogical symbol is a binary predicate symbol <. Let DLO denote the theory of dense linear orderings without maximum or minimum element, formulated as a (ﬁnite) set of L-sentences. 3.15. Example. Each L-formula is equivalent in DLO to a quantiﬁer-free L-formula.
Proof. We apply Proposition 2.19. Fix an L-formula ϕ(x1,...,xm). Let Σ be the set of quantiﬁer-free L-formulas whose free variables are among x1,...,xm. We will verify condition (2) of Proposition 2.19. To that end, consider two dense linear orderings without endpoints (A,<) and (B,<) and elements a1,...,am ∈ A,b1,...,bm ∈ B. We assume that (A,<) |= ϕ[a1,...,am] and that every quantiﬁer-free L-formula satisﬁed in (A,<) by a1,...,am is satisﬁed in (B,<) by b1,...,bm. We need to show (B,<) |= ϕ[b1,...,bm]. Let F be the set of all order preserving functions from a ﬁnite subset of A into B. An easy argument shows that A is a local isomorphism from (A,<) onto (B,<). Our assumptions ensure that there exists f ∈ F such that f is deﬁned on {a1,...,am} and satisﬁes f(ai) = bi for all i = 1,...,m. By Proposition 3.12, the function f is elementary with respect to (A,<) and (B,<).
Note that we have proved in passing that every two models of DLO are elementarily equivalent, since there is a local isomorphism from one onto the other. Hence DLO is complete. Theory of equality We complete this chapter by analyzing the simplest logical theory, which is the theory of equality. Let L denote the language of =, without any nonlogical symbols. For each n ≥0 let σn be a sentence in L that expresses the statement that the universe has at most n elements (so ¬σ0 is logically 22
valid). For each n ≥1 let Tn be the theory in L axiomatized by σn∧¬σn−1 and let T∞ be the theory axiomatized by the set {¬σn | n ≥ 1}. Thus Tn is the theory of sets of size n (n ≥1) and T∞ is the theory of inﬁnite sets. 3.16. Example (Theories in the language of equality). (i) Each formula in the pure language of = is logically equivalent to a Boolean combination of quantiﬁer free formulas and the sentences σn for n ≥1. (ii) The complete theories in the language of = are equivalent to T∞ and Tn for n ≥ 1. For each such theory T, every formula in the language of = is equivalent in T to a quantiﬁer free formula.
Proof. (i) We apply Proposition 2.19. Fix a formula ϕ(x1,...,xm) in the language of =. Let Σ be the set of all Boolean combinations of quantiﬁer free formulas whose variables are among x1,...,xm and the sentences σn for n ≥ 1. We want to verify condition (2) of Proposition 2.19. To that end, consider two sets A,B and elements a1,...,am ∈ A,b1,...,bm ∈ B. We assume that A |= ϕ[a1,...,am] and that every formula in Σ that is satisﬁed by a1,...,am in A is satisﬁed by b1,...,bm in B. We need to show B |= ϕ[b1,...,bm]. Our hypotheses ensure that for all n ≥ 1 we have A |= σn ⇐⇒ B |= σn. Therefore, either A and B have the same ﬁnite cardinality or both A,B are inﬁnite. Moreover, we also have that for each 1 ≤ i < j ≤ m, ai = aj ⇐⇒ bi = bj. Therefore there is a bijection f from {a1,...,an} onto {b1,...,bn} such that f(ai) = bi for all i = 1,...,n. Let F be the set of all 1-1 functions g that extend f and map a ﬁnite subset of A into B. It is easy to check that F is a local isomorphism from (A,a1,...,an) onto (B,b1,...,bn). By Proposition 3.12, (A,a1,...,an) ≡ (B,b1,...,bn), and hence B |= ϕ[b1,...,bm]. (ii) For ﬁnite n, any two models of Tn are isomorphic, hence elementarily equivalent, so Tn is complete in these cases. On the other hand, T∞ has only inﬁnite models; the back-and-forth argument used to prove (i) shows that any two inﬁnite sets are elementarily equivalent, which proves that T∞ is also complete. If T is any complete theory in the language of equality, and A is one of its models, then A is a model of T∞ or of Tn for some n ≥ 1, depending on the cardinality of A. Therefore T is equivalent to Th(A), which contains one of these theories, say Tj where j ≥1 or j =∞. But we showed that each such Tj is complete, from which it follows easily that T and Tj are equivalent.   The previous result allows one to show that if T is the empty theory in the language L of equality, then the space S0(T) consists of a sequence of points (Tn | n ≥ 1) that are isolated, together with a point T∞ to which this sequence converges.
23
Exercises 3.17. Let A be an L-structure and X a nonempty subset of A. The diagram of X in A, denoted by DiagX(A), is the set of all quantiﬁer-free L(X)sentences that are true in (A,a)a∈X. Suppose X is a set of generators for A and B is another L-structure. Show that there is a 1-1 correspondence between embeddings of A into B and expansions of B that are models of DiagX(A). 3.18. Let A be an L-structure and X a nonempty subset of A. The elementary diagram of X in A, denoted by EDiagX(A), is the set of all L(X)sentences that are true in (A,a)a∈X. Suppose X is a set of generators for A and B is another L-structure. Show that there is a 1-1 correspondence between elementary embeddings of A into B and expansions of B that are models of EDiagX(A). 3.19. Let I be an index set and U an ultraﬁlter on I. Let (Ai | i ∈ I) and (Bi | i ∈ I) be families of L-structures. If Ai can be elementarily embedded in Bi for all i ∈ I, show that ΠUAi can be elementarily embedded in ΠUBi. 3.20. Let A be an inﬁnite L-structure and κ an inﬁnite cardinal. Show that there exists an ultrapower of A that has cardinality at least κ. (Compare Corollary1.12.) Itfollowsthat A hasanelementaryextensionofcardinality at least κ. 3.21. Let A ⊆ B be L-structures. Suppose that for every ﬁnite sequence a1,...,am ∈ A and every b ∈ B there is an automorphism of B that ﬁxes each element of a1,...,am and moves b into A. Show that A  B. 3.22. Let K be a ﬁeld and let L be the ﬁrst order language of vector spaces over K; the nonlogical symbols of L are a constant 0, a binary function symbol +, and a unary function symbol Fa for each a ∈ K. Given a Kvector space V , we regard V as an L-structure in the obvious way: 0 is interpreted by the identity element of V , + is interpreted by the addition of V , and each Fa is interpreted by the operation of scalar multiplication by a. Suppose W ⊆ V are inﬁnite dimensional K-vector spaces. Use the previous exercise to prove that W  V . Use this result to show that any two inﬁnite K-vector spaces are elementarily equivalent. 3.23. Let L be the language whose only nonlogical symbol is a binary predicate symbol <. Let A be an L-structure that is a dense linear ordering without endpoints. Let ϕ(x,y1,...,yn) be any L-formula (with x a single variable) and let a1,...,an ∈ A. Show that the deﬁnable set {a ∈ A | A |= ϕ[a,a1,...,an]} is the union of a ﬁnite number of open intervals (whose endpoints are in A∪{−∞,+∞}) and a ﬁnite subset of A. 3.24. Let L be the pure language of =, so L has no nonlogical symbols, and let σ be any L-sentence. Show that if σ is satisﬁable, then σ is true in some ﬁnite set.
24
4. Saturated Models
In this chapter we prove that every satisﬁable theory T has models that are rich, in a certain sense. This is the ﬁrst of several such notions that turn out to be useful in model theory. (See Section 12.) 4.1. Deﬁnition. Let A be an L-structure and let κ be an inﬁnite cardinal. We say that A is κ-saturated if the following condition holds: if X is any subset of A having cardinality < κ and Γ(x) is any 1-type in L(X) that is ﬁnitely satisﬁable in (A,a)a∈X, then Γ(x) itself is satisﬁable in (A,a)a∈X. 4.2. Facts. Let A be an L-structure and κ an inﬁnite cardinal. (a) If A is inﬁnite and κ-saturated, then the underlying set of A has cardinality at least κ. (b) If A is ﬁnite, then A is κ-saturated for every κ. (c) If A is κ-saturated and X is a subset of A having cardinality < κ, then the expansion (A,a)a∈X is also κ-saturated. Deﬁnition 4.1 refers only to realizing 1-types. The following result shows that κ-saturated structures realize partial types in a very rich way. 4.3. Theorem. Let κ be an inﬁnite cardinal and suppose A is a κ-saturated L-structure. Suppose X ⊂ A has cardinality < κ. Let Γ(xj | j ∈ J) be a set of L(X)-formulas, where J has cardinality ≤ κ. If Γ is ﬁnitely satisﬁable in (A,a)a∈X, then Γ is satisﬁable in (A,a)a∈X. Proof. Let X,J, and Γ(xj | j ∈ J) be as in the statement of the Theorem. Extend Γ so that it is maximal among sets of L(X)-formulas with free variables among (xj | j ∈ J) that are ﬁnitely satisﬁable in (A,a)a∈X. Let < be a well ordering of J such that the order type of (J,<) is the cardinal of J. As a consequence, each proper initial segment of (J,<) has cardinality < κ. For each k ∈ J let Γ≤k be the set of formulas in Γ whose free variables are among (xj | j ≤ k). Note that the maximality of Γ ensures that if ϕ is any L(X)-formula whose free variables are among (xj | j ≤ k), then either ϕ ∈ Γ≤k or ¬ϕ ∈ Γ≤k. Moreover, Γ≤k is closed under conjunction and under application of the existential quantiﬁer ∃xk. We need to obtain a family (aj | j ∈ J) of elements of A that satisﬁes Γ in (A,a)a∈X; we do this by induction over the well ordering (J,<). Fix k ∈ J and suppose we have already obtained (aj | j < k) that satisfy all the formulas from Γ that have free variables among (xj | j < k). Let Γ0 be the result of substituting aj for all free occurrences of xj in Γ≤k, for all j < k. We see that Γ0 is a 1-type (with xk the allowed free variable) in L(X ∪{aj | j < k}) that is ﬁnitely satisﬁable in (A,a)a∈X∪{aj|j<k}. Since X ∪{aj | j < k} has cardinality < κ and A is κ-saturated, there exists ak in A that satisﬁes Γ0 in (A,a)a∈X∪{aj|j<k}. It follows that the family (aj | j ≤ k) satisﬁes Γ≤k in (A,a)a∈X. 25
The result of this construction is a family (aj | j ∈ J) of elements of A such that for each k ∈ J, the family (aj | j ≤ k) satisﬁes Γ≤k in (A,a)a∈X. Hence (aj | j ∈ J) satisﬁes Γ in (A,a)a∈X, as desired.   4.4. Corollary. Let A be a κ-saturated L-structure. If B ≡ A and card(B)≤ κ, then there is an elementary embedding of B into A. Proof. Let (bj | j ∈ J) be an enumeration of B, so card(J) ≤ κ. Let Γ(xj | j ∈ J) be the set of all L-formulas with the indicated free variables that are satisﬁed by (bj | j ∈ J) in B. Since B ≡ A, the set Γ is ﬁnitely satisﬁable in A. Apply Theorem 4.3 to obtain a family (aj | j ∈ J) of elements of A that satisﬁes Γ in A. The function f: B → A that satisﬁes f(bj) = aj for all j ∈ J is an elementary embedding of B into A.   4.5. Remark. Suppose A  B and X ⊆ A, and consider the complete L(X)-theory TX = Th((A,a)a∈X). Then (B,a)a∈X is a model of TX. In particular, it makes sense to speak of a type over X being realized in (B,a)a∈X. Next we prove the existence of κ-saturated models. We construct such a model by taking the union of a suitable elementary chain. The following result is the main tool needed for building this chain. 4.6. Lemma. Let A be an L-structure. There exists an elementary extension B of A such that for any subset X of A, every 1-type over X is realized in (B,a)a∈X. Proof. Take J to be a set whose cardinality is the number of L(A)-formulas, and let I be the collection of all ﬁnite subsets of J. Let U be an ultraﬁlter on I such that for every j ∈ J, U has the set {i ∈ I | j ∈ i} as an element. This is possible because the family of all such sets has the FIP. Let B be the ultrapower AI/U of A and let δ be the diagonal embedding of A into B. We know that δ is an elementary embedding, so we may regard B as an elementary extension of A. (Replace B by a structure that is isomorphic to B such that the composition of this isomorphism with δ is the identity on A.) Let X be any subset of A and let Γ(x) be a 1-type in L(X) that is ﬁnitely satisﬁable in (A,a)a∈X. We need to show that Γ is realized in (B,δ(a))a∈X. Let α: J →Γ be any surjective function. For each i ∈ I choose ai ∈ A that satisﬁes the formula α(j) in (A,a)a∈X for every j in the ﬁnite set i. Let f be the element (ai | i ∈ I) of AI. It follows from Theorem 1.7 that f/U satisﬁes Γ(x) in (B,δ(a))a∈X.   4.7. Theorem (Existence of Saturated Models). For every inﬁnite cardinal number κ, every structure has a κ-saturated elementary extension. Proof. Let κ+ denote the smallest cardinal number > κ and let Λ = {α | α is an ordinal < κ+}, ordered by <. We obtain the desired structure as 26
the union of an elementary chain of structures, indexed by the well-ordered set (Λ,<). The chain of structures is deﬁned by induction, as follows: to begin, we let A0 = A. Given α ∈ Λ, we deﬁne Aα assuming that Aβ is deﬁned for all β < α. If α = β + 1 for some β, let Aα be one of the elementary extensions of Aβ that are described in Lemma 4.6. Otherwise α is a limit ordinal and we deﬁne Aα = S β<α Aβ. The chain of structures deﬁned by this procedure is an elementary chain; one proves by induction on β ∈Λ that Aα Aβ holds for all α < β, using Fact 3.9 at limit ordinals. Finally, let B = S α∈Λ Aα. We show that this is the required structure. Note that Aα  B for every α ∈ Λ, again using Fact 3.9. In particular, B is an elementary extension of A. We will complete the proof by showing that B is κ+-saturated (which is more than we need to prove). Let X ⊆ B satisfy card(S) ≤ κ. Since the coﬁnality of the ordered set Λ is κ+ > κ there exists η ∈ Λ such that X ⊆ Aη. LetΓ(x)beany1-typein L(X)thatisﬁnitelysatisﬁablein(B,a)a∈X. Since Aη  B and X ⊆ Aη, we see that Γ is ﬁnitely satisﬁable in (Aη,a)a∈X. By construction, this implies that Γ(x) is satisﬁed by some b in (Aη+1,a)a∈X. Since Aη+1  B, it follows that b satisﬁes Γ(x) in (B,a)a∈X, as desired.   The existence of κ-saturated models can also be proved directly using ultraproducts. However, when κ > ω1 it is technically rather diﬃcult to prove the existence of an ultraﬁlter U for which the ultrapower AI/U is κ-saturated, and this is why we used a diﬀerent method. On the other hand, when the language is countable and κ = ω1, it is relatively easy to obtain ω1-saturated ultraproducts, as we now show. 4.8. Theorem. Let U be a nonprincipal ultraﬁlter on a countable (inﬁnite) set I. Let L be a countable language and (Ai | i ∈ I) a family of Lstructures. Then the ultraproductQU Ai is ω1-saturated. Proof. We may assume I = N. Since U is nonprincipal it contains every coﬁnite subset of N. For each i ∈N, let Ai be the underlying set of Ai and let A be the cartesian productQi∈N Ai. We denote the ultraproductQU Ai by B and its underlying set by B. Let C be any countable subset of B. Let Γ(x1,...,xn) be a set of L(C)-formulas such that every ﬁnite subset of Γ is satisﬁable in (B,a)a∈C. We must show that the entire set Γ is satisﬁable in (B,a)a∈C. For convenience of notation, we will take n = 1 and write x for x1. Let (ϕk(x,yk) | k ∈ N) be a family of L-formulas and (bk | k ∈ N) a family of ﬁnite tuples from C such that Γ(x) is {ϕk(x,bk)| k ∈N}. This is possible because the language L(C) is countable. For convenience of notation we 27
will take each tuple bk to be of length 1 (i.e., to be an element of C). For each k ∈N, let fk be an element of the cartesian product A for which bk is the =A equivalence class of fk. For each k ∈N and i ∈N, let Ck(i) : ={u ∈ Ai | Ai |= ϕk[u,fk(i)]}. Using the Fundamental Theorem of Ultraproducts and the hypothesis that each ﬁnite subset of Γ(x) is satisﬁable in (B,a)a∈C we have that {i ∈N| C0(i)∩...∩Ck(i)6=∅}∈ U for each k ∈N. Deﬁne Gk for k ∈N by setting G0 = N and for k ≥1 Gk : ={i ∈N| i ≥ k and C0(i)∩...∩Ck(i)6=∅}. Note thatN = G0 ⊇ G1 ⊇ ...Gk and that Gk ∈ U, for all k ∈N. Moreover, ∩{Gk | k ∈ N} = ∅; therefore we may deﬁne d(i) for each i ∈ N to be the largest k ∈N such that i ∈ Gk. Now we construct an element g of A whose =A equivalence class [g] will satisfy every formula from Γ(x) in (B,a)a∈C. Fix i ∈ N and deﬁne g(i) as follows. If d(i) = 0 let g(i) be an arbitrary element of Ai. If d(i) ≥ 1, choose g(i) to be an element of C0(i)∩...∩Cd(i)(i), which is guaranteed to be nonempty by the deﬁnition of d(i). It is obvious that for each k ∈ N, g(i) ∈ Ck(i) holds whenever d(i) ≥ k and d(i) ≥ 1. Therefore {i ∈ N | g(i) ∈ C0(i)} ⊇ G1 and for k ≥ 1, {i ∈N| g(i)∈ Ck(i)}⊇ Gk. Recalling the deﬁnition of Ck(i) and that the sets Gk are all in U, it follows that for each k ∈N {i ∈N| Ai |= ϕk[g(i),fk(i)]}∈ U. The Fundamental Theorem of Ultraproducts implies that [g] satisﬁes ϕk(x,bk) in (B,a)a∈C for all k ∈N.   4.9. Remark. Let I be any index set and let U be an ultraﬁlter on I. We say that U is countably incomplete if there exist sets (Fk | k ∈ N) from U whose intersection ∩{Fk | k ∈ N} is not in U. The proof of the preceding result can be slightly modiﬁed to show that if U is a countably incomplete ultraﬁlter on I and (Ai)i∈I is any family of L structures indexed by I, where L is a countable language, then the ultraproductQU Ai is ω1-saturated.
28
Exercises 4.10. Show that the linear ordering (R,<) is ω-saturated but not ω1saturated. (Note that (R,<)|= DLO, so you can use Example 3.15.) 4.11. Show that no inﬁnite well ordering is ω-saturated. 4.12. Let I be a countable inﬁnite set and U a nonprincipal ultraﬁlter on I. • Let A be the linear ordering (Q,<). Show that the cardinality of the ultrapower AI/U is exactly 2ω. (Note that it is not enough to prove that the ultrapower is uncountable; it is possible that ω1 < 2ω.) • More generally, let L be any ﬁrst order language and let Ai be a countable inﬁnite L-structure for each i ∈ I. Show that the cardinality of the ultraproduct ΠU(Ai | i ∈ I) is exactly 2ω.
29
5. Quantifier Elimination
The method of quantiﬁer elimination, which we introduce in this chapter, is often useful in applications for analyzing deﬁnable sets. 5.1. Deﬁnition. T admits Quantiﬁer Elimination (QE) if for every n ≥1 and every L-formula ϕ(x1,...,xn) there exists a quantiﬁer free L-formula ψ(x1,...,xn) such that T |= ϕ ↔ ψ. Our ﬁrst criterion for QE comes directly from Proposition 2.19. 5.2. Theorem. Let T be a satisﬁable L-theory. The following conditions are equivalent: (1) T admits quantiﬁer elimination. (2) For each n ≥1, every type in Sn(T) is determined by the quantiﬁer-free formulas it contains. Proof. (1⇒2): Obvious. (2 ⇒ 1): Let ϕ(x1,...,xn) be any L-formula, n ≥ 1. Apply Proposition 2.19withΣtakentobethesetofallquantiﬁer-freeformulaswhosevariables are among x1,...,xn.
Next we make the preceding result more useful for applications by relating it to extensions of embeddings. 5.3. Notation. For L-structures A,B we let F0(A,B) denote the set of all functions f such that f is an embedding of a ﬁnitely generated substructure of A into B.
Note that F0(A,B) could be empty. 5.4. Theorem. Let T be a satisﬁable L-theory. The following conditions are equivalent: (1) T admits quantiﬁer elimination; (2) Whenever A,B are models of T, f is in F0(A,B), and a ∈ A, there exists an elementary extension B0 of B and a function g in F0(A,B0) such that g extends f and a is in the domain of g. (3) Whenever A,B are ω-saturated models of T, either F0(A,B) is empty or it is a local isomorphism from A onto B. Proof. (1 ⇒ 2): Let a1,...,an be generators for the domain of f and let Γ(x1,...,xn,y) = tpA(a1,...,an,a). Since T admits QE and f preserves the truth of quantiﬁer-free formulas, we see that tpB(f(a1),...,f(an)) = tpA(a1,...,an). Note that if ϕ1,...,ϕm ∈ Γ, then ∃y(ϕ1 ∧•••∧ ϕm) is satisﬁed by a1,...,an in A. Therefore each such formula is also satisﬁed by f(a1),...,f(an) in B. It follows that the 1-type Γ(f(a1),...,f(an),y) over {f(a1),...,f(an)}is ﬁnitely satisﬁable in (B,f(a1),...,f(an)). By Lemma 4.6thereexists B0  B and b ∈ B0 suchthat b realizesΓ(f(a1),...,f(an),y) 30
in (B,f(a1),...,f(an)). Using Lemma 3.14 we may extend f to an embedding g of ha1,...,an,aiA into B0 with g(a) = b. (2 ⇒ 3): Assume A,B are ω-saturated models of T. When we apply statement (2) to A,B, we may take B0 to be B itself, since the type realized by g(a) in B0 over a ﬁnite set of generators for the range of f can be realized in B. (Then we argue as in the previous paragraph.) This shows that F0(A,B) has the “forth” property in Deﬁnition 3.10. Applying the same argument to the opposite pair B,A shows that F0(A,B) also has the “back” property in that Deﬁnition. That is, F0(A,B) is indeed a local isomorphism from A onto B, as desired. (3 ⇒ 1): We verify condition (2) in Theorem 5.2. Fix n ≥ 1 and p,q be any two types in Sn(T). Suppose a1,...,an realizes p in A |= T and b1,...,bn realizes q in B |= T. By Theorem 4.7 we may assume that A and B are ω-saturated. Suppose p and q containexactlythe same quantiﬁer-free formulas. Using Lemma 3.14 we get an isomorphism f from ha1,...,aniA onto hb1,...,bniB with f(ai) = bi for all i = 1,...,n. Then f ∈ F0(A,B), so by statement (3) and Proposition 3.12 we conclude that f is elementary, and thus p = q, as desired.   5.5. Corollary. Let T be a satisﬁable L-theory that admits quantiﬁer elimination. (1) Suppose A,B are models of T. If some substructure of A can be embedded in B, then A ≡ B. (2) If some single L-structure can be embedded into every ω-saturated model of T, then T is complete.
Proof. (1) Let A,B be models of T such that some substructure of A can be embedded in B. By Theorem 4.7 there exist ω-saturated models A0,B0 such that A0  A and B0  B. Then some substructure of A0 embeds in B0, and hence F0(A0,B0) is nonempty. It follows from Theorem 5.4(3) that A0 ≡ B0 and hence A ≡ B. (2) By part (1) and Theorem 4.7, the assumptions in (2) imply that any two models of T are elementarily equivalent.   Theory of discrete linear orderings without endpoints Consider the language L0 whose only nonlogical symbol is a binary predicate <. Let Tdis be the theory of discrete linear orderings without minimum or maximum element, formulated in L0. (A linear ordering without endpoints is discrete if each element has a unique successor and a unique predecessor.) The theory Tdis does not admit QE, but it can be analyzed by applying the method of quantiﬁer elimination. This means that we formulate a carefully chosen extension, show that the extension admits QE, and then use this fact to draw conclusions about Tdis. To obtain the extension of Tdis that we will use, let L be the extension of L0 obtained by adding unary function symbols p and s. T is the theory in 31
L of all linear orderings with functions p and s such that for each element x, p(x) is the predecessor of x in the ordering and s(x) is the successor of x. If A is any model of T, it is obvious that the reduct of A to L0 is a model of Tdis. Moreover, each model A0 of Tdis expands in a unique way to a model of T, because the predecessor function and the successor function are deﬁnable in A0. 5.6. Example. The theory T of discrete linear orderings without minimum or maximum element, equipped with the predecessor and successor functions, admits quantiﬁer elimination and is complete. Therefore Tdis is also complete.
Proof. We verify condition (2) in Theorem 5.4. Let A,B be models of T and let A0 be the substructure of A generated by the elements a1,...,am. We may assume a1 < ... < am in A. Further, let f be an embedding of A0 into B. We may suppose that no subset of {a1,...,am} generates A0. It follows that for each k ∈N and each i = 2,...,m−1, the k-th successor of ai is less than ai+1 and the k-th predecessor of ai is greater than ai−1 in A. Now let a be any element of A that is not in A0. We must extend the embedding f so that it is deﬁned on a as well as its predecessors and successors, and gives an embedding into an elementary extension B0 of B. To accomplish this, we take B0 to be any ω-saturated elementary extension of B, which exists by Theorem 4.7. For each i = 1,...,m let Ci be the set of all predecessors and successors of ai in A, including ai itself. Then each Ci is a convex set in A and A0 is the disjoint union of the sets C1,...,Cm. Moreover, a either lies between Ci and Ci+1 for some i = 1,...,m−1, or it lies below C1, or it lies above Cm, in the ordering of A. Since f isanembeddingwithrespecttoorderingandalsotothepredecessor and successor functions, each set f(Ci) is a convex set in B that consists of all the predecessors and successors of f(ai). This remains true when we move up to B0. Moreover, the convex sets f(C1),...,f(Cm) are disjoint and are arranged in order from left to right in the ordering of B0. A simple saturation argument shows that there exist elements d1,...,dm+1 of B0 such that d1 < f(C1) < d2 < f(C2)... < f(Cm−1) < dm < f(Cm) < dm+1. Note that the same system of inequalities will hold if we replace any dj by any one of its predecessors or successors. We now extend f to be an embedding deﬁned on the substructure of A generated by A0 and a by deﬁning f(a) = dj for a suitable value of j. An easy argument shows that this extends to an embedding of the entire substructure. Thiscompletestheproofthat T admitsQE.Toconcludethat T iscomplete, we apply Corollary 5.5, using the fact that the structure (Z,<,p,s), in which p(n) = n−1 and s(n) = n +1 for all n ∈Z, can be embedded into every model of T. 32
Finally, it follows that Tdis is complete, since T is a conservative extension of Tdis. Indeed, let A,B be models of Tdis and let A0,B0 be their unique expansions to models of T. Since T is complete we have A0 ≡ B0. Taking reducts to L0 we have A ≡ B. Since A,B were arbitrary models of Tdis this shows that Tdis is complete.   Another criterion for QE When we are trying to prove that a theory admits QE using Theorem 5.4 it is sometimes inconvenient that we must extend a given embedding f to every element a of the model A. The next result gives a criterion for QE in which we get to choose which element a to treat; the cost is that we must consider embeddings f deﬁned on an arbitrary substructure of A. (In Theorem 5.4 the domain of f is ﬁnitely generated.) 5.7. Theorem. Let T be a satisﬁable theory in a language L with κ = card(L). The following conditions are equivalent: (1) T admits quantiﬁer elimination; (2) Suppose A,B are models of T, card(A) ≤ κ, and B is κ+-saturated; suppose further that A0 is a proper substructure of A and that f is an embedding of A0 into B; then f can be extended properly to an embedding of some substructure C of A into B. Proof. (1⇒2): Use Theorems 4.3 and 5.4, statement (2). (2 ⇒ 1): We assume condition (2) of this Theorem and use it to verify condition (2) of Theorem 5.4. Suppose A,B are models of T, A0 is a ﬁnitely generated substructure of A, and f is an embedding of A0 into B. Fix a ∈ A and let C be the substructure of A generated by A0 and a. We must show that f can be extended to an embedding of C into an elementary extension of B. Since C hascardinalityatmost κ, wemayreplace A byoneofitselementary substructures that contains C and has cardinality at most κ. Moreover, we replace B by one of its elementary extensions that is κ+-saturated. (See Theorem 4.7.) Let Ω be the set of all extensions of f to embeddings whose domain is a substructure of A and whose range is a substructure of B. We consider Ω as a partially ordered set with g ≤ h deﬁned to mean that h is an extension of g. If C is a chain in (Ω,≤), then one checks easily that the union of C is an element of Ω. Therefore, by Zorn’s Lemma there is a maximal element g of (Ω,≤). Applying condition (2) of the Theorem to the embedding g and the models A and B, we see that g can be maximal only if it is deﬁned on all of A. In particular g is deﬁned on C, and thus it gives an extension of f as needed to verify condition (2) of Theorem 5.4.
33
Exercises 5.8. Let L be any ﬁrst order language and let L0 be any ﬁrst order language that extends L by the addition of some set of new constant symbols. Let T bean L-theoryandlet T0 bethe L0-theorywhosesetofsentencesisidentical to T. Show that T admits QE if and only if T0 admits QE. (Therefore, in showing that T admits QE, it does no harm to assume that its language contains at least one constant symbol.) 5.9. Let L be a ﬁrst order language and let T be an L-theory that admits QE and is complete. •If L contains at least one constant symbol, show that there exists a single L-structure that embeds into every model of T. • Even when L has no constant symbol, show that there exists a single L-structure that embeds into every ω-saturated model of T. (That is, the converse to Corollary 5.5(2) is true.) 5.10. Let L be the language whose only nonlogical symbol is a binary predicate symbol <. Let A be an L-structure that is a discrete linear ordering without endpoints. Let ϕ(x,y1,...,yn) be any L-formula (with x a single variable) and let a1,...,an ∈ A. Show that the deﬁnable set {a ∈ A | A |= ϕ[a,a1,...,an]} is the union of a ﬁnite number of open intervals (whose endpoints are in A) and a ﬁnite subset of A. 5.11. Let K be a ﬁeld and let L be the ﬁrst order language of vector spaces over K, as described in Exercise 3.6. Let T be the theory of inﬁnite Kvector spaces. • Show that T admits quantiﬁer elimination and use this to prove that T is complete. (Compare Exercise 3.6.) • Let A |= T and X ⊆ A. Give a clear mathematical description of the space of 1-types over X. That is, describe the space S1(X), including its topology. • Let κ be any inﬁnite cardinal ≥ card(K). Which models of T are κsaturated? • Show that there exist models A,B of T such that there does not exist any local isomorphism from A onto B. (Yet A ≡ B since T is complete.) 5.12. Let Q be the ordered ﬁeld of rational numbers, considered as a structure for the ﬁrst order language whose nonlogical symbols are the constant symbols 0,1, the binary predicate symbol <, and the binary function symbols +,−,×, all with the obvious interpretations in Q. •Show that if S ⊆Q is deﬁnable in Q by a quantiﬁer-free formula (in which some elements of Q may be used as parameters), then there exists q ∈ Q such that the interval (q,∞) in Q is either contained in S or disjoint from S. • Use the preceding result to show that Th(Q) does not admit quantiﬁer elimination.
34
6. L¨owenheim-Skolem Theorems
6.1. Theorem (Downward L¨owenheim-Skolem Theorem). Let B be an inﬁnite L-structure and let X be a subset of B. Let κ be an inﬁnite cardinal number that satisﬁes card(L) ≤ κ and card(X) ≤ κ ≤ card(B). There exists an elementary substructure A of B such that card(A) = κ and X ⊆ A. Proof. Without loss of generality we may assume card(X) = κ; if card(X) < κ then we may replace X by X0 such that X ⊆ X0 ⊆ B and card(X0) = κ. Furthermore we may also assume without loss of generality that cB ∈ X for all constants in L, since L has at most κ constant symbols. Now we construct a substructure A of B whose universe contains X and such that A and B satisfy the condition in Theorem 3.8. This amounts to a family of closure conditions on the universe of A; namely, this set should contain each element of X (including cB for every constant symbol c of L), it should be closed under all functions FB where F is a function symbol of L, and it should also be closed under the existential conditions in Theorem 3.8. We take A to be the smallest subset of B that satisﬁes these conditions. The process of constructing such a set is familiar, but we spell it out carefully in order to show that A has the required cardinality. Construct a sequence A0 ⊆ A1 ⊆ ... of subsets of B inductively as follows: A0 = X; for each n ≥ 0, An+1 is An together with an element b ∈ B from each of the following situations: (A) for each function symbol F of L and each tuple ¯ a ∈ An, put b = FB(¯ a) into An+1. (B) for each existential formula ∃yϕ[¯x,y] ∈ L and each tuple ¯ a ∈ An, ifB | =∃yϕ[¯ a], then put into An+1 some b ∈ B for which B |= ϕ[¯a,b]. By construction, A∞ =Sn An contains X and hence contains cB for every constant c of L; moreover, A∞ is closed under every function FB where F is a function symbol of L. Therefore A∞ is the universe of a substructure A of B and A contains the set X. Moreover, A and B satisfy the condition in Theorem 3.8, so A is an elementary substructure of B. Therefore the only remaining condition to prove is card(A) = κ. For this, it suﬃces to show card(An) ≤ κ for all n. We prove this by induction on n. For n = 0 this was given as part of the hypotheses. Suppose An has cardinality ≤ κ. Observe that an upper bound on the number of elements b that we add to An to obtain An+1 is the product of (a) the number of formulas and function symbols in L and (b) the number of ﬁnite tuples from An. Each of these numbers is bounded above by κ and therefore the set An+1 also has at most κ elements. (For the elementary facts about cardinal numbers that we are using here, see the book Naive Set Theory by P. Halmos.)
We illustrate the use of Theorem 6.1 by proving the existence of countable ω-saturated models, under suitable hypotheses. 35
6.2. Theorem (Countable ω-saturated Models). Assume that L is a countable language and let T be a complete theory in L with only inﬁnite models. Then T has a countable ω-saturated model if and only if for each n ≥ 1 there are only countably many n-types in L that are consistent with T. Proof. (⇒) Let A be a countable, ω-saturated model of T. By Theorem 4.3, every n-type consistent with T is realized in A. Hence Sn(T) must be countable. (⇐) This proof is patterned after the proofs of Lemma 4.6 and Theorem 4.7, with appropriate modiﬁcations to keep structures countable. Assume Sn(T) is countable for each n ≥1. It follows that for every model A of T and every ﬁnite subset F of A, the set S1(TF) is countable. Indeed, there is an obvious embedding of S1(TF) into Sk+1(T), where k is the cardinality of F; namely, if F = {a1,...,ak} and B  A, map the type of b in (B,a1,...,ak) to the type of (b,a1,...,ak) in B. Using Lemma 4.6 followed by the use of Theorem 6.1 (for the cardinal κ = ω) we may prove the following version of Lemma 4.6 for the current situation: Let A be a countable model of T. There exists a countable elementary extension B of A such that for any ﬁnite subset F of A, every 1-type over F is realized in (B,a)a∈F. Now let A be any countable model of T. Build an elementary chain (An | n ∈ N) by setting A0 = A and by applying the statement in the previous paragraph to obtain An+1 from An for each n ∈ N. The union of this elementary chain is a countable ω-saturated elementary extension of A.   6.3. Corollary. If T is a complete theory in a countable language and T has only countably many countable models, up to isomorphism, then T has a countable ω-saturated model.
Proof. Each type consistent with T is realized in a countable model. Under the hypotheses of this Corollary, this implies there are only countably many n-types consistent with T, for each n ≥1. Hence the previous result applies and yields the existence of a countable ω-saturated model.   6.4.Theorem (UpwardL¨owenheim-SkolemTheorem). Let A be an inﬁnite L-structure and let κ be an inﬁnite cardinal number that satisﬁes card(L)≤ κ and card(A)≤ κ. There exists an elementary extension B of A such that card(B) = κ.
Proof. Since A is inﬁnite, it has an elementary extension B0 whose cardinality is ≥ κ. By Theorem 6.1 there exists an elementary substructure B of B0 such that A ⊆ B and card(B) = κ. It follows easily that A  B. Indeed, if ϕ(¯ x) is any L-formula and ¯ a is any tuple from A (so ¯ a is also in B), then we have A |= ϕ[¯ a]⇔ B0 |= ϕ[¯ a]⇔ B |= ϕ[¯ a]. 36
6.5. Fact. If A is ﬁnite, then Th(A) is absolutely categorical, in the sense that any model B of Th(A) must be isomorphic to A. In particular, a ﬁnite structure cannot have any proper elementary extension or any proper elementary substructure.
It is a consequence of Theorem 6.4 together with some elementary reasoning that a ﬁrst order theory can be absolutely categorical only when it is the theory of a ﬁxed ﬁnite structure. For a theory with at least one inﬁnite model, the only categoricity we can expect is that of the following Deﬁnition. 6.6. Deﬁnition. Let T be a theory in L and let κ be any cardinal number. We say T is κ-categorical if T has a model of cardinality equal to κ, and any two models of T that are both of cardinality κ are isomorphic. 6.7. Theorem (Categoricity Test for Completeness). Let T be a satisﬁable theory that has only inﬁnite models. If T is κ-categorical for some cardinal number κ ≥card(L), then T is complete. Proof. Suppose T is a theory that is κ-categorical, where κ ≥ card(L) and T has only inﬁnite models. We need to show that if A,B |= T, then A ≡ B. By use of Theorems 6.1 and 6.4 (as needed), we ﬁnd models A0,B0 with A0 ≡ A, B0 ≡ B, and card(A0) = κ = card(B0). (If κ < card(A), use the Downward L¨owenheim-Skolem Theorem to ﬁnd A0 with A0 ≡ A and card(A0) = κ. If κ > card(A), use the Upward L¨owenheim-Skolem Theorem.) Since T is κ-categorical we have A0 ∼ = B0, and hence A0 ≡ B0 by Proposition3.12. Therefore A ≡ A0 ≡ B0 ≡ B, and hence A ≡ B since ≡ is anequivalence relation.
Exercises 6.8. Theorem 6.6 states that if T is an L-theory with no ﬁnite models and if T is κ-categorical for some cardinal with κ ≥card(L), then T is complete. Show that the “no ﬁnite models” assumption is necessary. That is, give an example of an inﬁnite cardinal κ and a κ-categorical theory T in a language whose cardinality is at most κ, such that T is not complete. 6.9. Let L be the language whose only nonlogical symbol is the unary predicate symbol P. Let T be the theory of all L-structures A such that PA is inﬁnite. Give a clear mathematical description of the space S0(T) of all complete extensions of T, including its topology. 6.10. Let L be the ﬁrst order language with two binary function symbols ∩ and ∪, a unary function symbol c, and two constant symbols 0 and 1. For each set S let P(S) denote the L-structure based on the power set of S. That is, the underlying set of P(S) is the collection of all subsets of S, 37
we interpret ∩,∪,c as intersection, union, and complement, respectively, and we interpret 0,1 as ∅,S, respectively. Let K be the class of all Lstructures that are isomorphic to P(S) for some set S. Show that K is not axiomatizable. 6.11. Let κ be an inﬁnite cardinal and let G be a simple group of cardinality equal to κ. If τ is any inﬁnite cardinal ≤ κ, show that G has a subgroup H such that card(H) = τ and H is simple. (Note that a group is simple iﬀ whenever a,b are elements not equal to the identity element, then a is a ﬁnite product of some conjugates of b and some conjugates of b−1.)
38
7. Algebraically Closed Fields
We illustrate the use of Theorem 5.4 by using it to show that the theory ACF of algebraically closed ﬁelds admits quantiﬁer elimination. After proving this result we will show how it can be used to obtain some interesting consequences for algebraically closed ﬁelds. We formulate ACF in the language Lr of rings; this language has binary function symbols +,−,× and constants 0,1. In addition to the ﬁrst order axioms for ﬁelds, ACF contains axioms asserting, for each n ≥ 1, that every nontrivial polynomial of degree n has a root: ∀x0 ...∀xnxn 6= 0→∃y(xnyn +•••+ x1y + x0 = 0). Of course the best known algebraically closed ﬁeld is the ﬁeld of complex numbers. (This fact is known as the Fundamental Theorem of Algebra.) In our proof of quantiﬁer elimination for ACF we use a small amount of the basic theory of ﬁelds, mainly concerning simple properties of polynomials in one variable over a given ﬁeld. These concern the process of extending a ﬁeld by adjoining a root of a given polynomial. Iterating this procedure, one shows that every ﬁeld is contained in an algebraically closed ﬁeld. Most graduate texts in algebra (for example, Serge Lang’s Algebra) contain this material. More advanced properties of algebraically closed ﬁelds, such as the uniqueness of the algebraic closure of a ﬁeld and the properties of transcendence bases for algebraically closed ﬁelds, are not needed for this proof of quantiﬁer elimination for ACF. Indeed, they can be proved eﬃciently using the model theoretic ideas discussed here, as we show in Section 10. 7.1. Theorem. The theory ACF admits quantiﬁer elimination.
Proof. We will verify condition (2) of Theorem 5.4. We need to consider algebraically closed ﬁelds A,B, as well as a ﬁnitely generated substructure A0 of A and an embedding f of A0 into B. Given any element a of A, we must prove that f can be extended to an embedding of the substructure of A generated by A0 and a into B. Let B0 be the range of f; then B0 is a substructure of B and f is an isomorphism of A0 onto B0. Since A0 is a substructure of A, it is a subring. Let A0 0 be the ﬁeld of fractions of A0 inside A. It is easy to see that f can be extended (in a unique way) to an embedding of A0 0 into B, which we also denote by f; for each b,c ∈ A0 with c 6= 0 we deﬁne f(b/c) = f(b)/f(c). Note that A0 0 is not necessarily ﬁnitely generated as an Lr-structure, but that is not a problem for our construction; clearly A0 0 is countable, and that is all we will need later. Let B0 0 be the range of this extended f; B0 0 is obviously the ﬁeld of fractions of B0 inside B. Suppose a is algebraic over A0 0. Let p(x) be the minimal polynomial of a over A0 0, so that p(x) is an irreducible polynomial in A0 0[x] and p(a) = 0. 39
Let q(x) be the corresponding polynomial in B0 0[x], obtained by applying f to the coeﬃcients of p(x). Since f is an isomorphism of ﬁelds, q(x) is irreducible in B0 0[x]. The ﬁeld B is algebraically closed, so q(x) has a root in this ﬁeld. Let b be such a root. It is an elementary exercise to show that f can be extended (in a unique way) to an isomorphism from A0 0(a) onto B0 0(b)⊆ B such that f(a) = b. Otherwise a must be transcendental over A0 0. Let B0 be an uncountable elementary extension of B. Since B0 0 is a countable substructure of B, there is an element b of B0 that is transcendental over B0 0. We may extend f (in a unique way) to an isomorphism of A0 0(a) onto B0 0(b)⊆ B such thatf (a) = b. In all cases we have extended the original f to an embedding g whose domain is a substructure of A that contains A0 and a and whose range is a substructure of an elementary extension of B. By restricting g to hA0 ∪{a}iA we see that condition (2) in Theorem 5.4 holds for any two models of ACF. Consequently, ACF admits QE.
For each p that is a prime number or 0, we let ACFp denote the theory of algebraically closed ﬁelds that have characteristic p. For any integer n ≥ 2 let σn denote the Lr-sentence 1 +•••+ 1 = 0 in which there are n occurrences of 1 in the summation. For each prime p, the theory ACFp is axiomatized over ACF by the single sentence σp. Moreover, ACF0 is axiomatized over ACF by {¬σp | p is a prime }. 7.2. Corollary. (i) For each p (0 or a prime), the theory ACFp is complete. (ii) For each sentence σ in the language of rings, ACF0 |= σ iﬀ ACFp |= σ for all suﬃciently large primes p iﬀ ACFp |= σ for inﬁnitely many primes p.
Proof. (i) We apply Corollary 5.5. For each p (0 or a prime) let Fp be the prime ﬁeld of characteristic p. (So Fp is Q if p = 0 and Z/pZ if p is a prime.) Evidently Fp embeds in every ﬁeld of characteristic p, and thus into every model of ACFp. (ii) Let σ be a sentence in Lr. If ACF0 |= σ then by Corollary 2.7 there is an integer n such that ACF ∪{¬σp | p is a prime ≤ n}|= σ. This proves the other two conditions. Conversely, suppose ACF0 6|= σ. Because ACF0 is complete we have ACF0 |= ¬σ so that there exists a positive integer n such that ACF ∪{¬σp | p is a prime ≤ n}|=¬σ. If follows that there can only exist ﬁnitely many primes p such that ACFp |= σ.   7.3. Example. Suppose K is any algebraically closed ﬁeld and f: Kn → Kn is a polynomial map. If f is 1-1 then f is onto.
Proof. This striking model theoretic proof was discovered by James Ax. Let f = (f1,...,fn) be a polynomial map from Kn to itself, so each fj is deﬁned by a polynomial in n variables with coeﬃcients from K. Let d 40
be a positive integer larger than the degree of all the polynomials that are involved in deﬁning f1,...,fn. It is easy to construct a sentence τd in the language of rings such that for any ﬁeld k, k |= τd if and only if for every polynomial map f: kn → kn deﬁned by polynomials over k having degree at most d, if f is 1-1 then f is onto. We are trying to show K |= τd for each algebraically closed ﬁeld K. By Corollary 7.2(ii) it suﬃces to prove ACFp |= τd for every prime p. Moreover, because ACFp is complete, it suﬃces to ﬁnd for each prime p an algebraically closed ﬁeld Kp of characteristic p such that Kp |= τd. We will prove for every prime p that if Kp is the algebraic closure of the prime ﬁeld of characteristic p, then Kp |= τd. Fix a prime p and let Kp be the algebraic closure of the prime ﬁeld of characteristic p. Let f: Kn p → Kn p be a polynomial map that is 1-1. Fix any element (a1,...,an) in Kn p . There is a ﬁnite subﬁeld k of Kp that contains a1,...,an and all coeﬃcients of the polynomials that deﬁne the coordinate functions of f. Therefore f restricted to kn is a 1-1 map into kn. Since kn is ﬁnite this implies that the restriction of f to kn maps onto kn. In particular (a1,...,an) is in the range of f, proving that f is onto.
The fact that ACF admits QE implies that ACF is model complete: that is, whenever F and K are algebraically closed ﬁelds, and F is a subﬁeld of K, then F is an elementary substructure of K. The following result, which is a weak form of Hilbert’s Nullstellensatz, is an easy consequence of this fact. 7.4. Corollary. Let k ⊆ K be ﬁelds and suppose f1,...,fm are polynomials in the variables x1,...,xn with coeﬃcients in k. If the system of equations f1(x1,...,xn) = ... = fm(x1,...,xn) = 0 has a solution in K, then this system has a solution in some algebraic extension of k.
Proof. Without loss of generality we may take K to be algebraically closed, since every ﬁeld is contained in an algebraically closed ﬁeld. Lete k be the algebraic closure of k in K; thene k is itself an algebraically closed ﬁeld. It follows from Theorem 7.1 thate k K. Note that the existence of a solutionof the system of equations f1(x1,...,xn) = ... = fm(x1,...,xn) = 0 can be expressed by an existential L(k)-sentence. (Constants are needed to name the elements of k that appear as coeﬃcients in the polynomials.) This sentence is true in K, and therefore it is true ine k.   7.5. Deﬁnition. Let K be an algebraically closed ﬁeld and S a subset of Kn. We say that S is constructible if it is a ﬁnite Boolean combination of zero sets of polynomials that have coeﬃcients in K. 7.6. Remark. It follows from Theorem 7.1 that all deﬁnable sets in Kn are constructible, and conversely. In particular, the collection of all constructible sets is closed under projections. 41
7.7. Corollary (Chevalley). Let K be an algebraically closed ﬁeld. If S is a constructible subset of Kn and if h = (h1,...,hm) is a polynomial map over K from Kn to Km, then h(S) is a constructible subset of Km.
Proof. To say that h is “over K” means that h1,...,hm are polynomials with coeﬃcients from K. Let ϕ(¯ x) be a formula in L(K) that deﬁnes S in K. Then h(S) is deﬁned in K by the L(K)-formula ∃y1 ...∃yn(h1(¯ y) = x1 ∧...∧hm(¯ y) = xm ∧ϕ(¯ y)) so that h(S) is also constructible, by Remark 7.6.   7.8. Deﬁnition. An inﬁnite L-structure A is minimal if every deﬁnable subset of A is either ﬁnite or coﬁnite. That is, given any L-formula ϕ(x,y1,...,yn) (in which x is a single variable) and any parameters a1,...,an ∈ A, the set {a ∈ A | A |= ϕ[a,a1,...,an]} is either ﬁnite or coﬁnite as a subset of A. A theory T is strongly minimal if every inﬁnite model of T is minimal. 7.9. Proposition. Let T be a strongly minimal theory and let ϕ(x,y1,...,yn) be any formula in the language of T (in which x is a single variable). Then there exists an integer N with the property that for any model A of T and any b1 ...,bn ∈ An, either the set {a ∈ A | A |= ϕ[a,b1 ...,bn]} or its complement in A has at most N elements. Proof. The proof is a straightforward compactness argument. Suppose T is strongly minimal and ϕ(x,y1,...,yn) is a formula for which the conclusion fails. For each N there must be a model A of T and parameters b1 ...,bn ∈ An, such that both the set {a ∈ A | A |= ϕ[a,b1 ...,bn]} and its complement have more than N elements. This fact can be expressed by a formula ψN(b1 ...,bn). From the compactness theorem it follows that T has a model A with parameters b1 ...,bn ∈ An, such that both the set {a ∈ A | A |= ϕ[a,b1 ...,bn]} and its complement are inﬁnite. Therefore A is a nonminimal model of T, which is a contradiction.   7.10. Corollary. The theory ACF is strongly minimal.
Proof. Let K be an algebraically closed ﬁeld and let S be a deﬁnable subset of K. By Theorem 7.1 we can deﬁne S by a quantiﬁer free L(K)-formula ϕ(x), in which x is a single variable. The formula ϕ is equivalent to a Boolean combination of ﬁnitely many equations of the form p(x) = 0 where p(x) is a polynomial with coeﬃcients in K. We may assume that all the polynomials that appear in ϕ are nonconstant. Therefore, either S or K\S is contained in the union of ﬁnitely many zero sets nonconstant polynomials p(x). It follows that S or K \S must be ﬁnite.
42
Exercises 7.11. Let K be an algebraically closed ﬁeld, considered as an Lr-structure; let X be any subset of K and let k be the subﬁeld of K generated by X. Let A denote the L(X)-structure (K,a)a∈X. • For any a,b ∈ K, show that tpA(a) = tpA(b) iﬀ either a,b are both transcendental over k or both a,b are algebraic over k and have the same minimal polynomial over k. 7.12. If T is an L-theory, a model A of T is called existentially closed in Mod(T) if it satisﬁes the following condition: whenever A ⊆ B |= T, ϕ(x1,...,xm,y1,...,yn) is a quantiﬁer-free formula, and a1,...,am ∈ A, then B |=∃y1 ...∃ynϕ[a1,...,am] implies A |=∃y1 ...∃ynϕ[a1,...,am]. • Let T be the theory of ﬁelds (in the language Lr). Show that a ﬁeld K is existentially closed in the class of all ﬁelds iﬀ K is algebraically closed.
43
8. Z-groups Inthischapterwewillapplythemethodofquantiﬁereliminationtoanalyze the ﬁrst order theory and deﬁnable sets of the ordered abelian group of the integers (Z,+,−,<,0). It is easy to see that Th(Z,+,−,<,0) does not admit QE. The number 1 is deﬁnable (as the smallest positive element of Z) as are the divisibility predicates Dn deﬁned for n ≥2 by Dn(x)⇐⇒∃y(x = ny).Here we are using ny to represent the term y + ••• + y in which thereare n copies of y. Neither 1 nor Dn can be deﬁned by quantiﬁer free formulas in (Z,+,−,<,0). It turns out that if we add symbols for the element 1 and the predicates Dn to the language, and thus take the structure (Z,+,−,<,0,1,Dn)n≥2 as the basic object of study, then the resulting theory does admit QE and we do achieve a useful analysis of the deﬁnable sets. Further, we are able to axiomatize this theory using a clear and simple set of sentences. Let L bethelanguageofthisstructure. Ithasbinaryfunctionsymbols+,−, a binary relation symbol <, constant symbols 0,1, and an inﬁnite family of unary relation symbols Dn for n ≥ 2. In L we formulate the theory T of Z-groups, which has the following axioms: (a) the axioms of ordered abelian groups; (b) the axiom that 1 is the smallest positive element; (c) the divisibility axioms (given above in the displayed formula) that deﬁne each Dn in terms of the group structure; and (d) the congruence axioms: ∀x(Dn(x+1)∨Dn(x+2)∨...∨Dn(x+ n)).for each n ≥ 2. (Here we write k in place of the term k1 for each positiveinteger k.) These congruence axioms express the property of division by n with remainder. 8.1. Lemma. For each n ≥2 and 1≤ i < j ≤ n (1) T |=∀x∀y((Dn(x)∧Dn(y))→ Dn(x+ y)); (2) T |=∀x(Dn(x)→ Dn(−x)); (2) T |=∀x(Dn(x+ i)→¬Dn(x+ j)).
Proof. We argue informally in T. (1) If x = nu and y = nv then x + y = n(u + v). (2) If x = nu then −x = n(−u). (3) Argue by contradiction; suppose 1≤ i < j ≤ n, x+i = nu, and x+j = nv. Then j−i = n(v−u). It follows that 0 < v−u < 1, contradicting one of the axioms of T.
8.2. Theorem. The theory T of Z-groups admits quantiﬁer elmination. Moreover, T is complete and therefore T = Th(Z,+,−,<,0,1,Dn)n≥2. InprovingthisTheoremweuseexplicitmethodsforeliminatingquantiﬁers, rather than the model theoretic methods presented in Section 5. To do this we need to introduce some deﬁnitions and a Lemma. 44
8.3. Deﬁnition. (a) An existential formula is a formula in prenex normal form that has only ∃ quantiﬁer symbols in its preﬁx. (b) An existential formula is primitive if it is of the form ∃x1 ...∃xnϕ(x1,...,xn) where ϕ is a conjunction of literals; a literal is either an atomic formula or the negation of an atomic formula. (a) A universal formula is a formula in prenex normal form that has only ∀ quantiﬁer symbols in its preﬁx. 8.4. Lemma. Let T be an L-theory. If every primitive existential formula with a single existential quantiﬁer is equivalent in T to a quantiﬁer free formula, then T admits quantiﬁer elimination.
Proof. It suﬃces to prove that every prenex formula is equivalent in T to a quantiﬁer free formula. We do this by induction on the number of quantiﬁers in the preﬁx of the existential formula. We show ﬁrst that every existential formula with just one existential quantiﬁer is equivalent in T to a quantiﬁer free formula. Each such formula is logically equivalent to a disjunction of primitive existential formulas, each of which also has just a single existential quantiﬁer. Each of these disjuncts is equivalent in T to a quantiﬁer free formula, by hypothesis. Hence the original existential formula is equivalent in T to a quantiﬁer free formula. By taking negations, it follows that every universal formula with a single quantiﬁer in its preﬁx is also equivalent in T to a quantiﬁer free formula. The induction step is carried out by using the above results to eliminate the innermost quantiﬁer in the preﬁx, and then using the induction hypothesis to eliminate the remaining quantiﬁers.
Proof of Theorem 8.2. We will give an explicit proof of quantiﬁer elimination. The completeness of T follows using Corollary 5.5, using the fact that the structure (Z,+,−,<,0,1,Dn)n≥2 can be embedded in every model of T. Let ϕ be any existential L-formula with a single existential quantiﬁer, of the form ∃xψ with ψ quantiﬁer free. We ﬁrst observe that we may assume ψ is a positive Boolean combination of atomic formulas (i.e. using only the connectives ∧,∨). This is because each negation of an atomic formula is equivalent in T to a positive combination of atomic formulas. Namely: ¬t = s is equivalent to t < s∨s < t; ¬t < s is equivalent to s < t∨s = t; and ¬Dn(t) is equivalent to Dn(t + 1)∨...∨Dn(t + (n−1)) by Lemma 8.1 and the congruence axioms of T. By putting ψ in disjunctive normal form and distributing the existential quantiﬁer ∃x over the connective ∨, we see that ϕ is equivalent in T to a disjuction of existential formulas ∃xθ where each θ is a conjunction of atomic formulas. Arguing as in the proof of Lemma 8.4 it suﬃces to prove that every such formula is equivalent in T to a quantiﬁer free formula. 45
We next observe that every atomic formula in L is equivalent in T either to an atomic formula in which x does not occur or to one of the following: nx = t, nx < t, t < nx, or Dm(nx+t), where n is an integer > 0 and t is a term not containing x. In such atomic formulas we will call n a “coeﬃcient of x”, and m a “divisor”. Let θ(x,y1,...,yk) be any conjunction of atomic formulas as in the previous paragraph. We may assume that x actually occurs in θ, since otherwise ∃xθ(x,y1,...,yk)isequivalenttothequantiﬁerfreeformula θ(0,y1,...,yk). We show next that θ is equivalent to an L-formula of the same form in which the only coeﬃcient of x that occurs is 1. Let N be the least common multiple of all coeﬃcients of x that occur in θ. Multiplying each term in θ by a suitable positive integer, we may assume that every coeﬃcient of x in θ is equal to N. (If n is a coeﬃcient of x in θ and N = dn, then we replace nx = t by Nx = dt, nx < t by Nx < dt, t < nx by dt < Nx, and Dm(nx + t) by Ddm(Nx + dt).) Let θ0(z,y1,...,yk) be the result of replacing each occurrence of Nx in θ by z. Evidently ∃xθ(x,y1,...,yk) is equivalent in T to ∃z(DN(z)∧θ0(z,y1,...,yk)). Therefore we need only consider θ(x,y1,...,yk) that are conjunctions of atomic formulas of the form x = t, x < t, t < x, or Dm(x + t), where t is a term not containing x, and in which at least one atomic formula of the form Dm(x + t) occurs. We will now show that ϕ = ∃xθ(x,y1,...,yk) is equivalent in T to a quantiﬁer free formula, by treating a series of cases. Let M be the least common multiple of all divisors occurring in θ. Case (1): θ contains at least one conjunct of the form x = t. Then ϕ is equivalent to θ(t,y1,...,yk). Case (2): θ contains no conjucts of the form x = t but does contain at least one conjuct of the form x < t. Let t1,...,tp be all terms t such that x < t occurs in θ. Then ϕ is equivalent to the disjunction of all formulas θ(ti −j,y1,...,yk) where 1 ≤ i ≤ p and 1 ≤ j ≤ M. Arguing informally in T we can see this as follows: suppose x witnesses the truth of θ, and t represents the minimum of t1,...,tp; choose j ∈ {1,...,M} such that DM(x−(t−j)) holds. The axioms of T guarantee that such a choice exists and (using Lemma 8.1) is unique. It is now easy to see that t − j also witnesses the truth of θ. Case (3): θ contains no conjucts of the form x = t but does contain at least one conjuct of the form t < x. Let t1,...,tp be all terms t such that t < x occurs in θ. Then ϕ is equivalent to the disjunction of all formulas θ(ti + j,y1,...,yk) where 1≤ i ≤ p and 1≤ j ≤ M. Case(4): θ containsonlyatomicformulasoftheform Dm(x+t). Inthiscase ϕ is equivalent to the disjunction of all formulas of the form θ(j,y1,...,yk) where 1≤ j ≤ M. This completes the proof that ϕ = ∃xθ(x,y1,...,yk) is equivalent in T to a quantiﬁer free formula.
46
Our objective was to analyze the ordered abelian group (Z,+,−,<,0). Let L0 be the language of this structure and let T0 be the theory in L0 whose axioms are (i) the axioms of ordered abelian groups; (ii) the existence of a smallest positive element; (iii) the congruence axioms ∀x∃y(x+1 = ny∨x+2 = ny∨...∨x+ n = ny).foreach n ≥2. Itisclearthateachmodelof T0 canbeexpandedinaunique waytoamodelof T. Indeed, onesimplylets1beinterpretedbythesmallest positive element of the model and takes Dn to be interpreted as “divisibility by n” for each n ≥ 2. Therefore T is a conservative extension of T0, from which it follows that T0 is complete and therefore T0 = Th(Z,+,−,<,0). We obtain a deeper result if we expand L0 to add the constant symbol 1 and extend T0 by adding the axiom stating that 1 is the smallest positive element. Let L1 be the resulting language and T1 the resulting theory. Evidently each model of T1 expands uniquely to a model of T; therefore T1 is complete and T1 = Th(Z,+,−,<,0,1). By looking closer at the relation between T and T1 we obtain the following result: 8.5. Corollary. T1 is model complete; that is if A,B are models of T1 and A ⊆ B, then A B. Proof. Let A,B be models of T1 with A ⊆ B. Let B0 be the unique expansion of B to a model of T. The set A is the universe of a substructure of B0, which we denote by A0. We will show that A0 is a model of T. Therefore, since it is an expansion of A, it is the unique expansion of this structure to a model of T. To show that A0 is a model of T we need only consider the divisibility axioms, which deﬁne Dn in terms of the abelian group structure. The congruence axioms are implied by the divisibility axioms over T1, which we know is satisﬁed by A0 (since it is satisﬁed by A). Fix an element a of A. If a = nb for some b in A, then this equation also holds in B, which implies that a satisﬁes Dn(x) in B0 since it is a model of T. Therefore a satisﬁes Dn(x) in A0, since it is a substructure of B0. Conversely, suppose a is not of the form nb in A. There must exist a unique k = 1,...,n−1 and some b ∈ A satisfying a + i = nb in A. This equation also holds in B0, which implies that Dn(x) must be false of a in that structure. Hence Dn(x) is also false of a in A0 by the substructure condition. Thuswehaveproved A0 isamodelof T. Since T admitsQEandistherefore model complete itself, we conclude A0  B0. It follows by restricting to L1 that A  B, and the proof is complete.   The key point in the preceding proof is that both Dn(x) and ¬Dn(x) are equivalent in T to universal formulas of L1. Note that T0 is not model complete. Indeed, the function f: Z→Z deﬁned by setting f(n) = 2n for all n is clearly an embedding of (Z,+,−,<,0) into itself but it is not an elementary embedding. 47
We ﬁnish this chapter by using Theorem 8.2 to characterize the subsets of Z that are deﬁnable in (Z,+,−,<,0). It turns out to be necessary to distinguish the positive part of a deﬁnable set from the negative part, as these can be deﬁned independently of each other. 8.6. Deﬁnition. Let A ⊆ N. We call A eventually periodic if there are n ≥0 and p > 0 such that for all m ∈N, if m ≥ n, then m ∈ A ⇐⇒ m + p ∈ A. Evidently A ⊆ N is eventually periodic if and only if it is the union of a ﬁnite number of arithmetic progressions and a ﬁnite set. Moreover, the collection of all eventually periodic sets is a Boolean algebra of subsets of N. Note that each eventually periodic set A is deﬁnable in (Z,+,−,<,0) as is −A ={−n | n ∈ A}. 8.7. Corollary. The subsets of Z that are deﬁnable in (Z,+,−,<,0) are exactly the sets of the form (−A)∪B, where A and B are eventually periodic subsets of N. Proof. Let P be the collection of all subsets of Z of the form−A∪B, where A and B are eventually periodic subsets of N. Clearly every set in P is deﬁnable in (Z,+,−,<,0). It is routine to show that P is closed under union, intersection, and complement in Z. By this remark and Theorem 8.2 it suﬃces to show that each set deﬁned by an atomic L-formula in the structure (Z,+,−,<,0,1,Dn)n≥2 belongs to P. Arguing as in the proof of Theorem 8.2 we see it suﬃces to consider atomic formulas ϕ(x) of the following forms: nx = t, nx < t, t < nx, and Dm(nx + t), where n is a positive integer, m ≥2, and t is a term without variables. In each case it is easy to see that the set deﬁned in (Z,+,−,<,0,1,Dn)n≥2 by ϕ(x) belongs to P.
48
9. Model Theoretic Algebraic Closure 9.1. Deﬁnition. Let A be an L-structure and X ⊆ A. An element a of A is algebraic over X in A if there is an L-formula ϕ(x,y1,...,yn) and elements e1,...,en of X such that (i) A |= ϕ[a,e1,...,en], and (ii) {c ∈ A | A |= ϕ[c,e1,...,en]} is ﬁnite. The set of elements of A that are algebraic over X in A is denoted by aclA(X), or simply by acl(X) when the structure A is understood. X is algebraically closed in A if aclA(X) = X. 9.2. Fact. Let A be an algebraically closed ﬁeld and X ⊆ A; let k be the subﬁeld of A generated by X. For each a ∈ A we have that a ∈ aclA(X) iﬀ there is a nonconstant polynomial p(x) with coeﬃcients in k such that p(a) = 0 in A. (This follows from the fact that ACF admits QE; see Theorem 7.1.) In other words, the concept algebraic closure has the same meaning whether we interpret it model theoretically or algebraically, when we are working in an algebraically closed ﬁeld. 9.3. Proposition. Let A be an L-structure. The operation aclA(X) deﬁned on all subsets X of A is a closure operation. That is, it satisﬁes the following two properties for X,Y ⊆ A: (1) X ⊆aclA(X); and (2) if Y ⊆aclA(X) then aclA(Y)⊆aclA(X). Moreover, aclA has ﬁnite character; that is, (3) aclA(X) is the union of the sets aclA(F) where F ranges over the ﬁnite subsets of X.
Proof. (1) If a ∈ X, then a ∈ aclA(X) is witnessed by the formula x = y1 with parameter a. (2) Assume Y ⊆ acl(X) and a ∈ acl(Y). Let ϕ(x,y1,...,yn) and e1,...,en ∈ Y witness the fact that a ∈acl(Y) as in Deﬁnition 9.1. Let N be the cardinality of the set {c ∈ A | A |= ϕ[c,e1,...,en]}. By changing the formula ϕ if necessary we may assume that for every b1,...,bn ∈ A the set {c ∈ A | A |= ϕ[c,b1,...,bn]} has cardinality at most N, while we continue to have A |= ϕ[a,e1,...,en] Similarly, let ψj(yj,z1,...,zp) and f1,...,fp ∈ X witness the fact that ej ∈ acl(X) for each j = 1,...,p. (We have uniﬁed the lists of parameters and added extra variables in the formulas to ensure that the parameters are the same for each j. There is no loss of generality in doing so.) Then the formula σ(x,z1,...,zp) given by ∃y1 ...∃yn(ϕ(x, ¯ y)∧ψ1(y1, ¯ z)∧...∧ψn(yn, ¯ z)) with parameters f1,...,fp witnesses the fact that a ∈acl(X). (3) Deﬁnition 9.1 implies that acl(X) is contained in the union of the sets acl(F) where F ranges over the ﬁnite subsets of X. Part (2) of this Proposition implies the reverse containment.   49
9.4. Remark. It follows from Proposition 9.3 that for every X ⊆ A, the set aclA(X) is algebraically closed in A. (Just apply part (2) to Y = acl(X) and then use part (1).) 9.5. Fact. Suppose A is an algebraically closed ﬁeld and k is a subﬁeld of A. Let K be the set of all a ∈ A for which there is a nonconstant polynomial p(x) with coeﬃcients in k such that p(a) = 0 in A. Using Fact 9.2 and the preceding remark, we have that K is a subﬁeld of A and that K is algebraically closed in A (in either of the two equivalent senses of this term). This illustrates the power of quantiﬁer elmination in an algebraic setting.
The following result shows that the model theoretic algebraic closure is to a large extent independent of the structure within which it is computed. In particular, it implies that if A,B are L-structures that satisfy A  B, then aclA(X) = aclB(X) for any X ⊆ A. (Take f to be the identity map on aclA(X) in the following Proposition.) 9.6. Proposition. Let A,B be L-structures, X ⊆ A, and Y ⊆ B. If the function f: X → Y is elementary with respect to A,B, then f can be extended to a function g: aclA(X) → aclB(Y) that is elementary with respect to A,B. Moreover, if f is surjective, then any such g must also be surjective.
Proof. Let A,B,X,Y,f be as given in the Proposition. Let Ω be the set of all functions g: X0 → Y0 such that X ⊆ X0 ⊆aclA(X), Y ⊆ Y0 ⊆aclB(Y), g is elementary with respect to A,B, and g extends f. It is easy to show that (Ω,⊆) is closed under unions of linearly ordered chains, so it satisﬁes the hypothesis of Zorn’s Lemma. Therefore there exists g ∈ Ω that is maximal under ⊆. We must show that the domain of g is aclA(X). If not, let a ∈ aclA(X) \ X0. By Proposition 9.3 we have a ∈ aclA(X0). Let ϕ(x,y1,...,yn) be an L-formula and e1,...,en ∈ X0 parameters that witness the fact that a ∈acl(X0). Moreover, we may suppose that ϕ and ¯ e have been chosen so that the ﬁnite set U = {c ∈ A | A |= ϕ[c,e1,...,en]} has the smallest possible cardinality. Let this cardinality be N. Since g is an elementary map, the set V = {c ∈ B | B |= ϕ[c,g(e1),...,g(en)]} also has cardinality N. Moreover, g maps X0 ∩ U bijectively onto Y0∩V . Since X0∩U has cardinality < N (as it does not contain a) there must exist b ∈ V \Y0. Extend g to the map g0 deﬁned on X0∪{a} by setting g0(a) = b. We will show that g0 is elementary with respect to A,B, contradicting the maximality of g. To that end, suppose ψ(x,z1,...,zp) is any L-formula and f1,...,fp ∈ X0 are such that A |= ψ[a,f1,...,fp]. The formula ϕ(x, ¯ y)∧ψ(x, ¯ z) and the parameters ¯ e, ¯ f witness the fact that a ∈aclA(X0). Therefore the choice ofϕ and ¯ e ensure that A |=∀x(ϕ → ψ)[e1,...,en,f1,...,fp].Since g is elementary, we have 50
B |=∀x(ϕ → ψ)[g(e1),...,g(en),g(f1),...,g(fp)].Therefore our choice of b implies A |= ψ[b,g(f1),...,g(fp)].This completes the proof that g0 is elementary and therefore we may conclude that the domain of the maximal g in Ω is all of aclA(X). Finally, suppose the given function f has range Y. Let g: aclA(X) → aclB(Y) be any extension of f that is elementary with respect to A,B. Let Z be the range of g and suppose, by way of getting a contradiction, that Z is a proper subset of aclB(Y). Since Y ⊆ Z we have aclB(Z) = aclB(Y). Applying the ﬁrst part of this Proposition to g−1 we see that g−1 should have an extension that maps aclB(Y) into aclA(X) and is elementary with respect to B,A. But since the range of g−1 is all of aclA(X) and since the extension, being an elementary function, must be 1-1, this is clearly impossible. This contradiction proves that the range of g must be aclB(Y), as claimed.
Exercises 9.7. Let A be an inﬁnite set, considered as a structure for the language of pure equality. For each X ⊆ A, show that aclA(X) = X. 9.8. Let A |= DLO. For each X ⊆ A, show that aclA(X) = X. 9.9. Let K be a ﬁeld and let L be the language of vector spaces over K. (See Exercises 3.6 and 5.4.) For each inﬁnite K-vector space V (considered as an L-structure) and each X ⊆ V , show that aclV (X) is the K-linear subspace of V spanned by X. 9.10. Consider the theory Tdis of discrete linear orderings without endpoints. (See Example 5.6.) For A |= Tdis and X ⊆ A, describe aclA(X).
51
10. Algebraic Closure in Minimal Structures
Throughout this chapter let A denote an inﬁnite minimal L-structure with underlying set A. We will write cl(X) in place of aclA(X) for X ⊆ A. From Proposition 9.3 we know that cl is a closure operation of ﬁnite character on the subsets of A. When A is minimal, cl is actually a (combinatorial) pregeometry; this means that cl also satisﬁes the Exchange Property: 10.1. Proposition. Let A be an inﬁnite minimal structure. Let X ⊆ A and a,b ∈ A. If a 6∈cl(X) and b 6∈cl(X), then a ∈cl(X ∪{b})⇐⇒ b ∈cl(X ∪{a}).
Proof. We argue by contradiction. Suppose a,b 6∈ cl(X), a ∈ cl(X ∪{b}), and b 6∈cl(X∪{a}). Let the formula ϕ(x,y,z1,...,zp) and the parameters e1,...,ep ∈ X witness the fact that a ∈cl(X∪{b}) (where b is included as a parameter to be substituted for the variable y). Let K be the cardinality of the ﬁnite set {c ∈ A | A |= ϕ[c,b,e1,...,ep]}, which contains a as an element. Let ψ(y,z1,...,zp) be a formula expressing that there are at most K values of x for which ϕ(x,y,z1,...,zp) is true. Note that A |= ψ[b,e1,...,ep]. Since b 6∈cl(X ∪{a}), the set {b0 ∈ A | A |= ϕ[a,b0,e1,...,ep] and A |= ψ[b0,e1,...,ep]} must be inﬁnite; since A is minimal this set must be coﬁnite in A. Let M be the number of elements of A that are not in this set. Now consider a formula σ(x,z1,...,zp) that expresses the statement that ϕ(x,y,z1,...,zp)∧ψ(y,z1,...,zp) holds for all but M many values of y. The set {c ∈ A | A |= σ[c,e1,...,ep]}has a as an element; since a 6∈ cl(X) and A is minimal, this set must be coﬁnite. Let a0,...,aK be distinct elements of this set. For each j = 0,...,K we have that the set {b0 ∈ A | A |= ϕ[aj,b0,e1,...,ep] and A |= ψ[b0,e1,...,ep]} must be coﬁnite in A, which is inﬁnite. Therefore the intersection of these sets is also coﬁnite, hence nonempty. That is, there must exist a single b0 ∈ A such that for each j = 0,...,K we have A |= ϕ[aj,b0,e1,...,ep] and A |= ψ[b0,e1,...,ep] ,which is a contradiction.   10.2. Deﬁnition. Let cl be a pregeometry on the set A; let X,Y ⊆ A. (1) X is closed if cl(X) = X. (2) cl(X) is the closure of X. (3) (Y closed) X spans Y if cl(X) = Y. (4) X is independent if a 6∈cl(X \{a}) for all a ∈ X. (5) (Y closed) X is a basis for Y if X is independent and X spans Y.
52
10.3. Theorem. Let cl be a pregeometry on the set A; let X,Y ⊆ A with Y closed. (1) X is independent if and only if each ﬁnite subset of X is independent. (2) X is a basis for Y if and only if X is maximal among independent subsets of Y. Consequently every closed set has a basis. Indeed, every independent subset of Y is contained in a basis for Y. (3) If X spans Y, then there exists Z ⊆ X such that Z is a basis of Y. (4) X is a basis for Y if and only if X is minimal among subsets of Y that span Y. (5) Suppose X is a basis for Y and a ∈ Y. Then there is a smallest ﬁnite set F ⊆ X such that a ∈cl(F). We will call F the support of a in X. (6) Any two bases for Y have the same cardinality.
Proof. (1) Suppose X is independent and let Z be any subset of X. For each a ∈ Z we have Z \{a}⊆ X \{a} and therefore cl(Z \{a}) ⊆ cl(X \ {a}). Since X is independent this implies a 6∈ cl(Z \{a}). Therefore Z is independent. In particular every ﬁnite subset of X is independent. Conversely, suppose X is dependent, so there exists a ∈ X such that a ∈ cl(X \{a}). Therefore there is a ﬁnite subset Z of X \{a} such that a ∈cl(Z). It follows that Z ∪{a} is a dependent ﬁnite subset of X. (2) Suppose X is a basis for Y. For each a ∈ Y \X we have a ∈cl(X), from which it follows that X ∪{a} is dependent. It follows that X is maximal among independent subsets of Y. Conversely, suppose X is maximal among independent subsets of Y. Then for each a ∈ Y \ X the set X ∪{a} is dependent. If a 6∈cl(X) then there exists b ∈ X with b ∈cl((X∪{a})\{b}). Since X is independent we have b 6∈ cl(X \{b}). The Exchange Property implies a ∈cl((X\{b})∪{b}) = cl(X). Thiscontradictionproves a ∈cl(X). Sinice a ∈ Y was arbitrary, this proves that X spans Y and therefore X is a basis for Y. Suppose X is any independent subset of Y. Let Ω be the collection of all independent subsets of Y that contain X. Part (1) of this Theorem implies that if C is any subset of Ω that is a chain under⊆, then∪C is independent and thus is a member of Ω. Zorn’s Lemma implies the existence of maximal elements of Ω under ⊆. Any such set is a basis of Y, by what was proved in the preceding paragraph. (3) The proof is similar to the second part of (2). Given X spanning Y, let Ω be the collection of all independent subsets of X. By Zorn’s Lemma and (1) there exists Z ∈ Ω that is maximal with respect to ⊆. By the argument in the previous paragraph, cl(Z) = cl(X) and therefore Z is an independent set spanning Y. By (2), Z is a basis for Y. (4) Suppose X is a basis for Y and Z is a proper subset of X. For each a ∈ X \ Z we have a 6∈ cl(X \{a}) ⊇ cl(Z), which shows that Z does not span Y. Conversely suppose X is minimal among sets that span Y. We must show X is independent. Otherwise there exists a ∈ X such that 53
a ∈ cl(X \{a}). It follows that cl(X \{a}) = cl(X), contradicting the assumption that X is a minimal spanning set. (5) Since cl has ﬁnite character we know there exists a ﬁnite F ⊆ X with a ∈ cl(F). Let F be such a set of smallest cardinality. We will show a 6∈ cl(X \{b}) for each b ∈ F. It follows that F must be contained in any subset A of X that satisﬁes a ∈ cl(A). If b ∈ F then we have a 6∈ cl(F \{b}) by the minimality of F. The Exchange Property implies b ∈ cl((F \{b})∪{a}). Since b 6∈ cl(X \{b}) we see it is impossible for a to be in cl(X \{b}). (6) Let U and V be bases for Y. The case where one of the bases is inﬁnite can be proved using a simple counting argument based on the ﬁnite character of cl. Suppose V is inﬁnite and card(U) ≤ card(V ). For each a ∈ U there exists a ﬁnite set F(a) ⊆ V such that a ∈ cl(F(a)). Let F = ∪{F(a) | a ∈ U}. Evidently F spans Y, and since V is a basis for Y it follows from (3) that F = V . Since V is inﬁnite it follows that U is also inﬁnite and indeed that card(V ) = card(F) ≤ card(U). Hence card(U) = card(V ). Now we handle the ﬁnite case. Let U be a ﬁnite basis for Y and let V be any independent subset of Y. By what we proved above, V must be ﬁnite. We will show that card(V )≤card(U), which suﬃces to complete the proof of (4). To do this we prove the following statement by induction on the cardinality of V : there exists W ⊆ U such that W ∩V = ∅, W ∪V is a basis for Y, and card(W ∪V ) = card(U). As basis step we consider the case card(V ) = 0. Evidently we may take W = U when V =∅. For the induction step consider an independent set V and suppose the statement is true for all independent sets that are smaller than V . Fix a ∈ V and let Z = V \{a}. By the induction hypothesis there exists W ⊆ U such that W ∩Z =∅, W ∪Z is a basis for Y, and card(W ∪Z) = card(U). Let A be the support of a in W ∪Z. Since V is independent, A must meet W. Let b be any element of A∩W. By (5) we have a 6∈cl((W \{b})∪Z). We complete the proof by showing that W \{b} is the desired subset of U for V = Z∪{a}. The Exchange Property yields b ∈cl((W\{b})∪(Z∪{a})). Therefore (W \{b})∪(Z ∪{a}) spans Y. Since b is in the support of a in W ∪Z we have a 6∈cl((W \{b})∪Z). It follows that (W \{b})∪(Z∪{a}) is independent, that (W \{b})∩(Z ∪{a}) =∅, and that card((W \{b})∪ (Z ∪{a})) = card(W ∪Z) = card(U). This completes the proof.
10.4. Deﬁnition. Let cl be a pregeometry on the set A and X ⊆ A. The dimension of X, which is denoted dim(X), is the unique cardinality of a basis for the closed set cl(X).
54
10.5. Deﬁnition. Let A be a minimal L-structure. The dimension of A, denoted dim(A), is the dimension of the set A with respect to the pregeometry aclA. 10.6. Proposition. Let A and B be L-structures with A ≡ B and A minimal. Suppose X ⊆ A and Y ⊆ B, and let f: X → Y be a function that is elementary with respect to A,B. For each a ∈ A \aclA(X) and each b ∈ B\aclB(Y) the extension of f that takes a to b is also elementary with respect to A,B.
Proof. Otherwise there exists an L-formula ϕ(x,y1,...,yn) and parameters e1,...,en ∈ X such that A |= ϕ[a,e1,...,en] and B |= ¬ϕ[b,f(e1),...,f(en)]. Since a is not algebraic over X and b is not algebraic over Y, the sets {c ∈ A | A |= ϕ[c,e1,...,en]} and {d ∈ B | B |= ¬ϕ[d,f(e1),...,f(en)]} are both inﬁnite. Since f is elementary it follows that {c ∈ A | A |= ¬ϕ[c,e1,...,en]} is inﬁnite. This contradicts the assumption that A is minimal.   10.7. Corollary. Let A and B be L-structures with A ≡ B and A minimal. Suppose we have independent sets X ⊆ A (with respect to aclA) and Y ⊆ B (with respect to aclB), and let f: X → Y be a 1-1 function. Then f is elementary with respect to A,B.
Proof. Let Ω be the collection of subsets S ⊆ X such that the restriction of f to S is elementary with respect to A,B. We regard ∅ as an element of Ω (justiﬁed since A ≡ B). The partially ordered set (Ω,⊆) satisﬁes the hypothesis of Zorn’s Lemma, so there exists S ∈ Ω that is maximal with respect to⊆. We need to show S = X. If not, let a be any element of X\S and let b = f(a) ∈ Y \f(S). By Proposition 10.6, f restricted to S ∪{a} is elementary with respect to A,B. This contradicts the maximality of S and proves S = X.
10.8. Theorem. Let T be a complete strongly minimal theory with inﬁnite models, and let A,B be models of T. (1) There is an elementary embedding of A into B if and only if dim(A)≤ dim(B). (2) A and B are isomorphic if and only if dim(A) = dim(B). (3) T is κ-categorical for every cardinal number κ > card(L).
Proof. (1⇐) Since acl deﬁnes a pregeometry in each of these structures, there exist bases X for A (with respect to aclA) and Y for B (with respect to aclB). By hypothesis card(X) ≤ card(Y) so there is a 1-1 function f from X into Y. The preceding Corollary yields that f is elementary with respect to A,B. By Proposition 9.6, f can be extended to a function g: A → B that is elementary with respect to A,B. It follows easily that g is an elementary embedding from A into B. 55
(1⇒) As above, there is a basis X for A (with respect to aclA). If f is an elementary embedding of A into B, then f(X) is independent with respect to aclB. By Theorem 10.3(2) there is a basis Y for B that contains f(X). It follows that card(X)≤card(Y) and hence dim(A)≤dim(B). (2) The argument is similar to (1). (3)BytheL¨owenheim-SkolemTheorems(Theorems 6.1and6.4)thereexist models of T having cardinality κ. Let A and B be two such models of T. As in the proof of (1), let X be a basis for A (with respect to aclA) and Y for B (with respect to aclB). Because acl is of ﬁnite character in each model, and there are fewer than κ formulas in L, a counting argument shows that X and Y must each be of cardinality equal to κ. Now use part (2).
Exercises 10.9. Let L be the language of pure equality and let T be the theory in L of all inﬁnite sets. From Example 3.16 we know that T admits QE and is complete. • Show that T is strongly minimal. • Explain the meaning of the dimension of a given model of T, in the sense of Section 10. 10.10. Let L be the language whose nonlogical symbols consist of a unary function symbol F. Let T be the theory in L of the class of all L-structures (A,f) in which f is a bijection from A onto itself and f has no ﬁnite cycles. From Problem 2.2 we know that T admits QE and is complete. Note that (Z,S) is a model of T, where S(a) = a + 1 for all a ∈ Z; therefore T = Th(Z,S). • Show that T is strongly minimal. • Explain the meaning of the dimension of a given model of T, in the sense of Section 10. 10.11. Let K be a ﬁeld and let L be the language of vector spaces over K. Let T be the theory in L of all inﬁnite vector spaces over K. (See Exercises 3.6, 5.4, and 9.3.) • Show that T is strongly minimal. It follows that Section 10 applies to inﬁnite K-vector spaces. Exercise 9.3 shows that algebraic closure in the sense of model theory and linear span in the sense of linear algebra are identical, when applied to subsets of a ﬁxed inﬁnite vector space over K. • Let V,W be inﬁnite K-vector spaces and let X ⊆ V,Y ⊆ W be K-linear subspaces. Suppose F : X → Y is a K-linear isomorphism. Show that F is an elementary map in the sense of the L-structures V,W. (Note that if K is a ﬁnite ﬁeld, and X,Y are ﬁnitely generated, then they are not models of T.) •If V is an inﬁnite K-vector space and X ⊆ V is a K-linear subspace, show that the model theoretic dimension of X in the sense of algebraic closure in V does not depend on V . Show that this dimension is the same as the 56
dimension of X in the sense of linear algebra. • Check that Theorem 10.3 implies all of the standard facts about linearly independent sets, spanning sets, and bases, for arbitrary vector spaces over K. 10.12. Let T be a strongly minimal L-theory and let κ be an inﬁnite cardinal. Let A be an inﬁnite model of T. • Show that A is κ-saturated iﬀ the dimension of A in the sense of Section 10 is ≥ κ. 10.13. Let L be the language whose only nonlogical symbol is a binary predicate symbol <. Let A be any inﬁnite linear ordering, considered as an L-structure. • Show that Th(A) is not strongly minimal.
57
11. Real Closed Ordered Fields
We now consider the theory RCOF of real closed ordered ﬁelds, formulated in the language Lor of ordered rings. The axioms of this theory are the axioms for ordered rings and the sign change property (intermediate value property) for polynomials with coeﬃcients in the ﬁeld. This last set of axioms can be formulated as follows: for each n > 0 let tn(x,y0,...,yn) be the term yn•xn+...+y1•x+y0. The sign change property for polynomials of degree at most n is expressed by the following sentence: ∀a∀b∀¯ y((a < b∧tn(a, ¯ y) < 0∧tn(b, ¯ y) > 0)→∃x(tn(x, ¯ y) = 0∧a ≤ x ≤ b)). Note that the sign change property implies that every positive element is a square and that all polynomials of odd degree have roots. (If a > 0 then x2 −a changes sign over the interval [0,a + 1]; for large enough b > 0, a given odd degree polynomial will change sign on the interval [−b,b].) These properties give an equivalent set of axioms for RCOF as can be shown by an algebraic argument. Two other algebraic characterizations of real closed ordered ﬁelds among ordered ﬁelds are: (1) no proper algebraic extension can be ordered; (2) the extension formed by adding √−1 is algebraically closed. A full discussion of real closed ordered ﬁelds may be found in Serge Lang’s book Algebra. Obvious models for the theory RCOF are the ordered ﬁelds of all the real numbers and all algebraic real numbers. In 1926-27 Artin and Schreier developed the theory of ordered ﬁelds and proved that every ordered ﬁeld A has a real closure (by which we mean a real closed ordered ﬁeld that is an algebraic extension of A.) Moreover, any two real closures of an ordered ﬁeld A are isomorphic over A. We are going to show that the theory RCOF admits quantiﬁer elimination, using Theorem 5.7. In order to verify condition (2) of that Theorem, we need the following Lemma. 11.1. Lemma. Let F ⊆ K be real closed ordered ﬁelds and suppose b ∈ K\ F. The isomorphism type of b over F (in the language Lor) is determined by the set of elements f ∈ F such that f < b. Proof. The uniqueness of the real closure implies that F is algebraically closed in K. Suppose K0 is another real closed ordered ﬁeld extension of F and b0 ∈ K0 \ F. Suppose further that for all f ∈ F we have f < b ⇐⇒ f < b0. Consider the map g deﬁned on F[b] by taking g(b) = b0 and g(f) = f for all f ∈ F. Since b and b0 are both transcendental over F, this is a ring isomorphism from F[b] onto F[b0]. We need to show that g is order preserving. That is, for any polynomial p(x) ∈ F[x] with coeﬃcients in F we have to prove (?) p(b) > 0⇐⇒ p(b0) > 0. 58
We are given that this condition holds when p(x) is constant, so we may assume that p(x) is nonconstant. Without loss of generality we may assume that the polynomial p(x) is monic since the equivalence (?) is preserved under multiplication by elements of F. Moreover, we may assume that p(x) is irreducible in F[x], since the product of any two polynomials that satisfy (?) will again satisfy (?). If p(x) has degree 1, so it is of the form x−f for some f ∈ F, then condition (?) just says b > f ⇐⇒ b0 > f, which we know is true. Thus we may assume that p(x) is of degree > 1. Since it is irreducible, it has no roots in F. Since F is algebraically closed in K and in K0, this means that p(x) also has no roots in either of these ﬁelds. Since p(x) is positive for large enough values of x (in K and in K0), it follows from the sign change property for polynomials over real closed ordered ﬁelds (the axioms of type (iii)) that p(x) must be everywhere positive in K and in K0. In particular, both p(b) and p(b0) must be positive, proving that condition (?) is true.   11.2. Theorem (Tarski). The theory RCOF of real closed ordered ﬁelds admits quantiﬁer elimination.
Proof. We apply Theorem 5.7, verifying condition (2) of that result. We are using a countable language so κ = ω. Therefore we need to consider real closed ordered ﬁelds A,B with A countable and B ω1-saturated. We also consider a proper substructure A0 of A and an embedding f of A0 into B. We must show that f can be extended properly to an embedding of some substructure of A into B. Let B0 be the range of f; then B0 is a substructure of B and f is an isomorphism of A0 onto B0. We know that A0 is an ordered subring of A. Since the ﬁeld of fractions of A0 is uniquely determined as an ordered ﬁeld over A0, we can extend the embedding f to be deﬁned on the ﬁeld generated in A by A0. Therefore we may assume that A0 is already an ordered subﬁeld of A. A similar argument using the uniqueness of the real closure of an ordered ﬁeld shows that we may also assume that A0 is itself a real closed ordered ﬁeld; in particular, we may assume that A0 is algebraically closed in A. Let b be any element of A\A0. Since B is ω1-saturated and A0 is countable, it is possible to ﬁnd b0 ∈ B that satisﬁes a < b ⇔ f(a) < b0 for all a ∈ A0. Using Lemma 11.1 we conclude that f can be extended to an embedding of ordered ﬁelds from A0(b) onto B0(b0) by setting f(b) = b0. This completes the proof.   11.3. Corollary. The theory RCOF is complete; hence RCOF is equal to the theory of the ordered ﬁeld R of real numbers.
Proof. Every ordered ﬁeld has characteristic 0 and therefore contains an isomorphic copy of the ordered ﬁeld Q. The completeness of RCOF follows from Corollary 5.5.   59
11.4. Remark. The theory of the ordered ﬁeld R is decidable; this follows immediately from the fact that it equals RCOF, so it is a complete theory for which one has a computable set of axioms. This decidability result was a large part of Tarski’s original motivation for proving that RCOF admits quantiﬁer elimination. It is of some interest to computer scientists, because instances of certain problems in areas such as robotics can be formulated as sentences in the language of ordered rings, and the “feasibility” of a given problem instance corresponds to the truth of the sentence in R. For this reason some computer scientists have tried to ﬁnd eﬃcient algorithms for deciding RCOF and have implemented these algorithms in software systems. However, the systems do not perform very well, and it has been shown that the computational complexity of RCOF is suﬃciently high that no feasible algorithm for deciding it can exist. Current interest emphasizes subproblems that are deﬁned by syntactic restrictions. 11.5. Fact. Let S be any subset of Kn that is deﬁnable in the real closed ordered ﬁeld (K,+,−,×,<,0,1). (a) If n = 1, show that S must be a ﬁnite union of points from K and open intervals whose endpoints are in K. (b) Show that the closure of S and the interior of S are also deﬁnable subsets of Kn, where K is given the topology deﬁned using its ordering. 11.6. Remark. Statement (a) of the preceding Fact is expressed by saying that the theory RCOF is o-minimal. The study of o-minimal structures is an active area of research today. Combined with Tarski’s Theorem, to the eﬀect that deﬁnable sets in real closed ordered ﬁelds can be deﬁned using quantiﬁer free formulas, statement (b) shows that for each n ≥1, the collection of subsets of Rn that are quantiﬁer free deﬁnable in the ordered ﬁeldRis closedunderthe operations offorming the closure andtheinterior.
Artin and Schreier developed the theory of real closed ordered ﬁelds, in part toward solving Hilbert’s 17th Problem. This problem asked for a characterization of positive deﬁnite rational functions with coeﬃcients in the real numbers or, more generally, in a given ordered ﬁeld. As our last result we give a model theoretic proof of the solution to this problem in the case where the ordered ﬁeld is a real closed ordered ﬁeld. For a more general discussion see Abraham Robinson’s book Model Theory, for example, or the article by Angus Macintyre in The Handbook of Mathematical Logic. 11.7. Corollary. Let F be a real closed ordered ﬁeld, and let p,q be polynomials in the variables x1,...,xn with coeﬃcients in F. Suppose that the rational function f = p/q is positive semi-deﬁnite, in the sense that for any a ∈ Fn with q(a) 6= 0, one has f(a) = p(a)/q(a) ≥ 0. Then f is equal to a sum of ﬁnitely many squares of rational functions in the ﬁeld of rational functions F(x1,...,xn). 60
Proof. If f is not a sum of squares in the ﬁeld F(x1,...,xn) then this ﬁeld has an ordering in which the element f is negative. To show this, use Zorn’s Lemma and take P to be a maximal subset of F(x1,...,xn) that contains −f and all nonzero squares, does not contain 0, and is closed under + and ×. The desired linear ordering on the ﬁeld F(x1,...,xn) is deﬁned by taking g < h ⇐⇒(h−g)∈ P. This ordering on F(x1,...,xn) obviously extends the original ordering on F. Let K be a real closed ordered ﬁeld that extends F(x1,...,xn) with this ordering. Now consider the polynomials p(x1,...,xn) and q(x1,...,xn) as terms in the language L(F). We see that the sentence ∃x1 ...∃xn(p(x1,...,xn)q(x1,...,xn) < 0) is true in K. (Note that q 6= 0∧ p/q < 0 is equivalent to pq < 0 in ordered ﬁelds.) By Tarski’s Theorem, this sentence is equivalent in RCOF to a quantiﬁer free sentence, so that it is also true in F. But this sentence is false in F by hypothesis, contradicting the assumption that f is not a sum of squares.
Exercises 11.8. Let K be a countable ordered ﬁeld, considered as an Lor-structure, and let T = Th(K). Show that there exists a 1-type p ∈ S1(T) that is not realized in K. Therefore, no countable ordered ﬁeld is ω-saturated. 11.9. Let R be an ordered ﬁeld. Let x be a transcendental element over R and consider the ﬁeld R(x) of rational functions in x with coeﬃcients in R. • Show that there is linear ordering < on R(x) that makes R(x) into an ordered ﬁeld, such that r < x for all r ∈ R. • Show that this ordering is unique. • Show how to embed the ordered ﬁeld R(x) with this ordering into a suitable ultrapower of R. • Describe all the embeddings of the ﬁeld R(x) into an ultrapower of R. (Each one induces a ﬁeld ordering on R(x).) 11.10. Use the preceding Exercise and results in Section 11 to show that the theory RCOF is not κ-categorical for any inﬁnite cardinal κ. (For example, construct models of RCOF of cardinality κ, such that one has an ordering of coﬁnality ω and the other has an ordering of uncountable coﬁnality.)
61
12. Homogeneous Models
In this chapter we prove that every satisﬁable theory T has models that are not only highly saturated but are also very homogeneous. Such models play the same role in the setting of very general mathematical structures that the ﬁeld of complex numbers plays in algebra and number theory. That is, they contain many “ideal elements” with which one can directly calculate and they support many useful functions and relations; thus they provide a convenient framework for certain mathematical arguments. Use of such rich models is a key feature of modern model theory. 12.1. Deﬁnition. Let L be a ﬁrst order language, A an L-structure, and κ an inﬁnite cardinal number. We say A is strongly κ-homogeneous if it has the following property for every subset S of A of cardinality < κ: any elementary map of S into A can be extended to an automorphism of A.
We construct a strongly homogeneous model as the union of a well ordered elementary chain. The next result is needed at the successor stage when we are deﬁning this elementary chain by induction. 12.2. Lemma. Suppose A is κ-saturated and B  A satisﬁes card(B) < κ. Then any elementary map f between subsets of B can be extended to an elementary embedding of B into A.
Proof. Suppose the domain of the elementary mapping f is S. Then we have (B,a)a∈S ≡(A,f(a))a∈S. Moreover, it is easy to see that (A,f(a))a∈S must also be κ-saturated, since card(S) < κ. By Corollary 4.4 there is an elementary embedding of (B,a)a∈S into (A,f(a))a∈S. This yields an elementary embedding of B into A that extends f.   12.3. Theorem (Existence of Strongly Homogeneous Models). For every inﬁnite cardinal number κ, every structure has a κ-saturated elementary extension A such that every reduct of A is strongly κ-homogeneous.
Proof. Let A0 be any structure and κ an inﬁnite cardinal number. Let τ = κ+. Using induction over the well ordered set{α | α < τ}we construct an elementary chain of structures Aα (α < τ) such that Aα+1 is card(Aα)+saturated for every α < τ. To construct this sequence, at each successor stage (α to α+1) we apply Theorem 4.7 to Aα; at limit stages we take the union of the previously deﬁned structures. Finally, the desired elementary extension A of A0 is obtained by setting A =∪{Aα | α < τ}. Note that any subset S of A that has cardinality < τ must be a subset of Aα for some α < τ. (Here we use the fact that τ = κ+ is a regular cardinal.) From this it is immediate that A is τ-saturated (as in the proof of Theorem 4.7). It remains to show that every reduct of A is strongly κ-homogeneous. Let L be any sublanguage of the language of A. Note that the chain of reducts 62
(Aα|L | α < τ) is an elementary chain such that Aα+1|L is card(Aα)+saturated for every α < τ. Moreover, A|L is the union of this chain. Let f be any mapping between subsets of A that is elementary with respect to A|L, such that the domain and range of f have cardinality < κ. As noted above, the domain and range of f are both contained in Aα for some α < τ. Moreover, such a mapping f is elementary with respect to Aα|L, since Aα|L A|L. Without loss of generality we may assume that α is a limit ordinal. An ordinal β can be written in a unique way as β = λ + n for some limit ordinal λ and some integer n ∈ N. We call β odd or even according to whether the integer n is odd or even. Note that each limit ordinal is even. Applying Lemma 12.2 to Aα|L and f we obtain an elementary embedding fα from Aα|L into Aα+1|L that extends f. We proceed by induction to obtain a sequence of elementary embeddings fβ from Aβ|L into Aβ+1|L, for β in the interval α ≤ β < τ, such that fβ+1 is always an extension of f−1 β . It follows that fβ+2 is an extension of fβ for all α ≤ β < τ. At successor ordinals the mapping fβ+1 is obtained by applying Lemma 12.2 to Aβ+1|L and f−1 β . At limit ordinals λ the induction construction is continued by ﬁrst taking g to be the union of all the elementary mappings fβ such that β < λ and β is even, and then applying Lemma 12.2 to extend g to an elementary embedding fλ of Aλ|L into Aλ+1|L. Finally, let h be the union of the mappings fβ such that α ≤ β < τ and β is even. It is easy to show that h is an automorphism of A|L and that it extends the original elementary mapping f.   12.4. Fact. If A is κ-saturated, then every reduct of A is also κ-saturated, by Theorem 4.3. (This was used in the preceding proof.)
The strongly homogeneous models constructed in the proof of Theorem 12.3 are very large. In some situations it is useful to control the cardinality of strongly homogeneous models, as we do in the next result. 12.5.Theorem (Countablestrongly ω-homogeneousModels). Assume that L is a countable language, and let T be a complete theory in L. For each n ∈ N let Tn be a countable collection of partial n-types in L, with each partial type in each Tn being consistent with T. Then there is a countable strongly ω-homogeneous model of T that realizes every partial n-type in Tn for each n.
Proof. Since T is complete, there is a countable model A0 of T in which all thegivenpartialtypesarerealized. Weinductivelyconstructanelementary chain (An | n ∈N) of countable structures and for each n ≥1 a countable set Fn of automorphisms of An, such that the following conditions are satisﬁed: (1) for all n ≥ 0, every elementary map between ﬁnite subsets of An extends to an automorphism of An+1 that is a member of Fn+1; (2) for all n ≥1 each automorphism of An in Fn extends to an automorphism 63
of An+1 in Fn+1. We also take F0 to be empty. To see that this can be done, consider a countable model An of T together with a countable set Fn of automorphisms of An. Using Theorem 12.3 there is a strongly ω1homogeneous elementary extension B of An. (Of course B need not be countable.) Since Fn is countable and there are only countably many maps between ﬁnite subsets of An, there is a countable set F of automorphisms of B with the property that each automorphism in Fn and each elementary map between ﬁnite subsets of An extends to an automorphism of B that is in F. By the Downward L¨owenheim-Skolem Theorem there is a countable structure An+1  B such that An ⊆ An+1 and such that An+1 is closed under f and f−1 for each f ∈ F. In particular, we have An ⊆ An+1. Let Fn+1 be the set of restrictions of members of F to An+1. Then An+1 and Fn+1 have the desired properties. The desired model A of T is the union of the chain (An | n ∈N). Note that by construction every automorphism of An that is a member of Fn extends to an automorphism of A.   12.6. Theorem. Any two κ-saturated L-structures that are both of cardinality κ and that are elementarily equivalent are isomorphic. Proof. Let A,B be κ-saturated structures with A ≡ B and card(A) = card(B) = κ. By induction on α < κ we construct an increasing chain (Xα)α<κ of subsets of A having cardinality < κ and an increasing chain (fα)α<κ of functions fα: Xα → B that are elementary with respect to A,B and such that A =∪{Xα | α < κ} and B =∪{fα(Xα)| α < κ}. We then obtain the desired isomorphism from A onto B by setting f = ∪{fα | α < κ}. To begin the inductive construction set X0 = ∅ and let f0 be the empty map. Since A ≡ B, f0 is elementary with respect to A,B. Suppose α < κ and we have already constructed Xβ and fβ for all β < α. If α is a limit ordinal, we set Xα = ∪{Xβ | β < α} and fα = ∪{fβ | β < α}. If α is a successor ordinal, we may write α = λ + n where λ is a limit ordinal and n ∈N. Since α is a successor ordinal, n ≥1 and we may set β = λ+n−1, the predecessor of α. If n is even we extend fβ to fα using the κ-saturation of B so that its domain Xα contains a speciﬁed element of A; if n is odd we extend fβ to fα using the κ-saturation of A so that its range f(Xα) contains a speciﬁed element of B. (“Speciﬁed elements” are considered in order, relative to some well ordered listing of the universes of A and B of order type κ.) The cases are similar and we indicate only how to proceed when n is even. Suppose b is the designated element of A. Since fβ is elementary with respect to A,B, we have (A,a)a∈Xβ ≡ (B,fβ(a))a∈Xβ; also, both of these structures are κ-saturated. Hence there exists c ∈ B such that (A,b,a)a∈Xβ ≡ (B,c,fβ(a))a∈Xβ. Then we set Xα = Xβ ∪{c} and extend fβ to fα on Xα by setting fα(b) = c.   64
12.7. Corollary. If the structure A is κ-saturated and has cardinality κ, then A is strongly κ-homogeneous. Proof. Suppose A is κ-saturated and has cardinality κ. Let S ⊆ A have cardinality < κ and suppose f: S → A is an elementary map, with respect to A. Then the structures (A,a)a∈S and (A,f(a))a∈S are elementarily equivalent, and both of them are κ-saturated and have cardinality κ. The previous results yields that these two structures are isomorphic; any isomorphism between them is an automorphism of A that extends f. Hence A is strongly κ-isomorphic.
In the rest of this chapter we explore the relations among several notions of “richness” for L-structures. 12.8. Deﬁnition. Let L be a ﬁrst order language, A an L-structure, and κ an inﬁnite cardinal number. (1) A is κ-homogeneous if it has the following property for every subset S of A of cardinality < κ: any elementary mapping of S into A can be extended to an elementary mapping of S ∪{b} into A, for each b ∈ A. (2) A is κ-universal if every structure B that satisﬁes card(B) < κ and B ≡ A can be elementarily embedded into A. 12.9. Theorem. Let κ be an inﬁnite cardinal number. (a) Any strongly κ-homogeneous structure is κ-homogeneous. (b) Any κ-saturated structure is κ-homogeneous and κ+-universal. (c) Assume card(L) < κ. Any structure that is κ-homogeneous and κuniversal is κ-saturated. (d) Any κ-homogeneous structure that is of cardinality κ is strongly κhomogeneous.
Proof. (a) Any restriction of an automorphism is an elementary map. (b) Let A be κ-saturated. Corollary 4.4 shows that A is κ+-universal. To show that A is κ-homogeneous, consider a subset S of A whose cardinality is less than κ and let f: S → A be an elementary map with respect to the structure A. Then (A,a)a∈S ≡ (A,f(a))a∈S and both of these structures are κ-saturated. Therefore, for any b ∈ A there exists c ∈ A such that (A,b,a)a∈S ≡ (A,c,f(a))a∈S. The desired extension of f can be obtained by setting f(b) = c. (c) Let A be κ-homogeneous and κ-universal, and suppose card(L) < κ. Let S ⊆ A with card(S) < κ, and consider a 1-type Γ(x) in L(S) that is ﬁnitelysatisﬁableinTh((A,a)a∈S). Thereisan L(S)structure(B,f(a))a∈S and an element b ∈ B such that b realizes Γ(x) in (B,f(a))a∈S. Since the cardinality of L(S) is < κ, the Downward L¨owenheim-Skolem Theorem implies that we may assume card(B) < κ. Since A is κ-universal, there exists an elementary embedding g of B into A. The composition g◦f maps S into A and is an elementary map with respect to A. Since card(S) < κ 65
and A is κ-homogeneous, there is an elementary map h that extends g◦f and such that g(b) is in the range of h. If c ∈dom(h) satisﬁes h(c) = g(b), then c must realize Γ(x) in (A,a)a∈S. (d) Let A be a κ-homogeneous structure, and let f: S → A be an elementary map with card(S) < κ and S ⊆ A. Then we have (A,a)a∈S ≡ (A,f(a))a∈S. By an argument similar to the one used to prove part Theorem 12.6, we can inductively extend f to an increasing chain of elementary mappings whose union is an automorphism of A. Thus A is strongly κhomogeneous.
66
Exercises 12.10. Let A,B be L-structuresthatareelementarilyequivalent. Showthat there exist elementary extensions A0 of A and B0 of B such that A0 ∼ = B0. 12.11. Let A,B be L-structures and let f be a nonempty elementary map from a subset of A into B. Show that there exist elementary extensions A0 of A and B0 of B and an isomorphism g of A0 onto B0 such that g is an extension of f. 12.12. Let L be the language whose nonlogical symbols consist of inﬁnitely many constant symbols {cn | n ∈N}. Let T be the L-theory whose axioms are cm 6= cn for all distinct m,n ∈ N. It follows from Example 3.16(ii) that T admits QE. Every model of T has a substructure isomorphic to (N,n)n∈N, so T is complete by Corollary 5.5(2). • Which countable model of T is ω-saturated? • Which countable models of T are strongly ω-homogeneous. 12.13. Let L be the language whose nonlogical symbols consist of a unary function symbol F. Let T be the theory in L of the class of all L-structures (A,f) in which f is a bijection from A onto itself and f has no ﬁnite cycles. From Problem 2.2 we know that T admits QE and is complete. From Exercise 10.2 we know that T is strongly minimal and we understand the meaning of the dimension of a model of T. Note that (Z,S) is a model of T, where S(a) = a+1 for all a ∈Z; therefore T = Th(Z,S) and this model of T obviously has dimension 1. • Which countable models of T are strongly ω-homogeneous? 12.14. Let A be an L-structure and B ⊆ A. Recall that R ⊆ Am is called B-deﬁnable in A if there is an L-formula ϕ(x1,...,xm,y1,...,yn) and parameters b1,...,bn from B such that R ={(a1,...,am)∈ Am | A |= ϕ[a1,...,am,b1,...,bm]}. Now suppose A is κ-saturated and strongly κ-homogeneous and B ⊆ A has card(B) < κ. Suppose further that R ⊆ Am is A-deﬁnable in A. • Show that R is B-deﬁnable in A iﬀ R is ﬁxed setwise by every automorphism of A that ﬁxes B pointwise.
67
13. Omitting Types
The main result of this chapter (Theorem 13.3) gives a suﬃcient condition for a given countable family of partial types to be omitted from some model of a theory T in a countable language. If T is a complete theory, this result yields a condition on an n-type Γ(x1,...,xn) that is necessary and suﬃcient for the existence of a model of T that omits Γ(x1,...,xn). (Theorem 13.8) This result can be used to study the countable models of T. Most of the results in this chapter require that the language be countable.
13.1. Deﬁnition. Let T be a satisﬁable theory in the language L and let Σ(x1,...,xn) be a partial n-type in L. We say that T locally omits Σ(x1,...,xn) if for any formula ϕ(x1,...,xn) that is consistent with T, there is a formula σ(x1,...,xn)∈Σ(x1,...,xn) such that ϕ∧¬σ is consistent with T.
13.2. Remark. The notion of “local omitting” may seem more natural when rephrased topologically: T locally omits Σ(x1,...,xn) iﬀ the closed subset {Γ∈ Sn(T)|Σ⊆Γ} has empty interior in the space Sn(T). 13.3. Theorem (Omitting Types Theorem). Suppose L is a countable language, and let T be a satisﬁable theory in L. For each k ≥ 1 let Σk be a partial nk-type in L that is locally omitted by T. Then there is a countable model A of T such that for all k, Σk is omitted in A.
Proof. In order to keep the notation simpler, we ﬁrst consider the case of a single partial 1-type Σ(x). Let L0 be the language obtained from L by adding a countable set of new constants {cn | n ≥ 1}. Let ϕ1,ϕ2,... list the sentences of L0. Starting with T we construct an increasing sequence T = T0 ⊆ T1 ⊆ ... of satisﬁable sets of sentences in L0 such that each Tn+1 is a ﬁnite extension of Tn and the following conditions are satisﬁed: (a) For all m ≥1, Tm contains ϕm or ¬ϕm; (b) If m ≥1 and ϕm =∃yψ(y)∈ Tm, then ψ(cp)∈ Tm for some p ≥1; (c) For each m ≥1, there is some σ(x)∈Σ(x) such that ¬σ(cm)∈ Tm. First we show that it is suﬃcient to construct such an increasing chain of L0-theories. Let T0 = ∞ Sm =1 Tm. Then T ⊆ T0 and T0 is a maximal satisﬁable set of formulas in L0. Also, for any formula ψ(y) ∈ L0, if ∃yψ(y) is in T0, then ψ(cp) ∈ T0 for some p. Note that these are the conditions that also appear in the usual proof of the G¨odel Completeness Theorem. As in that proof, we deﬁne an L0-prestructure A with A ={cn | n ≥1}by interpreting the nonlogical symbols of L as follows: (1) If P is a k-ary predicate symbol in L, let PA(ci1,...,cik)⇔ P(ci1,...,cik)∈ T0. 68
(2) If F is a k-ary function symbol in L, take FA(ci1,...,cik) to be the earliest cp for which F(ci1,...,cik) = cp is in T0. (Note that the sentence ∃y(F(ci1,...,cik) = y) is in T0 since it is a valid sentence and T0 is maximal satisﬁable; therefore by (b) above there exists cp such that F(ci1,...,cik) = cp is in T0.) (3) If c is a constant in L, take cA to be the earliest cp for which c = cp is in T0. (As in (2), condition (b) above ensures that some such cp exists.) It is routine to show (by induction on formulas) that for any L0-sentence ϕ, one has A |= ϕ ⇔ ϕ ∈ T0. In particular, this shows that A is a prestructure, since any instance of an equality axiom (indeed, any valid sentence) is a member of T0. Furthermore, no element of A satisﬁes all formulas in Σ(x); this is ensured by condition (c) above. Thus A nearly satisﬁes the conclusion of the Theorem; the only problem is that A will generally be a prestructure rather than a structure. (A |= cm = cn if and only iﬀ the sentence cm = cm is in T0, and this may happen even when m 6= n.) By applying the quotient construction discussed in Appendix 2 of Section 1, we obtain an L0 structure B as a quotient of the prestructure A such that B is a model of T0 (and thus a model of T) that omits Σ(x). This argument shows that it suﬃces to construct the increasing chain T = T0 ⊆ T1 ⊆ ... satisfying the conditions above, including (a),(b),(c). We set T0 = T and deﬁne Tm for m ≥ 1 by induction. Given Tm−1, with m ≥ 1, we construct Tm as follows: (a) Let T0 m−1 =Tm−1 ∪{ϕm}, if this is satisﬁable Tm−1 ∪{¬ϕm}, otherwise. Note that T0 m−1 is satisﬁable. (b) Suppose ϕm ∈ T0 m−1 and ϕm = ∃yψ(y). Choose cp to be the ﬁrst newconstant not in ψ or T0 m−1 . Now T0 m−1∪{ψ(cp)} is satisﬁable (else T0 m−1 |= ¬ψ(cp) so T0 m−1 |= ∀y¬ψ(y); i.e. T0 m−1 |= ¬ϕm, which is a contradiction).Let T00 m−1 = T0 m−1 ∪{ψ(cp)}. (c) Suppose ¬σ(cm) is not consistent with T00 m−1 for all σ ∈ Σ. ThenT 00 m−1 |= σ(cm) for all σ ∈ Σ. There are L-formulas ψ1,...,ψk and constants c1,...,cN of L0 such that T00 m−1 = T ∪{ψj(c1,...,cN)| j = 1,...,k}(Choose N ≥ m so the new constants in T00 m−1 are among c1,...,cN. Choose variables z1,...,zN not occurring in T00 m−1 \ T. Let ψj be theresult of replacing ci by zi in the jth sentence of T00 m−1 \ T.). SoT ∪{ψj(c1,...,cN) | j = 1,...,k} |= σ(cm) for all σ ∈ Σ. Consider ϕ(zm) = ∃z1 ...∃zm−1∃zm+1 ...∃zN k Vj =1 ψj(z1,...,zN). Now ϕ(zm) is consistent with T, and T ∪{ϕ(zm)} |= σ(zm) for all σ ∈ Σ. Hence ϕ(x) is 69
consistent with T and T ∪{ϕ(x)}|= σ(x) for all σ ∈ Σ, contradicting the hypothesis that Σ is locally omitted. So, we can ﬁnally deﬁne Tm to be equal to the set T00 m−1 ∪{¬σ(cm)}, where σ ∈ Σ is chosen so that this set is satisﬁable. It is clear that this set Tm satisﬁes all of the conditions (a), (b), and (c). (Note that if m ≥ 1 and ϕm is in Tm, then ϕm must be in T0 m−1 , since otherwise ¬ϕm ∈ T0 m ⊆ Tm.) This completes the proof of the Theorem for a single partial 1-type. The proof can easily be modiﬁed to cover countably many partial types Σk(x1,...,xnk), k ≥1 (each locally omitted). Requirements (a) and (b) of the construction remain unchanged. For (c), enumerate all ﬁnite sequences α = (k,ci1,...,cink) where k ≥1, and ci1,...,cink are new constants. Then condition (c) becomes: For all m ≥ 1, Tm contains a formula ¬σ(ci1,...,cink) where σ ∈ Σk and α = (k,ci1,...,cink) is the mth sequence in the enumeration of all such sequences.   13.4. Remark. The Omitting Types Theorem can be rephrased topologically as follows: For each positive integer k, let Kk be a closed subset of Snk(T) that has empty interior in the logic topology. Then there is a countable model A of T that omits every type in the unionS{Kk | k ≥1}. Note that if we set K0 n =S{Kk | nk = n}, then we are omitting the unionS {K0 n | n ≥1}. Moreover, K0 n is a typical meager subset of Sn(T) for each n ≥1. 13.5. Remark. The Omitting Types Theorem (as stated here) is false for uncountable languages. An example of a partial 1-type that is locally omittedbyatheory, butnotomittedinanymodelofthattheoryisthefollowing: Let I be an uncountable set and let L be the language whose nonlogical symbols are the distinct constants{ci | i ∈ I}∪{dn | n ∈ N}. T has axioms ¬ci = cj for all i,j ∈ I,i 6= j. Now Σ(x) = {¬x = dn | n ∈ N} is locally omitted, but not omitted. Indeed, every model of T is uncountable, while any structure that omits Σ must be countable. 13.6. Deﬁnition. Let T be a satisﬁable theory and let Σ(x1,...,xn) be an n-type consistent with T. We say Σ(x1,...,xn) is principal (relative to T) if there is a formula ϕ(x1,...,xn) ∈ Σ(x1,...,xn) such that T |= ϕ(x1,...,xn)→ σ(x1,...,xn) holds for every formula σ(x1,...,xn)∈ Σ(x1,...,xn). We say that ϕ(x1,...,xn) is a complete formula in T if for every formula σ(x1,...,xn) in L, exactly one of the conditions T |= ϕ → σ,T |= ϕ →¬σ holds. 13.7. Remarks. Note that the n-type Σ(x1,...,xn) is principal iﬀ the singleton{Σ}is an open set in Sn(T). That is, principal n-types correspond to isolated points of Sn(T). If ϕ(x1,...,xn) is a complete formula in T, then there is a unique n-type Σ(x1,...,xn) that is consistent with T and contains ϕ(x1,...,xn), and this n-type is necessarily principal relative to T. Conversely, every principal 70
type relative to T is determined in this way by a formula that is complete in T.
For complete theories T in a countable language, the next result gives a characterization of those types that can be omitted in some model of T. 13.8. Theorem. Let T be a complete theory in a countable language and let Σ(¯ x) be an n-type consistent with T. Then Σ(¯ x) is principal if and only if it is realized in every model of T (if and only if it is realized in every countable model of T).
Proof. The second equivalence is a consequence of the Downward L¨owenheim-Skolem Theorem. We prove the ﬁrst equivalence. Let T be complete, L be countable and Σ(¯ x) an n-type consistent with T. If Σ is not principal, then T locally omits Σ (since Σ is maximal satisﬁable), so that Σ is omitted in some model of T by Theorem 13.3. Conversely, we need to prove that every principal type (relative to T) is realized in every model of T. Let Σ be a principal n-type, ϕ the complete formula determining Σ and let A |= T. We know that ϕ(¯ x) is consistent with T, hence ∃x1 ...∃xnϕ(x1,...,xn) is true in some model of T. Since T is complete, this implies that A |= ∃x1 ...∃xnϕ(x1,...,xn). Let a1,...,an satisfy ϕ in A. We have T ∪{ϕ} |= σ for all σ ∈ Σ, so that a1,...,an realizes Σ(x1,...,xn) in A.   13.9. Deﬁnition. We say that a structure A is atomic if every n-tuple in A satisﬁes a complete formula in Th(A). (Equivalently: A is an atomic model of T if every n-type realized in A is principal relative to Th(A).) 13.10. Fact. (a) If ϕ(¯x,y) is a complete formula in T, then so is ∃yϕ(¯x,y); (b) if A is an atomic model and a ∈ A, then (A,a) is also atomic. 13.11.Theorem. (a) If A and B are countable, atomic models, and A ≡ B, then A and B are isomorphic. (b) A countable atomic model is strongly ω-homogeneous.
Proof. (a) Let A and B be countable atomic models of T. The proof that A ∼ = B is done by a back-and-forth argument, where the key ingredient is homogeneity: Claim: If (A,a1,...,ak) ≡ (B,b1,...,bk) and if a ∈ A then there exists b ∈ B such that (A,a1,...,ak,a)≡(B,b1,...,bk,b). Using a familiar back-and-forth inductive argument, this is suﬃcient to build an isomorphism (noting that the roles of A and B can be interchanged.) Proof of the claim. tpA(a1,...,ak,a) is a (k + 1)-type consistent with T. Therefore it is principal (because A is atomic); say it is generated by the complete formula ϕ(x1,...,xk,y). We see that A |= 71
∃yϕ(¯x,y)[a1,...,ak]; our elementary equivalence hypothesis therefore implies B |= ∃yϕ(¯x,y)[b1,...,bk], so we can ﬁnd b ∈ B such that B |= ϕ[b1,...,bk,b]. Hence tpB(b1,...,bk,b) = tpA(a1,...,ak,a) and thus (A,a1,...,ak,a)≡(B,b1,...,bk,b.) This completes the proof of the claim, and therefore the proof of part (a). Part (b) follows immediately from part (a) and the fact that the structure (A,a1,...,an) is atomic whenever A is atomic. (See Fact 13.10.)
13.12. Deﬁnition. A model of a theory T is called a prime model of T if it can be elementarily embedded into each model of T.
13.13. Theorem. Let T be a complete theory in a countable language and let A be a model of T. Then A is a prime model of T if and only if A is countable and atomic.
Proof. We assume that the language considered here is countable. (⇐)Supposethemodel A ofthecompletetheory T iscountableandatomic. To show that A is prime we use the “forth” part of a “back-and-forth” construction: Let A = {a0,a1,a2,...}, and B be any model of T. Since A is atomic, there exists a complete formula ϕ0(x) satisﬁed in A by a0. Since ϕ0(x) is consistent with T, there exists a b0 ∈ B such that B |= ϕ0(b0). Because ϕ0(x) is a complete formula (with respect to T) we know that a0 has the same type (in A) that b0 has (in B). Next, let ϕ1(x,y) be a complete formula satisﬁed in A by a0,a1. Then T |= ϕ0(x) →∃yϕ1(x,y), since ϕ0 is complete; hence there exists b1 ∈ B such that B |= ϕ1(b0,b1). Continuing inductively in this way, we get a map f : A → B with f(an) = bn for each n ≥ 0. At each stage of the construction we can ensure that f is an elementary map on the set {a0,...,an}. Therefore it is an elementary map on its entire domain, which is all of A. Hence f is the desired elementary embedding of A into B. (⇒) Suppose A is a prime model of the complete theory T. Then A is necessarily countable as A can be elementarily embedded in every model of T, and T has countable models by the Downward L¨owenheim-Skolem Theorem. Let ¯ a ∈ A be an n-tuple. For any model B of T, we have anelementary embedding f : A → B. Hence B realizes tpA(¯ a). Since tpA(¯ a) is realized in every model of T it is principal (by Theorem 13.8). It follows that A is an atomic model.
For the rest of this chapter we consider the existence of atomic models. Note that if A is atomic, then so is every elementary substructure of A. Therefore, if T is a complete theory in a countable language and T has an atomic model, then it has a countable atomic model, by the Downward L¨owenheim-Skolem Theorem. 72
13.14. Theorem. Let T be a complete theory in a countable language L. Then T has an atomic model if and only if every L-formula that is consistent with T is an element of some principal type consistent with T. Proof. (⇒) Let A be an atomic model of T. If ϕ(x1,...,xn) is a formula consistent with T, then there exist a1,...,an ∈ A such that A |= ϕ[a1,...,an]. That is, ϕ(x1,...,xn) is a member of tpA(a1,...,an), which is principal, since A is an atomic model. (⇐) This direction uses the Omitting Types Theorem. For each n ≥1 let Σn(x1,...,xn) ={¬ϕ(x1,...,xn)| ϕ is a complete formula relative to T}. A model of T is atomic iﬀ it omits all of these partial types Σn. We use the Omitting Types Theorem to prove that there exists a model of T that omits all of these partial types. To apply this Theorem, we must show that Σn is locally omitted by T for each n ≥ 1. Fix n and assume Σn is not locally omitted. Then there exists a formula ψ(x1,...,xn) consistent with T such that for no σ ∈Σn is T ∪{ψ∧¬σ} satisﬁable; that is, T ∪{ψ}|= σ for all σ ∈ Σn. This means that for no complete formula ϕ(x1,...,xn) (relative to T) can the set T ∪{ψ ∧ϕ} be satisﬁable (by the way Σn was deﬁned). This violates our assumption on T; this contradiction shows that each Σn is locally omitted by T.
The next result gives a useful suﬃcient condition for the existence of an atomic model of a theory T in a countable language. 13.15. Theorem. Let T be a complete theory in a countable language, and suppose that for all n there are strictly fewer than continuum many diﬀerent n-types consistent with T. Then T has a countable atomic model.
Proof. We prove the contrapositive: If T has no atomic model, then for some n ≥ 1, T has at least 2ω distinct n-types. The proof is by a tree argument. Suppose T has no atomic model. Using Theorem 13.14, there exists n ≥1 and a formula ϕ(x1,...,xn) consistent with T such that ϕ(¯ x) is not in any principal n-type of T. That is, if τ(¯ x) is any formula such that ϕ(¯ x)∧τ(¯ x) is consistent with T, then τ is not complete relative to T. From this it follows that if ϕ(¯ x)∧τ(¯ x) is consistent with T then there is some further formula χ(¯ x) such that ϕ(¯ x)∧τ(¯ x)∧χ(¯ x) and ϕ(¯ x)∧τ(¯ x)∧¬χ(¯ x) are each consistent with T. This can be used to build a binary tree of formulas (with free variables among x1,...,xn) with the property that each branch of the tree is consistent with T, and distinct branches are inconsistent with each other. Each branch yields a nonempty closed subset of Sn(T), and these closed sets partition Sn(T). Since there are 2ω many branches, it will follow that Sn(T) has cardinality at least 2ω. 73
The partially ordered set used to index this binary tree will be denoted (Λ,≤). Here Λ = {0,1}<ω is the set of all ﬁnite sequences from {0,1}, including the empty sequence, which we denote by∅. For s,t ∈Λ, we write s ≤ t to mean that s is an initial subsequence of t. A typical position in the tree is indexed by an element s of Λ, and its immediate successors under ≤ are indexed by the sequences s0 and s1. We associate to each s ∈Λ an L-formula ψs(¯ x), proceeding by induction on the length of s. Each ψs(¯ x) will be consistent with T. Further, if s ≤ t, thenψ t(¯ x) will be the conjunction of ψs(¯ x) with some other formula. Finally, for any s ∈Λ, the formulas ψs0(¯ x) and ψs1(¯ x) will be logically inconsistent with each other; indeed, one of them will contain a conjunct whose negation is a conjunct of the other. At the top of the tree, s = ∅ and we set ψ∅(¯ x) equal to the formula ϕ(¯ x) that was identiﬁed at the beginning of this proof. Proceeding inductively, suppose we have deﬁned ψs(¯ x) and that this formula is consistent with T andistheconjunctionof ϕ(¯ x)withsomeotherformula. Asdiscussedabove, there exists a formula χs(¯ x) for which both ψs(¯ x)∧χs(¯ x) and ψs(¯ x)∧¬χs(¯ x) are consistent with T. We then deﬁne ψs0(¯ x) = ψs(¯ x)∧χs(¯ x) and ψs1(¯ x) = ψs(¯ x)∧¬χs(¯ x). Evidently this construction produces formulas satisfying the conditions in the previous paragraph.
As we go down a branch of the tree, we get a list of formulas ψs(¯ x) corresponding to the nodes on that branch. More precisely: For each function α : N → {0,1} set Σα(¯ x) = {ψα(0)α(1)...α(k) | k ≥ 0}.Each such set of formulas is a partial n-type consistent with T. Therefore, for each such α we may choose pα ∈ Sn(T) such that Σα ⊆ pα. If α 6= β then Σα ∪Σβ is not consistent with T. Indeed, if k is the least argumentatwhich α andβ disagreeandifs = α(0)...α(k−1), thenΣα∪Σβ will contain both ψs0(¯ x) and ψs1(¯ x), which are logically contradictory. It follows that pα 6= pβ whenever α,β are distinct functions fromNinto{0,1}. Hence the cardinality of Sn(T) is at least 2ω, as desired.   13.16. Corollary. Let T be a complete theory in a countable language. If T has a countable ω-saturated model, then T also has a countable atomic model.
Proof. If there exists a countable ω-saturated model of T, then by Theorem 6.2 there are only countably many types consistent with T. Hence T has a countable atomic model by Theorem 13.15 and the Downward L¨owenheimSkolem Theorem.
Exercises 13.17. Let T be a complete L-theory and let Σ be a partial n-type in L. If T has a model that omits Σ, show that Σ is locally omitted by T. 74
13.18. Let T be a complete L-theory and p ∈ Sn(T). Show that p is locally omitted by T iﬀ p is not an isolated point in the compact space Sn(T). 13.19. Let T be a complete theory in a countable language, with no ﬁnite models. Show that T has a countable atomic model iﬀ for each n ≥ 1 the set of isolated points is dense in the space Sn(T). 13.20. Let T be a complete theory in a countable language. For each positive integer k let Σk(¯ x) be a partial nk-type in L that is omitted in some model Ak of T. Show that there is a single countable model A of T that omits Σk(¯ x) for all k. 13.21. Let L be a countable language and let L0 be the result of adding countably many new predicate symbols {P1,P2,...} to L. Let T be a completetheoryinthelanguage L0 andletΓ(x1,...,xn)beasetofformulas in L. Let Tm be the set of sentences in T that contain Pn only for n = 1,...,m. Assumethatforeach m, Tm hasamodelthatomitsΓ(x1,...,xn). Show that T has a model that omits Γ(x1,...,xn). 13.22. Let T be a complete theory in a countable language and assume T has no ﬁnite models. Show that T is ω-categorical iﬀ T has a countable model that is both atomic and ω-saturated. 13.23. Let T be one of the following theories. (Each is a complete theory in a countable language, with no ﬁnite models.) + Equality on an inﬁnite set with inﬁnitely many named elements. (Example 3.16(ii), Exercise 10.1) + Inﬁnite vector spaces over a ﬁeld K. (Exercises 3.6, 5.4, 9.3, 10.3) + ACFp for a ﬁxed characteristic p. + Bijections without a ﬁnite cycle. (Problem 2.2, Exercise 10.2) + Discrete linear orderings without endpoints. (Example 5.6, Exercises 5.3, 9.4) + Discrete linear orderings with minimum but no maximum. (Problem 3.1) + Descending equivalence relations with inﬁnite splitting of classes. (Problem 4.1) + Dense linear orderings with increasing sequence of elements. (Problem 4.2) For each of these theories, do the following: • Show that T has a countable (inﬁnite) atomic model. • Try to describe the countable atomic model of T as a clear, speciﬁc mathematical structure. (According to Theorem 13.11, the countable inﬁnite atomic model of a complete theory is unique up to isomorphism, if such a model exists.) •For each principal n-type p that is consistent with T, try to give explicitly a complete formula contained in p.
75
14. ω-categoricity
In this chapter we consider ω-categorical theories in a countable language.
14.1. Theorem (Engeler, Ryll-Nardzewski, Svenonius). Let T be a complete theory in a countable language and suppose T has only inﬁnite models. The following conditions are equivalent: (1) T is ω-categorical; (2) For each positive integer n, every n-type consistent with T is principal; (3) For each positive integer n, there are only ﬁnitely many n-types consistent with T; (4) For each positive integer n and x = x1,...,xn, there are ﬁnitely many formulas ϕ1(x),...,ϕkn(x) such that each formula σ(x) is equivalent in T to ϕj(x) for some j = 1,...,kn.
Proof. Let T be a complete theory in a countable language. We will show (1)⇒(2)⇒(3)⇒(4)⇒(1). (1) ⇒ (2): If T is ω-categorical, then any two countable models of T are isomorphic and hence realize the same types. Therefore, no type consistent with T is omitted from any model of T. This implies that all types are principal. (2) ⇒ (3): Fix n ≥ 1. We argue by contradiction. Assume that all n-types consistent with T are principal and that there are inﬁnitely many n-types consistent with T. Each of them is determined by a complete formula, so there exist inﬁnitely many complete formulas ϕ1(x1,...,xn),ϕ2(x1,...,xn),... in L that are pairwise inequivalent in T. Since each ϕi(x1,...,xn) is a complete formula, we have T ∪{ϕi}|= ¬ϕj whenever i 6= j. Take {ϕi} to be a maximal list of inequivalent complete formulas; we have T ∪{¬ϕi | i ≥ 1} is inconsistent. (Every type is principal, so every tuple in every model of T satisﬁes a complete formula.) By the Compactness Theorem, thereissome N ∈Nsuchthat T∪{¬ϕ1,...,¬ϕN}isinconsistent, i.e. T |= ϕ1 ∨...∨ϕN. But T ∪{ϕN+1} is satisﬁable and implies ¬(ϕ1 ∨ ...∨ϕN). This contradiction implies that there can only be ﬁnitely many ϕi. (3) ⇒ (4): Fix n ≥ 1. Let t1,...,tN be a list of all the n-types consistent with T. It is an elementary fact that if ϕ1,ϕ2 are formulas and if for all types t consistent with T we have ϕ1 ∈ t ⇔ ϕ2 ∈ t, then T |= ϕ1 ↔ ϕ2. For each formula ϕ(x1,...,xn), let F(ϕ) = {j | ϕ ∈ tj,j = 1,...,N}. If F(ϕ1) = F(ϕ2) then T |= ϕ1 ↔ ϕ2. There are only ﬁnitely many distinct sets of the form F(ϕ) and hence there are only ﬁnitely many inequivalent formulas (relative to T) in the variables x1,...,xn. (4) ⇒ (1): We use (4) to show that every model of T is atomic. The ω-categoricity of T follows using Theorem 13.11. 76
Assume ϕ1(x1,...,xn),...,ϕk(x1,...,xn) are the ﬁnitely many formulas given by condition (4) (where x1,...,xn = x1,...,xn and k depends on n.) Given any A |= T and a1,...,an ∈ A, we want to ﬁnd a complete formula ϕ such that A |= ϕ[¯ a]. Consider ψ(x1,...,xn) = ^ A|=ϕj[¯ a] ϕj(x1,...,xn)∧ ^ A|=¬ϕj[¯ a] ¬ϕj(x1,...,xn) Clearly A |= ψ(x1,...,xn)[a1,...,an] (by the way ψ was deﬁned). We claim that ψ is a complete formula relative to T. To see this, consider an arbitrary formula ϕ(x1,...,xn); there is a j such that T |= ϕ ↔ ϕj. So either ϕ(x1,...,xn) is implied by T ∪{ψ} or ¬ϕ(x1,...,xn) is implied by T ∪{ψ}. But this implies that the type of (a1,...,an) in A is principal, and hence that every model of T is atomic.   14.2. Remark. Let A be a countable structure for a countable ﬁrst order language and suppose T = Th(A) is ω-categorical. Let G be the automorphism group of A, acting coordinatewise on An for each n ≥1. Then G has only ﬁnitely many distinct orbits on An for each n. This is an immediate consequence of condition (3) in Theorem 14.1 and the fact that the unique countablemodelofan ω-categoricaltheoryisstrongly ω-homogeneous. (See Theorems 6.2 and 12.5 or, alternatively, Theorem 13.11 and the existence results for atomic models later in Section 13.) Inﬁnite permutation groups of this kind have turned out to be very interesting; they are treated in the book Oligomorphic Permutation Groups by Peter Cameron. The next result gives a suﬃcient condition for Th(A) to be ω-categorical that is based on automorphism group considerations of this kind. 14.3. Theorem. Let L be a countable language, let A be any L-structure, and T = Th(A). If G = Aut(A) has only ﬁnitely many orbits on An for each n ≥1, then T is ω-categorical. Proof. Let A satisfy the given hypotheses. We will show that A realizes every type that is consistent with T. The automorphism condition on A implies that A can only realize ﬁnitely many n-types for each n. Therefore T is ω-categorical since it satisﬁes condition (3) of Theorem 14.1. So, let Σ(x1,...,xn) be any n-type consistent with T. Given σ(x1,...,xn) ∈ Σ(x1,...,xn), T |= ∃x1 ...∃xnσ(x1,...,xn) (since T is complete), hence there is ¯ a ∈ An with A |= σ[¯ a]. Let F ⊆ An be a ﬁniteset that selects one n-tuple from each orbit under the action of G. The ¯ a satisfying σ in A can be taken from F. Suppose Σ(x1,...,xn) is not realized in A. For each ¯ a ∈ F we get σ¯ a ∈Σ(x1,...,xn) such that A |=¬σ¯ a[¯ a]. Consider σ(x1,...,xn) = V ¯ a∈F σ¯ a ∈ Σ. There is some ¯ b ∈ F satisfying σ(x1,...,xn) in A. However, this implies that ¯ b satisﬁes ¬σ¯ b since it is a conjunct of σ. This is a contradiction.   77
14.4. Example. Let A = (Q,<). We will show directly (using additional structure on Q) that G = Aut(A) has only ﬁnitely many orbits on Qn for each n. The main idea is the following: given q0 < q1 < ... < qn in Q, there is g ∈ G such that g(k) = qk for k = 0,...,n. Indeed, we may deﬁne g by:
g(r) =
                
r + q0, for r < 0 rq1 −(r−1)q0, for 0≤ r < 1 . . . . . . (r−k)qk+1 −(r−k−1)qk, for k ≤ r < k +1 . . . . . . r + qn −n, for n ≤ r. This construction together with Theorem 14.3 proves that Th(Q,<) is ωcategorical. (However, this proof does not show, as does Cantor’s back and forth argument, that the theory of (Q,<) is axiomatized by the sentence asserting that it is a dense linear ordering without endpoints.) 14.5. Fact. Let T be an ω-categorical complete theory in a countable language. (a) If A is any model of T and a1,...,an ∈ A, then Th(A,a1,...,an) is ω-categorical. (b) If A is any model of T and if B is any structure for any countable language such that the universe of B and all of its interpretations of predicate symbols and function symbols are 0-deﬁnable in A, then Th(B) is also ω-categorical. (The universe of B is allowed to be a set of n-tuples from the universe of A.) In particular, any restriction of T to a smaller language is ω-categorical. 14.6. Theorem (Vaught). Let T be a complete theory in a countable language. If T is not ω-categorical, then T has at least 3 nonisomorphic countable models.
Proof. Suppose that the number of nonisomorphic countable models of T is countable (possibly inﬁnite). Then T has at most countably many n-types for all n ≥1 (as countably many countable models realize all the types that can be realized.) Then by Theorem 13.15, T has a countable atomic model A and by Theorem 6.2, T has a countable ω-saturated model B. If A ∼ = B then every type consistent with T is realized in A and hence is principal, so T is ω-categorical, by Theorem 14.1. So we assume that A 6∼ = B. For some n ≥ 1 there exists at least one n-type Σ( x1,...,xn) that is consistent with T and is not principal. Then B realizes Σ(x1,...,xn) and A doesn’t. Let b1,...,bn realize Σ(x1,...,xn) in B and let T0 = Th(B,b1,...,bn) in L(b1,...,bn). Note that T0 cannot satisfy condition (4) of Theorem 14.1, since T does not satisfy this condition. Indeed, any L-formulas that are inequivalent in T will remain inequivalent in T0. So T0 has at least two nonisomorphic 78
countablemodels. Let(C,c1,...,cn)beamodelof T0 thatisnotisomorphic to (B,b1,...,bn). Then A 6∼ = C, since C realizes Σ and A doesn’t. Moreover, B 6∼ = C, since B is ω-saturated and C isn’t; otherwise, by Theorem 12.6, (B,b1,...,bn) and (C,c1,...,cn) would be isomorphic.
Quite a lot is known about the countable models of a complete theory in a countable language, and this topic has been an active one in research in model theory up to the present day. However, the following diﬃcult problem is still open: Vaught’s Conjecture: Let T be a complete theory in a countable language. If T has an uncountable number of nonisomorphic countable models then T has continuum many nonisomorphic countable models.
79
15. Skolem Hulls
Let L be a ﬁrst order language and T an L-theory. We say that T has Skolem functions if for every L-formula ϕ(x1,...,xn,y) there is an n-ary function symbol f in L such that T |=∀x1 ...∀xn∃yϕ(x1,...,xn,y)→ ϕ(x1,...,xn,f(x1,...,xn)). Note that if T has Skolem functions, then so does any extension of T in the same language. In particular, every completion of T has Skolem functions. Note also that L must contain a constant symbol (apply the deﬁnition to the formula ∃y(y = y)). 15.1. Proposition (Skolemization). Let L be a ﬁrst order language and T an L-theory. There exists a ﬁrst order language L0 ⊇ L and an L0-theory T0 ⊇ T with the following properties: (a) T0 has Skolem functions; (b) Every model of T has an expansion to a model of T0; (c) L0 has the same cardinality as L.
Proof. Inductively build an increasing sequence of ﬁrst order languages (Lk | k ∈ N) with L0 = L and an increasing sequence of theories (Tk | k ∈ N) with T0 = T, such that Tk an Lk-theory for each k ≥ 1. To obtain Lk+1 from Lk we add a new function symbol fϕ for each Lkformula ϕ(x1,...,xn,y); to obtain Tk+1 from Tk add all sentences of the form ∀x1 ...∀xn∃yϕ(x1,...,xn,y)→ ϕ(x1,...,xn,fϕ(x1,...,xn)).Finally, let L0 be the union of all the languages Lk and let T0 be the union ∪{Tk | k ∈N}. To prove (a), we note that each formula of L0 is an Lk-formula for some k. To prove (b), we see that each Lk-structure that is a model of Tk can be expanded to an Lk+1-structure that is a model of Tk+1, using the axiom of choice to interpret each new function symbol appropriately. To prove (c), we note that in constructing Lk+1 from Lk, we added one new symbol for each Lk-formula; hence card(Lk+1) = card(Lk) for each k ∈N. It follows that card(L0) = card(L0) = card(L).   15.2. Remark. Any theory T0 satisfying the conditions in Proposition 15.1 will be called a Skolemization of T. From condition 15.1(b) it follows that any Skolemization of T is a conservative extension of T. (Proof: Suppose σ is an L-sentence such that T0 |= σ. If A is any L-structure that is a model of T, then A has an expansion to an L0-structure A0 that is a model of T0. It follows that A0 |= σ and hence also A |= σ. Thus T |= σ.) 15.3. Proposition. Let T be a theory that has Skolem functions. Then T admits quantiﬁer elimination. Moreover, if A is a model of T and X ⊆ A, 80
then the substructure of A generated by X is an elementary substructure of A.
Proof. Suppose ϕ(x1,...,xn,y) is any formula in the language of T. Since T has Skolem functions there is a function symbol f such that T |=∀x1 ...∀xn(∃yϕ(x1,...,xn,y)→ ϕ(x1,...,xn,f(x1,...,xn))). Butthisimpliesthat∃yϕ(x1,...,xn,y)and ϕ(x1,...,xn,f(x1,...,xn))are equivalent in all models of T. Lemma 8.4 yields that T admits QE. Let hXiA be the substructure of A generated by X (it is nonempty since L has constants). The Tarski-Vaught test yields that hXiA is an elementary substructure of A. Indeed, suppose ψ(x1,...,xn,y) is a formula in the language of T and a1,...,an are in hXiA and satisfy A |= ∃yψ(x1,...,xn,y)[a1,...,an]. Since T has Skolem functions, its language has a function symbol f such that A |= ψ(x1,...,xn,y)[a1,...,an,fA(a1,...,an)]. Since fA(a1,...,an) is in hXiA, we see that this substructure satisﬁes the criterion in Theorem 3.8.   15.4. Deﬁnition. Let T be a theory that has Skolem functions and let A be a model of T. For any subset X of A, the substructure of A generated by X (denoted hXiA) is called the Skolem hull of X in A. Note that if T is a theory that has Skolem functions, A |= T, and X ⊆ A, then hXiA = aclA(X). The containment ⊆ is true for every structure A and X ⊆ A. The opposite containment follows from the fact that hXiA is an elementary substructure of A and contains X. 15.5. Proposition. Let T be a theory that has Skolem functions and let A,B be models of T. Suppose f: X → Y is an elementary map with respect to A,B (so X ⊆ A and Y ⊆ B). Then f extends to an elementary embedding from the Skolem hull hXiA into hYiB, and such an extension is unique. Moreover, if f(X) = Y then this extension is an isomorphism. Proof. The existence of an extension of f to an embedding of hXiA into hYiB follows from Lemma 3.14. This is an elementary embedding because hXiA andhYiB aremodelsof T, whichadmitsQE.Uniquenessisimmediate from the fact that every element of hXiA is the value of an L(X) term in A. If f(X) = Y, then we may reverse the roles of X and Y and apply the same argument to f−1: Y → X, and the extensions of f and f−1 will be inverses of each other.
81
16. Indiscernibles
16.1. Deﬁnition. Let A be an L-structure, (I,<) a linear ordering, and (ai | i ∈ I) a family of elements of A. We say (ai | i ∈ I) is a family of ordered indiscernibles (with respect to the ordering < on I and the structure A) if it has the following property: for any L-formula ϕ(x1,...,xn) and any two increasing sequences i1 < ••• < in and j1 < ••• < jn from (I,<), we have the equivalence A |= ϕ[ai1,...,ain] ⇔ A |= ϕ[aj1,...,ajn]. Note that if (ai | i ∈ I) is indiscernible in A and there exist distinct i,j ∈ I for which ai = aj, then ai = aj holds for all i,j ∈ I. (Apply the deﬁnition to the formula x = y.) 16.2. Proposition. Let T be a theory with an inﬁnite model. There exists a model A of T and a nonconstant sequence (ak | k ∈N) that is an sequence of ordered indiscernibles in A.
Proof. Let L be the language of T; let L0 be the language obtained from L by adding a family (ck | k ∈ N) of distinct constants. Let T0 be the L0-theory consisting of T together with all the sentences ck 6= cl for distinct k,l ∈ N, and all the sentences ϕ(ci1,...,cin)↔ ϕ(cj1,...,cjn)where ϕ(x1,...,xn) is any L-formula and i1 < ••• < in and j1 < ••• < jn are sequences from N. (We will refer to these last sentences as the “indiscernibility axioms” in T0.) If B is a model of T0 and A is the reduct of B to L, then (cB k | k ∈ N) isevidently a nonconstant sequence of ordered indiscernibles in A. Hence it suﬃces to show that T0 has a model, which we do using the Compactness Theorem. Let A be any inﬁnite model of T and let α: N→ A be any 1-1 function. Let Σ be any ﬁnite subset of T0. Let F be the set of k ∈Nsuch that ck occurs in some member of Σ. Let ψ1,...,ψm be all the indiscernibility axioms that occur in Σ. We may assume that there exist L-formulas ϕj(x1,...,xn) such that for each j = 1,...,m the sentence ψj is logically equivalent to ϕj(ci1,...,cin)↔ ϕj(cj1,...,cjn).for some sequences i1 < ••• < in and j1 < ••• < jn from F. We now deﬁne a coloring function C: [N]n → P({1,...,m}), to which we will apply Ramsey’s Theorem. Namely, for each i1 < ••• < in from N we take C(i1,...,in) to be the set of all j ∈ {1,...,m} such that A |= ϕj[α(i1),...,α(in)]. By Ramsey’s Theorem there is an inﬁnite set H ⊆N that is homogeneous for C; that is, C(i1,...,in) = C(j1,...,jn) whenever i1 < ••• < in and j1 < ••• < jn are sequences from H. Let g: F → H be any increasing function. We obtain a model of Σ by using A to interpret the symbols of L and by interpreting ck as α(g(k)) for 82
each k ∈ F. (The other ck do not occur in Σ.) This shows that every ﬁnite subset of T0 has a model.
16.3. Remark. It is sometimes useful to extend the previous result in the following way. Suppose ϕ(x,y) is an L-formula and A is a model of T with an inﬁnite subset S ⊂ A such that {(a,b) ∈ S2 | A |= ϕ[a,b]} is a linear ordering on S. By taking an elementary extension if necessary, we may assume that there is a function α: N→ A such that A |= ϕ[α(k),α(l)] for all k < l in N. Using this function in the above proof yields a nonconstant sequence of ordered indiscernibles (ak | k ∈ N) in a model of T such that ϕ(ak,al) holds for k,l ∈N if and only if k < l. 16.4. Deﬁnition. Let (ai | i ∈ I) be a sequence of ordered indiscernibles in A, with I inﬁnite, and let (xk | k ∈ N) be a ﬁxed sequence of distinct variables. The type of (ai | i ∈ I) in A is the set of all L-formulas ϕ(x1,...,xn) such that A |= ϕ[ai1,...,ain] for every (equivalently, some) sequence i1 < ••• < in from (I,<). 16.5. Proposition. Let (ai | i ∈ I) be a sequence of ordered indiscernibles in A, with I inﬁnite, and let (J,<) be another inﬁnite linear ordering. There exists B ≡ A and a sequence of ordered indiscernibles (bj | j ∈ J) in B having the same type as (ai | i ∈ I). Proof. An easy application of the Compactness Theorem.
Ehrenfeucht-Mostowski Models
We combine the construction of indiscernible sequences with the Skolem hulls that were discussed in the previous chapter to produce models that have a large group of automorphisms and models that realize few types. The starting point is a complete theory T in a ﬁrst order language L. We suppose T has inﬁnite models. Let T0 be a Skolemization of T, in the language L0. Take any inﬁnite model A of T0 with a nonconstant sequence of ordered indiscernibles (ak | k ∈N) and let Φ be the type of this sequence in A. We will refer to such a Φ as the type of a nonconstant sequence of ordered indiscernibles in a model of a Skolemization T0 of T. Given such a Φ, we construct a model of T0 for each inﬁnite ordered set (I,<), which we will denote as Φ(I,<). To do this, let B be a model of T0 and (bi | i ∈ I) a sequence of ordered indiscernibles that has type Φ in B. Take Φ(I,<) to be the Skolem hull of {bi | i ∈ I} in B. Since Φ contains the formula x1 6= x2, we may take bi = i with no loss of generality; that is, we may take Φ(I,<) to be generated by I as an L0-structure. Note that this construction is canonical. Suppose (ci | i ∈ I) is another sequence of ordered indiscernibles that has type Φ in another model C. Let X = {bi | i ∈ I} and Y = {ci | i ∈ I} and consider the map f: X → Y deﬁned by f(bi) = ci for all i ∈ I. Since these indiscernible sequences have 83
the same type, f is an elementary map with respect to B,C. Therefore, by Proposition 15.5, f extends to an isomorphism from hXiB onto hYiC. Using a similar idea we can make this construction functorial. Suppose (I,<) and (J,<) are inﬁnite linear orderings, that (bi | i ∈ I) has type Φ in B and that (ci | j ∈ J) has type Φ in C. For each order preserving function F : I → J we consider F as a map from {bi | i ∈ I} to {cj | j ∈ J} by taking each bi to cF(i). Since these indiscernible sequences have the same type, this deﬁnes an elementary map with respect to B,C. Therefore it extends in a unique way to an elementary embedding of the Skolem hulls, by Proposition 15.5. We denote this extension by Φ(F). To summarize, our construction yields the following: for each inﬁnite linear ordering (I,<) we have a model Φ(I,<) of the Skolemization T0 of T; this model is generated as an L0-structure by the set I, and (I,<) itself is a sequence of ordered indiscernibles in Φ(I,<). Moreover, for each order preserving map F : (I,<) → (J,<) of inﬁnite linear orderings, we have an elementary embedding Φ(F) from Φ(I,<) into Φ(J,<) that extends F. Finally, this is functorial; that is, Φ maps the identity function on (I,<) to the identity on Φ(I,<), and satisﬁes Φ(F)◦Φ(G) = Φ(F ◦G) whenever F,G are order preserving maps that can be composed. We give two applications of this construction. 16.6. Corollary. Let T be an L-theory with inﬁnite models. For any cardinal κ such that card(L) ≤ κ there is a model A of T such that A has cardinality κ and A has 2κ automorphisms (which is the maximum possible number).
Proof. LetΦbethetypeofanonconstantsequenceoforderedindiscernibles in a model of a Skolemization T0 of T, such that the language of T0 has the same cardinality as L. Let I = κ×Z with the lexicographic ordering (α,m) < (β,n) iﬀ (α < β or (α = β and m < n)). Note that Φ(I,<) has cardinality κ, since it is generated by a set of cardinality κ in a language of cardinality at most κ. Note that (I,<) has 2κ many automorphisms. (For each function ϕ: κ →{0,1}, the map taking (α,n) to (α,n + ϕ(α)) is an automorphism of (I,<).) Also, we know that each automorphism of (I,<) extends to an automorphism of Φ(I,<). Therefore the reduct of Φ(I,<) to L is a model of T of cardinality κ that has 2κ many automorphisms.
16.7. Corollary. Let L be a countable ﬁrst order language and let T be a complete L-theory with inﬁnite models. For every inﬁnite cardinal κ, there is a model A of T such that A has cardinality κ but for every countable subset C ⊆ A and every n ≥1, only countably many n-types are realized in (A,a)a∈C.
Proof. LetΦbethetypeofanonconstantsequenceoforderedindiscernibles in a model of a Skolemization T0 of T (so the language of T0 is countable). 84
Let A = Φ(κ,<). Then the reduct of A to L is a model of T of cardinality κ. We will show it satisﬁes the condition in this Corollary. Let C be a countable subset of A. For each a ∈ C there is an L0-term ta and a ﬁnite sequence sa from κ such that a is the value of ta(sa) in A. Let S be the subset of κ consisting of all ordinals that occur in sa for some a ∈ C. Since C is countable and each sa is ﬁnite, we see that S is countable. Suppose X,Y are subsets of κ that contain S, and that f: X → Y is order preserving and is the identity on S. By Proposition 15.5, f has a unique extension to an elementary map from hXiA to hYiA, which we denote by ˜ f. Both of these Skolem hulls are elementary substructures of A. Since f is the identity on S, its extension is the identity onhSiA, which contains C. Therefore, for any tuple a1,...,an in hXiA, the types realized by (a1,...,an) and by (˜ f(a1),..., ˜ f(an)) in (A,a)a∈C are the same. Suppose α1,...,αn and β1,...,βn are sequences of the same length from κ; we will say that these sequences are S-equivalent if there is an order preserving map that is the identity on S and takes αj to βj for each j = 1,...,n. Since S is countable, there exists a countable subset X of κ such that any ﬁnite sequence in κ is S-equivalent to some sequence in X. (To S we need to add at most ω many ordinals from each cut in κ that is determined by S.) Note that hXiA is countable. Let (a1,...,an) be any n-tuple from A. For each j = 1,...,n, let tj be an L0-term and sj a ﬁnite sequence from κ such that aj is the value of tj(sj) in A. Let α1,...,αp be the ordinals that occur in the sequences s1,...,sn. Let β1,...,βp be S-equivalent to α1,...,αp with βi ∈ X for all i = 1,...,p, and let f be an order preserving map that is the identity on S and takes αi to βi for each i. Then ˜ f(aj) is an element of hXiA for each j = 1,...,n.Moreover, as noted above, ( a1,...,an) and (˜ f(a1),..., ˜ f(an)) realize the same type in (A,a)a∈C. Since hXiA is countable, this shows that for any countable C ⊆ A, only countably many n-types are realized in the L0(C)-structure (A,a)a∈C. Hence the same is true if we replace A by its reduct to L.
85
17. Morley rank and ω-stability
In this chapter T is a complete L-theory. Also, x and y denote ﬁnite tuples of variables, x = x1,...,xm and y = y1,...,yn; we will write ∀x instead of ∀x1 ...∀xm, and similarly for ∃x and other strings of variables. If A is an L-structure and ϕ(x) is an L(A)-formula, we will use the canonical interpretation of ϕ(x) in A (which corresponds to interpreting ϕ(x) in (A,a)a∈A). 17.1.Deﬁnition. Wedeﬁnearelation“RMx(A,ϕ(x))≥ α”, where A |= T, ϕ(x) is an L(A)-formula, and α is an ordinal; the deﬁnition is by induction on α. (1) RMx(A,ϕ(x))≥0 iﬀ A |=∃xϕ(x); (2) RMx(A,ϕ(x))≥ α +1 iﬀ there is an elementary extension B of A and a sequence (ϕk(x)| k ∈N) of L(B)-formulas such that (a) B |=∀xϕk(x)→ ϕ(x)for all k ∈N; (b) B |=∀x¬ϕk(x)∧ϕl(x)for all distinct k,l ∈N; and (c) RMx(B,ϕk(x))≥ α for all k ∈N;(3) for λ a limit ordinal, RMx(A,ϕ(x)) ≥ λ iﬀ RMx(A,ϕ(x)) ≥ α for allα < λ . 17.2. Lemma. Suppose A |= T and ϕ(x) is an L(A)-formula. Let S be the set of ordinals α such that RMx(A,ϕ(x)) ≥ α holds. Then exactly one of the following alternatives holds: (1) S is empty; (2) S is the class of all ordinals; (3) S ={α | α is an ordinal and α ≤ γ} for some ordinal γ.
Proof. The main point is to show, by induction on the ordinal α, that if RMx(A,ϕ(x))≥ α and α > β ≥0, then RMx(A,ϕ(x))≥ β. The key step in this induction is when α is a successor ordinal. Assume RMx(A,ϕ(x))≥ α+1. Then we get an elementary extension B of A and a sequence (ϕk(x)| k ∈N)of L(B)-formulasasinclause(2)ofDeﬁnition17.1. Bytheinduction assumption we have that RMx(B,ϕk(x)))≥0 for each k, so each ϕk(x) is satisﬁablein B. Itfollowsthat ϕ(x)isalsosatisﬁablein B, andhencealsoin A, since ϕ(x) is an L(A)-formula and A B. Therefore RMx(A,ϕ(x))≥0. If β +1 < α +1, then β < α, so by the induction hypothesis we have that RMx(B,ϕk(x)))≥ β for each k. Therefore RM(A,ϕ(x))≥ β +1. Finally, if β is a limit ordinal < α, we have (from the induction hypothesis and the successor ordinal case just treated) RM(A,ϕ(x)) ≥ δ for every δ +1 < β. But this implies RM(A,ϕ(x))≥ β, since β is a limit ordinal. From the ﬁrst part of this proof, we have that S is an initial segment of the ordinals. If it is not the class of all ordinals, then it equals {α | α < β}, where β is the least ordinal not in S. If S is nonempty, β must be a successor ordinal, since S is closed upwards under limits by Deﬁnition 17.1(3). Condition (3) holds when γ is the predecessor of β.   86
The previous result allows us to deﬁne a value for “RMx(A,ϕ(x))” in the following natural way; this is called the Morley rank of ϕ(x). 17.3. Deﬁnition (Morley rank). Let A be a model of T and let ϕ(x) be an L(A)-formula. If RMx(A,ϕ(x)) ≥ α is false for all ordinals α, then we write RMx(A,ϕ(x)) =−∞. If RMx(A,ϕ(x))≥ α holds for all ordinals α, then we write RMx(A,ϕ(x)) = +∞. Otherwise we deﬁne RMx(A,ϕ(x)) to be the greatest ordinal α for which RMx(A,ϕ(x)) ≥ α holds. To indicate that RMx(A,ϕ(x)) is an ordinal we write 0≤ RMx(A,ϕ(x)) < +∞ or we say that the L(A)-formula ϕ(x) is ranked. 17.4. Lemma. Let A is a model of T and ϕ(x,y) an L-formula. If a is a ﬁnite tuple of elements of A, then the value of RMx(A,ϕ(x,a)) depends only on tpA(a).
Proof. Let ϕ(x,y) be an L-formula. It suﬃces to prove for each ordinal α that the truth of the relation “RMx(A,ϕ(x,a)) ≥ α” only depends on tpA(a). We do this by induction on α. The initial step α = 0 and the induction step when α is a limit ordinal are trivial. So, suppose the statement of the Lemma holds for all ordinals α < β +1. For j = 1,2, let Aj be a model of T and aj a ﬁnite tuple from Aj, and assume that tpA1(a1) = tpA2(a2). We assume RMx(A1,ϕ(x,a1)) ≥ β +1 and need to prove RMx(A2,ϕ(x,a2))≥ β +1. The assumption yields an elementary extension B1 of A1, a sequence (ϕk(x,zk) | k ∈ N) of L-formulas and, for each k ∈ N, a ﬁnite tuple bk from B1 such that the formulas (ϕk(x,bk) | k ∈ N) witness that RMx(A1,ϕ(x,a1))≥ β +1. That is: (a) B1 |=∀xϕk(x,bk)→ ϕ(x,a1)for all k ∈N; (b) B1 |=∀x¬ϕk(x,bk)∧ϕl(x,bl)for all distinct k,l ∈N; and (c) RMx(B1,ϕk(x,bk))≥ β for all k ∈N. Now let B2 be any ω-saturated elementary extension of A2. We know that tpB1(a1) = tpB2(a2). Since B2 is ω-saturated, wemayconstructinductively a sequence (ck | k ∈N) of ﬁnite tuples from B2 such that for all k ∈N tpB2(a2c0 ...ck) = tpB1(a1b0 ...bk). It follows that (a) B2 |=∀xϕk(x,ck)→ ϕ(x,a2)for all k ∈N; (b) B2 |=∀x¬ϕk(x,ck)∧ϕl(x,cl)for all distinct k,l ∈N; and (c) RMx(B2,ϕk(x,ck))≥ β for all k ∈N. (Statements (a) and (b) are immediate; for (c) we use the induction hypothesis.) That is, the formulas (ϕk(x,ck) | k ∈ N) and the model B2 witness that RMx(A2,ϕ(x,a2))≥ β +1.   17.5. Notation. Let ϕ(x,y) be an L-formula and a a tuple of elements of a model A of T. We will write RM(ϕ(x,a)) in place of RMx(A,ϕ(x,a)), as long as the type tpA(a) and the tuple of variables x are understood. 87
17.6. Lemma. Let A be an ω-saturated model of T and let ϕ(x) be an L(A)-formula. In applying Deﬁnition 17.1, in the clause deﬁning RMx(A,ϕ(x)) ≥ α + 1 one may take the elementary extension B to be A itself.
Proof. Exactly like the argument for the successor ordinal induction step in the proof of Lemma 17.4.   17.7. Lemma (Properties of Morley rank). Let A be a model of Tand let ϕ(x),ψ(x) be L(A)-formulas. (1) RM(ϕ(x)) = 0 iﬀ the number of tuples u ∈ A for which A |= ϕ(u) is ﬁnite and > 0; (2) if A |=∀xϕ(x)→ ψ(x), then RM(ϕ(x))≤ RM(ψ(x)); (3) RM(ϕ(x)∨ψ(x)) = max(RM(ϕ(x)),RM(ψ(x)); (4) if 0 ≤ β < RM(ϕ(x)) < +∞, then there exists an elementary extension B of A and an L(B)-formula χ(x) such that B |= χ(x) → ϕ(x) and RM(χ(x)) = β.
Proof. (1) Note that if ϕ(x) is satisﬁed in A by inﬁnitely many distinct values of x, say by (uk | k ∈ N), then the formulas ϕk(x,uk) that express x = uk have Morley rank ≥0 and thus witness that ϕ(x) has Morley rank ≥1. (2) One proves by induction on the ordinal α that if A |=∀xϕ(x)→ ψ(x) and RM(ϕ(x))≥ α, then RM(ψ(x))≥ α. (3) Since A |=∀xϕ(x)→(ϕ(x)∨ψ(x)), part (2) yields that RM(ϕ(x))≤ RM(ϕ(x)∨ψ(x)). Likewise, RM(ψ(x)) ≤ RM(ϕ(x)∨ψ(x)), so we have max(RM(ϕ(x)),RM(ψ(x))) ≤ RM(ϕ(x)∨ ψ(x)). To get the reverse inequality, one proves by induction on the ordinal α that RM(ϕ(x)∨ψ(x))≥ α implies RM(ϕ(x))≥ α or RM(ψ(x))≥ α. (4) Let F be all formulas ψ(x) with parameters from an elementary extension B of A such that ψ(x) → ϕ(x) is valid in B. Suppose β is an ordinal that is not the Morley rank of any formula in F. Therefore, if ψ(x) is any such formula and RM(ψ(x))≥ β, one has RM(ψ(x))≥ β +1. Now prove by induction on the ordinal α that if ψ(x) ∈ F and RM(ϕ(x)) ≥ β, then one has RM(ψ(x)) ≥ α. From this it follows that no ordinal ≥ α is the Morley rank of a formula in F. Statement (4) follows immediately from this result.   17.8. Remark. Part (4) of the previous result shows that the ordinals that occur as Morley ranks of formulas ϕ(x,a) form an initial segment of the class of all ordinals. Moreover, the number of such ordinal ranks is ≤ κ, where κ is the maximum of the number of types of ﬁnite tuples (over the empty set) in models of T and the cardinality of L. Since every type is a set of L-formulas, κ ≤ 2card(L). Therefore, there exists an ordinal αT < (2card(L))+ such that the set of ordinal Morley ranks is exactly the set of ordinals < αT. 88
17.9. Lemma (Morley degree). Let A be a model of T and ϕ(x) a ranked L(A)-formula. There exists a ﬁnite bound on the integers k such that there exists an elementary extension B of A and L(B)-formulas (ϕj(x)|0≤ j < k) that satisfy the conditions (a) RM(ϕj(x)) = RM(ϕ(x)) for all j < k; (b) B |=∀xϕj(x)→ ϕ(x)for all j < k; (c) B |=∀x¬ϕi(x)∧ϕj(x)for all distinct i,j < k. Moreover, the maximum value of k depends only on tpA(a). If A is ωsaturated, a sequence of such formulas with maximal k can be found for B equal to A itself.
Proof. Let A be a model of T, ϕ(x,y) an L-formula, and a a tuple from A; assume RM(ϕ(x,a)) = α is an ordinal. Suppose B is an elementary extension of A and (ϕj(x) | 0 ≤ j < k) is a sequence of L(B)-formulas that satisfy conditions (a),(b),(c) in the statement of the Lemma. For each 0 ≤ j < k, let ψj(x,yj) be an Lformula and bj a ﬁnite tuple from B such that ϕj is ψ(x,bj). The fact that conditions (a),(b),(c) hold is equivalent to a property of the type realized by a,b0,...,bk−1 in B. (For clause (a) we apply Lemma 17.4.) Therefore, the existence of B and k such formulas (ϕj(x)|0≤ j < k) depends only on the type realized by a in A. Moreover, if such a sequence of k formulas exists for some elementary extension of A, and if B is any speciﬁc ω-saturated elementary extension of A, then we can ﬁnd such a sequence of k formulas for B. (Just realize the type of the parameter sequence b0,...,bk−1 over a in B. Therefore, in proving that the maximum value of k exists, we may assume that A is ω-saturated and restrict ourselves to considering sequences of L(A)-formulas (ϕj(x)|0≤ j < k). Let Λ be the set of ﬁnite sequences from {0,1}; for σ,τ ∈Λ we write σ ⊆ τ to mean that τ is an extension of σ. If σ ⊆ τ and the length of τ is exactly one more than the length of σ, then we call τ an immediate extension of σ and write τ as σ0 or σ1 to indicate which is the last entry in the sequence τ. In our construction we use the fact that (Λ,⊆) is a well-founded partial ordering whose least element is the empty sequence (denoted ∅). We build a nonempty subset S of Λ that is closed under restriction (σ ⊆ τ ∈ S implies σ ∈ S); further, for each σ ∈ S we deﬁne an L(A)-formula ϕσ of Morley rank α. This is done by induction on the binary tree (Λ,⊆). For the basis step, we put∅∈ S and deﬁne ϕ∅ = ϕ(x,a). For the induction step, consider σ ∈ Λ and suppose we have dealt with all τ ∈ Λ that are shorter than σ. If σ 6∈ S, then neither immediate extension of σ gets put into S. If σ ∈ S, there are two cases. First, suppose there is an L(A)formula ψ(x) such that both ϕσ∧ψ and ϕσ∧¬ψ have Morley rank equal to α. In that case we choose such a formula ψ, put both immediate extensions of σ into S, and set ϕσ0 = ϕσ∧ψ and ϕσ1 = ϕσ∧¬ψ. Second, if no such ψ 89
exists, then neither immediate extension of σ gets put into S. (Note that in this latter case, for every L(A)-formula ψ(x), one of the formulas ϕσ∧ψ and ϕσ∧¬ψ has Morley rank = α and the other one has Morley rank < α. (See Lemma 17.7(3).) Next we prove that S is ﬁnite. Otherwise, by K¨onig’s Lemma, there is an inﬁnite branch in S. That is, there exists a function f: N → {0,1} such that for all k ∈ N the sequence f|k = f(0),...,f(k −1) is in S. For all n ≥ 1, let χn(x) be the L(A)-formula ϕf|n ∧¬ϕf|n+1. It is easy to check that the sequence (χn | n ≥1) witnesses that RM(ϕ(x,a))≥ α+1, which is a contradiction. Let S0 denotethesetofleavesoftheﬁnitebinarytree S; thatis, S0 contains those σ ∈ S such that no proper extension of σ is in S. Then S is exactly the set of σ ∈ Λ such that some extension of σ is in S0. Note that if σ,τ are distinct elements of S0 then there is a sequence η such that one of σ,τ is an extension of η0 and the other one is an extension of η1. Hence ϕσ and ϕτ are contradictory in A. Our construction of S ensures that if σ ∈ S is not in S0, then both σ0 and σ1 are in S and, moreover, ϕσ is logically equivalent to ϕσ0 ∨ ϕσ1. A simple argument shows that ϕ(x,a) = ϕ∅ is logically equivalent to the disjunction of all formulas ϕσ with σ ranging over S0. Let d = card(S0) and let χ0,...,χd−1 enumerate the formulas ϕσ with σ ∈ S0. Our construction has ensured that (χj|0 ≤ j < d) satisﬁes conditions (a),(b),(c) in the statement of the Lemma. Moreover, in A the formula ϕ(x,a) is equivalent to the disjunction of χj for 0 ≤ j < d. Suppose now that (ϕj(x) | 0 ≤ j < k) is any sequence of L(A)-formulas that satisfy conditions (a),(b),(c) and that k > d. Consider any j with 0 ≤ j < d and distinct r,s with 0 ≤ r,s < k. By our construction, χj is ϕσ for some σ that is a leaf in S. Using Lemma 17.7 and the fact that ϕr and ϕs are contradictory in A, it follows that at most one of χj ∧ϕr and χj ∧ϕs can have Morley rank = α. Since d < k, the pigeonhole principle implies that there must exist at least one value of r with 0≤ r < k such that χj∧ϕr has Morley rank < α for all 0 ≤ j < d. As noted above, ϕ(x,a) is equivalent to the disjunction of χj for 0 ≤ j < d. Therefore, ϕr is equivalent to the disjunction of the formulas χj ∧ϕr with 0 ≤ j < d. Using Lemma 17.7(3) it follows that ϕr itself has Morley rank < α. This contradiction proves the Lemma.   17.10. Deﬁnition. Given a ranked L(A)-formula ϕ(x), the greatest integer whose existence is proved in Lemma 17.9 is called the Morley degree of ϕ(x) and it is denoted dM(ϕ(x)). 17.11. Lemma (Properties of Morley degree). Let A be an ω-saturated model of T and let ϕ(x),ψ(x) be L(A)-formulas. (1) If ϕ(x) is ranked and dM(ϕ(x)) = d, with the latter statement witnessed by the sequence (ϕj | 0 ≤ j < d) of L(A)-formulas, then each ϕj(x) has Morley degree 1. 90
(2) if 0 ≤ RM(ϕ(x)) = RM(ψ(x)) < +∞ and A |= ϕ(x) → ψ(x), then dM(ϕ(x))≤ dM(ψ(x)); (3) if 0 ≤ RM(ϕ(x)) = RM(ψ(x)) < +∞ then dM(ϕ(x) ∨ ψ(x)) ≤ dM(ϕ(x))+ dM(ψ(x)), with equality if A |=¬(ϕ(x)∧ψ(x)); (4) if 0 ≤ RM(ψ(x)) < RM(ϕ(x)) < +∞, then dM(ϕ(x) ∨ ψ(x)) = dM(ϕ(x)).
Proof. (1) Lemmas 17.7 and 17.9 ensure that each ϕj(x) has a Morley degree. If for some j the formula ϕj(x) has Morley degree > 1, then there exist two L(A)-formulas witnessing that fact. Replacing ϕj(x) by them in the sequence (ϕj | 0 ≤ j < d) witnesses that ϕ(x) has Morley degree ≥ d +1, a contradiction. (2) Any sequence of L(A)-formulas of length d, witnessing that d is the Morley degree of ϕ(x), will witness that the Morley degree of ψ(x) is ≥ d. (3) Let α = RM(ϕ(x)) = RM(ψ(x)); Lemma 17.7(3) yields RM(ϕ(x)∨ ψ(x)) = α. Suppose d = dM(ϕ(x) ∨ ψ(x)), witnessed by the sequence (χj(x) | 0 ≤ j < d) of L(A)-formulas. For each j, at least one of the formulas χj(x)∧ϕ(x) and χj(x)∧ψ(x) has Morley rank = α by Lemma 17.7(3). Let k bethenumberofvaluesof j forwhich RM(χj(x)∧ϕ(x)) = α, and arrange the formulas so that this occurs for 0 ≤ j < k. Therefore RM(χj(x) ∧ ψ(x)) = α for k ≤ j < d. These sequences witness that k ≤ dM(ϕ(x)) and d−k ≤ dM(ψ(x) and hence d ≤ dM(ϕ(x))+dM(ψ(x)). Now suppose A |= ¬(ϕ(x)∧ψ(x)). Let (ϕj(x) | 0 ≤ j < k) witness that dM(ϕ(x)) = k and (ψj(x) | 0 ≤ j < l) witness that dM(ψ(x)) = l. Then (ϕ0(x),...,ϕk−1(x),ψ0(x),...,ψl−1(x)) witnesses that dM(ϕ(x)∨ψ(x))≥ k + l. Combined with the ﬁrst part of the proof, this shows dM(ϕ(x))+ dM(ψ(x))≥ k + l ≥ dM(ϕ(x))+ dM(ψ(x)). (4)Argueasintheﬁrstpartoftheproofof(3); notethatsince RM(ψ(x)) < α, one has k = d.   17.12. Lemma. Let A |= T and C ⊆ A. Let p(x) be a type (in L(C)) of a ﬁnite tuple that is consistent with Th((A,a)a∈C). Assume that some formula in p(x) is ranked. Then there exists a formula ϕp(x) in p(x) that determines p(x) in the following sense: p(x) consists exactly of the L(C)-formulas ψ(x) such that RM(ψ(x)∧ϕp(x)) = RM(ϕp(x)) and dM(ψ(x)∧ϕp(x)) = dM(ϕp(x)). Indeed, such a formula can be obtained by taking ϕp(x) to be a formula ϕ(x) in p(x) with least possible Morley rank and degree, in lexicographic order. Proof. Choose ϕp(x)∈ p(x) as speciﬁed in the last sentence of the Lemma. That is, ϕp(x) is a formula in p(x) of least possible Morley rank and, among members of p(x) having that rank, dM(ϕp(x)) is least possible. If ψ(x) is any formula in p(x), then also ψ(x)∧ ϕp(x) ∈ p(x) and hence RM(ψ(x)∧ϕp(x))≥ RM(ϕp(x)) by our choice of ϕp(x). Hence RM(ψ(x)∧ 91
ϕp(x)) = RM(ϕp(x)) by Lemma 17.7. A similar argument using Lemma 17.11 proves dM(ψ(x)∧ϕp(x)) = dM(ϕ(x)). Conversely, suppose ψ(x) is any L(C)-formula with RM(ψ(x)∧ϕp(x)) = RM(ϕp(x)) and dM(ψ(x)∧ϕp(x)) = dM(ϕp(x)). By way of contradiction, suppose ψ(x) 6∈ p(x), in which case ¬ψ(x) ∈ p(x). But then RM(¬ψ(x)∧ ϕp(x)) = RM(ϕp(x)). In that case Lemma 17.11 yields dM(ϕp(x)) ≥ dM(ψ(x)∧ϕp(x)) + dM(¬ψ(x)∧ϕp(x)) > dM(ψ(x)∧ϕp(x)), which is a contradiction.   17.13. Deﬁnition. Let A |= T and C ⊆ A. Let p(x) be a type (in L(C)) of a ﬁnite tuple that is consistent with Th((A,a)a∈C). We deﬁne RM(p(x)) to be the least Morley rank of a formula in p(x). If some formula in p(x) is ranked, we deﬁne dM(p(x)) to be the least Morley degree of a formula ϕ(x) in p(x) that satisﬁes RM(ϕ(x)) = RM(p(x)). 17.14. Deﬁnition. Let λ be an inﬁnite cardinal. We say T is λ-stable if for every model A of T and every C ⊆ A of cardinality ≤ λ, at most λ many types (in L(C)) of ﬁnite tuples are consistent with Th((A,a)a∈C). 17.15. Theorem. Let L be countable. The following conditions are equivalent: (1) T is ω-stable; (2) for any A |= T and any L(A)-formula ϕ(x), RM(ϕ(x)) < +∞; (3) T is λ-stable for every λ ≥ ω. Proof. (1 ⇒ 2): We prove the contrapositive. Let A be an ω-saturated model of T. Every Morley rank of a formula with parameters from some model of T is the Morley rank of some L(A)-formula. Hence there exists an ordinal αT such that for any formula ϕ(x) with parameters from a model of T, if RM(ϕ(x)) ≥ αT then RM(ϕ(x)) = +∞. (In fact, by 17.7(4), αT can be chosen so that these Morley ranks are exactly the ordinals < αT, but we do not need that here.) Suppose ϕ(x) is any L(A)-formula whose Morley rank is +∞. Then RM(ϕ(x))≥ αT +1, so there exist two L(A)-formulas ψ1(x),ψ2(x) that are contradictoryin A andhaveMorleyrank≥ αT, andsuchthat ψj(x)→ ϕ(x) is valid in A for j = 1,2. (Indeed, there is a whole inﬁnite sequence of such formulas.) By choice of αT, this ensures that ψ1(x),ψ2(x) both have Morley rank +∞. Using Lemma 17.7 we see that ϕ(x)∧ψ1(x) and ϕ(x)∧¬ψ1(x) both have Morley rank +∞. As in the proof of Lemma 17.9 we let Λ be the set of ﬁnite sequences from {0,1} partially ordered by extension, and we use the other notation established in that proof. Suppose there exists a formula ϕ(x) with parameters from a model A of T whose Morley rank equals +∞. Without loss of generality we many take A to be ω1-saturated. Using the argument in the previous paragraph inductively, we may construct a family (ϕσ(x)| σ ∈Λ) of L(A)-formulas such that each ϕσ(x) has Morley rank +∞, ϕ∅(x) is ϕ(x), 92
and for each σ ∈ Λ there is a formula ψ(x) such that ϕσ0 = ϕσ(x)∧ψ(x) and ϕσ1 = ϕσ(x)∧¬ψ(x). Let C be the set of all parameters from A that occur in ϕσ(x) for some σ ∈ Λ; note that C is countable. For each function f: N →{0,1}, let Σf(x) be the set of formulas {ϕf|n | n ∈ N}. Our construction ensures that each Σf(x) is satisﬁable in (A,a)a∈C. Moreover, if f,g are distinct functions, then Σf(x) and Σg(x) are contradictory in A; indeed, if n ∈ N is the least integer with f(n) 6= g(n) and σ = f|n = g|n, then one of these sets contains ϕσ0(x) and the other one contains ϕσ1(x) and these two formulas are contradictory in (A,a)a∈C. For each function f, let pf(x) be the type realized in (A,a)a∈C by some speciﬁc realization of Σf(x). Then {pf(x) | f: N →{0,1}} is a family of uncountably many types of ﬁnite tuples consistent with Th((A,a)a∈C). This contradicts (1). (2 ⇒ 3): Let A |= T and C ⊆ A with card(C)≤ λ. We need to show that there are at most λ many types p(x) (in L(C)) of a ﬁnite tuple that are consistent with Th(A,a)a∈C). Given such p(x), condition (2) ensures that Lemma 17.12 applies, so that p(x) is determined by a formula ϕp(x) in the way described there. Since there are at most λ many L(C)-formulas (here we use the assumption that L is countable), there are at most λ many such types p(x).
We complete this chapter by showing that every uncountable model of an ω-stable theory in a countable language contains nonconstant sequences of ordered indiscernibles, even when names for moderately large sets of parameters are added to the language. First we need some notation and a technical lemma.
17.16. Notation. Let A be an L-structure. If b is a tuple in A and B is any subset of A, we will write tpA(b/B) for the type (in L(B)) realized by b in (A,a)a∈B. 17.17. Lemma. Assume T is ω-stable. Suppose A |= T and C ⊆ A. Let ϕ(x) be a ranked L(C)-formula, and set (α,d) = (RM(ϕ(x)),dM(ϕ(x))). Suppose (ak | k ∈N) is a sequence of ﬁnite tuples (of the same length) from A and for each k ∈N deﬁne pk(x) = tpA(ak/C ∪{a0,...,ak−1}). Assume that A |= ϕ(ak) and (RM(pk(x)),dM(pk(x))) = (α,d), for all k ∈N. Then (ak | k ∈N) is an indiscernible sequence in (A,a)a∈C. Proof. We prove by induction on n ∈N that whenever i0 < ••• < in are in N, tpA(ai0 ...ain/C) = tpA(a0 ...an/C). In the basis case, n = 0. Take any i ∈ N. Since ϕ(x) ∈ tpA(ai/C) we have (RM(tpA(ai/C)),dM(tpA(ai/C)) ≤ (α,d) lexicographically. On the other hand, tpA(ai/C) ⊆ pi(x); thus our assumptions yield (RM(tpA(ai/C)),dM(tpA(ai/C)) ≥ (α,d). It follows that (RM(tpA(ai/C)),dM(tpA(ai/C)) = (α,d). Lemma 17.12 implies tpA(ai/C)) = tpA(a0/C)). 93
For the induction step n > 0. Consider any i0 < ••• < in from N. As argued in the previous paragraph, tp(ain/C ∪{ai0,...,ain−1}) has Morley rank α and degree d, as does pn(x). Both of these types contain the formula ϕ(x). Applying Lemma 17.12 we conclude that for any L(C)-formula ψ(x,y0,...,yn−1) we have: (i) A |= ψ[an,a0,...,an−1] if and only if the formula ϕ(x) ∧ ψ(x,a0,...,an−1) has Morley rank α and degree d; (ii) A |= ψ[ain,ai0,...,ain−1] if and only if the formula ϕ(x) ∧ ψ(x,ai0,...,ain−1) has Morley rank α and degree d. The induction hypothesis states that tpA(ai0 ...ain−1/C) = tpA(a0 ...an−1/C). This implies that the right hand sides of statements (i) and (ii) are equivalent to each other. Therefore we conclude tpA(ai0 ...ain/C) = tpA(a0 ...an/C) as claimed.   17.18. Proposition. Assume T is an ω-stable L-theory with L countable. Suppose A |= T and C ⊆ A. Assume that A is uncountable and card(C) < card(A). Then there exists a nonconstant sequence of ordered indiscernibles in (A,a)a∈C. Proof. We may assume C is inﬁnite. Let λ = card(C). We begin an inductive construction by noting that the formula x = x is satisﬁed by > λ many elements of A in A. Choose an L(A) formula ϕ(x) that is satisﬁed by > λ many elements of A in A and has the minimum possible Morley rank and degree; say these are (α,d). Note that α > 0 since ϕ(x) is satisﬁed by inﬁnitely many elements. By adding ﬁnitely many elements to C we may assume that ϕ(x) is an L(C)-formula. We will construct a sequence (ak | k ∈N) of elements of A that satisfy ϕ(x) in A such that for all i ∈ N, the Morley rank and degree of tpA(ak/C ∪ {a0,...,ak−1}) is exactly (α,d). First we obtain a0 with this property. If no such element of A exists, we have (RM(tpA(a/C)),dM(tpA(a/C))) < (α,d) for all a ∈ A. For each a ∈ A we therefore have an L(C)-formula ψa(x) that is satisﬁed by a and has (RM(ψa(x)),dM(ψa(x))) < (α,d). There are at most λ such formulas while there are > λ many values of a. Therefore there is a set of > λ many values of a for which ψa(x) is the same formula ψ(x). But this contradicts the minimum choice of (α,d). This proves a0 exists. For the induction step we have a0,...,ak−1 and seek ak. This is handled by the same argument as in the previous paragraph, replacing C by C ∪ {a0,...,ak−1}. Finally, by Lemma 17.17 the resulting sequence (ak | k ∈N) is indiscernible over C in A.
94
Exercises 17.19. Let A be an ω-saturated L-structure and let X ⊆ Am be A-deﬁnable in A. Assume that 0 ≤ β < α = RM(X) < +∞. (Since L(A)-formulas that are equivalent in (A,a)a∈A have the same Morley rank by Lemma 17.7(2), we may refer without ambiguity to the Morley rank of a deﬁnable set.) Show that there is an inﬁnite family (Yn | n ∈N) of pairwise disjoint A-deﬁnable subsets of X such that RM(Yn) = β for all n ∈N. 17.20. Let A be an L-structure, let ϕ(x) be an L(A)-formula and let t(x) an L-term, with x = x1,...,xm. Show that the formulas (ϕ(x)∧y = t(x)) and ϕ(x) have the same Morley rank. (Here y is a single, new variable. The Morley rank of ϕ(x) is taken with respect to the variables x and the Morley rank of (ϕ(x)∧y = t(x)) is taken with respect to the variables x,y.) 17.21. Let L bethelanguagewhosenonlogicalsymbolsconsistofaconstant symbol e, a unary function symbol i, and a binary function symbol p. Let G be a group, considered as an L-structure by interpreting e as the identity element, i(g) as the inverse of g, and p(g,h) as the product of g and h in G. Assume that the theory of G is ω-stable. Show that G satisﬁes the descending chain condition on G-deﬁnable subgroups. That is, if G ⊇ H0 ⊇ H1 ⊇ ... are subgroups of G and each Hn is G-deﬁnable, show that the sequence (Hn | n ∈ N) is eventually constant. (Hint: use cosets to show that the Morley ranks of the sets Hn would otherwise yield an inﬁnite, strictly decreasing sequence of ordinals.) 17.22. Let L be the language whose nonlogical symbols are the unary predicate symbols P1,...,Pn. Let T be the L-theory whose axioms express that the sets P1,...,Pn are inﬁnite and that they form a partition of the underlying set of the L-structure being considered. Show that T admits QE and is complete. Show that the formula x = x has Morley rank 1 and Morley degree n in models of T. 17.23. Let L be a countable language andlet T be a complete L-theory with inﬁnite models. Suppose that for every model A of T and every countable C ⊆ A, the space of 1-types S1(C) is countable. Show that T is ω-stable. 17.24. Let L be a countable language and let T be a complete L-theory with inﬁnite models. Suppose that for every model A of T and every L(A)formula ψ(x) in which x is a single variable, one has RM(ψ(x)) < +∞. Show that for every model A of T, every n ≥ 1, and every L(A)-formula ϕ(x1,...,xn), onehas RM(ϕ(x1,...,xm)) < +∞. (Hint: usethepreceding exercise together with a careful reading of the proof of Theorem 17.15.)
95
18. Morley’s uncountable categoricity theorem
The goal of this chapter is to prove the following important theorem. The ideas developed by Morley for its proof had a strong inﬂuence on the development of pure model theory during the last decades of the 20th century. In this chapter L is a countable ﬁrst order language and T is a complete L-theory with inﬁnite models. 18.1. Theorem (Morley’s Theorem). If T is κ-categorical for one uncountable cardinal κ, then T is κ-categorical for all uncountable κ.
To prove this theorem, we make use of all the tools that were developed in the last few chapters. In particular, Morley rank plays a key role in the proof. It’s use is justiﬁed by the following result. 18.2. Proposition. If T is κ-categorical for some uncountable κ, then T is ω-stable. Therefore, for every satisﬁable formula ϕ(x) with parameters from some model of T, RM(ϕ(x)) is an ordinal and so dM(ϕ(x)) is deﬁned.
Proof. Let κ be an uncountable cardinal and suppose that T is κcategorical. Let A be the unique (up to isomorphism) model of T with card(A) = κ. By the L¨owenheim-Skolem Theorems and the uniqueness of A, every model of T of cardinality ≤ ω1 is isomorphic to an elementary substructure of A. Arguing by contradiction, suppose T is not ω-stable; that is, there is a model B of T and a countable subset C ⊆ B such that uncountably many types of ﬁnite tuples are consistent with Th((B,b)b∈C). By passing to a diﬀerent model, we may assume that uncountably many such types are actually realized in (B,b)b∈C and that card(B) = ω1. Putting the two previous paragraphs together, we may assume that we have a countable C ⊆ A such that uncountably many types of ﬁnite tuples are realized in (A,a)a∈C. However, Corollary 16.7 yields a model A0 of T having cardinality κ and satisfying the property that for every countable subset C ⊆ A0 and every n ≥ 1, only countably many n-types are realized in (A0,a)a∈C. Obviously A and A0 cannot be isomorphic, which contradicts the assumption that T is κ-categorical. Finally, the second sentence of the Proposition follows from the ﬁrst using Theorem 17.15.   18.3. Lemma. If T is ω-stable, then for every inﬁnite cardinal κ and every regular cardinal λ ≤ κ, T has a λ-saturated model of cardinality κ. Proof. Let λ ≤ κ be inﬁnite cardinals with λ regular. By Theorem 17.15, T is κ-stable. Therefore we may build an elementary chain (Aα | α < λ) of models of T, all having cardinality equal to κ, such that for all α < λ, every 96
type of a ﬁnite tuple that is consistent with Th((Aα,a)a∈Aα) is realized in Aα+1. Let A be the union of this chain, so A |= T and card(A) = κ. Let C be any subset of A of cardinality < λ. Since λ is regular, there exists an α < λ such that C ⊆ Aα. Any type in L(C) of a ﬁnite tuple that is consistent with Th((A,a)a∈C is realized in (Aα,a)a∈C and hence in (A,a)a∈C. Therefore A is λ-saturated.   18.4. Corollary. If κ is an uncountable cardinal and T is κ-categorical, then the unique model of T of cardinality κ is κ-saturated.
Proof. Let A be the unique model of T with cardinality κ. By Proposition 18.2, T is ω-stable. If κ is regular, then by taking λ = κ in the previous result there is a κ-saturated model of cardinality κ; this model is isomorphic to A. If κ is not regular, then it is a limit cardinal. For any cardinal τ < κ, we may apply the previous result with λ = τ+ to show that A is τ+-saturated. Since κ is a limit of such cardinals, we conclude that A is κ-saturated in this case too.   18.5. Remark. If T is ω-stable, then it can be proved that T has a κsaturated model of cardinality κ for every inﬁnite cardinal κ, without assuming categoricity. However, the proof of this result uses properties of Morley rank beyond the ones we developed. 18.6. Deﬁnition. Suppose A is a model of T and C ⊆ A. Let a be a ﬁnite tuple from A and take p(x) = tpA(a/C) to be the type realized by a in (A,c)c∈C. When we say that p(x) is principal we mean that it is principal relative to the L(C)-theory Th((A,c)c∈C). (Here p(x) is a complete type in L(C)andTh((A,c)c∈C)isthesetofsentencesin p(x), sothereisnopossible ambiguity.) That is, there exists an L-formula ϕ(x,y) and a tuple d from C such that for any L(C)-formula ψ(x) in p(x), the formula ϕ(x,d) → ψ(x) is valid in (A,c)c∈C. When this condition holds, we will say ϕ(x,d) is a complete formula in p(x). If D ⊆ C and d is a tuple from D, then we say p(x) is principal over D. 18.7. Lemma. Let A |= T and C ⊂ A, and suppose a,b,a0,...,an are ﬁnite tuples from A. (1) if tpA(a/C) is principal and every coordinate of b is either a coordinate of a or a member of C, then tpA(b/C) is principal; (2) tpA(ab/C) is principal if and only if tpA(a/C) and tpA(b/C∪{a}) are principal; (3) tpA(a0 ...an/C) is principal if and only if tpA(aj/C ∪{a0,...,aj−1}) is principal for each 0≤ j ≤ n. Proof. (1) Suppose tpA(a/C) is principal and write a as a1,...,am where aj ∈ A for each j. Let ϕ(x1,...,xm) be a complete formula in tpA(a/C). First, we treat the case where every coordinate of b is a coordinate of a; say b is b1,...,bn and for each j = 1,...,n let π(j) be an element of{1,...,m} 97
for which bj = aπ(j). Then the formula ∃x1 ...∃xmϕ(x1,...,xm)∧y1 = xπ(1) ∧•••∧yn = xπ(n) is a complete formula in tpA(b/C). Note that the argument in the previous paragraph covers the case where b is a permutation of a. Therefore, to complete the proof of part (1) it suﬃces to show that tpA(ac/C) is principal for each tuple c = c1,...,ck from C. This type contains the complete formula ϕ(x1,...,xm)∧xm+1 = c1 ∧•••∧xm+k = ck. (2) First suppose that tpA(ab/C) contains the complete formula ϕ(x,y). Then∃yϕ(x,y) is a complete formula in tpA(a/C) and ϕ(a,y) is a complete formula in tpA(b/C∪{a}). Conversely, suppose ϕ(x) is a complete formula in tpA(a/C) and ψ(x,y) is an L(C)-formula such that ψ(a,y) is a complete formula in tpA(b/C ∪{a}). Then ψ(x,y)∧ψ(y) is a complete formula in tpA(ab/C). (3) This is proved by induction on n using part (2).   18.8. Deﬁnition. Let A be an L-structure and C ⊆ A. We say that A is constructible over C if there is an ordinal γ and a family (aα | α < γ) such that A = C ∪{aα | α < γ} and tpA(aβ/C ∪{aα | α < β}) is principal for all β < γ. 18.9. Remark. Let A be an L-structure and C ⊆ A, and assume A is constructible over C. Then there exists an ordinal γ and a family (aα | α < γ) as in Deﬁnition 18.8 that also satisﬁes: aα 6∈ C for all α < γ and aα 6= aβ for all α < β < γ. (From the original family remove all aβ that are members of C or equal some aα with α < β; it is easy to verify that the thinned family still witnesses that A is constructible over C.) 18.10. Lemma. Let A be an L-structure and C ⊆ A, and suppose that A is constructible over C. Then (A,c)c∈C is atomic; that is, tpA(a/C) is principal for each ﬁnite tuple a from A.
Proof. Let (aα | α < γ) satisfy the conditions in Deﬁnition 18.8 and the preceding remark. That is, A = C ∪{aα | α < γ}; tpA(aβ/C ∪{aα | α < β}) is principal for all β < γ; aα 6∈ C for all α < γ; and aα 6= aβ for all α < β < γ. For convenience, set Cβ ={aα | α < β} for each β ≤ γ. Let b be a ﬁnite tuple from Cγ. We say b is good if it is a permutation of a tuple aβ1,...,aβn such that β1 < ••• < βn < γ and tpA(aβj/C ∪ Cβj) is principal over C ∪{αβ1,...,αβj−1} for each j = 1,...,n. Lemma 18.7 implies that tpA(b/C) is principal whenever b is a good tuple from Cγ. 98
Now we prove, by induction on β ≤ γ, that each ﬁnite tuple b = b1,...,bn of distinct elements of Cβ can be extended to a good tuple from Cβ. So, let b be a ﬁnite tuple from Cβ+1; we may assume that aβ occurs in b (or the desired result follows immediately from the induction hypothesis) and without loss of generality bn = aβ. There are distinct b0 1,...,b0 p ∈ Cβ suchthat tp A(aβ/C ∪Cβ) is principal over C ∪{b0 1,...,b0 p}. Let b0 be the tupleobtained from b1,...,bn−1,b0 1,...,b0 p by eliminating any b0 i that also occurs among b1,...,bn−1. Then b0 is contained in Cβ; by the induction hypothesis it can be extended to a good tuple d from Cβ. This argument is completed by noting that d,aβ is a good tuple from Cβ+1 that extends b. Now we prove the Lemma. Let b be any ﬁnite tuple from A; we want to show that tpA(b/C) is principal. By Lemma 18.7 we may assume that no coordinate of b is in C and that the coordinates of b are distinct. By what was proved in the previous paragraph, there is a good tuple b0 from Cγ that extends b. As noted above, tpA(b0/C) is principal. Hence Lemma 18.7 yields that tpA(b/C) is also principal, as desired.   18.11. Proposition. Suppose T is ω-stable. Let A |= T and C ⊆ A. There exists B  A such that C ⊆ B and B is constructible over C. Proof. If C is the universe of an elementary substructure of A, then take B to be that structure. Otherwise there is an L(C)-formula ϕ(x) that is satisﬁed in A but not by any element of C (by the Tarski-Vaught criterion). Chose such a formula with least possible Morley rank and degree. Let (α,d) = (RM(ϕ(x)),dM(ϕ(x))). We claim that ϕ(x) is a complete formula for a type p(x) over C that is consistent with Th((A,a)a∈C). Otherwise there is an L(C)-formula ψ(x) such that ϕ(x)∧ψ(x) and ϕ∧¬ψ(x) are both consistent with Th((A,a)a∈C). But one of these formulas must have (RM,dM) < (α,d), which is impossible. Let a0 be an element of A that satisﬁes ϕ(x) in A. As shown above, tpA(a0/C) is principal and a0 6∈ C. Continue inductively as long as possible toconstructasequenceofdistinctelements aα in A\C foraninitialsegment of ordinals α such that whenever aα is deﬁned, we have that tpA(aα/C ∪ {aδ | δ < α}) is principal. Since A is a set, this construction must stop. If γ is the ﬁrst ordinal at which the construction cannot be continued, then C ∪{aα | α < γ}) is the universe of an elementary substructure of A that is constructible over A.
Nextweprovethemaintechnicalresultofthischapter, fromwhichMorley’s Theorem is an easy consequence. 18.12. Theorem. Suppose T is ω-stable. Assume κ is an uncountable cardinal and that every model of T of cardinality κ is κ-saturated. Then every uncountable model of T is saturated; that is, if A |= T and λ = card(A) is uncountable, then A is λ-saturated. 99
Proof. Assume T is ω-stable and that κ,λ are uncountable cardinals. We will prove the contrapositive of the statement in the Theorem. That is, we assume T has a model A of cardinality λ that is not λ-saturated and we obtain the same kind of model of cardinality κ. So, there is a subset C of A of cardinality < λ and a type p(x) of a ﬁnite tuple over C such that p(x) is consistent with Th((A,a)a∈C) but is not realized in (A,a)a∈C. By Proposition 17.18 there is a nonconstant sequence (ak | k ∈ N) of ordered indiscernibles in (A,a)a∈C. Let I ={ak | k ∈N}. Note that (A) for each L(C ∪I)-formula ϕ(x) that is satisﬁable in (A,a)a∈C∪I there exists ψ(x)∈ p(x) such that ϕ(x)∧¬ψ(x) is satisﬁable in (A,a)a∈C∪I since otherwise p(x) would be realized in (A,a)a∈C. Let C0 be any countable subset of C. For each L(C0 ∪ I)-formula ϕ(x) that is satisﬁable in (A,a)a∈C0∪I let ψϕ be one of the formulas ψ satisfying (A) for ϕ. Since C0 ∪ I is countable, there is a countable set C1 such that C0 ⊆ C1 ⊆ C and such that the parameters of ψϕ are in C1 for all L(C0 ∪I)-formulas ϕ(x) that are satisﬁable in (A,a)a∈C0∪I. Continue this inductively to deﬁne Ck for all k ∈ N and let C0 =S{Ck | k ∈ N}. This countable set satisﬁes C0 ⊆ C and the parameters of ψϕ are in C0 for all L(C0 ∪I)-formulas ϕ(x) that are satisﬁable in (A,a)a∈C0∪I. Let p0(x) be the restriction of p(x) to C0. We have: (B) for each L(C0∪I)-formula ϕ(x) that is satisﬁable in (A,a)a∈C0∪I there exists ψ(x)∈ p0(x) such that ϕ(x)∧¬ψ(x) is satisﬁable in (A,a)a∈C0∪I. Note also that (ak | k ∈ N) is a sequence of ordered indiscernibles in (A,a)a∈C0. By Proposition 16.5 there is a model of Th((A,a)a∈C0) that contains a family (bα | α < κ) of ordered indiscernibles having the same type as (ak | k ∈ N). We may assume this model is of the form (B,a)a∈C0. Using Proposition 18.11 there is B0 B such that C0∪{bα | α < κ}⊆ B0 and B0 is constructible over C0∪{bα | α < κ}. We show that p0(x) is not realized in (B0,a)a∈C0. Suppose otherwise, that p0(x) is realized by the ﬁnite tuple b in (B0,a)a∈C0. By Lemma 18.10, we have that tpB0(b/C0 ∪{bα | α < κ} is principal; it contains a complete formula that we may write as ϕ(x,bα0,...,bαn) where ϕ(x,y0,...,yn) is an L(C0)-formula and α0 < ••• < αn < κ. So, for each formula ψ(x) in p0(x) we have that ϕ(x,bα0,...,bαn) → ψ(x) is valid in (B0,bα0,...,bαn,a)a∈C0. But bα0,...,bαn and a0,...,an realize the same type over C0. Hence ϕ(x,a0,...,an) → ψ(x) is valid in (A,a0,...,a0,a)a∈C0 for each formula ψ(x) in p0(x). This contradicts (B) and conﬁrms the claim that p0(x) is not realized in (B0,a)a∈C0. We ﬁnish the proof by using the downward L¨owenheim-Skolem Theorem to get B00  B0 such that C0 ⊆ B00 and card(B00) = κ. Then B00 is a model
100
of T that has cardinality κ but is not κ-saturated. (Indeed, it is not even ω1-saturated.)   Now we put all the pieces together to give a proof of the main result:
Proof of Theorem 18.1 (Morley’s Theorem). Suppose κ is an uncountable cardinal and T is κ-categorical. By Proposition 18.2, T is ω-stable. By Corollary 18.4, every model of T of cardinality κ is κ-saturated. Let λ be any uncountable cardinal. By Theorem 18.12, every model of T of cardinality λ is λ-saturated. Using Theorem 12.9(d) and the fact that T is complete, we conclude that any two models of T of cardinality λ are isomorphic. That is, T is λ-categorical.
101
19. Characterizing Definability
In this chapter we present a number of basic results, all of which concern deﬁnability in one way or another. The results discussed here include the characterizationsofdeﬁnabilityduetoSvenoniusandBeth. Wealsopresent Robinson’s Joint Consistency Lemma and Craig’s Interpolation Theorem. Our ﬁrst results give necessary and suﬃcient conditions for a relation to be deﬁnable in a given structure: 19.1. Theorem. Let L be any ﬁrst order language and let P be an n-ary predicate symbol that is not in L. Suppose (A,R) is an ω-saturated L(P)structure and that A is strongly ω-homogeneous. The following conditions are equivalent: (1) R is 0-deﬁnable in A; (2) every automorphism of A leaves R setwise invariant.
Proof. (1) ⇒ (2) is immediate, since automorphisms are elementary maps. (2) ⇒ (1): Assume every automorphism of A leaves R setwise invariant. By way of contradiction, assume that R is not 0-deﬁnable in A. It suﬃces to ﬁnd n-tuples a and b from A that realize the same n-type in A but such that R(a) is true and R(b) is false. We would then have an automorphism of A taking a to b, since A is strongly ω-homogeneous; this automorphism would not leave R invariant, contradicting our hypothesis. Since (A,R) is ω-saturated, it suﬃces to show there exists a in R so that tpA(a)∪{¬P(v)}is consistent with Th(A,R). If b realizes this partial type in (A,R), then a and b have the desired properties. Let Σ(v) = {ϕ(v) ∈ L | (A,R) |= ∀v(¬P(v) → ϕ(v))}. If a realizes the partial type Σ(v)∪{P(v)} in (A,R), then obviously tpA(a)∪{¬P(v)} is consistent with Th(A,R). Therefore, since (A,R) is ω-saturated it suﬃces to prove that Σ(v)∪{P(v)} is consistent with Th(A,R). Arguing by contradiction, suppose Σ(v) ∪{P(v)} is not consistent with Th(A,R). Then there is a formula ϕ(v) in Σ(v) such that (A,R)|= ϕ(v)→ ¬P(v). Thus (A,R) |= ∀v(¬P(v) ↔ ϕ(v)) and hence ¬ϕ(v) deﬁnes R in A. This contradicts the assumption that R is not deﬁnable in A.
19.2. Corollary (Svenonius’s Theorem). Let A be any L-structure and let R be any n-ary relation on A. The following conditions are equivalent: (1) R is not 0-deﬁnable in A; (2) there is an elementary extension (B,S) of (A,R) and an automorphism of B that does not leave S setwise invariant.
Proof. (2) ⇒ (1): If R were 0-deﬁnable in A, then S would be 0-deﬁnable in A, by the same L-formula, and thus S would be invariant under every automorphism of B. 102
(1) ⇒ (2): By Theorem 12.3 we may take (B,S) to be an elementary extension of (A,R) such that (B,S) is ω-saturated and B is strongly ωhomogeneous. Note that S is deﬁnable in B if and only if R is deﬁnable in A. Now apply Theorem 19.1 to (B,S).   19.3. Deﬁnition. Let T be a satisﬁable theory in a language that contains L(P) where P is an n-ary predicate symbol. (a) We say T deﬁnes P explicitly over L if there is a formula ϕ(x1,...,xn) in L such that T |=∀x1 ...∀xn(P(x)↔ ϕ(x)). (b) We say T deﬁnes P implicitly over L if for any models A and B of T that have the same reduct to L, PA and PB are identical. 19.4.Theorem (Beth’sDeﬁnabilityTheorem). Let T be a satisﬁable theory in a language L0 that contains L(P), where P is an n-ary predicate symbol. Then T deﬁnes P explicitly over L if and only if T deﬁnes P implicitly over L. Proof. (⇒) Obvious. (⇐) Assume that T deﬁnes P implicitly over L but that T does not deﬁne P explicitly. Let x be the sequence x1,...,xn of distinct variables. Consider the L0-theory T0 consisting of T together with all sentences of the form ¬∀xP(x)↔ ϕ(x)where ϕ(x) is an L-formula. We claim that T0 is unsatisﬁable. Note that if (A,R) is the reduct to L(P) of a model of T0, then R cannot be 0-deﬁnable in A. If T0 is satisﬁable, use Theorem 12.3 to get an ω-saturated model A0 of T0 such that every reduct of A0 to a sublanguage of L(P) is strongly ωhomogeneous. Let A be the reduct of A0 to L and R = PA0. Since R is not 0-deﬁnable in A, by Theorem 19.1 there is an automorphism σ of A such that σR 6= R. Let B0 be the unique L0-structure with underlying set A that is determined by requiring that the function σ is an isomorphism from A0 onto B0. Then B0 is a model of T, the reduct of B0 to L is A (since σ is an automorphism of A), and PB0 = σ(R)6= R = PA0. This contradicts the assumption that T deﬁnes P implicitly over L. Therefore T0 is unsatisﬁable. Consequently, there exist L-formulas ϕ1(x),...,ϕk(x) such that T together with the sentences ¬∀xP(x) ↔ ϕj(x)(j = 1,...,k) is unsatisﬁable. Therefore T |=∀xP(x)↔ ϕ1(x)∨•••∨∀xP(x)↔ ϕk(x).Let T0 bethe L(P)-theoryconsistingofall L(P)-sentencesthatareprovable in T. In particular the sentence ∀xP(x)↔ ϕ1(x)∨•••∨∀xP(x)↔ ϕk(x)is in T0. Therefore we see that T0 deﬁnes P implicitly over L. For each j = 1,...,k and each L(P)-formula ψ let ψ(j) denote the Lformula that results from ψ by replacing every occurrence of P(u) by 103
ϕj(u) with suitable change of bound variables. Finally, let Tj = {ψ(j) | ψ is an L(P)-sentence and T0 |= ψ}. Note that if A is any model of Tj and we set R ={a ∈ An | A |= ϕj[a]}, then (A,R)|= T0. Fix j ∈ {1,...,k}. Note that the L(P)-theories T0 ∪ Tj and T0 ∪ {∀xP(x) ↔ ϕk(x)} are equivalent; indeed, their models are exactly the L(P)-structures (A,R) where A |= Tj and R = {a ∈ An | A |= ϕj[a]}. Therefore there is an L(P)-sentence ψj such that T0 |= ψj and T0 |= ψ(j) j ↔∀xP(x)↔ ϕj(x).Therefore T0 |=∀xP(x)↔ k ^ j=1 (ψ(j) j → ϕj(x)). But this sentence is in L(P) and hence we have T |=∀xP(x)↔ k ^ j=1 (ψ(j) j → ϕj(x)). showing that T explicitly deﬁnes P over L.
19.5. Fact. Let T be a satisﬁable theory in a language that contains L(F), where F is an n-ary function symbol (a constant symbol if n = 0). We say that T deﬁnes F explicitly over L if there is an L-formula ϕ(x1,...,xn,y) such that T |=∀x1 ...∀xn∀y(F(x1,...,xn) = y ↔ ϕ(x1,...,xn,y)). Further, T deﬁnes F implicitly over L if for any models A,B of T that have the same reduct to L, FA and FB are identical. Beth’s Deﬁnability Theorem then holds also for functions: T deﬁnes F explicitly over L if and only if T deﬁnes F implicitly over L. 19.6. Deﬁnition. Let L ⊆ L0 be ﬁrst order languages and let T ⊆ T0 be theories in these languages. T0 is an extension by deﬁnitions of T if T0 is a conservative extension of T and if every formula in L0 is equivalent in T0 to a formula in L. 19.7. Fact. Suppose L ⊆ L0, T ⊆ T0 and assume that T0 is a conservative extension of T. Assume further that for every simple atomic formula ϕ0 in L0 there exists a formula ϕ in L s.t. T0 |= ϕ0 ↔ ϕ. Then T0 is an extension by deﬁnitions of T. (By a “simple atomic formula” we mean one of the form P(v1,...,vn) or f(v1,...,vn) = w or c = w, where v1,...,vn and w are distinct variables.) 19.8. Corollary. Let L ⊆ L0 be ﬁrst order languages and let T ⊆ T0 be theories in these languages. Then T0 is an extension by deﬁnitions of T if and only if every model of T has a unique expansion that is a model of T0. 104
Proof. Suppose T0 is an extension by deﬁnitions of T. Let A be any model of T. If P is any predicate symbol of L0, then there exists a formula ϕ in L such that T0 |= ∀x1 ...∀xn(P(x1,...,xn) ↔ ϕ(x1,...,xn)). This gives an interpretation of P on A. This interpretation is well deﬁned because, if ϕ1 and ϕ2 are two formulas in L such that T0 |= ∀x1 ...∀xn(P(x1,...,xn) ↔ ϕi(x1,...,xn)),i = 1,2, then T0 |= ∀x1 ...∀xn(ϕ1(x1,...,xn) ↔ ϕ2(x1,...,xn)), so T |= ∀x1 ...∀xn(ϕ1(x1,...,xn)↔ ϕ2(x1,...,xn)), since T0 is a conservative extension of T. Similarly, if F is any function symbol of L0, then there exists a formula ϕ in L such that T0 |= ∀x1 ...∀xn∀y(F(x1,...,xn) = y ↔ ϕ(x1,...,xn,y)). Note that this implies that T |= ∀x1 ...∀xn∃!yϕ(x1,...,xn,y). Therefore the formula ϕ(x1,...,xn,y) deﬁnes on every model of T the graph of a totally deﬁned function. This gives a well-deﬁned interpretation of F on A. Similarly for constant symbols c in L0, using the formula c = y in the same way. An easy induction argument on formulas shows that this expansion of A is a model of T0. Furthermore, it is the only such model, because any model of T0 has to interpret the relation, function and constant symbols of L0 according to the L-formulas by which they are explicitly deﬁned in T0. For the converse, let T0 be an L0 theory such that every model of T has a unique expansion that is a model of T0. First we show that T0 is a conservative expansion of T. Let σ be any L-sentence proved by T0. If A is any model of T, then it has a (unique) expansion A0 that is a model of T0. Since σ is true in A0, and σ is an L-sentence, it must be true in A. Therefore T proves σ. Tocompletetheproofweneedtoshowthateveryformulain L0 isequivalent in T0 to a formula in L. This is an immediate consequence of Fact 19.7 and Beth’sDeﬁnabilityTheorem(usingFact19.5inthecaseoffunctionsymbols and constant symbols).
19.9. Remark. See pages 57-61 of Shoenﬁeld, Mathematical Logic, for a useful discussion of extensions by deﬁnitions. 19.10. Deﬁnition. Let Ti be a theory in Li for each i = 1,2, where L1 and L2 do not have any nonlogical symbols in common. Call T1 and T2 equivalent by deﬁnitions if there is a theory T in some language L that contains the union of L1 and L2 such that T is simultaneously an extension by deﬁnitions of T1 and of T2.
When T1 and T2 are equivalent by deﬁnitions, we may regard them as being interchangeable. In particular, there is a bijective correspondence between models of T1 and models of T2 that preserves all properties of mathematical signiﬁcance. Namely, expand any model of T1 to a model of T and then take the reduct of this model to L2. 105
19.11. Example. Let T1 be the theory of Boolean rings in the language L1 with nonlogical symbols {+,−,×,0,1}. Let T2 be the theory of Boolean algebras in the language L2 with nonlogical symbols {∧,∨,(•)c,0,1}. As is well known, every Boolean ring can be regarded as a Boolean algebra, and vice versa. This is because of the fact that in a Boolean ring +,−,×,0,1 can be deﬁned in terms of ∧,∨,(•)c,0,1 and vice versa. If T is the theory axiomatized by the sentences that express these deﬁnitions, then T is easily seen to be an extension by deﬁnitions of both T1 and T2. Therefore T1 and T2 are equivalent by deﬁnitions. This model theoretic fact expresses in a complete way the relation between Boolean rings and Boolean algebras. In the rest of this chapter we prove Craig’s Interpolation Theorem, which gives another characteristic important property of ﬁrst order logic. 19.12. Theorem (Robinson’s Joint Consistency Lemma). Let L be a ﬁrst order language and let L1 and L2 be extensions of L whose intersection is L. For each i = 1,2 let Ti be a satisﬁable theory in Li. If there is a complete theory T in L such that T ⊆ T1 ∩T2, then T1 ∪T2 is satisﬁable. For the proof of this theorem we need the following preliminary result: 19.13. Lemma. Let L be a ﬁrst order language and let L1 and L2 be extensions of L whose intersection is L. Suppose Aj is an Lj structure for j = 1,2, and A1 | L ≡ A2 | L. Then there exists an elementary extension A0 1 of A1 and f : A2 → A0 1 such that f is an elementary embedding of A2 | L into A0 1 | L. Proof. For any L-structure A we let EDiag(A) denote the ﬁrst order theory of the L(A)-structure (A,a)a∈A. It is easy to see that A can be elementarily embedded into an L-structure B iﬀ B has an expansion that is a model of EDiag(A). We ﬁrst show that to prove the Lemma it suﬃces to prove that Σ = EDiag(A1)∪EDiag(A2|L) is satisﬁable. If so, let A0 1 be the reduct of a model of Σ to L1. Without loss of generality we may assume that for each a ∈ A1, the interpretation of a in A0 1 is a itself. This implies that A0 1 is an elementary extension of A1. Moreover, there is an elementary embedding of A2|L into A0 1|L because A0 1 has an expansion that is a model of EDiag(A2|L). Arguing by contradiction, suppose EDiag(A1)∪EDiag(A2|L) is not satisﬁable. By the Compactness Theorem and the fact that EDiag(A1) and EDiag(A2|L) are closed under conjunction, there exist σ1 ∈EDiag(A1) and σ2 ∈EDiag(A2|L) such that {σ1,σ2} has no model. There exist a1,...,am ∈ A1,b1,...,bn ∈ A2, and L-formulas τ1,τ2, such that σ1 = τ1(a1,...,am) and σ2 = τ2(b1,...,bm) We may assume that A1∩A2 is empty, and also that τ1 and τ2 have no free variables in common. Let the free variables in τ1 and τ2 be z1,...,zm+n. Since {σ1,σ2} has no model, it follows that ∃zτ1 ∧∃zτ2 has no model. But ∃zτ2 is true in A2, 106
because σ2 ∈EDiag(A2|L), and A1|L ≡ A2|L, so∃zτ2 is true in A1 as well. Moreover ∃zτ1 is true in A1, because σ1 ∈ EDiag(A1). Therefore A1 is a model of ∃zτ1 ∧∃zτ2. This is a contradiction.   Proof of Theorem 19.12. We are given, for i = 1,2, a satisﬁable Li-theory Ti; T = T1 ∩T2 is assumed to be a complete theory in L = L1 ∩L2. We wish to show that T1 ∪T2 is satisﬁable. Let A1 be a model of T1,and let B1 be a model of T2. Now T = Th(A1|L) = Th(B1|L) since T is complete; therefore A1|L ≡ B1|L. By the preceding Lemmathereisamodel B2 ¬ B1 andamap f1 : A1 → B2 thatelementarily embeds A1|L into B2|L. Next we apply the Lemma to (A1,a)a∈A1 in the language L1(A1) and (B2,f1(a))a∈A1 in the language L2(A1). We then have (A1|L,a)a∈A1 ≡(B2|L,f1(a))a∈A1, and these two structures are the reducts to L(A1) of (A1,a)a∈A1 and (B2,f1(a))a∈A1 (respectively). Using the lemma again, we see that there exists an elementary extension (A2,a)a∈A1 of (A1,a)a∈A1 and an elementary embedding g1 of (B2|L,f1(a))a∈A1 into (A2|L,a)a∈A1. Note that these last two structures are reducts to the language L(A1), which is the intersection of L1(A1) and L2(A1). So we have B1  B2,A1  A2 and maps f1 : A1 → B2 and g1 : B2 → A2 that are elementary embeddings with respecttoformulasinthelanguage L. Inaddition, wehavethat g1(f1(a)) = a for each a ∈ A1. We continue inductively in this way. The result is a pair of elementary chains A1  A2  A3  ... and B1  B2  B3  ... and mappings fn : An → Bn+1 and gn : Bn+1 → An+1 that are elementary embeddings with respect to formulas of L and that satisfy gn(fn(x)) = x for all x ∈ An and fn+1(gn(y)) = y for all y ∈ Bn+1. Note that for all n ≥ 1,fn+1 = fn on An and gn+1 = gn on Bn+1. Now let A = ∪An,B = ∪Bn,f = ∪fn,g = ∪gn. We have A |= T1 since A1 |= T1 and A1 A; similarly B |= T2. Moreover we see that f is an isomorphism of A|L onto B|L whose inverse is g. We can replace B by an isomorphic copy B0 such that B0|L = A|L, using the mapping f to rename all elements. It then follows that we can deﬁne a structure C for L1∪L2 so that C|L1 = A and C|L2 = B0. The fact that B0|L = A|L guarantees that the interpretations of symbols of L1∩L2 are well-deﬁned. We see that C is necessarily a model for T = T1 ∪T2: C|L1 = A |= T1 and C|L2 = B0 |= T2, completing the proof.   19.14. Theorem (Craig’s Interpolation Theorem). Let L be a ﬁrst order language and let ϕ and ψ be L-sentences such that ϕ |= ψ. Then there is a sentence θ such that (i) ϕ |= θ and θ |= ψ, and (ii) every predicate, function, or constant symbol (excluding equality) that occurs in θ occurs also in both ϕ and ψ. 107
Proof. Assume ϕ |= ψ; let L1 be the language of ϕ and L2 that of ψ; take L to be the common language, containing = at least. It suﬃces to show that T0 |= ψ where T0 = {σ ∈ L : ϕ |= σ}; if this holds, then there is a ﬁnite subset F of T0 such that F |= ψ. Taking θ to be the conjunction of the formulas in F will give the desired sentence. If T0 6|= ψ then T0∪{¬ψ} is satisﬁable. Let T1 be a complete extension in L2 of T0 ∪{¬ψ} and set T = T1 ∩ L, so T is a complete theory in L. We claim that T ∪{ϕ} is satisﬁable in L1. If not, there is a sentence σ ∈ T such that ϕ |= ¬σ. But then ¬σ ∈ T0 ⊆ T1, which implies ¬σ ∈ T, a contradiction. We apply Theorem 19.12 to T1 and T ∪{ϕ}. Since both sets are satisﬁable and since T is complete, T∪T1∪{ϕ}is satisﬁable. In particular{ϕ,¬ψ}is satisﬁable, which is a contradiction.   19.15. Remark. It is possible to have sentences ϕ and ψ that have no predicate, function, or constant symbol in common, yet satisfy ϕ |= ψ. For example, ϕ might be unsatisﬁable or ψ might be valid. If logic with identity isconsidered(aswedohere), thentherearemoreinterestingexamples, such as the following: ∀x∀y[x = y]|=∀x∀y[P(x)↔ P(y)]. Examples like this explain why the conclusion of Craig’s Theorem allows the equality symbol to occur in the interpolating sentence θ. If in Craig’s Theorem one only considers sentences ϕ and ψ without equality, then it can be shown that there is an interpolating sentence that contains only symbols that occur in both ϕ and ψ. If there are no such symbols and neither formula contains equality, then it can be shown that either ϕ is unsatisﬁable or ψ is valid.
Finally, we give an alternate proof of Beth’s Deﬁnability Theorem that uses Craig’s Theorem: Assume that T deﬁnes P implicitly over L. For each symbol α of L1 that is not in L, let α0 denote a symbol of the same type and arity as α, which does not occur in L1. Let L2 denote the language that contains L and that contains α0 for each symbol α of L1 that is not in L. Let T0 be the theory in L2 that results from T by leaving every symbol of L unchanged and by replacing every occurence of any other symbol of L1 by the corresponding symbol α0. We observe that T∪T0 |=∀¯ x[P(¯ x)↔ P0(¯ x)]. Indeed, consider any model of T ∪T0 and let (A,R,R0) denote its reduct to L(P,P0). Then (A,R) and (A,R0) are both reducts of models of T. It follows from our hypothesis (that T implicitly deﬁnes P over L) that R = R0. Therefore there exist ﬁnite subsets Σ ⊆ T and Σ0 ⊆ T0 such that Σ∪Σ0 |=∀¯ x(P(¯ x)↔ P0(¯ x)). By adding ﬁnitely many sentences from T ∪T0 to each of these ﬁnite sets, we can ensure that Σ0 is precisely the result of replacing every occurrence of a symbol α of L1 that is not in L by the corresponding α0. In particular, Σ0 will contain P0 in exactly the same places that Σ contains P. 108
We now add new constants c1,...cn to the language of T ∪T0. Evidently Σ∪Σ0 |= P(c1,...cn) → P0(c1,...cn). Let σ be the conjunction of all the sentences in Σ and let σ0 be the conjunction of the sentences in Σ0. Then σ ∧P(c1,...cn) |= (σ0 → P0(c1,...cn)). Obviously the common language of the sentences σ ∧ P(c1,...cn) and (σ0 → P0(c1,...cn)) is L(c1,...cn). Now apply Craig’s Theorem to the above: there is an L-formula θ(x1,...xn) such that σ ∧ P(c1,...cn) |= θ(c1,...cn) and θ(c1,...cn) |= (σ0 → P0(c1,...cn)). That is to say: (a) Σ|= (P(c1,...cn)→ θ(c1,...cn)) and (b) Σ0 |= (θ(c1,...cn)→ P0(c1,...cn)). From (b) we conclude that Σ |= (θ(c1,...cn) → P(c1,...cn)). (To see this, consider a formal derivation of (θ(c1,...cn) → P0(c1,...cn)) from Σ0. For each symbol α of L1 that is not in L, replace every occurrence of α0 in this derivation by α. The result is a formal derivation of (θ(c1,...cn) → P(c1,...cn)) from Σ.) Therefore Σ |= (θ(c1,...cn) ↔ P(c1,...cn)). But Σ does not in fact contain the new constants ci, so we conclude Σ |= ∀¯ x(P(¯ x) ↔ θ(¯ x)). This shows that T explicitly deﬁnes P, since Σ is a subset of T.
109
Appendix: Systems of Definable Sets and Functions
Math 571 takes the point of view that Model Theory is the study of sets and functions that are deﬁnable in a given mathematical structure using formulas of ﬁrst order logic with equality. In this appendix we explore the collections of deﬁnable sets and characterize them using simple “geometric” properties. This discussion can be read at any time in the course. Let L be a ﬁrst order language and M an L-structure; let M be the underlying set of M. 20.16. Deﬁnition. A set A ⊆ Mm is deﬁnable in M if there is an L-formula ϕ(x1,...,xm,y1,...,yn) and elements b1,...,bn of M such that A ={(a1,...,am)∈ Mm | M |= ϕ[a1,...,am,b1,...,bn]}. If S ⊆ M and the above equation holds for some ϕ and some b1,...,bn ∈ S, then we say that A is S-deﬁnable in M. Let A ⊆ Mm and B ⊆ Mn; a function f: A → B is S-deﬁnable in M if the graph of f is S-deﬁnable in M. (We regard the graph of f as a subset of Mm+n.)
Now we begin to analyze the nature of the sets and functions that are deﬁnable in a given structure M. We want to explain them in a way that is intelligible to any mathematician, so we move the syntax of ﬁrst order logic far into the background. The most basic logical operations used to build up ﬁrst order formulas are the propositional connectives ¬,∨,∧ and the existential quantiﬁer ∃x where x is any variable ranging over the set M. They have the following meanings: ¬ stands for the negation, “not”, ∨ stands for the disjunction, “or” ∧ stands for the conjunction, “and”, ∃x stands for the existential quantiﬁer, “there exists x”. These logical operations correspond to familar elementary mathematical operations on sets; namely, the basic propositional connectives correspond to Boolean operations on sets and the existential quantiﬁers correspond to projection operations on Cartesian products. We illustrate this now in a simple setting: let x,y be variables ranging over nonempty sets A,B (respectively), and let ϕ(x,y) and ψ(x,y) denote conditions on (x,y) deﬁning subsets Φ and Ψ (respectively) of A×B. We consider the conditions that can be built up from ϕ(x,y) and ψ(x,y) using the basic logical operations (on the left below), and the sets that are deﬁned by them (on the right): ¬ϕ(x,y) deﬁnes the complement of Φ in A×B,ϕ (x,y)∨ψ(x,y) deﬁnes the union Φ∪Ψ,ϕ (x,y)∧ψ(x,y) deﬁnes the intersection Φ∩Ψ, ∃xϕ(x,y) deﬁnes the projection π(Φ) where π(x,y) = y is the projection onto the second coordinate. 110
To illustrate the usefulness of these simple ideas, consider a given function f: A → B. The image f(A) of A under f can be deﬁned by the equivalence y ∈ f(A)⇐⇒∃x[f(x) = y]. Let Γ be the graph of f, which is deﬁned as a subset of A × B by the condition f(x) = y. Thedisplayedequivalenceexhibitsthefactthat f(A)is the projection of Γ under the projection map π onto the second coordinate. There are three other logical operations that are often used in mathematics: → stands for the implication, “ if ..., then”, ↔ stands for the equivalence, “if and only if”, ∀x stands for the universal quantiﬁer, “for all x.” As is familiar, these operations can be deﬁned in terms of the basic ones. Indeed, ϕ → ψ is equivalent to ¬ϕ∨ψ, ϕ ↔ ψ is equivalent to (ϕ∧ψ)∨ (¬ϕ∧¬ψ) and ∀xϕ is equivalent to ¬∃x¬ϕ. Therefore we see that these three logical operations correspond to elementary set operations that can be constructed by applying the basic ones several times. Simple and familiar logical equivalences often capture mathematical facts that seem complicated when viewed without the use of logical notation. For example, the familiar equivalence ∀yϕ(x,y)⇐⇒¬∃y¬ϕ(x,y) shows that the set deﬁned by∀yϕ(x,y) can be obtained from Φ by ﬁrst taking the complement in A×B, then projecting onto the ﬁrst coordinate, and then taking the complement of that set in A. This technique is particularly useful when dealing with logically complicated notions, such as continuity or diﬀerentiability, which we express in the usual way with ’s and δ’s and quantiﬁers over them. In such cases we often deal with conditions having more than two variables and with repeated quantiﬁers. Weuseseveraladditionalnotationalconventions. Acondition ϕ(x,y)deﬁning a subset of A×B is sometimes viewed as deﬁning a condition on triples (x,y,z), where z ranges over a nonempty set C; in that case ϕ(x,y) deﬁnes a subset of A×B ×C. In such a situation we indicate the condition also as ϕ(x,y,z). This is similar to the situation in algebra where one routinely regards a polynomial p(x,y) as a polynomial in three variables x,y,z in which all monomials containing z are taken to have coeﬃcient 0. It is also useful to consider conditions obtained by substitution. As above, let f: A → B be a function and let Γ be the graph of f. The condition ϕ(x,f(x)) deﬁnes a subset S of A. This condition is equivalent to ∃y[f(x) = y∧ϕ(x,y)]. Therefore S can be obtained by applying the projection π0 to Γ∩Φ, where π0(x,y) = x is the projection of A×B onto the ﬁrst coordinate. We will show that the essential features of the collection of S-deﬁnable sets in M are captured by the following deﬁnition: 111
20.17. Deﬁnition. Let X be a nonempty set. A deﬁnability system on X is a sequence S = (Sm)m∈N such that for each m ≥0: (1) Sm is a Boolean algebra of subsets of Xm that contains ∅ and Xm as elements; (2) if A ∈ Sm, then X ×A and A×X belong to Sm+1; (3) {(a1,...,am)∈ Xm | a1 = am}∈ Sm; (4) if A ∈ Sm+1, then π(A)∈ Sm, where π: Xm+1 → Xm is the projection map on the ﬁrst m coordinates. If A ⊆ Xm we say A belongs to S if A ∈ Sm. If A ⊆ Xm and B ⊆ Xn and if f: A → B is a function, then we say f belongs to S if the graph of f belongs to S. 20.18. Notation. Let L be a ﬁrst order language and M an L-structure with underlying set M; let S be any subset of M. We write D(M,S) for the system (Sm)m∈N, where for each m ≥ 0, Sm is the collection of all subsets of Mm that are S-deﬁnable in M. 20.19. Proposition. Let L be a ﬁrst order language and M an L-structure with underlying set M; let S be any subset of M. Then D(M,S) is a deﬁnability system on M.
Proof. Exercise. The informal remarks above make it easy to prove this result. Our next result is a converse to Proposition 20.19. It states that each deﬁnability system is closed under deﬁnability. If X is a nonempty set and M ⊆ Xk, then for each m ≥0 we regard Mm as a subset of Xkm. 20.20. Theorem. Let X be a nonempty set and let S be a deﬁnability system on X. Let L be a ﬁrst order language and M an L-structure whose underlying set is M; let S be a subset of M. Suppose all of the following sets belong to S: (a) M; (b) {cM} for each constant symbol c in L; (c) {s} for each s ∈ S; (d) RM for each relation symbol R in L; (e) the graph of fM for each function symbol f in L. Then every set that is S-deﬁnable in M belongs to S.
We ﬁrst give a series of basic results about deﬁnability systems that will be used in the proof of Theorem 20.20. For these lemmas we ﬁx a nonempty set X and a deﬁnability system S on X. 20.21. Lemma. If A and B belong to S, then A×B belongs to S. 112
Proof. Suppose A ⊆ Xm and B ⊆ Xn. Then A×B = (A×Xn)∩(Xm ×B). Condition (2) of Deﬁnition 20.17 (used repeatedly) followed by condition (1) yields that this set belongs to S.   20.22. Lemma. For all 1≤ i < j ≤ m the diagonal set ∆m(i,j) : ={(a1,...,am)∈ Xm | ai = aj} belongs to S. Proof. Let k : = j−i+1. Condition (3) in Deﬁnition 20.17 gives that the diagonal set ∆k(1,j −i+1) belongs to S, and ∆m(i,j) = Xi−1 ×∆k(1,j −i+1)×Xm−j. This set belongs to S by repeated use of condition (2) of Deﬁnition 20.17. (See also Lemma 20.21.)   20.23. Lemma. Let B ∈ Sn and let i(1),...,i(n) ∈{1,...,m}. Then the set A ⊆ Xm deﬁned by A: ={(a1,...,am)∈ Xm |(ai(1),...,ai(n))∈ B} belongs to S. Proof. Note that for any a1,...,am ∈ X, the tuple (a1,...,am) is in A iﬀ ∃y1 ...∃yn(xi(1) = y1 ∧...∧xi(n) = yn ∧(y1,...,yn)∈ B}. Let Dj denote the diagonal set ∆m+n(i(j),m + j) and let πj : Xm+j → Xm+j−1 denote the projection map onto the ﬁrst coordinates, for each j = 1,...,n. The displayed condition shows that A = π1(...πn(D1 ∩...∩Dn ∩(Xm ×B))...). Using Deﬁnition 20.17 and Lemma 20.22 we see that A ∈ Sm.   20.24. Lemma. Suppose A ⊆ Xm, B ⊆ Xn, and C ⊆ Xp belong to S. Let f: A → B and g: B → C be functions that belong to S. Then their composition g◦f: A → C also belongs to S. Proof. Let x beatupleofvariablesthatrangesover Xm andlet y rangeover Xn and z range over Xp similarly. Use Lemma 20.23 and the equivalence (x,z)∈Γ(g◦f)⇔∃y((x,y)∈Γ(f)∧(y,z)∈Γ(g)).   20.25. Lemma. Suppose A ⊆ Xm belongs to S. Let f = (f1,...,fn): A → Xn be a function with coordinate functions fj : A → X. The function f belongs to S if and only if all of the coordinate functions fj belong to S. 113
Proof. (⇒) Fix j (1 ≤ j ≤ n) and let πj : Xn → X be the projection map deﬁned by πj(x1,...,xn) : = xj. Using Lemma 20.22 we see that πj belongs to S, since its graph is a diagonal set. Noting that fj = πj ◦ f, Lemma 20.24 completes the proof of this direction. (⇐) Let x range over Xm and y = (y1,...,yn) range over Xn. The graph of f is deﬁned by the equivalence (x,y)∈Γ(f)⇔((x,y1)∈Γ(f1)∧...∧(x,yn)∈Γ(fn)). If the functions f1,...,fn all belong to S, this equivalence together with Lemma 20.23 and condition (1) of Deﬁnition 20.17 show that f belongs to S.
Proof of Theorem 20.20. Let L, M, and S be as in the statement of the Theorem, and let S be any deﬁnability system to which all sets listed in conditions (a)–(e) of the Theorem belong. We must show that every S-deﬁnable set in M belongs to S. Let k be such that M ⊆ Xk. As noted above, we consider Mm as a subset of Xkm for each m ≥0. First we prove the following statement by induction on the complexity of terms: Let t be an L(S)-term, and let x1,...,xm be a sequence of distinct variables that includes all variables of t; the function tM: Mm → M deﬁned by interpreting t in M belongs to the deﬁnability system S. In the basic step of this induction t is either a constant symbol c or an element of S, or one of the variables xi. In the ﬁrst case the graph of the function tM is Mm×{cM}, and the second case is similar; in the third case it is the intersection of Mm+1 with k diagonal sets. In each case this shows the graph belongs to S. For the induction step, we consider the case where t is of the form f(t1,...,tn) where f is an n-ary function symbol of L and t1,...,tn are L(S)-termsofwhichthestatementbeingprovedistrue. Let G: Mm → Mn be the function with coordinate functions tM j , j = 1,...,n. Lemma 20.25 shows that G belongs to S; Lemma 20.24 shows that tM = fM ◦G belongs to S. This completes the inductive proof of this statement about terms. Now we prove the following statement about formulas from which Theorem 20.20 follows immediately; the proof is by induction on formulas: Let ϕ be an L(S)-formula and let x1,...,xm be a sequence of distinct variables that includes all free variables of ϕ; the set ϕM: ={(a1,...,am)∈ Mm | M |= ϕ[a1,...,am]} belongs to the deﬁnability system S. 114
In the basic step of this induction ϕ is an atomic formula of the form R(t1,...,tn) where R is an n-ary relation symbol of L and t1,...,tn are L(S)-terms. Let G: Mm → Mn be the function deﬁned above using the terms t1,...,tn. As shown there, G belongs to S. We see that ϕM is deﬁned by the equivalence (a1,...,am)∈ ϕM ⇔ ∃y1 ...∃yn((a1,...,am,y1,...,yn)∈Γ(G)∧(y1,...,yn)∈ RM). (Strictly speaking note that each ∃yj stands for a sequence of k existential quantiﬁers over X.) This shows that ϕM is the result of applying a sequence of kn projections to the set Γ(G)∩(Mm ×RM) which shows that ϕM belongs to S. Now we consider the cases of the induction step where ϕ is constructed from formulas α and β using propositional connectives. We have a list x1,...,xm of distinct variables that include all free variables of ϕ, and thus they also include all free variables of α and β. We apply the induction hypothesis to α and β and this list of variables, obtaining that the sets αM and βM, which are both subsets of Mm, belong to S. It follows immediately from condition (1) of Deﬁnition 20.17 that ϕM also belongs to S. The other case of the induction step concerns the situation where ϕ is of the form ∃yψ. We may assume that y is not in the list of variables x1,...,xm. (Otherwise perform a change of bound variables that replaces y by some completely new variable. Since this does not increase the complexity of ψ, wemaystillapplytheinductionhypothesistothenewsituation.) If y isnot inthelist x1,...,xm, thenweapplytheinductionhypothesistotheformula ψ and the list of variables x1,...,xm,y. Evidently ϕM = π(ψM), where π: Mm+1 → Mm is the projection on the ﬁrst m coordinates. Condition (4) of Deﬁnition 20.17 yields that ϕM belongs to S. This completes the proof of Theorem 20.20.
Let X be a nonempty set. Given two deﬁnability systems S(1) and S(2) on X, we say that S(2) contains S(1), and we write S(1) ⊆ S(2), if S(1)m ⊆ S(2)m for all m ≥0. This deﬁnes a partial ordering on the collection of all deﬁnability systems on X. Any family (S(i))i∈I of deﬁnability systems on X has a greatest lower bound S in the collection of all deﬁnability systems on X; namely, we just take Sm =\{S(i)m | i ∈ I} for each m.Suppose F = (Fm)m∈N where Fm is a collection of subsets of Xm for each m ≥0. Obviouslythereisatleastonedeﬁnabilitysystem S thatcontains F; just let Sm be the collection of all subsets of Xm for all m ≥ 0. It follows that there exists a smallest deﬁnability system S on X that contains F. Namely, let S be the greatest lower bound (intersection) of all deﬁnability 115
systems on X that contain F. We call this the deﬁnability system on X generated by F. 20.26. Corollary. Let L be a ﬁrst order language and let M be an Lstructure with underlying set M; let S be a subset of M. Then D(M,S) is the deﬁnability system on M generated by the sets listed in (b)–(e) of Theorem 20.20.
Proof. Exercise.
Exercises In the following Exercises, let S be a deﬁnability system on the nonempty set X. 20.27. Show that there is a language L and an L-structure M based on the set X such that S = D(M,∅). 20.28. Let I be a ﬁnite index set and let A ∈ Sm be the union of the sets Ai ∈ Sm, i ranging over I. Show that a function f: A → Xn belongs to S if and only if all of its restrictions f|Ai belong to S. 20.29. Let A ⊆ Xm+n and x ∈ Xm, and put Ax: ={y ∈ Xn |(x,y)∈ A}. Show that if A belongs to S and k ∈N, then the set {x ∈ Xm |card(Ax)≤ k} also belongs to S. 20.30. Let the sets A,B,C and the function f: A×B → C belong to S. Show that the sets {a ∈ A | f(a,•): B → C is injective } and {a ∈ A | f(a,•): B → C is surjective } also belong to S. 20.31. Suppose X = R and the order relation{(x,y)∈R2 | x < y} belongs to S. Suppose A ⊆ Rm belongs to S. Show that the topological closure cl(A) of A and the interior int(A) of A in Rm also belong to S. 20.32. Suppose X = R and the order relation{(x,y)∈R2 | x < y} belongs to S. Suppose that the function f: Rm+1 →R belongs to S. Show that the
谈逻辑与数学界线之淡化（修正版）
在近代数学研究中，逻辑与数学界线之淡化。这种现象值得关注。
在“模型论入门”博文中，我们指出，进入二十一世纪，世界数学形式化、公理化高潮兴起。“知识共享”无穷小微积分就是在这种发展浪潮中崛起的。
反观我们国内，数学教育界的学术认识水平似乎仍然停留在世界数学形式化、公理化发展阶段之前。
无论如何，我们的数学教育落伍了。
说明：本本附件，是关于模型论的长篇论文，资料详实，值得存档备查。
袁萌  陈启清   12月17日
附件：模型论（Model Theory）
Class Notes for Mathematics 571 Spring 2010
Model Theory
written by C. Ward Henson
Mathematics Department University of Illinois 1409 West Green Street Urbana, Illinois 61801 email: henson@math.uiuc.edu www: http://www.math.uiuc.edu/~henson/
c Copyright by C. Ward Henson 2010; all rights reserved.
Introduction
The purpose of Math 571 is to give a thorough introduction to the methods of model theory for ﬁrst order logic. Model theory is the branch of logic that deals with mathematical structures and the formal languages they interpret. First order logic is the most important formal language and its model theory is a rich and interesting subject with signiﬁcant applications to the main body of mathematics. Model theory began as a serious subject in the 1950s with the work of Abraham Robinson and Alfred Tarski, and since then it has been an active and successful area of research. Beyond the core techniques and results of model theory, Math 571 places a lot of emphasis on examples and applications, in order to show clearly the variety of ways in which model theory can be useful in mathematics. For example, we give a thorough treatment of the model theory of the ﬁeld of real numbers (real closed ﬁelds) and show how this can be used to obtain the characterization of positive semi-deﬁnite rational functions that gives a solution to Hilbert’s 17th Problem. A highlight of Math 571 is a proof of Morley’s Theorem: if T is a complete theory in a countable language, and T is κ-categorical for some uncountable κ, then T is categorical for all uncountable κ. The machinery needed for this proof includes the concepts of Morley rank and degree for formulas in ω-stable theories. The methods needed for this proof illustrate ideas that have become central to modern research in model theory. To succeed in Math 571, it is necessary to have exposure to the syntax and semantics of ﬁrst order logic, and experience with expressing mathematical properties via ﬁrst order formulas. A good undergraduate course in logic will usually provide the necessary background. The canonical prerequisite course at UIUC is Math 570, but this covers many things that are not needed as background for Math 571. In the lecture notes for Math 570 (written by Prof. van den Dries) the material necessary for Math 571 is presented in sections 2.3 through 2.6 (pages 24–37 in the 2009 version). These lecture notes are available at http://www.math.uiuc.edu/ vddries/410notes/main.dvi. A standard undergraduate text in logic is A Mathematical Introduction to Logic by Herbert B. Enderton (Academic Press; second edition, 2001). Here the material needed for Math 571 is covered in sections 2.0 through 2.2 (pages 67–104). This material is also discussed in Model Theory by David Marker (see sections 1.1 and 1.2, and the ﬁrst half of 1.3, as well as many of the exercises at the end of chapter 1) and in many other textbooks in model theory. For Math 571 it is not necessary to have any exposure to a proof system for ﬁrst order logic, nor to G¨odel’s completeness theorem. Math 571 begins with a proof of the compactness theorem for ﬁrst order languages, and this is all one needs for model theory.
We close this introduction by discussing a number of books of possible interest to anyone studying model theory. The ﬁrst two books listed are now the standard graduate texts in model theory; they can be used as background references for most of what is done in Math 571. David Marker, Model Theory: an Introduction. Bruno Poizat, A Course in Model Theory.
The next book listed was the standard graduate text in model theory from its ﬁrst publication in the 1960s until recently. It is somewhat out of date and incomplete from a modern viewpoint, but for much of the content of Math 571 it is a suitable reference. C. C. Chang and H. J. Keisler, Model Theory.
Another recent monograph on model theory is Model Theory by Wilfrid Hodges. This book contains many results and examples that are otherwise only available in journal articles, and gives a very comprehensive treatment of basic model theory. However it is very long and it is organized in a complicated way that makes things hard to ﬁnd. The author extracted a shorter and more straightforward text entitled A Shorter Model Theory, which is published in an inexpensive paperback edition.
In the early days of the subject (i.e., 1950s and 1960s), Abraham Robinson was the person who did the most to make model theory a useful tool in the main body of mathematics. Along with Alfred Tarski, he created much of modern model theory and gave it its current style and emphasis. He published three books in model theory, and they are still interesting to read: (a) Intro. to Model Theory and the Metamathematics of Algebra, 1963; (b) Complete Theories, 1956; new edition 1976; (c) On the Metamathematics of Algebra, 1951.
The ﬁnal reference listed here is Handbook of Mathematical Logic, Jon Barwise, editor; this contains expository articles on most parts of logic. Of particular interest to students in model theory are the following chapters: A.1. An introduction to ﬁrst-order logic, Jon Barwise. A.2. Fundamentals of model theory, H. Jerome Keisler. A.3. Ultraproducts for algebraists, Paul C. Eklof. A.4. Model completeness, Angus Macintyre.
Contents
Introduction 3 1. Ultraproducts and the Compactness Theorem 1 Appendix 1.A: Ultraﬁlters 6 Appendix 1.B: From prestructures to structures 8 2. Theories and Types 12 3. Elementary Maps 18 4. Saturated Models 25 5. Quantiﬁer Elimination 30 6. L¨owenheim-Skolem Theorems 35 7. Algebraically Closed Fields 39 8. Z-groups 44 9. Model Theoretic Algebraic Closure 49 10. Algebraic Closure in Minimal Structures 52 11. Real Closed Ordered Fields 58 12. Homogeneous Models 62 13. Omitting Types 68 14. ω-categoricity 76 15. Skolem Hulls 80 16. Indiscernibles 82 17. Morley rank and ω-stability 86 18. Morley’s uncountable categoricity theorem 96 19. Characterizing Deﬁnability 102 Appendix: Systems of Deﬁnable Sets and Functions 110
1. Ultraproducts and the Compactness Theorem
The main purpose of this chapter is to give a proof of the Compactness Theorem for arbitrary ﬁrst order languages. We do this using ultraproducts. The ultraproduct construction has the virtue of being explicit and algebraic in character, so it is accessible to mathematicians who know little about formal logic. Fix a ﬁrst order language L. Let I be a nonempty set and let U be an ultraﬁlter1 on I. Consider a family of L-structures (Ai | i ∈ I). For each i ∈ I let Ai denote the underlying set of the structure Ai and take A =Q(Ai | i ∈ I) to be the cartesian product of the sets Ai. We deﬁne an interpretation2 A of L as follows: (i) the underlying set of A is the cartesian product A =Q(Ai | i ∈ I); (ii) for each constant symbol c of L we set cA = (cAi | i ∈ I); (iii) for each n and each n-ary function symbol F of L we let FA be the function deﬁned on An by FA(f1,...,fn) = (FAi(f1(i),...,fn(i))| i ∈ I); (iv) for each n and each n-ary predicate symbol P of L we let PA be the n-ary relation on A deﬁned by PA(f1,...,fn) ⇐⇒ {i ∈ I | PAi(f1(i),...,fn(i))}∈ U; (v) =A is the binary relation on A deﬁned by f =A g ⇐⇒ {i ∈ I | f(i) = g(i)}∈ U. Note that constants and function symbols are treated in this construction in a “coordinatewise” way, exactly as we would do in forming the cartesian product of algebraic structures. Only in deﬁning the interpretations of predicate symbols and = (clauses (iv) and (v)) do we do something novel, and only there does the ultraﬁlter enter into the deﬁnition. For the algebraic part of A we have the following easy fact, proved by a straightforward argument using induction on terms: 1.1. Lemma. For any L-term t(x1,...,xn) and any f1,...,fn ∈ A, tA(f1,...,fn) = (tAi(f1(i),...,fn(i))| i ∈ I). The following result gives the most important model theoretic property of this construction: 1.2. Proposition. For any L-formula ϕ(x1,...,xn) and any f1,...,fn ∈ A A |= ϕ[f1,...,fn] ⇐⇒ {i ∈ I | Ai |= ϕ[f1(i),...,fn(i)]}∈ U. 1See Appendix 1 of this chapter for some basic facts about ﬁlters and ultraﬁlters. 2See Appendix 2 of this chapter for an explanation of the words “interpretation”, “prestructure”, and “structure” and for some basic relations among them. 1
Proof. The proof is by induction on formulas ϕ(x1,...,xn), where x1,...,xn is an arbitrary list of distinct variables. In the basis step of the induction ϕ is an atomic formula of the form P(t1,...,tm), where P is an m-place predicate symbol or the equality symbol =. Our assumptions ensure that any variable occurring in a term tj, j = 1,...,m, is among x1,...,xn; thus we may write each such tj as tj(x1,...,xn). Let (f1,...,fn) range over An; let gj(i) = tAi j (f1(i),...,fn(i)) for each j = 1,...,m and i ∈ I. Note that gj ∈ A for each j = 1,...,m. Then we have: A |= ϕ[f1,...,fn] ⇔ PAtA 1 (f1,...,fn),...,tA m(f1,...,fn)⇔ PA(g1,...,gm) ⇔ i | PAi (g1(i),...,gm(i))    ∈ U ⇔ ni | PAitAi 1 (f1(i),...,fn(i)),...,tAi m (f1(i),...,fn(i))o∈ U⇔ { i | Ai |= ϕ[f1(i),...,fn(i)]}∈ U. (Lemma 1.1 is used in the second equivalence.) In the induction step of the proof we consider three cases: (1) ϕ is ¬ϕ1 for some formula ϕ1; (2) ϕ is (ϕ1∧ϕ2) for some formulas ϕ1,ϕ2 (3); ϕ is ∃yϕ1 for some formula ϕ1 and some variable y. Case (1) ϕ is ¬ϕ1: A |= ϕ[f1,...fn] ⇔ A 6|= ϕ1[f1,...fn] ⇔ {i | Ai |= ϕ1[f1(i),...,fn(i)]}6∈ U ⇔? {i | Ai 6|= ϕ1[f1(i),...,fn(i)]}∈ U ⇔ {i | Ai |=¬ϕ1[f1(i),...,fn(i)]}∈ U ⇔ {i | Ai |= ϕ[f1(i),...,fn(i)]}∈ U In the equivalence ? we use the fact that for any subset A of I, A is not in U if and only if I \A is in U. Case (2) ϕ is (ϕ1 ∧ϕ2): A |= ϕ[f1,...fn] ⇔ A |= (ϕ1 ∧ϕ2)[f1,...fn] ⇔ A |= ϕ1[f1(i),...,fn(i)] and A |= ϕ2[f1(i),...,fn(i)] ⇔ {i | Ai |= ϕ1[f1(i),...,fn(i)]}∈ U and {i | Ai |= ϕ2[f1(i),...,fn(i)]}∈ U ⇔? {i | Ai |= ϕ1[f1(i),...,fn(i)]}∩ {i | Ai |= ϕ2[f1(i),...,fn(i)]}∈ U ⇔ {i | Ai |= ϕ1[f1(i),...,fn(i)] and Ai |= ϕ2[f1(i),...,fn(i)]}∈ U ⇔ {i | Ai |= (ϕ1 ∧ϕ2)[f1(i),...,fn(i)]}∈ U ⇔ {i | Ai |= ϕ[f1(i),...,fn(i)]}∈ U In the equivalence ? we use the fact that for any subsets A and B of I, A and B are in U if and only if A∩B is in U.
2
Case (3) ϕ is the formula ∃yϕ1: We may assume that y is not among the variables x1,...,xn. A |= ϕ[f1,...,fn] ⇔ A |=∃yϕ1[f1,...,fn] ⇔ for some g ∈ A : A |= ϕ1[f1,...,fn,g] ⇔ for some g ∈ A : {i | Ai |= ϕ1[f1(i),...,fn(i),g(i)]}∈ U ⇔† {i |for some a ∈ Ai : Ai |= ϕ1[f1(i),...,fn(i),a]}∈ U ⇔ {i | A |=∃yϕ1[f1(i),...,fn(i)]}∈ U To see the “⇐”-part of the equivalence †, use the Axiom of Choice to obtain a function g such that for any i ∈ {i | for some a ∈ Ai : Ai |= ϕ1[f1(i),...,fn(i),a]} we have Ai |= ϕ1[f1(i),...,fn(i),g(i)]}. For all other values of i the value of g(i) can be arbitrary.   1.3. Corollary. The interpretation A deﬁned above is a prestructure.
Proof. Applying Proposition 1.2 to the equality axioms, we see that they are valid in A.   1.4. Deﬁnition (Ultraproduct of a family of L-structures). Let (Ai | i ∈ I) be a family of L-structures and U an ultraﬁlter on I. Let A be the prestructure for L that is deﬁned above. The ultraproductQU Ai of the given family of L-structures (Ai | i ∈ I) with respect to U is deﬁned to be the L-structure B obtained by taking the quotient of A by the congruence =A as described in Appendix 2 of this chapter. 1.5. Notation. Let (Ai | i ∈ I) and A be as above. For each f ∈QAi we let f/U denote the equivalence class of f under the equivalence relation =A. As f varies, f/U gives an arbitrary element of the underlying set of the ultraproductQU Ai. The ultrapower of the L-structure C with respect to U is the ultraproduct QU Ai with Ai equal to C for every i ∈ I. We denote this structure by CI/U. 1.6. Fact. Let I be a nonempty set and let U be the principal ultraﬁlter on I that is generated by the singleton set {j}, where j is a ﬁxed element of I. For every family {Ai | i ∈ I} of L-structures, the ultraproductQU Ai is isomorphic to Aj. The next theorem is the main result of this chapter; it is basic to any use of the ultraproduct construction in model theory. This result was originally proved by the Polish logician Jerzy L os. 1.7. Theorem (Fundamental Theorem of Ultraproducts). Let an indexed family of L-structures and an ultraﬁlter U be given as described above. For any L-formula ϕ(x1,...,xn) and any sequence f/U = (f1/U,...,fn/U), Y U Ai |= ϕ[f/U] if and only if {i ∈ I | Ai |= ϕ[f1(i),...,fn(i)]}∈ U. 3
Proof. This is an immediate consequence of Propositions 1.2 and 1.29.   1.8. Corollary. If σ is an L-sentence, then Y U Ai |= σ if and only if {i ∈ I | Ai |= σ}∈ U. Proof. This is a special case of Theorem 1.7.
Now we use the ultraproduct construction to prove the Compactness Theorem, which is one of the most important tools in model theory. First we need a basic deﬁnition: 1.9. Deﬁnition. Let T be a set of sentences in L and let A be an Lstructure. We say that A is a model of T, and write A |= T, if every sentence in T is true in A. 1.10. Theorem (Compactness Theorem). Let T be any set of sentences in L. If every ﬁnite subset of T has a model, then T has a model.
Proof. Assume that every ﬁnite subset of T has a model. Let I be the set of all ﬁnite subsets of T. For each i ∈ I let Ai be any model of i, which exists by assumption. We will obtain the desired model of T as an ultraproduct QU Ai for a suitably chosen ultraﬁlter U on I. Let S be the family of all the subsets of I of the form Iσ ={i ∈ I : σ ∈ i}, where σ ∈ T. Note that S has the ﬁnite intersection property; indeed, each ﬁnite intersection Iσ1 ∩ ... ∩ Iσn has {σ1,...,σn} as an element. So there exists an ultraﬁlter U on I that contains S, by Corollary 1.25. We complete the proof by showing that the ultraproductQU Ai is a model of T. Given σ ∈ T, we see that Ai |= σ whenever σ ∈ i, because of the way we chose Ai. Hence {i : Ai |= σ}⊇ Iσ ∈ U. It follows from Theorem 1.7 that each such σ is true inQU Ai.   1.11. Remark. Note that the preceding proof yields the following result: Let T beasetofsentencesin L andlet C beaclassof L-structures. Suppose each ﬁnite subset of T has a model in C. Then T has a model that is an ultraproduct of structures from C.
The Compactness Theorem is a very useful tool for building models of a given set of sentences, and nearly everything we do in this course depends on it in one way or another. We give a number of examples of this in the rest of this chapter. 1.12. Corollary. Let L be a ﬁrst order language and let κ be an inﬁnite cardinal number. If T is a set of sentences in L such that for each positive integer n there is a model of T with at least n elements, then T has a model with at least κ many elements. (In particular, this holds if T has at least one inﬁnite model.)
4
Proof. Expand L by adding a set of κ many new constant symbols; let L0 be the new language. Let T0 be T together with all sentences ¬(c1 = c2), where c1 and c2 are distinct new constants. Our hypothesis implies that every ﬁnite subset of T0 has a model. Therefore T0 itself has a model A, by the Compactness Theorem. Let B be the reduct of A to the original language L; A is a model of T and has at least κ many elements.   1.13. Fact. Let T be a set of sentences in a ﬁrst order language L and let ϕ(x) be a formula in L. For each L-structure A let ϕA denote the set of tuples a from A such that A |= ϕ(a). Suppose that the set ϕA is ﬁnite whenever A is a model of T. Then there is a positive integer N such that ϕA has at most N elements for every model A of T. This can be proved using the Compactness Theorem in a manner similar to the proof of the previous result. 1.14. Remark. The preceding results demonstrate a fundamental limitation on the expressive power of ﬁrst order logic: only ﬁnite cardinalities can be “expressed” by ﬁrst order formulas. There is no way to express any bound on the sizes of deﬁnable sets other than a uniform ﬁnite upper bound. We will see later on how to control more precisely the cardinality of models like the one constructed above. In particular, it turns out to be possible to make the model have precisely κ many elements, as long as the number of symbols in the language L is less than or equal to κ. 1.15. Deﬁnition. Let Γ be a set of L-formulas and let the family (xj | j ∈ J) include all variables that occur free in some member of Γ. Let A be an L-structure. We say that Γ is satisﬁable in A if there exist elements (aj | j ∈ J) of A such that A |= Γ[aj | j ∈ J]. 1.16. Deﬁnition. Let T be asetofsentencesin L andΓ asetof L-formulas. We say that Γ is consistent with T if for every ﬁnite subsets F of T and G of Γ there exists a model A of F such that G is satisﬁable in A.
The next result is a version of the Compactness Theorem for formulas. 1.17. Corollary. Let T be a set of sentences in L and Γ a set of L-formulas, and assume that Γ is consistent with T. Then Γ is satisﬁable in some model of T. Proof. Let (xj | j ∈ J) include all variables that occur free in some member of Γ. Let (cj | j ∈ J) be new constants and consider the language L(cj | j ∈ J). Apply the Compactness Theorem to the set T ∪Γ(cj | j ∈ J) of L(cj | j ∈ J)-sentences.
5
Appendix 1.A: Ultrafilters
Here we present some prerequisites about ﬁlters and ultraﬁlters: 1.18. Deﬁnition. (1) Let I be a nonempty set. A ﬁlter on I is a collection F of subsets of I that satisﬁes: (a) ∅6∈ F and I ∈ F; (b) for all A,B ∈ F,A∩B ∈ F; (c) for all A ∈ F and B ⊆ I, if A ⊆ B then B ∈ F. (2) Let F be a ﬁlter on I; F is an ultraﬁlter if it is maximal under⊆among ﬁlters on I. F is principal if there exists a subset A of I such that F is exactly the collection of all sets B that satisfy A ⊆ B ⊆ I. 1.19. Deﬁnition. Let I be a set and let S be a collection of subsets of I; S has the ﬁnite intersection property (FIP) if for every integer n and every ﬁnite subcollection {A1,...,An} of S, the intersection A1 ∩...∩An is nonempty. 1.20. Lemma. Let I be a nonempty set and let S be a collection of subsets of I. There exists a ﬁlter F on I that contains S if and only if S has the ﬁnite intersection property. Proof. (⇒) It is immediate (by induction) from the deﬁnition of ﬁlter that any ﬁlter is closed under ﬁnite intersections. Since no ﬁlter contains the empty set, this shows that each ﬁlter has the FIP; hence the same is true of any subcollection of a ﬁlter. (⇐) Let S ⊆ P(I) have the FIP; we want to ﬁnd a ﬁlter F ⊇ S. We know that all supersets of ﬁnite intersections of elements of S must be elements of F. Thus we are led to deﬁne F ={A | A ⊆ I and there exist A1,...,An ∈ S with A ⊇ A1 ∩...∩An} Since S has the FIP, we see that F does not contain the empty set. It is easy to check that conditions (b) and (c) in the deﬁnition of ﬁlter are satisﬁed.
Remark: The ﬁlter deﬁned in the preceding proof is evidently the smallest ﬁlter on I containing S. Thus it is called the ﬁlter generated by S. 1.21. Facts. Let I be a nonempty set. (a) If S is a collection of subsets of I and S has the FIP, then for any A ⊆ I, either S ∪{A} or S ∪{I \A} has the FIP. (b) Suppose J is an index set and for each j ∈ J, Sj is a collection of subsets of I that has the FIP. Suppose that the family {Sj | j ∈ J} is directed, in the sense that for any j1,j2 ∈ J there is j3 ∈ J such that Sj1 ∪Sj2 ⊆ Sj3. Let S be the union of the family {Sj | j ∈ J}. Then S has the FIP. 6
1.22. Lemma. Let I be a nonempty set and let F be a ﬁlter on I. F is an ultraﬁlter if and only if for each A ⊆ I, either A ∈ F or I \A ∈ F. Proof. (⇒) If F is an ultraﬁlter on I and A ⊆ I, then by Fact 1.21(a), either F ∪{A} or F ∪{I \ A} has the FIP. Therefore by Lemma 1.20, F ∪{A} or F ∪{I \A} is contained in a ﬁlter. But F is maximal, so the only ﬁlter it can be contained in must be F itself. Hence F ∪{A}⊆ F or F ∪{I \A}⊆ F. (⇐) Suppose F is a ﬁlter on I with the property that for any A ⊆ I either A ∈ F or I\A ∈ F. We have to show that F is maximal among the ﬁlters on I under set-theoretic inclusion. If F is not maximal, then there is a ﬁlter G on I with F ⊆ G and G 6= F. Take any set A ∈ G\F. Since A / ∈ F wemust have I\A ∈ F ⊆ G. But then A and I\A are in G, and this implies ∅∈ G, which is a contradiction.   1.23. Facts. Let I be a nonempty set and let U be an ultraﬁlter on I. (a) If A1,...,An are subsets of I and if the set A1 ∪•••∪An is in U, then for some j = 1,...,n the set Aj is in U. (b) If A1,...,An are subsets of I and if the set A1 ∩•••∩An is in U, then for all j = 1,...,n the set Aj is in U. (c) The ultraﬁlter U is principal iﬀ some element of U is a ﬁnite set iﬀ some element of U is a singleton set (a set of the form {i} for some i ∈ I).
In the next proof we are going to use the Axiom of Choice in the form of Zorn’s Lemma, which we formulate as follows: Zorn’s Lemma: If (Λ,≤) is a nonempty partially ordered set with the property that every linearly ordered subset of (Λ,≤) has an upper bound in (Λ,≤), then (Λ,≤) has a maximal element. Remark: An element of (Λ,≤) is maximal if no other element is strictly larger than it. There may be many maximal elements. We will often use Zorn’s Lemma where Λ is a collection of sets and ≤ is the set containment relation ⊆. In that situation the hypothesis of Zorn’s Lemma states that whenever C is a subcollection of Λ and C is a chain under⊆, the union of C is a subset of some element of Λ. (This restricted formulation is easily seen to be equivalent to Zorn’s Lemma; it is known as Hausdorﬀ’s Maximum Principle.) 1.24. Theorem. Let I be a nonempty set. Every ﬁlter on I is contained in an ultraﬁlter on I. Proof. Let F be a ﬁlter on I. Let Λ ={G | G is a ﬁlter on I and F ⊆ G}. Partially order Λ by set inclusion ⊆. We want to apply Zorn’s Lemma to (Λ,≤). Suppose C is a chain in Λ. It is easy to show that the union of C is a ﬁlter, and hence it is in Λ. (Compare Fact 1.21(b).) Zorn’s Lemma yields the existence of a maximal element G in Λ. That is, G is a ﬁlter 7
that contains F and G is maximal among all ﬁlters on I that contain F. In particular, G is maximal as a ﬁlter on I; by deﬁnition G is an ultraﬁlter.   1.25.Corollary. Let I be a nonempty set and let S be a collection of subsets of I. If S has the FIP, then there is an ultraﬁlter on I that contains S.
Proof. Immediate from Lemma 1.20 and Theorem 1.24.
Appendix 1.B: From prestructures to structures
Let L be any ﬁrst order language. 1.26. Deﬁnition. An interpretation A of L consists of (i) a nonempty set A, the underlying set of A; (ii) for each constant symbol c of L an element cA of A, the interpretation of c in A; (iii) for each n and each n-ary function symbol F of L a function FA from An to A, the interpretation of F in A; (iv) for each n and each n-ary predicate symbol P of L a subset PA of An, the interpretation of P in A; (v) a subset =A of A2, the interpretation of = in A.
Suppose A is an interpretation of L. For each L-term t(x1,...,xn) we deﬁne the interpretation of t in A by induction on t; it is a function from An to A and it is denoted by tA. By induction on formulas we likewise deﬁne the satisfaction relation A |= ϕ[a1,...,an] where ϕ(x1,...,xn) is an L-formula and a1,...,an ∈ A. Formally this is identical to what is done for L-structures, with which we assume the reader is familiar. The only diﬀerence here is that we are allowing an arbitrary binary relation to be used as the interpretation of =; that is, we are temporarily treating = as if it were a non-logical symbol. 1.27. Deﬁnition. A prestructure A for L is an interpretation of L in which the logical equality axioms are valid; that is, (i) =A is an equivalence relation on A; (ii) for any n, any n-ary function symbol F of L, and any elements a1,b1,...,an,bn of A such that a1 =A b1,...,an =A bn one has FA(a1,...,an) =A FA(b1,...,bn); (iii) for any n, any n-ary predicate symbol P of L, and any elements a1,b1,...,an,bn of A such that a1 =A b1,...,an =A bn one has PA(a1,...,an) ⇐⇒ PA(b1,...,bn). 8
When =A is an equivalence relation on A, universal algebraists express conditions (ii) and (iii) by saying that =A is a congruence with respect to the functions FA mentioned in (ii) and the relations PA mentioned in (iii). Note that A is a structure for L if it is an interpretation of L and =A is the identity relation on A, that is a =A b ⇔ a = b for any a,b ∈ A. (In that case, A trivially satisﬁes the equality axioms and hence it is a prestructure.) When A is a prestructure for L, we deﬁne the quotient of A by =A as follows; it is a structure for L. We will denote it here by B. (i) The underlying set B of B is the set of all equivalence classes of =A. We denote the equivalence class of a ∈ A with respect to =A by [a], and we let π: A → B denote the quotient map that takes each a ∈ A to its equivalence class (π(a) = [a] for each a ∈ A). (ii) For each constant symbol c of L the interpretation of c in B is [cA]. (iii) For each n and each n-ary function symbol F of L the interpretation of F in B is the function FB: Bn → B deﬁned by FB([a1],...,[an]) = [FA(a1,...,an)] for every a1,...,an ∈ A. The fact that =A is a congruence for FA ensures that the right hand side of this deﬁnition depends only on the equivalence classes [a1],...,[an] and not on their representatives a1,...,an. (iv) For each n and each n-ary predicate symbol P of L the interpretation of P in B is the n-ary relation PB on B deﬁned by PB([a1],...,[an]) ⇐⇒ PA(a1,...,an) for every a1,...,an ∈ A. The fact that =A is a congruence for PA ensures that the right hand side of this deﬁnition depends only on the equivalence classes [a1],...,[an] and not on their representatives a1,...,an. Since B is to be a structure, the interpretation =B of = in B must be the identity relation on B. Note that we have [a] =B [b] ⇐⇒ a =A b for all a,b ∈ A. Hence the identity interpretation of = in B is the same as the one we would get if we treated = as another predicate symbol of L and applied clause (iv) of this construction. Our deﬁnition of the quotient structure B can be summarized by saying that the quotient map π from A onto B is a strong homomorphism of A onto B. The following Lemma is easily proved by induction on terms. 1.28. Lemma. For any L-term t(x1,...,xn) and any a1,...,an ∈ A, tB([a1],...,[an]) = [tA(a1,...,an)].
The following result gives the main content of this quotient construction from a model theoretic point of view. It says that no diﬀerence between 9
a prestructure A and its quotient structure B can be expressed in ﬁrst order logic. It justiﬁes the usual practice of only considering structures in model theory. (However, prestructures are often used, at least implicitly, in the construction of structures; this happens in the usual proof of the completeness theorem for ﬁrst order logic, for example.) 1.29. Proposition. Let A be a prestructure for L and B its quotient structure as described above. For any L-formula ϕ(x1,...,xn) and any a1,...,an ∈ A B |= ϕ[[a1],...,[an]] ⇐⇒ A |= ϕ[a1,...,an]. Proof. By induction on the formula ϕ. When ϕ is an atomic formula, this equivalence follows from the preceding Lemma and the fact that π is a strong homomorphism. The induction step is an immediate consequence of the deﬁnition of |= and (for quantiﬁers) the fact that π is surjective.   Exercises 1.30. Let I be a nonempty set, U an ultraﬁlter on I, and J an element of U. Deﬁne V to be the set of X ⊆ J such that X ∈ U. • Show that V is an ultraﬁlter on J. • Show that if (Ai | i ∈ I) is a family of L-structures, then ΠU(Ai | i ∈ I) is isomorphic to ΠV (Aj | j ∈ J) 1.31. Let I be an index set and U an ultraﬁlter on I. Let (Ai | i ∈ I) and (Bi | i ∈ I) be families of L-structures. If Ai can be embedded in Bi for all i ∈ I, show that ΠUAi can be embedded in ΠUBi. 1.32. Let A be any L-structure. Show that A can be embedded in some ultraproduct of a family of ﬁnitely generated substructures of A. 1.33. Let L be the ﬁrst order language whose only nonlogical symbol is the binary predicate symbol <. Let A = (N,<) and let B = AI/U be an ultrapower of A where I is countably inﬁnite and U is a nonprincipal ultraﬁlter on I. • Show that B is a linear ordering. • Show that the range of the diagonal embedding of A into B is a proper initial segment of B. Give an explicit description of an element of B that is not in the range of this embedding. •Show that B is not a well ordering; that is, describe an inﬁnite descending sequence in B. 1.34. Let L be the ﬁrst order language whose nonlogical symbols consist of a binary predicate symbol <, a binary function symbol + and a constant symbol 0. Let Z be the ordered abelian group of all the integers, considered as an L-structure. Let I be any countable inﬁnite set and let U be a nonprincipal ultraﬁlter on I. Consider the ultrapower ZI/U. 10
• Show that ZI/U is an ordered abelian group. • Find a natural embedding of Z into this group so that the image of the embedding is a convex subgroup. • Show that ZI/U contains a nonzero element b that is divisible in ZI/U by every positive integer n. (This means that for each n ≥1 there exists a in ZI/U that satisﬁes b = a +•••+ a (n times).) Such an element can be produced explicitly.
11
2. Theories and Types
In this chapter we discuss a few basic topics in model theory; they are closely tied to the Compactness Theorem. A theory consists of a ﬁrst order language L together with a set T of sentences in L; often the language is determined by the context. We may refer to T as an L-theory to indicate which language is intended. 2.1. Deﬁnition. Let L be a ﬁrst order language, let T,T0 be L-theories, let σ be an L-sentence, and let K be a class of L-structures. • T is satisﬁable if it has at least one model; Mod(T) denotes the class of all models of T. • σ is a logical consequence of T (and we write T |= σ) if σ is true in every model of T. • T is complete if it is satisﬁable and for every L-sentence σ, either T |= σ or T |=¬σ. • T and T0 are equivalent if they have the same logical consequences in L; this is the same as saying that each sentence in T is a logical consequence of T0 and each sentence in T0 is a logical consequence of T. When T and T0 are equivalent we will also say that T is axiomatized by T0. • The theory of K is deﬁned by Th(K) ={σ | σ is an L-sentence and A |= σ for all A ∈ K}. If K ={A}we write Th(A) instead of Th({A}). We say K is axiomatizable if K = Mod(T) for some theory T.
The following results are easy consequences of the deﬁnitions. 2.2. Facts. Let K, K1 and K2 be classes of L-structures, and let T,T1, and T2 be L-theories. (1) K1 ⊆ K2 ⇒Th(K1)⊇Th(K2); (2) T1 ⊆ T2 ⇒Mod(T1)⊇Mod(T2); (3) T1 and T2 are equivalent iﬀ Mod(T1) = Mod(T2); (4) Mod(Th(K))⊇ K, with equality if K is axiomatizable; (5) Th(K) contains its logical consequences; (6) Th(Mod(T))⊇ T and T axiomatizes Th(Mod(T)). (7) T is of the form Th(A), where A is an L-structure, iﬀ T is ﬁnitely satisﬁable and it is ⊆-maximal among ﬁnitely satisﬁable sets of Lsentences. (8) Among L-theories containing T, the complete theories are those equivalent to theories of the form Th(A), where A is a model of T. 2.3. Deﬁnition. If A and B are two structures for the same language L, we say that A and B are elementarily equivalent, and write A ≡ B, if Th(A) = Th(B).
12
2.4. Fact. Let T be a theory. Then T is complete iﬀ T has a model and any two models of T are elementarily equivalent. 2.5. Deﬁnition. Let L1 ⊆ L2 be two ﬁrst order languages and let Ti be a theory in Li for i = 1,2. We say that T2 is an extension of T1 (and, equivalently, that T1 is a subtheory of T2), if T1 is contained in the set of logicalconsequencesof T2. Further, T2 issaidtobeaconservative extension of T1, if, in addition, T2 |= σ ⇒ T1 |= σ for every sentence σ of L1. 2.6.Fact. If T2 isanextensionof T1 andeverymodelof T1 hasanexpansion to a model of T2, then T2 is a conservative extension of T1.
The following result, which is just a restatement of the Compactness Theorem, expresses a fundamental property of logical consequence in ﬁrst order logic. It shows that the relation T |= σ has ﬁnitary character, and thus (in principle) can be analyzed by some sort of (possibly abstract) “proof system” with the property that only ﬁnitely many sentences appear in each “proof.” Each presentation of G¨odel’s Completeness Theorem (which we do not need for model theory) gives such a proof system. 2.7. Corollary. If T |= σ, then there is a ﬁnite set T0 ⊆ T with T0 |= σ. Proof. Assume T |= σ, so T∪{¬σ}has no model. Hence there exists a ﬁnite T0 ⊆ T ∪{¬σ} such that T0 has no model, by the Compactness Theorem. There exists a ﬁnite T0 ⊆ T with T0 ⊆ T0 ∪{¬σ}. Evidently T0 ∪{¬σ} cannot have a model, and therefore T0 |= σ.   The following result is a variation on the same theme: 2.8. Corollary. Let L be a ﬁrst order language and let S and T be sets of sentences in L. Suppose that for every model A of T there exists γ ∈ S such that A |= γ. Then there exists a ﬁnite subset {γ1,...,γm} of S such that T |= γ1 ∨...∨γm. Proof. Apply the Compactness Theorem to T ∪{¬γ | γ ∈ S}.   2.9. Deﬁnition. Let T be a satisﬁable L-theory. We denote by S0(T) the set of all theories of the form Th(A), where A is a model of T.
Note that we may regard S0(T) as the set of complete L-theories that extend T, up to equivalence of theories. We think of it as the space of completions of T. We put a natural topology on S0(T) as follows: for each L-sentence σ, let [σ] ={T0 ∈ S0(T)| σ ∈ T0}={T0 ∈ S0(T)| T0 |= σ}. Note that the family F ={[σ]| σ is an L-sentence} 13
is closed under ﬁnite intersections and unions; indeed, for any L-sentences σ and τ, we see that [σ]∩[τ] = [σ∧τ] and [σ]∪[τ] = [σ∨τ]. The logic topology on S0(T) is the topology for which F is the family of basic open sets. That is, for each T0 ∈ S0(T), the basic open neighborhoods of T0 are the sets [σ] where σ ∈ T0. Evidently this is a Hausdorﬀ topology. Moreover, each set of the form [σ] is closed as well as open, since S0(T)\[σ] = [¬σ] for all L-sentences σ. Furthermore, the logic topology on S0(T) is compact; this is an immediate consequence of Corollary 2.8. Note also that there is a close relation between closed sets in S0(T) and L-theories T1 that extend T. For such a theory T1, deﬁne K(T1) ={T0 ∈ S0(T)| T1 ⊆ T0}=\{[σ]| σ ∈ T1}.Then K(T1) is closed, because it is the intersection of a family of clopen sets. Conversely, if K is a closed set in S0(T), then there is a set Σ of L-sentences such that the open set S0(T)\K is equal to the union of the basic open sets [σ] with σ ∈ Σ. Taking T1 = T ∪{¬σ | σ ∈ Σ} we have that T1 extends T and K(T1) = K. Note that K(T1) is nonempty iﬀ T1 is satisﬁable. 2.10. Proposition. Let T be a satisﬁable L-theory. The space S0(T) with the logic topology is a totally disconnected, compact Hausdorﬀ space. Its closed sets are the sets of the form {T0 ∈ S0(T)| T1 ⊆ T0} where T1 is a set of L-sentences containing T. Moreover, the clopen subsets of S0(T) in this topology are exactly the sets of the form [σ], where σ is an L-sentence. Proof. It remains only to prove that each clopen set C ⊆ S0(T) is of the form [σ] for some sentence σ. Since C is open, it is the union of a family of basic open sets. Since C is closed, hence compact, this family can be taken to be ﬁnite. In S0(T), a union of ﬁnitely many basic open sets is itself a basic open set.   2.11. Fact. Let T be a satisﬁable L-theory and let σ,τ be L-sentences. Then [σ] = [τ] iﬀ σ and τ are equivalent over T (i.e., σ ↔ τ is a logical consequence of T).
These results show that the topological space S0(T) by itself characterizes the relation of equivalence of L-sentences over the theory T.
14
Types Next we introduce types; they provide a way of describing the ﬁrst order expressible properties of elements of a structure. Fix n ≥1 and let x1,...,xn be a ﬁxed sequence of distinct variables. 2.12. Deﬁnition. Let A be an L-structure and consider a1,...,an ∈ A. • The type of (a1,...,an) in A is the set of L-formulas {ϕ(x1,...,xn)| A |= ϕ[a1,...,an]}; we denote this set by tpA(a1,...,an) or simply by tp(a1,...,an) if the structure A is understood. • An n-type in L is a set of formulas of the form tpA(a1,...,an) for some L-structure A and some a1,...,an ∈ A. A partial n-type in L is a subset of an n-type in L. • If Γ(x1,...,xn) is a partial n-type in L, we say (a1,...,an) realizes Γ in A if every formula in Γ is true of a1,...,an in A. • If Γ(x1,...,xn) is a partial n-type in L and A is an L-structure, we say that Γ is realized in A if there is some n-tuple in A that realizes Γ in A. If no such n-tuple exists, then we say that A omits Γ. 2.13. Facts. Let Γ(x1,...,xn) be a set of formulas in L, all of whose free variables are among x1,...,xn. • Γ(x1,...,xn) is an n-type in L if and only if it is a maximal (ﬁnitely) satisﬁable subset of the set of all formulas in L whose free variables are among x1,...,xn. •Γ(x1,...,xn)isapartial n-typein L ifandonlyifitis(ﬁnitely)satisﬁable. 2.14. Deﬁnition. Let T be a theory in L and let Γ = Γ(x1,...,xn) be a partial n-type in L. • Γ is consistent with T if T ∪Γ is ﬁnitely satisﬁable. This is equivalent to saying that Γ is realized in some model of T. • The set of all n-types that contain T is denoted by Sn(T). These are exactly the n-types in L that are consistent with T.
Let c1,...,cn be distinct new constant symbols and let Ln be the language L(c1,...,cn) extending T. Let Tn denote the theory whose set of sentences is T but whose language is Ln. The simple observation we give next allows us to identify Sn(T) with S0(Tn) using the bijection that takes an n-type Γ(x1,...,xn) to the set of Ln-sentences Γ(c1,...,cn). 2.15. Lemma. Let A,B be L-structures, let a be an n-tuple in A and let b be an n-tuple in B. The n-type tpA(a) can be identiﬁed with the complete theory Th(A,a1,...,an). In particular, tpA(a) = tpB(b) if and only if (A,a1,...,an)≡(B,b1,...,bn). 15
Proof. Set Γ(x1,...,xn) = tpA(a), and consider the set of formulas Γ(c1,...,cn) ={ϕ(c1,...,cn)| ϕ(x1,...,xn)∈Γ(x1,...,xn)} in the language Ln. Evidently Γ(c1,...,cn) ⊆ Th(A,a1,...,an). Moreover, it is an easy exercise in changing bound variables to show that every sentence in Th(A,a1,...,an) is logically equivalent to a sentence in Γ(c1,...,cn).
We deﬁne the logic topology on the space of n-types Sn(T) so that the bijection by which we identify Sn(T) with S0(Tn) is a homeomorphism, when we put the logic topology deﬁned above on S0(Tn). That is, the basic open sets for the logic topology on Sn(T) are the sets of the form [ϕ(x1,...,xn)] ={Γ(x1,...,xn)∈ Sn(T)| ϕ ∈Γ} where ϕ(x1,...,xn) is any L-formula whose free variables are among x1,...,xn. The following result is immediate from Corollary 2.10. 2.16. Proposition. Let T be a satisﬁable L-theory and n ≥ 0. The space Sn(T) with the logic topology is a totally disconnected, compact Hausdorﬀ space. Its closed sets are the sets of the form {Γ0 ∈ Sn(T)|Γ⊆Γ0} where Γ is a set of L-formulas whose free variables are among x1,...,xn such that Γ⊇ T. Moreover, the clopen subsets of Sn(T) in this topology are exactly the sets of the form [ϕ(x1,...,xn)], where ϕ(x1,...,xn) is an L-formula whose free variables are among x1,...,xn. Furthermore, two L-formulas ϕ(x1,...,xn) and ψ(x1,...,xn) are equivalent over T iﬀ the basic open sets [ϕ(x1,...,xn)] and [ψ(x1,...,xn)] are equal. Types over a set of parameters Later we will need the formalism of n-types over X, where X is a subset of a model A of an L-theory T. In such a situation, we take TX to be Th((A,a)a∈X); thus TX is a complete L(X)-theory. It speciﬁes the elementary properties of elements of X within a model A of T. (The model A is arbitrary except that X ⊆ A and (A,a)a∈X |= TX. Note that any model of TX is isomorphic to an L(X)-structure of the form (A,a)a∈X, where A |= T and X ⊆ A.) 2.17. Deﬁnition. An n-type over X for the theory T is an n-type in L(X) that is consistent with TX. The space of all n-types over X for the theory T, namely the space Sn(TX), will be denoted by Sn(X) if the theory T and model A containing X are understood. 2.18. Fact. Let T be an L-theory, A a model of T, and X a subset of A. Let Γ(x1,...,xn) be an n-type in L(X). Then Γ ∈ Sn(X) iﬀ Γ is ﬁnitely satisﬁable in the given structure (A,a)a∈X. 16
An application of type spaces To close this chapter we give an application of the topology of type spaces that will be used later (for example, when we consider Quantiﬁer Elimination). Let T be a satisﬁable L-theory and n ≥ 0. Let Σ be a nonempty set of L-formulas whose free variables are among x1,...,xn. Assume that Σ is closed under disjunction and conjunction (up to equivalence over T). 2.19. Proposition. Let ϕ(x1,...,xn) be an L-formula. The following are equivalent: (1) T |= ϕ or T |=¬ϕ or T |= ϕ ↔ σ for some formula σ ∈Σ. (2) For every T1,T2 ∈ Sn(T), if ϕ ∈ T1 and ¬ϕ ∈ T2, then there exists σ ∈Σ such that σ ∈ T1 and ¬σ ∈ T2. Proof. (1 ⇒ 2): If ϕ ∈ T1 and ¬ϕ ∈ T2, then neither T |= ϕ nor T |= ¬ϕ hold. Thus there exists σ ∈Σ such that T |= ϕ ↔ σ. It follows that σ ∈ T1 and ¬σ ∈ T2. (2 ⇒ 1): Assume that condition (2) holds and that neither T |= ϕ nor T |= ¬ϕ. Let K denote the clopen set [ϕ] in Sn(T), with its complement denoted by Kc. Note that both K and Kc are nonempty. Let S be the family of basic open sets of the form [σ] where σ ∈Σ. We will ﬁrst show that K is the union of a family of basic open sets from S. Fix T1 ∈ K; condition (1) implies that there is a subset Σ0 of Σ such thatS{[¬σ0]| σ0 ∈Σ0} contains Kc as a subset and does not have T1 as an element. Since Kc is compact, the set Σ0 can be taken to be ﬁnite. Since Σ is closed under conjunction, there is a single formula σ0 from Σ such that Kc ⊆[¬σ0] and T1 ∈[σ0]. That is, T1 ∈[σ0]⊆ K. Therefore K is the union of a family of basic open sets from S. Since K is compact, it is a ﬁnite union of such basic open sets. Since Σ is closed under disjunction, there must be a single formula σ ∈ Σ such that K = [σ], and therefore T |= ϕ ↔ σ, as desired.
Exercises 2.20. Show that the Compactness Theorem (Theorem 1.10) can be derived from Corollary 2.7 by a trivial argument. 2.21. Let T be an L-theory and let K be the set of all L-structures that are not models of T. Show that T is equivalent to a ﬁnite L-theory iﬀ K is axiomatizable.
17
3. Elementary Maps
3.1. Deﬁnition. Let A,B be L-structures and let f be a function from a subset X of A into B. We say f is elementary (with respect to A,B) if for every L-formula ϕ(x1,...,xm) and every a1,...,am ∈ X A |= ϕ[a1,...,am]⇔ B |= ϕ[f(a1),...,f(am)]. If the domain of the function f is all of A and f is elementary with respect to A,B, then f is called an elementary embedding from A into B. 3.2. Fact. Let A,B,X,f be as in the Deﬁnition. The function f is elementary with respect to A,B if and only if (A,a)a∈X ≡ (B,f(a))a∈X. In particular, if there exists a function f: X → B that is elementary with respect to A,B for some subset X of A (including the empty set), then A ≡ B. 3.3. Fact. If f is an elementary function then f must be 1-1. Moreover, if f is an elementary embedding of A into B, then f is an embedding of A into B. 3.4. Deﬁnition. Let A,B be L-structures and suppose A ⊆ B. We say A is an elementary substructure of B and write A B if the inclusion map is an elementary embedding from A into B. In this case we also refer to B as an elementary extension of A and write B  A. The importance of elementary extensions for model theoretic arguments is indicated by the following remark. 3.5. Remark. Let L be a ﬁrst order language and let A,B be L-structures that satisfy A  B. An important property of elementary extensions is that each relation R on A that is deﬁnable in A has a canonical extension R0 to a relation on B that is deﬁnable in B. To obtain this extension, take any L-formula ϕ(x1,...,xm,y1,...,yn) and any b1,...,bn ∈ A such that R ={(a1,...,am)∈ Am | A |= ϕ[a1,...,am,b1,...,bn]} and set R0 ={(a1,...,am)∈ Bm | B |= ϕ[a1,...,am,b1,...,bn]} It is an easy exercise to show that R0 does not depend on the speciﬁc L(A)-formula ϕ(x1,...,xm,b1,...,bn) used in deﬁning R. Note that the parameters needed to deﬁne R0 in B are exactly the same as the parameters used to deﬁne R in A. This correspondence between (certain) relations R on A and R0 on B preserves all structural properties that can be expressed in ﬁrst order logic. For example: it is an isomorphism with respect to Boolean operations and projections; also, if R is the graph of a function, then so is R0. 18
3.6. Facts. (a) Let g be an isomorphism from A onto B, and let f be any restriction of g to a subset X of A. Then f is elementary with respect to A,B. (b) If g is elementary (with respect to A,B) and f is elementary (with respect to B,C), and if the range of g is contained in the domain of f, then the composition f ◦g is elementary (with respect to A,C). (c) If f is elementary (with respect to A,B), then f−1 is elementary (with respect to B,A). 3.7. Fact. Let I be an index set and U be an ultraﬁlter on I. Fix a ﬁrst order language L and an L-structure A. Consider the ultrapower AI/U of A. Deﬁne a function δ on A by setting δ(a) = ga/U, where ga is the constant function with ga(i) = a for all i ∈ I. Then δ is an elementary embedding from A into AI/U. (This is called the diagonal embedding; often one identiﬁes a with δ(a) for each a ∈ A and thereby regards A as an elementary substructure of AI/U.) The following result gives a useful tool for showing that A is an elementary substructure of B. Note that the condition in this Theorem refers to truth of formulas only in the structure B. 3.8. Theorem (Tarski-Vaught Test for ). Let B be an L-structure and suppose A ⊆ B. Then A is the underlying set of an elementary substructure of B if and only if for every formula ψ(x1,...,xm,y) in L and every sequence a1,...,am in A, if B |= ∃yψ[a1,...,am], then there exists b ∈ A such that B |= ψ[a1,...,am,b]. Proof. (⇒) This follows immediately from the deﬁnition of elementary substructure. (⇐): Suppose A and B satisfy the given conditions. We ﬁrst need to show that A is the underlying set of a substructure of B. If c is a constant symbol in L, apply the given conditions on A,B to the formula ψ(y) equal to y = c; this shows that cB ∈ A. If F is an m-ary function symbol in L, apply the given conditions on A,B to the formula ψ(y) equal to F(x1,...,xm) = y; this shows that A is closed under the function FB. Hence there exists A ⊆ B whose underlying set is A. We need to show that for any formula ϕ(x1,...,xm) and any a1,...,am ∈ A, A |= ϕ[a1,...,am]⇔ B |= ϕ[a1,...,am]. The proof is by induction on the formula ϕ. By changing bound variables if necessary, we may restrict attention to formulas ϕ(a1,...,xm) that have no bound occurrences of any xj, j = 1,...,m. In the basis step ϕ is an atomic formula; the displayed equivalence follows from the assumption that A is a substructure of B. In the induction step, the cases of propositional connectives are trivial. In the remaining case ϕ is of the form∃yψ(x1,...,xm,y), where the statement 19
to be proved is assumed to be true for ψ and y is not among x1,...,xm. Then we have: A |= ϕ ⇔ A |=∃yψ[a1,...,am] ⇔ A |= ψ[a1,...,am,b] for some b ∈ A ⇔ B |= ψ[a1,...,am,b] for some b ∈ A ⇔ B |=∃yψ[a1,...,am] ⇔ B |= ϕ[a1,...,am] In the third equivalence we used the induction hypothesis and in the fourth we used the hypothesis of the implication we are proving as well as the fact that y is distinct from all of x1,...,xm.   3.9.Facts (UnionsofChains). Let(I,≤)bealinearlyorderedset. Foreach i ∈ I let Ai be an L-structure, and suppose this indexed family of structures is a chain. That is, for each i,j ∈ I, we suppose i ≤ j ⇒ Ai ⊆ Aj. (1) There is a well deﬁned structure whose universe is the union of the sets Ai and which is an extension of each Ai; moreover, such a structure is unique. (For obvious reasons, this structure is called the union of the given chain of structures.) (2) If, in addition, Ai  Aj holds whenever i,j ∈ I and i ≤ j, then the union of this chain of structures is an elementary extension of each Ai. (In thissituationwereferto(Ai | i ∈ I)asanelementary chain of L-structures. A useful way of proving that functions are elementary is the back-and-forth method, which we now describe. 3.10. Deﬁnition. Let A,B be L-structures and let F be a nonempty family of functions. We say F is a local isomorphism from A onto B if it has the following properties: • Each function in F is an embedding from a substructure of A into B. • (“back”) For each f ∈ F and each b ∈ B there is some g ∈ F such that g extends f and b is in the range of g. • (“forth”) For each f ∈ F and each a ∈ A there is some g ∈ F such that g extends f and a is in the domain of g. We say A is locally isomorphic to B if there is a local isomorphism from A onto B.
To work eﬀectively with local isomorphisms, we need some facts about maps between substructures. 3.11. Lemma. Let A,B be L-structures and let f be an embedding of a substructure of A into B. Then (1) The range of f is a substructure of B. (2) For each L-term t(x1,...,xn) and each a1,...,an in the domain of f, tB(f(a1),...,f(an)) = f(tA(a1,...,an)).
(3) For each quantiﬁer-free L-formula ϕ(x1,...,xn) and each a1,...,an in 20
the domain of f, B |= ϕ[f(a1),...,f(an)] ⇔ A |= ϕ[a1,...,an]. Proof. (1) We need to show that cB is in the range of f for any constant symbol c of L and that the range of f is closed under the application of FB for any function symbol F of L. If c is a constant symbol of L, then cA is in the domain of f and we have cB = f(cA). If F is an n-ary function symbol of L and a1,...,an are in the domain of f (so f(a1),...,f(an) are arbitrary elements of the range of f), we have FB(f(a1),...,f(an)) = f(FA(a1,...,an)), which is in the range of f. (2) This is proved by induction on terms. (3) This is proved by induction on formulas. Part (2) yields the base case, in which atomic formulas are treated. The induction steps for propositional connectives are trivial.   3.12. Proposition. Let A,B be L-structures and let F be a local isomorphism from A onto B. Then each function in F is elementary with respect to A,B. In particular, A ≡ B. Proof. Let ϕ(x1,...,xn) be an L-formula, f a function in F, and a1,...,an elements of the domain of f. We must prove A |= ϕ[a1,...,an] ⇐⇒ B |= ϕ[f(a1),...,f(an)]. This is done by induction on ϕ(x1,...,xn). In the base case of the induction ϕ is an atomic formula, and the desired equivalence is contained in Lemma 3.11(3). The induction steps for propositional connectives are trivial. The induction steps for quantiﬁers follow from the “back-and-forth” properties satisﬁed by F. The ﬁnal statement follows, because F is nonempty.
When constructing local isomorphisms, the following notation and result are often useful. 3.13. Notation. Let A be an L-structure and X a nonempty subset of A. We denote by hXiA the substructure of A that is generated by X. 3.14. Lemma. Let A,B be L-structures. Let J be a nonempty set and consider two functions α: J → A, β: J → B. Let (xj | j ∈ J) be a family of distinct variables. Suppose that for any quantiﬁer-free formula ϕ(xj | j ∈ J) whose variables are among (xj | j ∈ J) we have A |= ϕ[α(j)| j ∈ J] ⇔ B |= ϕ[β(j)| j ∈ J]. Then there exists an embedding f from h{α(j)| j ∈ J}iA into B such that f(α(j)) = β(j) for all j ∈ J. Moreover, f is unique with these properties and its range is h{β(j)| j ∈ J}iB. 21
Proof. The underlying set of h{α(j) | j ∈ J}iA consists exactly of those elements of A that can be written in the form tA(α(j) | j ∈ J) where t(xj | j ∈ J) is any L-term whose variables are among (xj | j ∈ J). If t1,t2 are two such terms and tA 1 (α(j) | j ∈ J) = tA 2 (α(j) | j ∈ J), thenour assumptions yield that tB 1 (β(j) | j ∈ J) = tB 2 (β(j) | j ∈ J). (Considerthe quantiﬁer-free formula t1 = t2.) Thus we may deﬁne a function f on h{α(j)| j ∈ J}iA by f(tA(α(j)| j ∈ J)) = tB(β(j)| j ∈ J) where t ranges over the L-terms whose variables are among (xj | j ∈ J). It is routine to show that this f has the desired properties.   Theory of dense linear orderings without endpoints We illustrate the use of these ideas by treating the theory of dense linear orderings without endpoints. Let L denote the language whose only nonlogical symbol is a binary predicate symbol <. Let DLO denote the theory of dense linear orderings without maximum or minimum element, formulated as a (ﬁnite) set of L-sentences. 3.15. Example. Each L-formula is equivalent in DLO to a quantiﬁer-free L-formula.
Proof. We apply Proposition 2.19. Fix an L-formula ϕ(x1,...,xm). Let Σ be the set of quantiﬁer-free L-formulas whose free variables are among x1,...,xm. We will verify condition (2) of Proposition 2.19. To that end, consider two dense linear orderings without endpoints (A,<) and (B,<) and elements a1,...,am ∈ A,b1,...,bm ∈ B. We assume that (A,<) |= ϕ[a1,...,am] and that every quantiﬁer-free L-formula satisﬁed in (A,<) by a1,...,am is satisﬁed in (B,<) by b1,...,bm. We need to show (B,<) |= ϕ[b1,...,bm]. Let F be the set of all order preserving functions from a ﬁnite subset of A into B. An easy argument shows that A is a local isomorphism from (A,<) onto (B,<). Our assumptions ensure that there exists f ∈ F such that f is deﬁned on {a1,...,am} and satisﬁes f(ai) = bi for all i = 1,...,m. By Proposition 3.12, the function f is elementary with respect to (A,<) and (B,<).
Note that we have proved in passing that every two models of DLO are elementarily equivalent, since there is a local isomorphism from one onto the other. Hence DLO is complete. Theory of equality We complete this chapter by analyzing the simplest logical theory, which is the theory of equality. Let L denote the language of =, without any nonlogical symbols. For each n ≥0 let σn be a sentence in L that expresses the statement that the universe has at most n elements (so ¬σ0 is logically 22
valid). For each n ≥1 let Tn be the theory in L axiomatized by σn∧¬σn−1 and let T∞ be the theory axiomatized by the set {¬σn | n ≥ 1}. Thus Tn is the theory of sets of size n (n ≥1) and T∞ is the theory of inﬁnite sets. 3.16. Example (Theories in the language of equality). (i) Each formula in the pure language of = is logically equivalent to a Boolean combination of quantiﬁer free formulas and the sentences σn for n ≥1. (ii) The complete theories in the language of = are equivalent to T∞ and Tn for n ≥ 1. For each such theory T, every formula in the language of = is equivalent in T to a quantiﬁer free formula.
Proof. (i) We apply Proposition 2.19. Fix a formula ϕ(x1,...,xm) in the language of =. Let Σ be the set of all Boolean combinations of quantiﬁer free formulas whose variables are among x1,...,xm and the sentences σn for n ≥ 1. We want to verify condition (2) of Proposition 2.19. To that end, consider two sets A,B and elements a1,...,am ∈ A,b1,...,bm ∈ B. We assume that A |= ϕ[a1,...,am] and that every formula in Σ that is satisﬁed by a1,...,am in A is satisﬁed by b1,...,bm in B. We need to show B |= ϕ[b1,...,bm]. Our hypotheses ensure that for all n ≥ 1 we have A |= σn ⇐⇒ B |= σn. Therefore, either A and B have the same ﬁnite cardinality or both A,B are inﬁnite. Moreover, we also have that for each 1 ≤ i < j ≤ m, ai = aj ⇐⇒ bi = bj. Therefore there is a bijection f from {a1,...,an} onto {b1,...,bn} such that f(ai) = bi for all i = 1,...,n. Let F be the set of all 1-1 functions g that extend f and map a ﬁnite subset of A into B. It is easy to check that F is a local isomorphism from (A,a1,...,an) onto (B,b1,...,bn). By Proposition 3.12, (A,a1,...,an) ≡ (B,b1,...,bn), and hence B |= ϕ[b1,...,bm]. (ii) For ﬁnite n, any two models of Tn are isomorphic, hence elementarily equivalent, so Tn is complete in these cases. On the other hand, T∞ has only inﬁnite models; the back-and-forth argument used to prove (i) shows that any two inﬁnite sets are elementarily equivalent, which proves that T∞ is also complete. If T is any complete theory in the language of equality, and A is one of its models, then A is a model of T∞ or of Tn for some n ≥ 1, depending on the cardinality of A. Therefore T is equivalent to Th(A), which contains one of these theories, say Tj where j ≥1 or j =∞. But we showed that each such Tj is complete, from which it follows easily that T and Tj are equivalent.   The previous result allows one to show that if T is the empty theory in the language L of equality, then the space S0(T) consists of a sequence of points (Tn | n ≥ 1) that are isolated, together with a point T∞ to which this sequence converges.
23
Exercises 3.17. Let A be an L-structure and X a nonempty subset of A. The diagram of X in A, denoted by DiagX(A), is the set of all quantiﬁer-free L(X)sentences that are true in (A,a)a∈X. Suppose X is a set of generators for A and B is another L-structure. Show that there is a 1-1 correspondence between embeddings of A into B and expansions of B that are models of DiagX(A). 3.18. Let A be an L-structure and X a nonempty subset of A. The elementary diagram of X in A, denoted by EDiagX(A), is the set of all L(X)sentences that are true in (A,a)a∈X. Suppose X is a set of generators for A and B is another L-structure. Show that there is a 1-1 correspondence between elementary embeddings of A into B and expansions of B that are models of EDiagX(A). 3.19. Let I be an index set and U an ultraﬁlter on I. Let (Ai | i ∈ I) and (Bi | i ∈ I) be families of L-structures. If Ai can be elementarily embedded in Bi for all i ∈ I, show that ΠUAi can be elementarily embedded in ΠUBi. 3.20. Let A be an inﬁnite L-structure and κ an inﬁnite cardinal. Show that there exists an ultrapower of A that has cardinality at least κ. (Compare Corollary1.12.) Itfollowsthat A hasanelementaryextensionofcardinality at least κ. 3.21. Let A ⊆ B be L-structures. Suppose that for every ﬁnite sequence a1,...,am ∈ A and every b ∈ B there is an automorphism of B that ﬁxes each element of a1,...,am and moves b into A. Show that A  B. 3.22. Let K be a ﬁeld and let L be the ﬁrst order language of vector spaces over K; the nonlogical symbols of L are a constant 0, a binary function symbol +, and a unary function symbol Fa for each a ∈ K. Given a Kvector space V , we regard V as an L-structure in the obvious way: 0 is interpreted by the identity element of V , + is interpreted by the addition of V , and each Fa is interpreted by the operation of scalar multiplication by a. Suppose W ⊆ V are inﬁnite dimensional K-vector spaces. Use the previous exercise to prove that W  V . Use this result to show that any two inﬁnite K-vector spaces are elementarily equivalent. 3.23. Let L be the language whose only nonlogical symbol is a binary predicate symbol <. Let A be an L-structure that is a dense linear ordering without endpoints. Let ϕ(x,y1,...,yn) be any L-formula (with x a single variable) and let a1,...,an ∈ A. Show that the deﬁnable set {a ∈ A | A |= ϕ[a,a1,...,an]} is the union of a ﬁnite number of open intervals (whose endpoints are in A∪{−∞,+∞}) and a ﬁnite subset of A. 3.24. Let L be the pure language of =, so L has no nonlogical symbols, and let σ be any L-sentence. Show that if σ is satisﬁable, then σ is true in some ﬁnite set.
24
4. Saturated Models
In this chapter we prove that every satisﬁable theory T has models that are rich, in a certain sense. This is the ﬁrst of several such notions that turn out to be useful in model theory. (See Section 12.) 4.1. Deﬁnition. Let A be an L-structure and let κ be an inﬁnite cardinal. We say that A is κ-saturated if the following condition holds: if X is any subset of A having cardinality < κ and Γ(x) is any 1-type in L(X) that is ﬁnitely satisﬁable in (A,a)a∈X, then Γ(x) itself is satisﬁable in (A,a)a∈X. 4.2. Facts. Let A be an L-structure and κ an inﬁnite cardinal. (a) If A is inﬁnite and κ-saturated, then the underlying set of A has cardinality at least κ. (b) If A is ﬁnite, then A is κ-saturated for every κ. (c) If A is κ-saturated and X is a subset of A having cardinality < κ, then the expansion (A,a)a∈X is also κ-saturated. Deﬁnition 4.1 refers only to realizing 1-types. The following result shows that κ-saturated structures realize partial types in a very rich way. 4.3. Theorem. Let κ be an inﬁnite cardinal and suppose A is a κ-saturated L-structure. Suppose X ⊂ A has cardinality < κ. Let Γ(xj | j ∈ J) be a set of L(X)-formulas, where J has cardinality ≤ κ. If Γ is ﬁnitely satisﬁable in (A,a)a∈X, then Γ is satisﬁable in (A,a)a∈X. Proof. Let X,J, and Γ(xj | j ∈ J) be as in the statement of the Theorem. Extend Γ so that it is maximal among sets of L(X)-formulas with free variables among (xj | j ∈ J) that are ﬁnitely satisﬁable in (A,a)a∈X. Let < be a well ordering of J such that the order type of (J,<) is the cardinal of J. As a consequence, each proper initial segment of (J,<) has cardinality < κ. For each k ∈ J let Γ≤k be the set of formulas in Γ whose free variables are among (xj | j ≤ k). Note that the maximality of Γ ensures that if ϕ is any L(X)-formula whose free variables are among (xj | j ≤ k), then either ϕ ∈ Γ≤k or ¬ϕ ∈ Γ≤k. Moreover, Γ≤k is closed under conjunction and under application of the existential quantiﬁer ∃xk. We need to obtain a family (aj | j ∈ J) of elements of A that satisﬁes Γ in (A,a)a∈X; we do this by induction over the well ordering (J,<). Fix k ∈ J and suppose we have already obtained (aj | j < k) that satisfy all the formulas from Γ that have free variables among (xj | j < k). Let Γ0 be the result of substituting aj for all free occurrences of xj in Γ≤k, for all j < k. We see that Γ0 is a 1-type (with xk the allowed free variable) in L(X ∪{aj | j < k}) that is ﬁnitely satisﬁable in (A,a)a∈X∪{aj|j<k}. Since X ∪{aj | j < k} has cardinality < κ and A is κ-saturated, there exists ak in A that satisﬁes Γ0 in (A,a)a∈X∪{aj|j<k}. It follows that the family (aj | j ≤ k) satisﬁes Γ≤k in (A,a)a∈X. 25
The result of this construction is a family (aj | j ∈ J) of elements of A such that for each k ∈ J, the family (aj | j ≤ k) satisﬁes Γ≤k in (A,a)a∈X. Hence (aj | j ∈ J) satisﬁes Γ in (A,a)a∈X, as desired.   4.4. Corollary. Let A be a κ-saturated L-structure. If B ≡ A and card(B)≤ κ, then there is an elementary embedding of B into A. Proof. Let (bj | j ∈ J) be an enumeration of B, so card(J) ≤ κ. Let Γ(xj | j ∈ J) be the set of all L-formulas with the indicated free variables that are satisﬁed by (bj | j ∈ J) in B. Since B ≡ A, the set Γ is ﬁnitely satisﬁable in A. Apply Theorem 4.3 to obtain a family (aj | j ∈ J) of elements of A that satisﬁes Γ in A. The function f: B → A that satisﬁes f(bj) = aj for all j ∈ J is an elementary embedding of B into A.   4.5. Remark. Suppose A  B and X ⊆ A, and consider the complete L(X)-theory TX = Th((A,a)a∈X). Then (B,a)a∈X is a model of TX. In particular, it makes sense to speak of a type over X being realized in (B,a)a∈X. Next we prove the existence of κ-saturated models. We construct such a model by taking the union of a suitable elementary chain. The following result is the main tool needed for building this chain. 4.6. Lemma. Let A be an L-structure. There exists an elementary extension B of A such that for any subset X of A, every 1-type over X is realized in (B,a)a∈X. Proof. Take J to be a set whose cardinality is the number of L(A)-formulas, and let I be the collection of all ﬁnite subsets of J. Let U be an ultraﬁlter on I such that for every j ∈ J, U has the set {i ∈ I | j ∈ i} as an element. This is possible because the family of all such sets has the FIP. Let B be the ultrapower AI/U of A and let δ be the diagonal embedding of A into B. We know that δ is an elementary embedding, so we may regard B as an elementary extension of A. (Replace B by a structure that is isomorphic to B such that the composition of this isomorphism with δ is the identity on A.) Let X be any subset of A and let Γ(x) be a 1-type in L(X) that is ﬁnitely satisﬁable in (A,a)a∈X. We need to show that Γ is realized in (B,δ(a))a∈X. Let α: J →Γ be any surjective function. For each i ∈ I choose ai ∈ A that satisﬁes the formula α(j) in (A,a)a∈X for every j in the ﬁnite set i. Let f be the element (ai | i ∈ I) of AI. It follows from Theorem 1.7 that f/U satisﬁes Γ(x) in (B,δ(a))a∈X.   4.7. Theorem (Existence of Saturated Models). For every inﬁnite cardinal number κ, every structure has a κ-saturated elementary extension. Proof. Let κ+ denote the smallest cardinal number > κ and let Λ = {α | α is an ordinal < κ+}, ordered by <. We obtain the desired structure as 26
the union of an elementary chain of structures, indexed by the well-ordered set (Λ,<). The chain of structures is deﬁned by induction, as follows: to begin, we let A0 = A. Given α ∈ Λ, we deﬁne Aα assuming that Aβ is deﬁned for all β < α. If α = β + 1 for some β, let Aα be one of the elementary extensions of Aβ that are described in Lemma 4.6. Otherwise α is a limit ordinal and we deﬁne Aα = S β<α Aβ. The chain of structures deﬁned by this procedure is an elementary chain; one proves by induction on β ∈Λ that Aα Aβ holds for all α < β, using Fact 3.9 at limit ordinals. Finally, let B = S α∈Λ Aα. We show that this is the required structure. Note that Aα  B for every α ∈ Λ, again using Fact 3.9. In particular, B is an elementary extension of A. We will complete the proof by showing that B is κ+-saturated (which is more than we need to prove). Let X ⊆ B satisfy card(S) ≤ κ. Since the coﬁnality of the ordered set Λ is κ+ > κ there exists η ∈ Λ such that X ⊆ Aη. LetΓ(x)beany1-typein L(X)thatisﬁnitelysatisﬁablein(B,a)a∈X. Since Aη  B and X ⊆ Aη, we see that Γ is ﬁnitely satisﬁable in (Aη,a)a∈X. By construction, this implies that Γ(x) is satisﬁed by some b in (Aη+1,a)a∈X. Since Aη+1  B, it follows that b satisﬁes Γ(x) in (B,a)a∈X, as desired.   The existence of κ-saturated models can also be proved directly using ultraproducts. However, when κ > ω1 it is technically rather diﬃcult to prove the existence of an ultraﬁlter U for which the ultrapower AI/U is κ-saturated, and this is why we used a diﬀerent method. On the other hand, when the language is countable and κ = ω1, it is relatively easy to obtain ω1-saturated ultraproducts, as we now show. 4.8. Theorem. Let U be a nonprincipal ultraﬁlter on a countable (inﬁnite) set I. Let L be a countable language and (Ai | i ∈ I) a family of Lstructures. Then the ultraproductQU Ai is ω1-saturated. Proof. We may assume I = N. Since U is nonprincipal it contains every coﬁnite subset of N. For each i ∈N, let Ai be the underlying set of Ai and let A be the cartesian productQi∈N Ai. We denote the ultraproductQU Ai by B and its underlying set by B. Let C be any countable subset of B. Let Γ(x1,...,xn) be a set of L(C)-formulas such that every ﬁnite subset of Γ is satisﬁable in (B,a)a∈C. We must show that the entire set Γ is satisﬁable in (B,a)a∈C. For convenience of notation, we will take n = 1 and write x for x1. Let (ϕk(x,yk) | k ∈ N) be a family of L-formulas and (bk | k ∈ N) a family of ﬁnite tuples from C such that Γ(x) is {ϕk(x,bk)| k ∈N}. This is possible because the language L(C) is countable. For convenience of notation we 27
will take each tuple bk to be of length 1 (i.e., to be an element of C). For each k ∈N, let fk be an element of the cartesian product A for which bk is the =A equivalence class of fk. For each k ∈N and i ∈N, let Ck(i) : ={u ∈ Ai | Ai |= ϕk[u,fk(i)]}. Using the Fundamental Theorem of Ultraproducts and the hypothesis that each ﬁnite subset of Γ(x) is satisﬁable in (B,a)a∈C we have that {i ∈N| C0(i)∩...∩Ck(i)6=∅}∈ U for each k ∈N. Deﬁne Gk for k ∈N by setting G0 = N and for k ≥1 Gk : ={i ∈N| i ≥ k and C0(i)∩...∩Ck(i)6=∅}. Note thatN = G0 ⊇ G1 ⊇ ...Gk and that Gk ∈ U, for all k ∈N. Moreover, ∩{Gk | k ∈ N} = ∅; therefore we may deﬁne d(i) for each i ∈ N to be the largest k ∈N such that i ∈ Gk. Now we construct an element g of A whose =A equivalence class [g] will satisfy every formula from Γ(x) in (B,a)a∈C. Fix i ∈ N and deﬁne g(i) as follows. If d(i) = 0 let g(i) be an arbitrary element of Ai. If d(i) ≥ 1, choose g(i) to be an element of C0(i)∩...∩Cd(i)(i), which is guaranteed to be nonempty by the deﬁnition of d(i). It is obvious that for each k ∈ N, g(i) ∈ Ck(i) holds whenever d(i) ≥ k and d(i) ≥ 1. Therefore {i ∈ N | g(i) ∈ C0(i)} ⊇ G1 and for k ≥ 1, {i ∈N| g(i)∈ Ck(i)}⊇ Gk. Recalling the deﬁnition of Ck(i) and that the sets Gk are all in U, it follows that for each k ∈N {i ∈N| Ai |= ϕk[g(i),fk(i)]}∈ U. The Fundamental Theorem of Ultraproducts implies that [g] satisﬁes ϕk(x,bk) in (B,a)a∈C for all k ∈N.   4.9. Remark. Let I be any index set and let U be an ultraﬁlter on I. We say that U is countably incomplete if there exist sets (Fk | k ∈ N) from U whose intersection ∩{Fk | k ∈ N} is not in U. The proof of the preceding result can be slightly modiﬁed to show that if U is a countably incomplete ultraﬁlter on I and (Ai)i∈I is any family of L structures indexed by I, where L is a countable language, then the ultraproductQU Ai is ω1-saturated.
28
Exercises 4.10. Show that the linear ordering (R,<) is ω-saturated but not ω1saturated. (Note that (R,<)|= DLO, so you can use Example 3.15.) 4.11. Show that no inﬁnite well ordering is ω-saturated. 4.12. Let I be a countable inﬁnite set and U a nonprincipal ultraﬁlter on I. • Let A be the linear ordering (Q,<). Show that the cardinality of the ultrapower AI/U is exactly 2ω. (Note that it is not enough to prove that the ultrapower is uncountable; it is possible that ω1 < 2ω.) • More generally, let L be any ﬁrst order language and let Ai be a countable inﬁnite L-structure for each i ∈ I. Show that the cardinality of the ultraproduct ΠU(Ai | i ∈ I) is exactly 2ω.
29
5. Quantifier Elimination
The method of quantiﬁer elimination, which we introduce in this chapter, is often useful in applications for analyzing deﬁnable sets. 5.1. Deﬁnition. T admits Quantiﬁer Elimination (QE) if for every n ≥1 and every L-formula ϕ(x1,...,xn) there exists a quantiﬁer free L-formula ψ(x1,...,xn) such that T |= ϕ ↔ ψ. Our ﬁrst criterion for QE comes directly from Proposition 2.19. 5.2. Theorem. Let T be a satisﬁable L-theory. The following conditions are equivalent: (1) T admits quantiﬁer elimination. (2) For each n ≥1, every type in Sn(T) is determined by the quantiﬁer-free formulas it contains. Proof. (1⇒2): Obvious. (2 ⇒ 1): Let ϕ(x1,...,xn) be any L-formula, n ≥ 1. Apply Proposition 2.19withΣtakentobethesetofallquantiﬁer-freeformulaswhosevariables are among x1,...,xn.
Next we make the preceding result more useful for applications by relating it to extensions of embeddings. 5.3. Notation. For L-structures A,B we let F0(A,B) denote the set of all functions f such that f is an embedding of a ﬁnitely generated substructure of A into B.
Note that F0(A,B) could be empty. 5.4. Theorem. Let T be a satisﬁable L-theory. The following conditions are equivalent: (1) T admits quantiﬁer elimination; (2) Whenever A,B are models of T, f is in F0(A,B), and a ∈ A, there exists an elementary extension B0 of B and a function g in F0(A,B0) such that g extends f and a is in the domain of g. (3) Whenever A,B are ω-saturated models of T, either F0(A,B) is empty or it is a local isomorphism from A onto B. Proof. (1 ⇒ 2): Let a1,...,an be generators for the domain of f and let Γ(x1,...,xn,y) = tpA(a1,...,an,a). Since T admits QE and f preserves the truth of quantiﬁer-free formulas, we see that tpB(f(a1),...,f(an)) = tpA(a1,...,an). Note that if ϕ1,...,ϕm ∈ Γ, then ∃y(ϕ1 ∧•••∧ ϕm) is satisﬁed by a1,...,an in A. Therefore each such formula is also satisﬁed by f(a1),...,f(an) in B. It follows that the 1-type Γ(f(a1),...,f(an),y) over {f(a1),...,f(an)}is ﬁnitely satisﬁable in (B,f(a1),...,f(an)). By Lemma 4.6thereexists B0  B and b ∈ B0 suchthat b realizesΓ(f(a1),...,f(an),y) 30
in (B,f(a1),...,f(an)). Using Lemma 3.14 we may extend f to an embedding g of ha1,...,an,aiA into B0 with g(a) = b. (2 ⇒ 3): Assume A,B are ω-saturated models of T. When we apply statement (2) to A,B, we may take B0 to be B itself, since the type realized by g(a) in B0 over a ﬁnite set of generators for the range of f can be realized in B. (Then we argue as in the previous paragraph.) This shows that F0(A,B) has the “forth” property in Deﬁnition 3.10. Applying the same argument to the opposite pair B,A shows that F0(A,B) also has the “back” property in that Deﬁnition. That is, F0(A,B) is indeed a local isomorphism from A onto B, as desired. (3 ⇒ 1): We verify condition (2) in Theorem 5.2. Fix n ≥ 1 and p,q be any two types in Sn(T). Suppose a1,...,an realizes p in A |= T and b1,...,bn realizes q in B |= T. By Theorem 4.7 we may assume that A and B are ω-saturated. Suppose p and q containexactlythe same quantiﬁer-free formulas. Using Lemma 3.14 we get an isomorphism f from ha1,...,aniA onto hb1,...,bniB with f(ai) = bi for all i = 1,...,n. Then f ∈ F0(A,B), so by statement (3) and Proposition 3.12 we conclude that f is elementary, and thus p = q, as desired.   5.5. Corollary. Let T be a satisﬁable L-theory that admits quantiﬁer elimination. (1) Suppose A,B are models of T. If some substructure of A can be embedded in B, then A ≡ B. (2) If some single L-structure can be embedded into every ω-saturated model of T, then T is complete.
Proof. (1) Let A,B be models of T such that some substructure of A can be embedded in B. By Theorem 4.7 there exist ω-saturated models A0,B0 such that A0  A and B0  B. Then some substructure of A0 embeds in B0, and hence F0(A0,B0) is nonempty. It follows from Theorem 5.4(3) that A0 ≡ B0 and hence A ≡ B. (2) By part (1) and Theorem 4.7, the assumptions in (2) imply that any two models of T are elementarily equivalent.   Theory of discrete linear orderings without endpoints Consider the language L0 whose only nonlogical symbol is a binary predicate <. Let Tdis be the theory of discrete linear orderings without minimum or maximum element, formulated in L0. (A linear ordering without endpoints is discrete if each element has a unique successor and a unique predecessor.) The theory Tdis does not admit QE, but it can be analyzed by applying the method of quantiﬁer elimination. This means that we formulate a carefully chosen extension, show that the extension admits QE, and then use this fact to draw conclusions about Tdis. To obtain the extension of Tdis that we will use, let L be the extension of L0 obtained by adding unary function symbols p and s. T is the theory in 31
L of all linear orderings with functions p and s such that for each element x, p(x) is the predecessor of x in the ordering and s(x) is the successor of x. If A is any model of T, it is obvious that the reduct of A to L0 is a model of Tdis. Moreover, each model A0 of Tdis expands in a unique way to a model of T, because the predecessor function and the successor function are deﬁnable in A0. 5.6. Example. The theory T of discrete linear orderings without minimum or maximum element, equipped with the predecessor and successor functions, admits quantiﬁer elimination and is complete. Therefore Tdis is also complete.
Proof. We verify condition (2) in Theorem 5.4. Let A,B be models of T and let A0 be the substructure of A generated by the elements a1,...,am. We may assume a1 < ... < am in A. Further, let f be an embedding of A0 into B. We may suppose that no subset of {a1,...,am} generates A0. It follows that for each k ∈N and each i = 2,...,m−1, the k-th successor of ai is less than ai+1 and the k-th predecessor of ai is greater than ai−1 in A. Now let a be any element of A that is not in A0. We must extend the embedding f so that it is deﬁned on a as well as its predecessors and successors, and gives an embedding into an elementary extension B0 of B. To accomplish this, we take B0 to be any ω-saturated elementary extension of B, which exists by Theorem 4.7. For each i = 1,...,m let Ci be the set of all predecessors and successors of ai in A, including ai itself. Then each Ci is a convex set in A and A0 is the disjoint union of the sets C1,...,Cm. Moreover, a either lies between Ci and Ci+1 for some i = 1,...,m−1, or it lies below C1, or it lies above Cm, in the ordering of A. Since f isanembeddingwithrespecttoorderingandalsotothepredecessor and successor functions, each set f(Ci) is a convex set in B that consists of all the predecessors and successors of f(ai). This remains true when we move up to B0. Moreover, the convex sets f(C1),...,f(Cm) are disjoint and are arranged in order from left to right in the ordering of B0. A simple saturation argument shows that there exist elements d1,...,dm+1 of B0 such that d1 < f(C1) < d2 < f(C2)... < f(Cm−1) < dm < f(Cm) < dm+1. Note that the same system of inequalities will hold if we replace any dj by any one of its predecessors or successors. We now extend f to be an embedding deﬁned on the substructure of A generated by A0 and a by deﬁning f(a) = dj for a suitable value of j. An easy argument shows that this extends to an embedding of the entire substructure. Thiscompletestheproofthat T admitsQE.Toconcludethat T iscomplete, we apply Corollary 5.5, using the fact that the structure (Z,<,p,s), in which p(n) = n−1 and s(n) = n +1 for all n ∈Z, can be embedded into every model of T. 32
Finally, it follows that Tdis is complete, since T is a conservative extension of Tdis. Indeed, let A,B be models of Tdis and let A0,B0 be their unique expansions to models of T. Since T is complete we have A0 ≡ B0. Taking reducts to L0 we have A ≡ B. Since A,B were arbitrary models of Tdis this shows that Tdis is complete.   Another criterion for QE When we are trying to prove that a theory admits QE using Theorem 5.4 it is sometimes inconvenient that we must extend a given embedding f to every element a of the model A. The next result gives a criterion for QE in which we get to choose which element a to treat; the cost is that we must consider embeddings f deﬁned on an arbitrary substructure of A. (In Theorem 5.4 the domain of f is ﬁnitely generated.) 5.7. Theorem. Let T be a satisﬁable theory in a language L with κ = card(L). The following conditions are equivalent: (1) T admits quantiﬁer elimination; (2) Suppose A,B are models of T, card(A) ≤ κ, and B is κ+-saturated; suppose further that A0 is a proper substructure of A and that f is an embedding of A0 into B; then f can be extended properly to an embedding of some substructure C of A into B. Proof. (1⇒2): Use Theorems 4.3 and 5.4, statement (2). (2 ⇒ 1): We assume condition (2) of this Theorem and use it to verify condition (2) of Theorem 5.4. Suppose A,B are models of T, A0 is a ﬁnitely generated substructure of A, and f is an embedding of A0 into B. Fix a ∈ A and let C be the substructure of A generated by A0 and a. We must show that f can be extended to an embedding of C into an elementary extension of B. Since C hascardinalityatmost κ, wemayreplace A byoneofitselementary substructures that contains C and has cardinality at most κ. Moreover, we replace B by one of its elementary extensions that is κ+-saturated. (See Theorem 4.7.) Let Ω be the set of all extensions of f to embeddings whose domain is a substructure of A and whose range is a substructure of B. We consider Ω as a partially ordered set with g ≤ h deﬁned to mean that h is an extension of g. If C is a chain in (Ω,≤), then one checks easily that the union of C is an element of Ω. Therefore, by Zorn’s Lemma there is a maximal element g of (Ω,≤). Applying condition (2) of the Theorem to the embedding g and the models A and B, we see that g can be maximal only if it is deﬁned on all of A. In particular g is deﬁned on C, and thus it gives an extension of f as needed to verify condition (2) of Theorem 5.4.
33
Exercises 5.8. Let L be any ﬁrst order language and let L0 be any ﬁrst order language that extends L by the addition of some set of new constant symbols. Let T bean L-theoryandlet T0 bethe L0-theorywhosesetofsentencesisidentical to T. Show that T admits QE if and only if T0 admits QE. (Therefore, in showing that T admits QE, it does no harm to assume that its language contains at least one constant symbol.) 5.9. Let L be a ﬁrst order language and let T be an L-theory that admits QE and is complete. •If L contains at least one constant symbol, show that there exists a single L-structure that embeds into every model of T. • Even when L has no constant symbol, show that there exists a single L-structure that embeds into every ω-saturated model of T. (That is, the converse to Corollary 5.5(2) is true.) 5.10. Let L be the language whose only nonlogical symbol is a binary predicate symbol <. Let A be an L-structure that is a discrete linear ordering without endpoints. Let ϕ(x,y1,...,yn) be any L-formula (with x a single variable) and let a1,...,an ∈ A. Show that the deﬁnable set {a ∈ A | A |= ϕ[a,a1,...,an]} is the union of a ﬁnite number of open intervals (whose endpoints are in A) and a ﬁnite subset of A. 5.11. Let K be a ﬁeld and let L be the ﬁrst order language of vector spaces over K, as described in Exercise 3.6. Let T be the theory of inﬁnite Kvector spaces. • Show that T admits quantiﬁer elimination and use this to prove that T is complete. (Compare Exercise 3.6.) • Let A |= T and X ⊆ A. Give a clear mathematical description of the space of 1-types over X. That is, describe the space S1(X), including its topology. • Let κ be any inﬁnite cardinal ≥ card(K). Which models of T are κsaturated? • Show that there exist models A,B of T such that there does not exist any local isomorphism from A onto B. (Yet A ≡ B since T is complete.) 5.12. Let Q be the ordered ﬁeld of rational numbers, considered as a structure for the ﬁrst order language whose nonlogical symbols are the constant symbols 0,1, the binary predicate symbol <, and the binary function symbols +,−,×, all with the obvious interpretations in Q. •Show that if S ⊆Q is deﬁnable in Q by a quantiﬁer-free formula (in which some elements of Q may be used as parameters), then there exists q ∈ Q such that the interval (q,∞) in Q is either contained in S or disjoint from S. • Use the preceding result to show that Th(Q) does not admit quantiﬁer elimination.
34
6. L¨owenheim-Skolem Theorems
6.1. Theorem (Downward L¨owenheim-Skolem Theorem). Let B be an inﬁnite L-structure and let X be a subset of B. Let κ be an inﬁnite cardinal number that satisﬁes card(L) ≤ κ and card(X) ≤ κ ≤ card(B). There exists an elementary substructure A of B such that card(A) = κ and X ⊆ A. Proof. Without loss of generality we may assume card(X) = κ; if card(X) < κ then we may replace X by X0 such that X ⊆ X0 ⊆ B and card(X0) = κ. Furthermore we may also assume without loss of generality that cB ∈ X for all constants in L, since L has at most κ constant symbols. Now we construct a substructure A of B whose universe contains X and such that A and B satisfy the condition in Theorem 3.8. This amounts to a family of closure conditions on the universe of A; namely, this set should contain each element of X (including cB for every constant symbol c of L), it should be closed under all functions FB where F is a function symbol of L, and it should also be closed under the existential conditions in Theorem 3.8. We take A to be the smallest subset of B that satisﬁes these conditions. The process of constructing such a set is familiar, but we spell it out carefully in order to show that A has the required cardinality. Construct a sequence A0 ⊆ A1 ⊆ ... of subsets of B inductively as follows: A0 = X; for each n ≥ 0, An+1 is An together with an element b ∈ B from each of the following situations: (A) for each function symbol F of L and each tuple ¯ a ∈ An, put b = FB(¯ a) into An+1. (B) for each existential formula ∃yϕ[¯x,y] ∈ L and each tuple ¯ a ∈ An, ifB | =∃yϕ[¯ a], then put into An+1 some b ∈ B for which B |= ϕ[¯a,b]. By construction, A∞ =Sn An contains X and hence contains cB for every constant c of L; moreover, A∞ is closed under every function FB where F is a function symbol of L. Therefore A∞ is the universe of a substructure A of B and A contains the set X. Moreover, A and B satisfy the condition in Theorem 3.8, so A is an elementary substructure of B. Therefore the only remaining condition to prove is card(A) = κ. For this, it suﬃces to show card(An) ≤ κ for all n. We prove this by induction on n. For n = 0 this was given as part of the hypotheses. Suppose An has cardinality ≤ κ. Observe that an upper bound on the number of elements b that we add to An to obtain An+1 is the product of (a) the number of formulas and function symbols in L and (b) the number of ﬁnite tuples from An. Each of these numbers is bounded above by κ and therefore the set An+1 also has at most κ elements. (For the elementary facts about cardinal numbers that we are using here, see the book Naive Set Theory by P. Halmos.)
We illustrate the use of Theorem 6.1 by proving the existence of countable ω-saturated models, under suitable hypotheses. 35
6.2. Theorem (Countable ω-saturated Models). Assume that L is a countable language and let T be a complete theory in L with only inﬁnite models. Then T has a countable ω-saturated model if and only if for each n ≥ 1 there are only countably many n-types in L that are consistent with T. Proof. (⇒) Let A be a countable, ω-saturated model of T. By Theorem 4.3, every n-type consistent with T is realized in A. Hence Sn(T) must be countable. (⇐) This proof is patterned after the proofs of Lemma 4.6 and Theorem 4.7, with appropriate modiﬁcations to keep structures countable. Assume Sn(T) is countable for each n ≥1. It follows that for every model A of T and every ﬁnite subset F of A, the set S1(TF) is countable. Indeed, there is an obvious embedding of S1(TF) into Sk+1(T), where k is the cardinality of F; namely, if F = {a1,...,ak} and B  A, map the type of b in (B,a1,...,ak) to the type of (b,a1,...,ak) in B. Using Lemma 4.6 followed by the use of Theorem 6.1 (for the cardinal κ = ω) we may prove the following version of Lemma 4.6 for the current situation: Let A be a countable model of T. There exists a countable elementary extension B of A such that for any ﬁnite subset F of A, every 1-type over F is realized in (B,a)a∈F. Now let A be any countable model of T. Build an elementary chain (An | n ∈ N) by setting A0 = A and by applying the statement in the previous paragraph to obtain An+1 from An for each n ∈ N. The union of this elementary chain is a countable ω-saturated elementary extension of A.   6.3. Corollary. If T is a complete theory in a countable language and T has only countably many countable models, up to isomorphism, then T has a countable ω-saturated model.
Proof. Each type consistent with T is realized in a countable model. Under the hypotheses of this Corollary, this implies there are only countably many n-types consistent with T, for each n ≥1. Hence the previous result applies and yields the existence of a countable ω-saturated model.   6.4.Theorem (UpwardL¨owenheim-SkolemTheorem). Let A be an inﬁnite L-structure and let κ be an inﬁnite cardinal number that satisﬁes card(L)≤ κ and card(A)≤ κ. There exists an elementary extension B of A such that card(B) = κ.
Proof. Since A is inﬁnite, it has an elementary extension B0 whose cardinality is ≥ κ. By Theorem 6.1 there exists an elementary substructure B of B0 such that A ⊆ B and card(B) = κ. It follows easily that A  B. Indeed, if ϕ(¯ x) is any L-formula and ¯ a is any tuple from A (so ¯ a is also in B), then we have A |= ϕ[¯ a]⇔ B0 |= ϕ[¯ a]⇔ B |= ϕ[¯ a]. 36
6.5. Fact. If A is ﬁnite, then Th(A) is absolutely categorical, in the sense that any model B of Th(A) must be isomorphic to A. In particular, a ﬁnite structure cannot have any proper elementary extension or any proper elementary substructure.
It is a consequence of Theorem 6.4 together with some elementary reasoning that a ﬁrst order theory can be absolutely categorical only when it is the theory of a ﬁxed ﬁnite structure. For a theory with at least one inﬁnite model, the only categoricity we can expect is that of the following Deﬁnition. 6.6. Deﬁnition. Let T be a theory in L and let κ be any cardinal number. We say T is κ-categorical if T has a model of cardinality equal to κ, and any two models of T that are both of cardinality κ are isomorphic. 6.7. Theorem (Categoricity Test for Completeness). Let T be a satisﬁable theory that has only inﬁnite models. If T is κ-categorical for some cardinal number κ ≥card(L), then T is complete. Proof. Suppose T is a theory that is κ-categorical, where κ ≥ card(L) and T has only inﬁnite models. We need to show that if A,B |= T, then A ≡ B. By use of Theorems 6.1 and 6.4 (as needed), we ﬁnd models A0,B0 with A0 ≡ A, B0 ≡ B, and card(A0) = κ = card(B0). (If κ < card(A), use the Downward L¨owenheim-Skolem Theorem to ﬁnd A0 with A0 ≡ A and card(A0) = κ. If κ > card(A), use the Upward L¨owenheim-Skolem Theorem.) Since T is κ-categorical we have A0 ∼ = B0, and hence A0 ≡ B0 by Proposition3.12. Therefore A ≡ A0 ≡ B0 ≡ B, and hence A ≡ B since ≡ is anequivalence relation.
Exercises 6.8. Theorem 6.6 states that if T is an L-theory with no ﬁnite models and if T is κ-categorical for some cardinal with κ ≥card(L), then T is complete. Show that the “no ﬁnite models” assumption is necessary. That is, give an example of an inﬁnite cardinal κ and a κ-categorical theory T in a language whose cardinality is at most κ, such that T is not complete. 6.9. Let L be the language whose only nonlogical symbol is the unary predicate symbol P. Let T be the theory of all L-structures A such that PA is inﬁnite. Give a clear mathematical description of the space S0(T) of all complete extensions of T, including its topology. 6.10. Let L be the ﬁrst order language with two binary function symbols ∩ and ∪, a unary function symbol c, and two constant symbols 0 and 1. For each set S let P(S) denote the L-structure based on the power set of S. That is, the underlying set of P(S) is the collection of all subsets of S, 37
we interpret ∩,∪,c as intersection, union, and complement, respectively, and we interpret 0,1 as ∅,S, respectively. Let K be the class of all Lstructures that are isomorphic to P(S) for some set S. Show that K is not axiomatizable. 6.11. Let κ be an inﬁnite cardinal and let G be a simple group of cardinality equal to κ. If τ is any inﬁnite cardinal ≤ κ, show that G has a subgroup H such that card(H) = τ and H is simple. (Note that a group is simple iﬀ whenever a,b are elements not equal to the identity element, then a is a ﬁnite product of some conjugates of b and some conjugates of b−1.)
38
7. Algebraically Closed Fields
We illustrate the use of Theorem 5.4 by using it to show that the theory ACF of algebraically closed ﬁelds admits quantiﬁer elimination. After proving this result we will show how it can be used to obtain some interesting consequences for algebraically closed ﬁelds. We formulate ACF in the language Lr of rings; this language has binary function symbols +,−,× and constants 0,1. In addition to the ﬁrst order axioms for ﬁelds, ACF contains axioms asserting, for each n ≥ 1, that every nontrivial polynomial of degree n has a root: ∀x0 ...∀xnxn 6= 0→∃y(xnyn +•••+ x1y + x0 = 0). Of course the best known algebraically closed ﬁeld is the ﬁeld of complex numbers. (This fact is known as the Fundamental Theorem of Algebra.) In our proof of quantiﬁer elimination for ACF we use a small amount of the basic theory of ﬁelds, mainly concerning simple properties of polynomials in one variable over a given ﬁeld. These concern the process of extending a ﬁeld by adjoining a root of a given polynomial. Iterating this procedure, one shows that every ﬁeld is contained in an algebraically closed ﬁeld. Most graduate texts in algebra (for example, Serge Lang’s Algebra) contain this material. More advanced properties of algebraically closed ﬁelds, such as the uniqueness of the algebraic closure of a ﬁeld and the properties of transcendence bases for algebraically closed ﬁelds, are not needed for this proof of quantiﬁer elimination for ACF. Indeed, they can be proved eﬃciently using the model theoretic ideas discussed here, as we show in Section 10. 7.1. Theorem. The theory ACF admits quantiﬁer elimination.
Proof. We will verify condition (2) of Theorem 5.4. We need to consider algebraically closed ﬁelds A,B, as well as a ﬁnitely generated substructure A0 of A and an embedding f of A0 into B. Given any element a of A, we must prove that f can be extended to an embedding of the substructure of A generated by A0 and a into B. Let B0 be the range of f; then B0 is a substructure of B and f is an isomorphism of A0 onto B0. Since A0 is a substructure of A, it is a subring. Let A0 0 be the ﬁeld of fractions of A0 inside A. It is easy to see that f can be extended (in a unique way) to an embedding of A0 0 into B, which we also denote by f; for each b,c ∈ A0 with c 6= 0 we deﬁne f(b/c) = f(b)/f(c). Note that A0 0 is not necessarily ﬁnitely generated as an Lr-structure, but that is not a problem for our construction; clearly A0 0 is countable, and that is all we will need later. Let B0 0 be the range of this extended f; B0 0 is obviously the ﬁeld of fractions of B0 inside B. Suppose a is algebraic over A0 0. Let p(x) be the minimal polynomial of a over A0 0, so that p(x) is an irreducible polynomial in A0 0[x] and p(a) = 0. 39
Let q(x) be the corresponding polynomial in B0 0[x], obtained by applying f to the coeﬃcients of p(x). Since f is an isomorphism of ﬁelds, q(x) is irreducible in B0 0[x]. The ﬁeld B is algebraically closed, so q(x) has a root in this ﬁeld. Let b be such a root. It is an elementary exercise to show that f can be extended (in a unique way) to an isomorphism from A0 0(a) onto B0 0(b)⊆ B such that f(a) = b. Otherwise a must be transcendental over A0 0. Let B0 be an uncountable elementary extension of B. Since B0 0 is a countable substructure of B, there is an element b of B0 that is transcendental over B0 0. We may extend f (in a unique way) to an isomorphism of A0 0(a) onto B0 0(b)⊆ B such thatf (a) = b. In all cases we have extended the original f to an embedding g whose domain is a substructure of A that contains A0 and a and whose range is a substructure of an elementary extension of B. By restricting g to hA0 ∪{a}iA we see that condition (2) in Theorem 5.4 holds for any two models of ACF. Consequently, ACF admits QE.
For each p that is a prime number or 0, we let ACFp denote the theory of algebraically closed ﬁelds that have characteristic p. For any integer n ≥ 2 let σn denote the Lr-sentence 1 +•••+ 1 = 0 in which there are n occurrences of 1 in the summation. For each prime p, the theory ACFp is axiomatized over ACF by the single sentence σp. Moreover, ACF0 is axiomatized over ACF by {¬σp | p is a prime }. 7.2. Corollary. (i) For each p (0 or a prime), the theory ACFp is complete. (ii) For each sentence σ in the language of rings, ACF0 |= σ iﬀ ACFp |= σ for all suﬃciently large primes p iﬀ ACFp |= σ for inﬁnitely many primes p.
Proof. (i) We apply Corollary 5.5. For each p (0 or a prime) let Fp be the prime ﬁeld of characteristic p. (So Fp is Q if p = 0 and Z/pZ if p is a prime.) Evidently Fp embeds in every ﬁeld of characteristic p, and thus into every model of ACFp. (ii) Let σ be a sentence in Lr. If ACF0 |= σ then by Corollary 2.7 there is an integer n such that ACF ∪{¬σp | p is a prime ≤ n}|= σ. This proves the other two conditions. Conversely, suppose ACF0 6|= σ. Because ACF0 is complete we have ACF0 |= ¬σ so that there exists a positive integer n such that ACF ∪{¬σp | p is a prime ≤ n}|=¬σ. If follows that there can only exist ﬁnitely many primes p such that ACFp |= σ.   7.3. Example. Suppose K is any algebraically closed ﬁeld and f: Kn → Kn is a polynomial map. If f is 1-1 then f is onto.
Proof. This striking model theoretic proof was discovered by James Ax. Let f = (f1,...,fn) be a polynomial map from Kn to itself, so each fj is deﬁned by a polynomial in n variables with coeﬃcients from K. Let d 40
be a positive integer larger than the degree of all the polynomials that are involved in deﬁning f1,...,fn. It is easy to construct a sentence τd in the language of rings such that for any ﬁeld k, k |= τd if and only if for every polynomial map f: kn → kn deﬁned by polynomials over k having degree at most d, if f is 1-1 then f is onto. We are trying to show K |= τd for each algebraically closed ﬁeld K. By Corollary 7.2(ii) it suﬃces to prove ACFp |= τd for every prime p. Moreover, because ACFp is complete, it suﬃces to ﬁnd for each prime p an algebraically closed ﬁeld Kp of characteristic p such that Kp |= τd. We will prove for every prime p that if Kp is the algebraic closure of the prime ﬁeld of characteristic p, then Kp |= τd. Fix a prime p and let Kp be the algebraic closure of the prime ﬁeld of characteristic p. Let f: Kn p → Kn p be a polynomial map that is 1-1. Fix any element (a1,...,an) in Kn p . There is a ﬁnite subﬁeld k of Kp that contains a1,...,an and all coeﬃcients of the polynomials that deﬁne the coordinate functions of f. Therefore f restricted to kn is a 1-1 map into kn. Since kn is ﬁnite this implies that the restriction of f to kn maps onto kn. In particular (a1,...,an) is in the range of f, proving that f is onto.
The fact that ACF admits QE implies that ACF is model complete: that is, whenever F and K are algebraically closed ﬁelds, and F is a subﬁeld of K, then F is an elementary substructure of K. The following result, which is a weak form of Hilbert’s Nullstellensatz, is an easy consequence of this fact. 7.4. Corollary. Let k ⊆ K be ﬁelds and suppose f1,...,fm are polynomials in the variables x1,...,xn with coeﬃcients in k. If the system of equations f1(x1,...,xn) = ... = fm(x1,...,xn) = 0 has a solution in K, then this system has a solution in some algebraic extension of k.
Proof. Without loss of generality we may take K to be algebraically closed, since every ﬁeld is contained in an algebraically closed ﬁeld. Lete k be the algebraic closure of k in K; thene k is itself an algebraically closed ﬁeld. It follows from Theorem 7.1 thate k K. Note that the existence of a solutionof the system of equations f1(x1,...,xn) = ... = fm(x1,...,xn) = 0 can be expressed by an existential L(k)-sentence. (Constants are needed to name the elements of k that appear as coeﬃcients in the polynomials.) This sentence is true in K, and therefore it is true ine k.   7.5. Deﬁnition. Let K be an algebraically closed ﬁeld and S a subset of Kn. We say that S is constructible if it is a ﬁnite Boolean combination of zero sets of polynomials that have coeﬃcients in K. 7.6. Remark. It follows from Theorem 7.1 that all deﬁnable sets in Kn are constructible, and conversely. In particular, the collection of all constructible sets is closed under projections. 41
7.7. Corollary (Chevalley). Let K be an algebraically closed ﬁeld. If S is a constructible subset of Kn and if h = (h1,...,hm) is a polynomial map over K from Kn to Km, then h(S) is a constructible subset of Km.
Proof. To say that h is “over K” means that h1,...,hm are polynomials with coeﬃcients from K. Let ϕ(¯ x) be a formula in L(K) that deﬁnes S in K. Then h(S) is deﬁned in K by the L(K)-formula ∃y1 ...∃yn(h1(¯ y) = x1 ∧...∧hm(¯ y) = xm ∧ϕ(¯ y)) so that h(S) is also constructible, by Remark 7.6.   7.8. Deﬁnition. An inﬁnite L-structure A is minimal if every deﬁnable subset of A is either ﬁnite or coﬁnite. That is, given any L-formula ϕ(x,y1,...,yn) (in which x is a single variable) and any parameters a1,...,an ∈ A, the set {a ∈ A | A |= ϕ[a,a1,...,an]} is either ﬁnite or coﬁnite as a subset of A. A theory T is strongly minimal if every inﬁnite model of T is minimal. 7.9. Proposition. Let T be a strongly minimal theory and let ϕ(x,y1,...,yn) be any formula in the language of T (in which x is a single variable). Then there exists an integer N with the property that for any model A of T and any b1 ...,bn ∈ An, either the set {a ∈ A | A |= ϕ[a,b1 ...,bn]} or its complement in A has at most N elements. Proof. The proof is a straightforward compactness argument. Suppose T is strongly minimal and ϕ(x,y1,...,yn) is a formula for which the conclusion fails. For each N there must be a model A of T and parameters b1 ...,bn ∈ An, such that both the set {a ∈ A | A |= ϕ[a,b1 ...,bn]} and its complement have more than N elements. This fact can be expressed by a formula ψN(b1 ...,bn). From the compactness theorem it follows that T has a model A with parameters b1 ...,bn ∈ An, such that both the set {a ∈ A | A |= ϕ[a,b1 ...,bn]} and its complement are inﬁnite. Therefore A is a nonminimal model of T, which is a contradiction.   7.10. Corollary. The theory ACF is strongly minimal.
Proof. Let K be an algebraically closed ﬁeld and let S be a deﬁnable subset of K. By Theorem 7.1 we can deﬁne S by a quantiﬁer free L(K)-formula ϕ(x), in which x is a single variable. The formula ϕ is equivalent to a Boolean combination of ﬁnitely many equations of the form p(x) = 0 where p(x) is a polynomial with coeﬃcients in K. We may assume that all the polynomials that appear in ϕ are nonconstant. Therefore, either S or K\S is contained in the union of ﬁnitely many zero sets nonconstant polynomials p(x). It follows that S or K \S must be ﬁnite.
42
Exercises 7.11. Let K be an algebraically closed ﬁeld, considered as an Lr-structure; let X be any subset of K and let k be the subﬁeld of K generated by X. Let A denote the L(X)-structure (K,a)a∈X. • For any a,b ∈ K, show that tpA(a) = tpA(b) iﬀ either a,b are both transcendental over k or both a,b are algebraic over k and have the same minimal polynomial over k. 7.12. If T is an L-theory, a model A of T is called existentially closed in Mod(T) if it satisﬁes the following condition: whenever A ⊆ B |= T, ϕ(x1,...,xm,y1,...,yn) is a quantiﬁer-free formula, and a1,...,am ∈ A, then B |=∃y1 ...∃ynϕ[a1,...,am] implies A |=∃y1 ...∃ynϕ[a1,...,am]. • Let T be the theory of ﬁelds (in the language Lr). Show that a ﬁeld K is existentially closed in the class of all ﬁelds iﬀ K is algebraically closed.
43
8. Z-groups Inthischapterwewillapplythemethodofquantiﬁereliminationtoanalyze the ﬁrst order theory and deﬁnable sets of the ordered abelian group of the integers (Z,+,−,<,0). It is easy to see that Th(Z,+,−,<,0) does not admit QE. The number 1 is deﬁnable (as the smallest positive element of Z) as are the divisibility predicates Dn deﬁned for n ≥2 by Dn(x)⇐⇒∃y(x = ny).Here we are using ny to represent the term y + ••• + y in which thereare n copies of y. Neither 1 nor Dn can be deﬁned by quantiﬁer free formulas in (Z,+,−,<,0). It turns out that if we add symbols for the element 1 and the predicates Dn to the language, and thus take the structure (Z,+,−,<,0,1,Dn)n≥2 as the basic object of study, then the resulting theory does admit QE and we do achieve a useful analysis of the deﬁnable sets. Further, we are able to axiomatize this theory using a clear and simple set of sentences. Let L bethelanguageofthisstructure. Ithasbinaryfunctionsymbols+,−, a binary relation symbol <, constant symbols 0,1, and an inﬁnite family of unary relation symbols Dn for n ≥ 2. In L we formulate the theory T of Z-groups, which has the following axioms: (a) the axioms of ordered abelian groups; (b) the axiom that 1 is the smallest positive element; (c) the divisibility axioms (given above in the displayed formula) that deﬁne each Dn in terms of the group structure; and (d) the congruence axioms: ∀x(Dn(x+1)∨Dn(x+2)∨...∨Dn(x+ n)).for each n ≥ 2. (Here we write k in place of the term k1 for each positiveinteger k.) These congruence axioms express the property of division by n with remainder. 8.1. Lemma. For each n ≥2 and 1≤ i < j ≤ n (1) T |=∀x∀y((Dn(x)∧Dn(y))→ Dn(x+ y)); (2) T |=∀x(Dn(x)→ Dn(−x)); (2) T |=∀x(Dn(x+ i)→¬Dn(x+ j)).
Proof. We argue informally in T. (1) If x = nu and y = nv then x + y = n(u + v). (2) If x = nu then −x = n(−u). (3) Argue by contradiction; suppose 1≤ i < j ≤ n, x+i = nu, and x+j = nv. Then j−i = n(v−u). It follows that 0 < v−u < 1, contradicting one of the axioms of T.
8.2. Theorem. The theory T of Z-groups admits quantiﬁer elmination. Moreover, T is complete and therefore T = Th(Z,+,−,<,0,1,Dn)n≥2. InprovingthisTheoremweuseexplicitmethodsforeliminatingquantiﬁers, rather than the model theoretic methods presented in Section 5. To do this we need to introduce some deﬁnitions and a Lemma. 44
8.3. Deﬁnition. (a) An existential formula is a formula in prenex normal form that has only ∃ quantiﬁer symbols in its preﬁx. (b) An existential formula is primitive if it is of the form ∃x1 ...∃xnϕ(x1,...,xn) where ϕ is a conjunction of literals; a literal is either an atomic formula or the negation of an atomic formula. (a) A universal formula is a formula in prenex normal form that has only ∀ quantiﬁer symbols in its preﬁx. 8.4. Lemma. Let T be an L-theory. If every primitive existential formula with a single existential quantiﬁer is equivalent in T to a quantiﬁer free formula, then T admits quantiﬁer elimination.
Proof. It suﬃces to prove that every prenex formula is equivalent in T to a quantiﬁer free formula. We do this by induction on the number of quantiﬁers in the preﬁx of the existential formula. We show ﬁrst that every existential formula with just one existential quantiﬁer is equivalent in T to a quantiﬁer free formula. Each such formula is logically equivalent to a disjunction of primitive existential formulas, each of which also has just a single existential quantiﬁer. Each of these disjuncts is equivalent in T to a quantiﬁer free formula, by hypothesis. Hence the original existential formula is equivalent in T to a quantiﬁer free formula. By taking negations, it follows that every universal formula with a single quantiﬁer in its preﬁx is also equivalent in T to a quantiﬁer free formula. The induction step is carried out by using the above results to eliminate the innermost quantiﬁer in the preﬁx, and then using the induction hypothesis to eliminate the remaining quantiﬁers.
Proof of Theorem 8.2. We will give an explicit proof of quantiﬁer elimination. The completeness of T follows using Corollary 5.5, using the fact that the structure (Z,+,−,<,0,1,Dn)n≥2 can be embedded in every model of T. Let ϕ be any existential L-formula with a single existential quantiﬁer, of the form ∃xψ with ψ quantiﬁer free. We ﬁrst observe that we may assume ψ is a positive Boolean combination of atomic formulas (i.e. using only the connectives ∧,∨). This is because each negation of an atomic formula is equivalent in T to a positive combination of atomic formulas. Namely: ¬t = s is equivalent to t < s∨s < t; ¬t < s is equivalent to s < t∨s = t; and ¬Dn(t) is equivalent to Dn(t + 1)∨...∨Dn(t + (n−1)) by Lemma 8.1 and the congruence axioms of T. By putting ψ in disjunctive normal form and distributing the existential quantiﬁer ∃x over the connective ∨, we see that ϕ is equivalent in T to a disjuction of existential formulas ∃xθ where each θ is a conjunction of atomic formulas. Arguing as in the proof of Lemma 8.4 it suﬃces to prove that every such formula is equivalent in T to a quantiﬁer free formula. 45
We next observe that every atomic formula in L is equivalent in T either to an atomic formula in which x does not occur or to one of the following: nx = t, nx < t, t < nx, or Dm(nx+t), where n is an integer > 0 and t is a term not containing x. In such atomic formulas we will call n a “coeﬃcient of x”, and m a “divisor”. Let θ(x,y1,...,yk) be any conjunction of atomic formulas as in the previous paragraph. We may assume that x actually occurs in θ, since otherwise ∃xθ(x,y1,...,yk)isequivalenttothequantiﬁerfreeformula θ(0,y1,...,yk). We show next that θ is equivalent to an L-formula of the same form in which the only coeﬃcient of x that occurs is 1. Let N be the least common multiple of all coeﬃcients of x that occur in θ. Multiplying each term in θ by a suitable positive integer, we may assume that every coeﬃcient of x in θ is equal to N. (If n is a coeﬃcient of x in θ and N = dn, then we replace nx = t by Nx = dt, nx < t by Nx < dt, t < nx by dt < Nx, and Dm(nx + t) by Ddm(Nx + dt).) Let θ0(z,y1,...,yk) be the result of replacing each occurrence of Nx in θ by z. Evidently ∃xθ(x,y1,...,yk) is equivalent in T to ∃z(DN(z)∧θ0(z,y1,...,yk)). Therefore we need only consider θ(x,y1,...,yk) that are conjunctions of atomic formulas of the form x = t, x < t, t < x, or Dm(x + t), where t is a term not containing x, and in which at least one atomic formula of the form Dm(x + t) occurs. We will now show that ϕ = ∃xθ(x,y1,...,yk) is equivalent in T to a quantiﬁer free formula, by treating a series of cases. Let M be the least common multiple of all divisors occurring in θ. Case (1): θ contains at least one conjunct of the form x = t. Then ϕ is equivalent to θ(t,y1,...,yk). Case (2): θ contains no conjucts of the form x = t but does contain at least one conjuct of the form x < t. Let t1,...,tp be all terms t such that x < t occurs in θ. Then ϕ is equivalent to the disjunction of all formulas θ(ti −j,y1,...,yk) where 1 ≤ i ≤ p and 1 ≤ j ≤ M. Arguing informally in T we can see this as follows: suppose x witnesses the truth of θ, and t represents the minimum of t1,...,tp; choose j ∈ {1,...,M} such that DM(x−(t−j)) holds. The axioms of T guarantee that such a choice exists and (using Lemma 8.1) is unique. It is now easy to see that t − j also witnesses the truth of θ. Case (3): θ contains no conjucts of the form x = t but does contain at least one conjuct of the form t < x. Let t1,...,tp be all terms t such that t < x occurs in θ. Then ϕ is equivalent to the disjunction of all formulas θ(ti + j,y1,...,yk) where 1≤ i ≤ p and 1≤ j ≤ M. Case(4): θ containsonlyatomicformulasoftheform Dm(x+t). Inthiscase ϕ is equivalent to the disjunction of all formulas of the form θ(j,y1,...,yk) where 1≤ j ≤ M. This completes the proof that ϕ = ∃xθ(x,y1,...,yk) is equivalent in T to a quantiﬁer free formula.
46
Our objective was to analyze the ordered abelian group (Z,+,−,<,0). Let L0 be the language of this structure and let T0 be the theory in L0 whose axioms are (i) the axioms of ordered abelian groups; (ii) the existence of a smallest positive element; (iii) the congruence axioms ∀x∃y(x+1 = ny∨x+2 = ny∨...∨x+ n = ny).foreach n ≥2. Itisclearthateachmodelof T0 canbeexpandedinaunique waytoamodelof T. Indeed, onesimplylets1beinterpretedbythesmallest positive element of the model and takes Dn to be interpreted as “divisibility by n” for each n ≥ 2. Therefore T is a conservative extension of T0, from which it follows that T0 is complete and therefore T0 = Th(Z,+,−,<,0). We obtain a deeper result if we expand L0 to add the constant symbol 1 and extend T0 by adding the axiom stating that 1 is the smallest positive element. Let L1 be the resulting language and T1 the resulting theory. Evidently each model of T1 expands uniquely to a model of T; therefore T1 is complete and T1 = Th(Z,+,−,<,0,1). By looking closer at the relation between T and T1 we obtain the following result: 8.5. Corollary. T1 is model complete; that is if A,B are models of T1 and A ⊆ B, then A B. Proof. Let A,B be models of T1 with A ⊆ B. Let B0 be the unique expansion of B to a model of T. The set A is the universe of a substructure of B0, which we denote by A0. We will show that A0 is a model of T. Therefore, since it is an expansion of A, it is the unique expansion of this structure to a model of T. To show that A0 is a model of T we need only consider the divisibility axioms, which deﬁne Dn in terms of the abelian group structure. The congruence axioms are implied by the divisibility axioms over T1, which we know is satisﬁed by A0 (since it is satisﬁed by A). Fix an element a of A. If a = nb for some b in A, then this equation also holds in B, which implies that a satisﬁes Dn(x) in B0 since it is a model of T. Therefore a satisﬁes Dn(x) in A0, since it is a substructure of B0. Conversely, suppose a is not of the form nb in A. There must exist a unique k = 1,...,n−1 and some b ∈ A satisfying a + i = nb in A. This equation also holds in B0, which implies that Dn(x) must be false of a in that structure. Hence Dn(x) is also false of a in A0 by the substructure condition. Thuswehaveproved A0 isamodelof T. Since T admitsQEandistherefore model complete itself, we conclude A0  B0. It follows by restricting to L1 that A  B, and the proof is complete.   The key point in the preceding proof is that both Dn(x) and ¬Dn(x) are equivalent in T to universal formulas of L1. Note that T0 is not model complete. Indeed, the function f: Z→Z deﬁned by setting f(n) = 2n for all n is clearly an embedding of (Z,+,−,<,0) into itself but it is not an elementary embedding. 47
We ﬁnish this chapter by using Theorem 8.2 to characterize the subsets of Z that are deﬁnable in (Z,+,−,<,0). It turns out to be necessary to distinguish the positive part of a deﬁnable set from the negative part, as these can be deﬁned independently of each other. 8.6. Deﬁnition. Let A ⊆ N. We call A eventually periodic if there are n ≥0 and p > 0 such that for all m ∈N, if m ≥ n, then m ∈ A ⇐⇒ m + p ∈ A. Evidently A ⊆ N is eventually periodic if and only if it is the union of a ﬁnite number of arithmetic progressions and a ﬁnite set. Moreover, the collection of all eventually periodic sets is a Boolean algebra of subsets of N. Note that each eventually periodic set A is deﬁnable in (Z,+,−,<,0) as is −A ={−n | n ∈ A}. 8.7. Corollary. The subsets of Z that are deﬁnable in (Z,+,−,<,0) are exactly the sets of the form (−A)∪B, where A and B are eventually periodic subsets of N. Proof. Let P be the collection of all subsets of Z of the form−A∪B, where A and B are eventually periodic subsets of N. Clearly every set in P is deﬁnable in (Z,+,−,<,0). It is routine to show that P is closed under union, intersection, and complement in Z. By this remark and Theorem 8.2 it suﬃces to show that each set deﬁned by an atomic L-formula in the structure (Z,+,−,<,0,1,Dn)n≥2 belongs to P. Arguing as in the proof of Theorem 8.2 we see it suﬃces to consider atomic formulas ϕ(x) of the following forms: nx = t, nx < t, t < nx, and Dm(nx + t), where n is a positive integer, m ≥2, and t is a term without variables. In each case it is easy to see that the set deﬁned in (Z,+,−,<,0,1,Dn)n≥2 by ϕ(x) belongs to P.
48
9. Model Theoretic Algebraic Closure 9.1. Deﬁnition. Let A be an L-structure and X ⊆ A. An element a of A is algebraic over X in A if there is an L-formula ϕ(x,y1,...,yn) and elements e1,...,en of X such that (i) A |= ϕ[a,e1,...,en], and (ii) {c ∈ A | A |= ϕ[c,e1,...,en]} is ﬁnite. The set of elements of A that are algebraic over X in A is denoted by aclA(X), or simply by acl(X) when the structure A is understood. X is algebraically closed in A if aclA(X) = X. 9.2. Fact. Let A be an algebraically closed ﬁeld and X ⊆ A; let k be the subﬁeld of A generated by X. For each a ∈ A we have that a ∈ aclA(X) iﬀ there is a nonconstant polynomial p(x) with coeﬃcients in k such that p(a) = 0 in A. (This follows from the fact that ACF admits QE; see Theorem 7.1.) In other words, the concept algebraic closure has the same meaning whether we interpret it model theoretically or algebraically, when we are working in an algebraically closed ﬁeld. 9.3. Proposition. Let A be an L-structure. The operation aclA(X) deﬁned on all subsets X of A is a closure operation. That is, it satisﬁes the following two properties for X,Y ⊆ A: (1) X ⊆aclA(X); and (2) if Y ⊆aclA(X) then aclA(Y)⊆aclA(X). Moreover, aclA has ﬁnite character; that is, (3) aclA(X) is the union of the sets aclA(F) where F ranges over the ﬁnite subsets of X.
Proof. (1) If a ∈ X, then a ∈ aclA(X) is witnessed by the formula x = y1 with parameter a. (2) Assume Y ⊆ acl(X) and a ∈ acl(Y). Let ϕ(x,y1,...,yn) and e1,...,en ∈ Y witness the fact that a ∈acl(Y) as in Deﬁnition 9.1. Let N be the cardinality of the set {c ∈ A | A |= ϕ[c,e1,...,en]}. By changing the formula ϕ if necessary we may assume that for every b1,...,bn ∈ A the set {c ∈ A | A |= ϕ[c,b1,...,bn]} has cardinality at most N, while we continue to have A |= ϕ[a,e1,...,en] Similarly, let ψj(yj,z1,...,zp) and f1,...,fp ∈ X witness the fact that ej ∈ acl(X) for each j = 1,...,p. (We have uniﬁed the lists of parameters and added extra variables in the formulas to ensure that the parameters are the same for each j. There is no loss of generality in doing so.) Then the formula σ(x,z1,...,zp) given by ∃y1 ...∃yn(ϕ(x, ¯ y)∧ψ1(y1, ¯ z)∧...∧ψn(yn, ¯ z)) with parameters f1,...,fp witnesses the fact that a ∈acl(X). (3) Deﬁnition 9.1 implies that acl(X) is contained in the union of the sets acl(F) where F ranges over the ﬁnite subsets of X. Part (2) of this Proposition implies the reverse containment.   49
9.4. Remark. It follows from Proposition 9.3 that for every X ⊆ A, the set aclA(X) is algebraically closed in A. (Just apply part (2) to Y = acl(X) and then use part (1).) 9.5. Fact. Suppose A is an algebraically closed ﬁeld and k is a subﬁeld of A. Let K be the set of all a ∈ A for which there is a nonconstant polynomial p(x) with coeﬃcients in k such that p(a) = 0 in A. Using Fact 9.2 and the preceding remark, we have that K is a subﬁeld of A and that K is algebraically closed in A (in either of the two equivalent senses of this term). This illustrates the power of quantiﬁer elmination in an algebraic setting.
The following result shows that the model theoretic algebraic closure is to a large extent independent of the structure within which it is computed. In particular, it implies that if A,B are L-structures that satisfy A  B, then aclA(X) = aclB(X) for any X ⊆ A. (Take f to be the identity map on aclA(X) in the following Proposition.) 9.6. Proposition. Let A,B be L-structures, X ⊆ A, and Y ⊆ B. If the function f: X → Y is elementary with respect to A,B, then f can be extended to a function g: aclA(X) → aclB(Y) that is elementary with respect to A,B. Moreover, if f is surjective, then any such g must also be surjective.
Proof. Let A,B,X,Y,f be as given in the Proposition. Let Ω be the set of all functions g: X0 → Y0 such that X ⊆ X0 ⊆aclA(X), Y ⊆ Y0 ⊆aclB(Y), g is elementary with respect to A,B, and g extends f. It is easy to show that (Ω,⊆) is closed under unions of linearly ordered chains, so it satisﬁes the hypothesis of Zorn’s Lemma. Therefore there exists g ∈ Ω that is maximal under ⊆. We must show that the domain of g is aclA(X). If not, let a ∈ aclA(X) \ X0. By Proposition 9.3 we have a ∈ aclA(X0). Let ϕ(x,y1,...,yn) be an L-formula and e1,...,en ∈ X0 parameters that witness the fact that a ∈acl(X0). Moreover, we may suppose that ϕ and ¯ e have been chosen so that the ﬁnite set U = {c ∈ A | A |= ϕ[c,e1,...,en]} has the smallest possible cardinality. Let this cardinality be N. Since g is an elementary map, the set V = {c ∈ B | B |= ϕ[c,g(e1),...,g(en)]} also has cardinality N. Moreover, g maps X0 ∩ U bijectively onto Y0∩V . Since X0∩U has cardinality < N (as it does not contain a) there must exist b ∈ V \Y0. Extend g to the map g0 deﬁned on X0∪{a} by setting g0(a) = b. We will show that g0 is elementary with respect to A,B, contradicting the maximality of g. To that end, suppose ψ(x,z1,...,zp) is any L-formula and f1,...,fp ∈ X0 are such that A |= ψ[a,f1,...,fp]. The formula ϕ(x, ¯ y)∧ψ(x, ¯ z) and the parameters ¯ e, ¯ f witness the fact that a ∈aclA(X0). Therefore the choice ofϕ and ¯ e ensure that A |=∀x(ϕ → ψ)[e1,...,en,f1,...,fp].Since g is elementary, we have 50
B |=∀x(ϕ → ψ)[g(e1),...,g(en),g(f1),...,g(fp)].Therefore our choice of b implies A |= ψ[b,g(f1),...,g(fp)].This completes the proof that g0 is elementary and therefore we may conclude that the domain of the maximal g in Ω is all of aclA(X). Finally, suppose the given function f has range Y. Let g: aclA(X) → aclB(Y) be any extension of f that is elementary with respect to A,B. Let Z be the range of g and suppose, by way of getting a contradiction, that Z is a proper subset of aclB(Y). Since Y ⊆ Z we have aclB(Z) = aclB(Y). Applying the ﬁrst part of this Proposition to g−1 we see that g−1 should have an extension that maps aclB(Y) into aclA(X) and is elementary with respect to B,A. But since the range of g−1 is all of aclA(X) and since the extension, being an elementary function, must be 1-1, this is clearly impossible. This contradiction proves that the range of g must be aclB(Y), as claimed.
Exercises 9.7. Let A be an inﬁnite set, considered as a structure for the language of pure equality. For each X ⊆ A, show that aclA(X) = X. 9.8. Let A |= DLO. For each X ⊆ A, show that aclA(X) = X. 9.9. Let K be a ﬁeld and let L be the language of vector spaces over K. (See Exercises 3.6 and 5.4.) For each inﬁnite K-vector space V (considered as an L-structure) and each X ⊆ V , show that aclV (X) is the K-linear subspace of V spanned by X. 9.10. Consider the theory Tdis of discrete linear orderings without endpoints. (See Example 5.6.) For A |= Tdis and X ⊆ A, describe aclA(X).
51
10. Algebraic Closure in Minimal Structures
Throughout this chapter let A denote an inﬁnite minimal L-structure with underlying set A. We will write cl(X) in place of aclA(X) for X ⊆ A. From Proposition 9.3 we know that cl is a closure operation of ﬁnite character on the subsets of A. When A is minimal, cl is actually a (combinatorial) pregeometry; this means that cl also satisﬁes the Exchange Property: 10.1. Proposition. Let A be an inﬁnite minimal structure. Let X ⊆ A and a,b ∈ A. If a 6∈cl(X) and b 6∈cl(X), then a ∈cl(X ∪{b})⇐⇒ b ∈cl(X ∪{a}).
Proof. We argue by contradiction. Suppose a,b 6∈ cl(X), a ∈ cl(X ∪{b}), and b 6∈cl(X∪{a}). Let the formula ϕ(x,y,z1,...,zp) and the parameters e1,...,ep ∈ X witness the fact that a ∈cl(X∪{b}) (where b is included as a parameter to be substituted for the variable y). Let K be the cardinality of the ﬁnite set {c ∈ A | A |= ϕ[c,b,e1,...,ep]}, which contains a as an element. Let ψ(y,z1,...,zp) be a formula expressing that there are at most K values of x for which ϕ(x,y,z1,...,zp) is true. Note that A |= ψ[b,e1,...,ep]. Since b 6∈cl(X ∪{a}), the set {b0 ∈ A | A |= ϕ[a,b0,e1,...,ep] and A |= ψ[b0,e1,...,ep]} must be inﬁnite; since A is minimal this set must be coﬁnite in A. Let M be the number of elements of A that are not in this set. Now consider a formula σ(x,z1,...,zp) that expresses the statement that ϕ(x,y,z1,...,zp)∧ψ(y,z1,...,zp) holds for all but M many values of y. The set {c ∈ A | A |= σ[c,e1,...,ep]}has a as an element; since a 6∈ cl(X) and A is minimal, this set must be coﬁnite. Let a0,...,aK be distinct elements of this set. For each j = 0,...,K we have that the set {b0 ∈ A | A |= ϕ[aj,b0,e1,...,ep] and A |= ψ[b0,e1,...,ep]} must be coﬁnite in A, which is inﬁnite. Therefore the intersection of these sets is also coﬁnite, hence nonempty. That is, there must exist a single b0 ∈ A such that for each j = 0,...,K we have A |= ϕ[aj,b0,e1,...,ep] and A |= ψ[b0,e1,...,ep] ,which is a contradiction.   10.2. Deﬁnition. Let cl be a pregeometry on the set A; let X,Y ⊆ A. (1) X is closed if cl(X) = X. (2) cl(X) is the closure of X. (3) (Y closed) X spans Y if cl(X) = Y. (4) X is independent if a 6∈cl(X \{a}) for all a ∈ X. (5) (Y closed) X is a basis for Y if X is independent and X spans Y.
52
10.3. Theorem. Let cl be a pregeometry on the set A; let X,Y ⊆ A with Y closed. (1) X is independent if and only if each ﬁnite subset of X is independent. (2) X is a basis for Y if and only if X is maximal among independent subsets of Y. Consequently every closed set has a basis. Indeed, every independent subset of Y is contained in a basis for Y. (3) If X spans Y, then there exists Z ⊆ X such that Z is a basis of Y. (4) X is a basis for Y if and only if X is minimal among subsets of Y that span Y. (5) Suppose X is a basis for Y and a ∈ Y. Then there is a smallest ﬁnite set F ⊆ X such that a ∈cl(F). We will call F the support of a in X. (6) Any two bases for Y have the same cardinality.
Proof. (1) Suppose X is independent and let Z be any subset of X. For each a ∈ Z we have Z \{a}⊆ X \{a} and therefore cl(Z \{a}) ⊆ cl(X \ {a}). Since X is independent this implies a 6∈ cl(Z \{a}). Therefore Z is independent. In particular every ﬁnite subset of X is independent. Conversely, suppose X is dependent, so there exists a ∈ X such that a ∈ cl(X \{a}). Therefore there is a ﬁnite subset Z of X \{a} such that a ∈cl(Z). It follows that Z ∪{a} is a dependent ﬁnite subset of X. (2) Suppose X is a basis for Y. For each a ∈ Y \X we have a ∈cl(X), from which it follows that X ∪{a} is dependent. It follows that X is maximal among independent subsets of Y. Conversely, suppose X is maximal among independent subsets of Y. Then for each a ∈ Y \ X the set X ∪{a} is dependent. If a 6∈cl(X) then there exists b ∈ X with b ∈cl((X∪{a})\{b}). Since X is independent we have b 6∈ cl(X \{b}). The Exchange Property implies a ∈cl((X\{b})∪{b}) = cl(X). Thiscontradictionproves a ∈cl(X). Sinice a ∈ Y was arbitrary, this proves that X spans Y and therefore X is a basis for Y. Suppose X is any independent subset of Y. Let Ω be the collection of all independent subsets of Y that contain X. Part (1) of this Theorem implies that if C is any subset of Ω that is a chain under⊆, then∪C is independent and thus is a member of Ω. Zorn’s Lemma implies the existence of maximal elements of Ω under ⊆. Any such set is a basis of Y, by what was proved in the preceding paragraph. (3) The proof is similar to the second part of (2). Given X spanning Y, let Ω be the collection of all independent subsets of X. By Zorn’s Lemma and (1) there exists Z ∈ Ω that is maximal with respect to ⊆. By the argument in the previous paragraph, cl(Z) = cl(X) and therefore Z is an independent set spanning Y. By (2), Z is a basis for Y. (4) Suppose X is a basis for Y and Z is a proper subset of X. For each a ∈ X \ Z we have a 6∈ cl(X \{a}) ⊇ cl(Z), which shows that Z does not span Y. Conversely suppose X is minimal among sets that span Y. We must show X is independent. Otherwise there exists a ∈ X such that 53
a ∈ cl(X \{a}). It follows that cl(X \{a}) = cl(X), contradicting the assumption that X is a minimal spanning set. (5) Since cl has ﬁnite character we know there exists a ﬁnite F ⊆ X with a ∈ cl(F). Let F be such a set of smallest cardinality. We will show a 6∈ cl(X \{b}) for each b ∈ F. It follows that F must be contained in any subset A of X that satisﬁes a ∈ cl(A). If b ∈ F then we have a 6∈ cl(F \{b}) by the minimality of F. The Exchange Property implies b ∈ cl((F \{b})∪{a}). Since b 6∈ cl(X \{b}) we see it is impossible for a to be in cl(X \{b}). (6) Let U and V be bases for Y. The case where one of the bases is inﬁnite can be proved using a simple counting argument based on the ﬁnite character of cl. Suppose V is inﬁnite and card(U) ≤ card(V ). For each a ∈ U there exists a ﬁnite set F(a) ⊆ V such that a ∈ cl(F(a)). Let F = ∪{F(a) | a ∈ U}. Evidently F spans Y, and since V is a basis for Y it follows from (3) that F = V . Since V is inﬁnite it follows that U is also inﬁnite and indeed that card(V ) = card(F) ≤ card(U). Hence card(U) = card(V ). Now we handle the ﬁnite case. Let U be a ﬁnite basis for Y and let V be any independent subset of Y. By what we proved above, V must be ﬁnite. We will show that card(V )≤card(U), which suﬃces to complete the proof of (4). To do this we prove the following statement by induction on the cardinality of V : there exists W ⊆ U such that W ∩V = ∅, W ∪V is a basis for Y, and card(W ∪V ) = card(U). As basis step we consider the case card(V ) = 0. Evidently we may take W = U when V =∅. For the induction step consider an independent set V and suppose the statement is true for all independent sets that are smaller than V . Fix a ∈ V and let Z = V \{a}. By the induction hypothesis there exists W ⊆ U such that W ∩Z =∅, W ∪Z is a basis for Y, and card(W ∪Z) = card(U). Let A be the support of a in W ∪Z. Since V is independent, A must meet W. Let b be any element of A∩W. By (5) we have a 6∈cl((W \{b})∪Z). We complete the proof by showing that W \{b} is the desired subset of U for V = Z∪{a}. The Exchange Property yields b ∈cl((W\{b})∪(Z∪{a})). Therefore (W \{b})∪(Z ∪{a}) spans Y. Since b is in the support of a in W ∪Z we have a 6∈cl((W \{b})∪Z). It follows that (W \{b})∪(Z∪{a}) is independent, that (W \{b})∩(Z ∪{a}) =∅, and that card((W \{b})∪ (Z ∪{a})) = card(W ∪Z) = card(U). This completes the proof.
10.4. Deﬁnition. Let cl be a pregeometry on the set A and X ⊆ A. The dimension of X, which is denoted dim(X), is the unique cardinality of a basis for the closed set cl(X).
54
10.5. Deﬁnition. Let A be a minimal L-structure. The dimension of A, denoted dim(A), is the dimension of the set A with respect to the pregeometry aclA. 10.6. Proposition. Let A and B be L-structures with A ≡ B and A minimal. Suppose X ⊆ A and Y ⊆ B, and let f: X → Y be a function that is elementary with respect to A,B. For each a ∈ A \aclA(X) and each b ∈ B\aclB(Y) the extension of f that takes a to b is also elementary with respect to A,B.
Proof. Otherwise there exists an L-formula ϕ(x,y1,...,yn) and parameters e1,...,en ∈ X such that A |= ϕ[a,e1,...,en] and B |= ¬ϕ[b,f(e1),...,f(en)]. Since a is not algebraic over X and b is not algebraic over Y, the sets {c ∈ A | A |= ϕ[c,e1,...,en]} and {d ∈ B | B |= ¬ϕ[d,f(e1),...,f(en)]} are both inﬁnite. Since f is elementary it follows that {c ∈ A | A |= ¬ϕ[c,e1,...,en]} is inﬁnite. This contradicts the assumption that A is minimal.   10.7. Corollary. Let A and B be L-structures with A ≡ B and A minimal. Suppose we have independent sets X ⊆ A (with respect to aclA) and Y ⊆ B (with respect to aclB), and let f: X → Y be a 1-1 function. Then f is elementary with respect to A,B.
Proof. Let Ω be the collection of subsets S ⊆ X such that the restriction of f to S is elementary with respect to A,B. We regard ∅ as an element of Ω (justiﬁed since A ≡ B). The partially ordered set (Ω,⊆) satisﬁes the hypothesis of Zorn’s Lemma, so there exists S ∈ Ω that is maximal with respect to⊆. We need to show S = X. If not, let a be any element of X\S and let b = f(a) ∈ Y \f(S). By Proposition 10.6, f restricted to S ∪{a} is elementary with respect to A,B. This contradicts the maximality of S and proves S = X.
10.8. Theorem. Let T be a complete strongly minimal theory with inﬁnite models, and let A,B be models of T. (1) There is an elementary embedding of A into B if and only if dim(A)≤ dim(B). (2) A and B are isomorphic if and only if dim(A) = dim(B). (3) T is κ-categorical for every cardinal number κ > card(L).
Proof. (1⇐) Since acl deﬁnes a pregeometry in each of these structures, there exist bases X for A (with respect to aclA) and Y for B (with respect to aclB). By hypothesis card(X) ≤ card(Y) so there is a 1-1 function f from X into Y. The preceding Corollary yields that f is elementary with respect to A,B. By Proposition 9.6, f can be extended to a function g: A → B that is elementary with respect to A,B. It follows easily that g is an elementary embedding from A into B. 55
(1⇒) As above, there is a basis X for A (with respect to aclA). If f is an elementary embedding of A into B, then f(X) is independent with respect to aclB. By Theorem 10.3(2) there is a basis Y for B that contains f(X). It follows that card(X)≤card(Y) and hence dim(A)≤dim(B). (2) The argument is similar to (1). (3)BytheL¨owenheim-SkolemTheorems(Theorems 6.1and6.4)thereexist models of T having cardinality κ. Let A and B be two such models of T. As in the proof of (1), let X be a basis for A (with respect to aclA) and Y for B (with respect to aclB). Because acl is of ﬁnite character in each model, and there are fewer than κ formulas in L, a counting argument shows that X and Y must each be of cardinality equal to κ. Now use part (2).
Exercises 10.9. Let L be the language of pure equality and let T be the theory in L of all inﬁnite sets. From Example 3.16 we know that T admits QE and is complete. • Show that T is strongly minimal. • Explain the meaning of the dimension of a given model of T, in the sense of Section 10. 10.10. Let L be the language whose nonlogical symbols consist of a unary function symbol F. Let T be the theory in L of the class of all L-structures (A,f) in which f is a bijection from A onto itself and f has no ﬁnite cycles. From Problem 2.2 we know that T admits QE and is complete. Note that (Z,S) is a model of T, where S(a) = a + 1 for all a ∈ Z; therefore T = Th(Z,S). • Show that T is strongly minimal. • Explain the meaning of the dimension of a given model of T, in the sense of Section 10. 10.11. Let K be a ﬁeld and let L be the language of vector spaces over K. Let T be the theory in L of all inﬁnite vector spaces over K. (See Exercises 3.6, 5.4, and 9.3.) • Show that T is strongly minimal. It follows that Section 10 applies to inﬁnite K-vector spaces. Exercise 9.3 shows that algebraic closure in the sense of model theory and linear span in the sense of linear algebra are identical, when applied to subsets of a ﬁxed inﬁnite vector space over K. • Let V,W be inﬁnite K-vector spaces and let X ⊆ V,Y ⊆ W be K-linear subspaces. Suppose F : X → Y is a K-linear isomorphism. Show that F is an elementary map in the sense of the L-structures V,W. (Note that if K is a ﬁnite ﬁeld, and X,Y are ﬁnitely generated, then they are not models of T.) •If V is an inﬁnite K-vector space and X ⊆ V is a K-linear subspace, show that the model theoretic dimension of X in the sense of algebraic closure in V does not depend on V . Show that this dimension is the same as the 56
dimension of X in the sense of linear algebra. • Check that Theorem 10.3 implies all of the standard facts about linearly independent sets, spanning sets, and bases, for arbitrary vector spaces over K. 10.12. Let T be a strongly minimal L-theory and let κ be an inﬁnite cardinal. Let A be an inﬁnite model of T. • Show that A is κ-saturated iﬀ the dimension of A in the sense of Section 10 is ≥ κ. 10.13. Let L be the language whose only nonlogical symbol is a binary predicate symbol <. Let A be any inﬁnite linear ordering, considered as an L-structure. • Show that Th(A) is not strongly minimal.
57
11. Real Closed Ordered Fields
We now consider the theory RCOF of real closed ordered ﬁelds, formulated in the language Lor of ordered rings. The axioms of this theory are the axioms for ordered rings and the sign change property (intermediate value property) for polynomials with coeﬃcients in the ﬁeld. This last set of axioms can be formulated as follows: for each n > 0 let tn(x,y0,...,yn) be the term yn•xn+...+y1•x+y0. The sign change property for polynomials of degree at most n is expressed by the following sentence: ∀a∀b∀¯ y((a < b∧tn(a, ¯ y) < 0∧tn(b, ¯ y) > 0)→∃x(tn(x, ¯ y) = 0∧a ≤ x ≤ b)). Note that the sign change property implies that every positive element is a square and that all polynomials of odd degree have roots. (If a > 0 then x2 −a changes sign over the interval [0,a + 1]; for large enough b > 0, a given odd degree polynomial will change sign on the interval [−b,b].) These properties give an equivalent set of axioms for RCOF as can be shown by an algebraic argument. Two other algebraic characterizations of real closed ordered ﬁelds among ordered ﬁelds are: (1) no proper algebraic extension can be ordered; (2) the extension formed by adding √−1 is algebraically closed. A full discussion of real closed ordered ﬁelds may be found in Serge Lang’s book Algebra. Obvious models for the theory RCOF are the ordered ﬁelds of all the real numbers and all algebraic real numbers. In 1926-27 Artin and Schreier developed the theory of ordered ﬁelds and proved that every ordered ﬁeld A has a real closure (by which we mean a real closed ordered ﬁeld that is an algebraic extension of A.) Moreover, any two real closures of an ordered ﬁeld A are isomorphic over A. We are going to show that the theory RCOF admits quantiﬁer elimination, using Theorem 5.7. In order to verify condition (2) of that Theorem, we need the following Lemma. 11.1. Lemma. Let F ⊆ K be real closed ordered ﬁelds and suppose b ∈ K\ F. The isomorphism type of b over F (in the language Lor) is determined by the set of elements f ∈ F such that f < b. Proof. The uniqueness of the real closure implies that F is algebraically closed in K. Suppose K0 is another real closed ordered ﬁeld extension of F and b0 ∈ K0 \ F. Suppose further that for all f ∈ F we have f < b ⇐⇒ f < b0. Consider the map g deﬁned on F[b] by taking g(b) = b0 and g(f) = f for all f ∈ F. Since b and b0 are both transcendental over F, this is a ring isomorphism from F[b] onto F[b0]. We need to show that g is order preserving. That is, for any polynomial p(x) ∈ F[x] with coeﬃcients in F we have to prove (?) p(b) > 0⇐⇒ p(b0) > 0. 58
We are given that this condition holds when p(x) is constant, so we may assume that p(x) is nonconstant. Without loss of generality we may assume that the polynomial p(x) is monic since the equivalence (?) is preserved under multiplication by elements of F. Moreover, we may assume that p(x) is irreducible in F[x], since the product of any two polynomials that satisfy (?) will again satisfy (?). If p(x) has degree 1, so it is of the form x−f for some f ∈ F, then condition (?) just says b > f ⇐⇒ b0 > f, which we know is true. Thus we may assume that p(x) is of degree > 1. Since it is irreducible, it has no roots in F. Since F is algebraically closed in K and in K0, this means that p(x) also has no roots in either of these ﬁelds. Since p(x) is positive for large enough values of x (in K and in K0), it follows from the sign change property for polynomials over real closed ordered ﬁelds (the axioms of type (iii)) that p(x) must be everywhere positive in K and in K0. In particular, both p(b) and p(b0) must be positive, proving that condition (?) is true.   11.2. Theorem (Tarski). The theory RCOF of real closed ordered ﬁelds admits quantiﬁer elimination.
Proof. We apply Theorem 5.7, verifying condition (2) of that result. We are using a countable language so κ = ω. Therefore we need to consider real closed ordered ﬁelds A,B with A countable and B ω1-saturated. We also consider a proper substructure A0 of A and an embedding f of A0 into B. We must show that f can be extended properly to an embedding of some substructure of A into B. Let B0 be the range of f; then B0 is a substructure of B and f is an isomorphism of A0 onto B0. We know that A0 is an ordered subring of A. Since the ﬁeld of fractions of A0 is uniquely determined as an ordered ﬁeld over A0, we can extend the embedding f to be deﬁned on the ﬁeld generated in A by A0. Therefore we may assume that A0 is already an ordered subﬁeld of A. A similar argument using the uniqueness of the real closure of an ordered ﬁeld shows that we may also assume that A0 is itself a real closed ordered ﬁeld; in particular, we may assume that A0 is algebraically closed in A. Let b be any element of A\A0. Since B is ω1-saturated and A0 is countable, it is possible to ﬁnd b0 ∈ B that satisﬁes a < b ⇔ f(a) < b0 for all a ∈ A0. Using Lemma 11.1 we conclude that f can be extended to an embedding of ordered ﬁelds from A0(b) onto B0(b0) by setting f(b) = b0. This completes the proof.   11.3. Corollary. The theory RCOF is complete; hence RCOF is equal to the theory of the ordered ﬁeld R of real numbers.
Proof. Every ordered ﬁeld has characteristic 0 and therefore contains an isomorphic copy of the ordered ﬁeld Q. The completeness of RCOF follows from Corollary 5.5.   59
11.4. Remark. The theory of the ordered ﬁeld R is decidable; this follows immediately from the fact that it equals RCOF, so it is a complete theory for which one has a computable set of axioms. This decidability result was a large part of Tarski’s original motivation for proving that RCOF admits quantiﬁer elimination. It is of some interest to computer scientists, because instances of certain problems in areas such as robotics can be formulated as sentences in the language of ordered rings, and the “feasibility” of a given problem instance corresponds to the truth of the sentence in R. For this reason some computer scientists have tried to ﬁnd eﬃcient algorithms for deciding RCOF and have implemented these algorithms in software systems. However, the systems do not perform very well, and it has been shown that the computational complexity of RCOF is suﬃciently high that no feasible algorithm for deciding it can exist. Current interest emphasizes subproblems that are deﬁned by syntactic restrictions. 11.5. Fact. Let S be any subset of Kn that is deﬁnable in the real closed ordered ﬁeld (K,+,−,×,<,0,1). (a) If n = 1, show that S must be a ﬁnite union of points from K and open intervals whose endpoints are in K. (b) Show that the closure of S and the interior of S are also deﬁnable subsets of Kn, where K is given the topology deﬁned using its ordering. 11.6. Remark. Statement (a) of the preceding Fact is expressed by saying that the theory RCOF is o-minimal. The study of o-minimal structures is an active area of research today. Combined with Tarski’s Theorem, to the eﬀect that deﬁnable sets in real closed ordered ﬁelds can be deﬁned using quantiﬁer free formulas, statement (b) shows that for each n ≥1, the collection of subsets of Rn that are quantiﬁer free deﬁnable in the ordered ﬁeldRis closedunderthe operations offorming the closure andtheinterior.
Artin and Schreier developed the theory of real closed ordered ﬁelds, in part toward solving Hilbert’s 17th Problem. This problem asked for a characterization of positive deﬁnite rational functions with coeﬃcients in the real numbers or, more generally, in a given ordered ﬁeld. As our last result we give a model theoretic proof of the solution to this problem in the case where the ordered ﬁeld is a real closed ordered ﬁeld. For a more general discussion see Abraham Robinson’s book Model Theory, for example, or the article by Angus Macintyre in The Handbook of Mathematical Logic. 11.7. Corollary. Let F be a real closed ordered ﬁeld, and let p,q be polynomials in the variables x1,...,xn with coeﬃcients in F. Suppose that the rational function f = p/q is positive semi-deﬁnite, in the sense that for any a ∈ Fn with q(a) 6= 0, one has f(a) = p(a)/q(a) ≥ 0. Then f is equal to a sum of ﬁnitely many squares of rational functions in the ﬁeld of rational functions F(x1,...,xn). 60
Proof. If f is not a sum of squares in the ﬁeld F(x1,...,xn) then this ﬁeld has an ordering in which the element f is negative. To show this, use Zorn’s Lemma and take P to be a maximal subset of F(x1,...,xn) that contains −f and all nonzero squares, does not contain 0, and is closed under + and ×. The desired linear ordering on the ﬁeld F(x1,...,xn) is deﬁned by taking g < h ⇐⇒(h−g)∈ P. This ordering on F(x1,...,xn) obviously extends the original ordering on F. Let K be a real closed ordered ﬁeld that extends F(x1,...,xn) with this ordering. Now consider the polynomials p(x1,...,xn) and q(x1,...,xn) as terms in the language L(F). We see that the sentence ∃x1 ...∃xn(p(x1,...,xn)q(x1,...,xn) < 0) is true in K. (Note that q 6= 0∧ p/q < 0 is equivalent to pq < 0 in ordered ﬁelds.) By Tarski’s Theorem, this sentence is equivalent in RCOF to a quantiﬁer free sentence, so that it is also true in F. But this sentence is false in F by hypothesis, contradicting the assumption that f is not a sum of squares.
Exercises 11.8. Let K be a countable ordered ﬁeld, considered as an Lor-structure, and let T = Th(K). Show that there exists a 1-type p ∈ S1(T) that is not realized in K. Therefore, no countable ordered ﬁeld is ω-saturated. 11.9. Let R be an ordered ﬁeld. Let x be a transcendental element over R and consider the ﬁeld R(x) of rational functions in x with coeﬃcients in R. • Show that there is linear ordering < on R(x) that makes R(x) into an ordered ﬁeld, such that r < x for all r ∈ R. • Show that this ordering is unique. • Show how to embed the ordered ﬁeld R(x) with this ordering into a suitable ultrapower of R. • Describe all the embeddings of the ﬁeld R(x) into an ultrapower of R. (Each one induces a ﬁeld ordering on R(x).) 11.10. Use the preceding Exercise and results in Section 11 to show that the theory RCOF is not κ-categorical for any inﬁnite cardinal κ. (For example, construct models of RCOF of cardinality κ, such that one has an ordering of coﬁnality ω and the other has an ordering of uncountable coﬁnality.)
61
12. Homogeneous Models
In this chapter we prove that every satisﬁable theory T has models that are not only highly saturated but are also very homogeneous. Such models play the same role in the setting of very general mathematical structures that the ﬁeld of complex numbers plays in algebra and number theory. That is, they contain many “ideal elements” with which one can directly calculate and they support many useful functions and relations; thus they provide a convenient framework for certain mathematical arguments. Use of such rich models is a key feature of modern model theory. 12.1. Deﬁnition. Let L be a ﬁrst order language, A an L-structure, and κ an inﬁnite cardinal number. We say A is strongly κ-homogeneous if it has the following property for every subset S of A of cardinality < κ: any elementary map of S into A can be extended to an automorphism of A.
We construct a strongly homogeneous model as the union of a well ordered elementary chain. The next result is needed at the successor stage when we are deﬁning this elementary chain by induction. 12.2. Lemma. Suppose A is κ-saturated and B  A satisﬁes card(B) < κ. Then any elementary map f between subsets of B can be extended to an elementary embedding of B into A.
Proof. Suppose the domain of the elementary mapping f is S. Then we have (B,a)a∈S ≡(A,f(a))a∈S. Moreover, it is easy to see that (A,f(a))a∈S must also be κ-saturated, since card(S) < κ. By Corollary 4.4 there is an elementary embedding of (B,a)a∈S into (A,f(a))a∈S. This yields an elementary embedding of B into A that extends f.   12.3. Theorem (Existence of Strongly Homogeneous Models). For every inﬁnite cardinal number κ, every structure has a κ-saturated elementary extension A such that every reduct of A is strongly κ-homogeneous.
Proof. Let A0 be any structure and κ an inﬁnite cardinal number. Let τ = κ+. Using induction over the well ordered set{α | α < τ}we construct an elementary chain of structures Aα (α < τ) such that Aα+1 is card(Aα)+saturated for every α < τ. To construct this sequence, at each successor stage (α to α+1) we apply Theorem 4.7 to Aα; at limit stages we take the union of the previously deﬁned structures. Finally, the desired elementary extension A of A0 is obtained by setting A =∪{Aα | α < τ}. Note that any subset S of A that has cardinality < τ must be a subset of Aα for some α < τ. (Here we use the fact that τ = κ+ is a regular cardinal.) From this it is immediate that A is τ-saturated (as in the proof of Theorem 4.7). It remains to show that every reduct of A is strongly κ-homogeneous. Let L be any sublanguage of the language of A. Note that the chain of reducts 62
(Aα|L | α < τ) is an elementary chain such that Aα+1|L is card(Aα)+saturated for every α < τ. Moreover, A|L is the union of this chain. Let f be any mapping between subsets of A that is elementary with respect to A|L, such that the domain and range of f have cardinality < κ. As noted above, the domain and range of f are both contained in Aα for some α < τ. Moreover, such a mapping f is elementary with respect to Aα|L, since Aα|L A|L. Without loss of generality we may assume that α is a limit ordinal. An ordinal β can be written in a unique way as β = λ + n for some limit ordinal λ and some integer n ∈ N. We call β odd or even according to whether the integer n is odd or even. Note that each limit ordinal is even. Applying Lemma 12.2 to Aα|L and f we obtain an elementary embedding fα from Aα|L into Aα+1|L that extends f. We proceed by induction to obtain a sequence of elementary embeddings fβ from Aβ|L into Aβ+1|L, for β in the interval α ≤ β < τ, such that fβ+1 is always an extension of f−1 β . It follows that fβ+2 is an extension of fβ for all α ≤ β < τ. At successor ordinals the mapping fβ+1 is obtained by applying Lemma 12.2 to Aβ+1|L and f−1 β . At limit ordinals λ the induction construction is continued by ﬁrst taking g to be the union of all the elementary mappings fβ such that β < λ and β is even, and then applying Lemma 12.2 to extend g to an elementary embedding fλ of Aλ|L into Aλ+1|L. Finally, let h be the union of the mappings fβ such that α ≤ β < τ and β is even. It is easy to show that h is an automorphism of A|L and that it extends the original elementary mapping f.   12.4. Fact. If A is κ-saturated, then every reduct of A is also κ-saturated, by Theorem 4.3. (This was used in the preceding proof.)
The strongly homogeneous models constructed in the proof of Theorem 12.3 are very large. In some situations it is useful to control the cardinality of strongly homogeneous models, as we do in the next result. 12.5.Theorem (Countablestrongly ω-homogeneousModels). Assume that L is a countable language, and let T be a complete theory in L. For each n ∈ N let Tn be a countable collection of partial n-types in L, with each partial type in each Tn being consistent with T. Then there is a countable strongly ω-homogeneous model of T that realizes every partial n-type in Tn for each n.
Proof. Since T is complete, there is a countable model A0 of T in which all thegivenpartialtypesarerealized. Weinductivelyconstructanelementary chain (An | n ∈N) of countable structures and for each n ≥1 a countable set Fn of automorphisms of An, such that the following conditions are satisﬁed: (1) for all n ≥ 0, every elementary map between ﬁnite subsets of An extends to an automorphism of An+1 that is a member of Fn+1; (2) for all n ≥1 each automorphism of An in Fn extends to an automorphism 63
of An+1 in Fn+1. We also take F0 to be empty. To see that this can be done, consider a countable model An of T together with a countable set Fn of automorphisms of An. Using Theorem 12.3 there is a strongly ω1homogeneous elementary extension B of An. (Of course B need not be countable.) Since Fn is countable and there are only countably many maps between ﬁnite subsets of An, there is a countable set F of automorphisms of B with the property that each automorphism in Fn and each elementary map between ﬁnite subsets of An extends to an automorphism of B that is in F. By the Downward L¨owenheim-Skolem Theorem there is a countable structure An+1  B such that An ⊆ An+1 and such that An+1 is closed under f and f−1 for each f ∈ F. In particular, we have An ⊆ An+1. Let Fn+1 be the set of restrictions of members of F to An+1. Then An+1 and Fn+1 have the desired properties. The desired model A of T is the union of the chain (An | n ∈N). Note that by construction every automorphism of An that is a member of Fn extends to an automorphism of A.   12.6. Theorem. Any two κ-saturated L-structures that are both of cardinality κ and that are elementarily equivalent are isomorphic. Proof. Let A,B be κ-saturated structures with A ≡ B and card(A) = card(B) = κ. By induction on α < κ we construct an increasing chain (Xα)α<κ of subsets of A having cardinality < κ and an increasing chain (fα)α<κ of functions fα: Xα → B that are elementary with respect to A,B and such that A =∪{Xα | α < κ} and B =∪{fα(Xα)| α < κ}. We then obtain the desired isomorphism from A onto B by setting f = ∪{fα | α < κ}. To begin the inductive construction set X0 = ∅ and let f0 be the empty map. Since A ≡ B, f0 is elementary with respect to A,B. Suppose α < κ and we have already constructed Xβ and fβ for all β < α. If α is a limit ordinal, we set Xα = ∪{Xβ | β < α} and fα = ∪{fβ | β < α}. If α is a successor ordinal, we may write α = λ + n where λ is a limit ordinal and n ∈N. Since α is a successor ordinal, n ≥1 and we may set β = λ+n−1, the predecessor of α. If n is even we extend fβ to fα using the κ-saturation of B so that its domain Xα contains a speciﬁed element of A; if n is odd we extend fβ to fα using the κ-saturation of A so that its range f(Xα) contains a speciﬁed element of B. (“Speciﬁed elements” are considered in order, relative to some well ordered listing of the universes of A and B of order type κ.) The cases are similar and we indicate only how to proceed when n is even. Suppose b is the designated element of A. Since fβ is elementary with respect to A,B, we have (A,a)a∈Xβ ≡ (B,fβ(a))a∈Xβ; also, both of these structures are κ-saturated. Hence there exists c ∈ B such that (A,b,a)a∈Xβ ≡ (B,c,fβ(a))a∈Xβ. Then we set Xα = Xβ ∪{c} and extend fβ to fα on Xα by setting fα(b) = c.   64
12.7. Corollary. If the structure A is κ-saturated and has cardinality κ, then A is strongly κ-homogeneous. Proof. Suppose A is κ-saturated and has cardinality κ. Let S ⊆ A have cardinality < κ and suppose f: S → A is an elementary map, with respect to A. Then the structures (A,a)a∈S and (A,f(a))a∈S are elementarily equivalent, and both of them are κ-saturated and have cardinality κ. The previous results yields that these two structures are isomorphic; any isomorphism between them is an automorphism of A that extends f. Hence A is strongly κ-isomorphic.
In the rest of this chapter we explore the relations among several notions of “richness” for L-structures. 12.8. Deﬁnition. Let L be a ﬁrst order language, A an L-structure, and κ an inﬁnite cardinal number. (1) A is κ-homogeneous if it has the following property for every subset S of A of cardinality < κ: any elementary mapping of S into A can be extended to an elementary mapping of S ∪{b} into A, for each b ∈ A. (2) A is κ-universal if every structure B that satisﬁes card(B) < κ and B ≡ A can be elementarily embedded into A. 12.9. Theorem. Let κ be an inﬁnite cardinal number. (a) Any strongly κ-homogeneous structure is κ-homogeneous. (b) Any κ-saturated structure is κ-homogeneous and κ+-universal. (c) Assume card(L) < κ. Any structure that is κ-homogeneous and κuniversal is κ-saturated. (d) Any κ-homogeneous structure that is of cardinality κ is strongly κhomogeneous.
Proof. (a) Any restriction of an automorphism is an elementary map. (b) Let A be κ-saturated. Corollary 4.4 shows that A is κ+-universal. To show that A is κ-homogeneous, consider a subset S of A whose cardinality is less than κ and let f: S → A be an elementary map with respect to the structure A. Then (A,a)a∈S ≡ (A,f(a))a∈S and both of these structures are κ-saturated. Therefore, for any b ∈ A there exists c ∈ A such that (A,b,a)a∈S ≡ (A,c,f(a))a∈S. The desired extension of f can be obtained by setting f(b) = c. (c) Let A be κ-homogeneous and κ-universal, and suppose card(L) < κ. Let S ⊆ A with card(S) < κ, and consider a 1-type Γ(x) in L(S) that is ﬁnitelysatisﬁableinTh((A,a)a∈S). Thereisan L(S)structure(B,f(a))a∈S and an element b ∈ B such that b realizes Γ(x) in (B,f(a))a∈S. Since the cardinality of L(S) is < κ, the Downward L¨owenheim-Skolem Theorem implies that we may assume card(B) < κ. Since A is κ-universal, there exists an elementary embedding g of B into A. The composition g◦f maps S into A and is an elementary map with respect to A. Since card(S) < κ 65
and A is κ-homogeneous, there is an elementary map h that extends g◦f and such that g(b) is in the range of h. If c ∈dom(h) satisﬁes h(c) = g(b), then c must realize Γ(x) in (A,a)a∈S. (d) Let A be a κ-homogeneous structure, and let f: S → A be an elementary map with card(S) < κ and S ⊆ A. Then we have (A,a)a∈S ≡ (A,f(a))a∈S. By an argument similar to the one used to prove part Theorem 12.6, we can inductively extend f to an increasing chain of elementary mappings whose union is an automorphism of A. Thus A is strongly κhomogeneous.
66
Exercises 12.10. Let A,B be L-structuresthatareelementarilyequivalent. Showthat there exist elementary extensions A0 of A and B0 of B such that A0 ∼ = B0. 12.11. Let A,B be L-structures and let f be a nonempty elementary map from a subset of A into B. Show that there exist elementary extensions A0 of A and B0 of B and an isomorphism g of A0 onto B0 such that g is an extension of f. 12.12. Let L be the language whose nonlogical symbols consist of inﬁnitely many constant symbols {cn | n ∈N}. Let T be the L-theory whose axioms are cm 6= cn for all distinct m,n ∈ N. It follows from Example 3.16(ii) that T admits QE. Every model of T has a substructure isomorphic to (N,n)n∈N, so T is complete by Corollary 5.5(2). • Which countable model of T is ω-saturated? • Which countable models of T are strongly ω-homogeneous. 12.13. Let L be the language whose nonlogical symbols consist of a unary function symbol F. Let T be the theory in L of the class of all L-structures (A,f) in which f is a bijection from A onto itself and f has no ﬁnite cycles. From Problem 2.2 we know that T admits QE and is complete. From Exercise 10.2 we know that T is strongly minimal and we understand the meaning of the dimension of a model of T. Note that (Z,S) is a model of T, where S(a) = a+1 for all a ∈Z; therefore T = Th(Z,S) and this model of T obviously has dimension 1. • Which countable models of T are strongly ω-homogeneous? 12.14. Let A be an L-structure and B ⊆ A. Recall that R ⊆ Am is called B-deﬁnable in A if there is an L-formula ϕ(x1,...,xm,y1,...,yn) and parameters b1,...,bn from B such that R ={(a1,...,am)∈ Am | A |= ϕ[a1,...,am,b1,...,bm]}. Now suppose A is κ-saturated and strongly κ-homogeneous and B ⊆ A has card(B) < κ. Suppose further that R ⊆ Am is A-deﬁnable in A. • Show that R is B-deﬁnable in A iﬀ R is ﬁxed setwise by every automorphism of A that ﬁxes B pointwise.
67
13. Omitting Types
The main result of this chapter (Theorem 13.3) gives a suﬃcient condition for a given countable family of partial types to be omitted from some model of a theory T in a countable language. If T is a complete theory, this result yields a condition on an n-type Γ(x1,...,xn) that is necessary and suﬃcient for the existence of a model of T that omits Γ(x1,...,xn). (Theorem 13.8) This result can be used to study the countable models of T. Most of the results in this chapter require that the language be countable.
13.1. Deﬁnition. Let T be a satisﬁable theory in the language L and let Σ(x1,...,xn) be a partial n-type in L. We say that T locally omits Σ(x1,...,xn) if for any formula ϕ(x1,...,xn) that is consistent with T, there is a formula σ(x1,...,xn)∈Σ(x1,...,xn) such that ϕ∧¬σ is consistent with T.
13.2. Remark. The notion of “local omitting” may seem more natural when rephrased topologically: T locally omits Σ(x1,...,xn) iﬀ the closed subset {Γ∈ Sn(T)|Σ⊆Γ} has empty interior in the space Sn(T). 13.3. Theorem (Omitting Types Theorem). Suppose L is a countable language, and let T be a satisﬁable theory in L. For each k ≥ 1 let Σk be a partial nk-type in L that is locally omitted by T. Then there is a countable model A of T such that for all k, Σk is omitted in A.
Proof. In order to keep the notation simpler, we ﬁrst consider the case of a single partial 1-type Σ(x). Let L0 be the language obtained from L by adding a countable set of new constants {cn | n ≥ 1}. Let ϕ1,ϕ2,... list the sentences of L0. Starting with T we construct an increasing sequence T = T0 ⊆ T1 ⊆ ... of satisﬁable sets of sentences in L0 such that each Tn+1 is a ﬁnite extension of Tn and the following conditions are satisﬁed: (a) For all m ≥1, Tm contains ϕm or ¬ϕm; (b) If m ≥1 and ϕm =∃yψ(y)∈ Tm, then ψ(cp)∈ Tm for some p ≥1; (c) For each m ≥1, there is some σ(x)∈Σ(x) such that ¬σ(cm)∈ Tm. First we show that it is suﬃcient to construct such an increasing chain of L0-theories. Let T0 = ∞ Sm =1 Tm. Then T ⊆ T0 and T0 is a maximal satisﬁable set of formulas in L0. Also, for any formula ψ(y) ∈ L0, if ∃yψ(y) is in T0, then ψ(cp) ∈ T0 for some p. Note that these are the conditions that also appear in the usual proof of the G¨odel Completeness Theorem. As in that proof, we deﬁne an L0-prestructure A with A ={cn | n ≥1}by interpreting the nonlogical symbols of L as follows: (1) If P is a k-ary predicate symbol in L, let PA(ci1,...,cik)⇔ P(ci1,...,cik)∈ T0. 68
(2) If F is a k-ary function symbol in L, take FA(ci1,...,cik) to be the earliest cp for which F(ci1,...,cik) = cp is in T0. (Note that the sentence ∃y(F(ci1,...,cik) = y) is in T0 since it is a valid sentence and T0 is maximal satisﬁable; therefore by (b) above there exists cp such that F(ci1,...,cik) = cp is in T0.) (3) If c is a constant in L, take cA to be the earliest cp for which c = cp is in T0. (As in (2), condition (b) above ensures that some such cp exists.) It is routine to show (by induction on formulas) that for any L0-sentence ϕ, one has A |= ϕ ⇔ ϕ ∈ T0. In particular, this shows that A is a prestructure, since any instance of an equality axiom (indeed, any valid sentence) is a member of T0. Furthermore, no element of A satisﬁes all formulas in Σ(x); this is ensured by condition (c) above. Thus A nearly satisﬁes the conclusion of the Theorem; the only problem is that A will generally be a prestructure rather than a structure. (A |= cm = cn if and only iﬀ the sentence cm = cm is in T0, and this may happen even when m 6= n.) By applying the quotient construction discussed in Appendix 2 of Section 1, we obtain an L0 structure B as a quotient of the prestructure A such that B is a model of T0 (and thus a model of T) that omits Σ(x). This argument shows that it suﬃces to construct the increasing chain T = T0 ⊆ T1 ⊆ ... satisfying the conditions above, including (a),(b),(c). We set T0 = T and deﬁne Tm for m ≥ 1 by induction. Given Tm−1, with m ≥ 1, we construct Tm as follows: (a) Let T0 m−1 =Tm−1 ∪{ϕm}, if this is satisﬁable Tm−1 ∪{¬ϕm}, otherwise. Note that T0 m−1 is satisﬁable. (b) Suppose ϕm ∈ T0 m−1 and ϕm = ∃yψ(y). Choose cp to be the ﬁrst newconstant not in ψ or T0 m−1 . Now T0 m−1∪{ψ(cp)} is satisﬁable (else T0 m−1 |= ¬ψ(cp) so T0 m−1 |= ∀y¬ψ(y); i.e. T0 m−1 |= ¬ϕm, which is a contradiction).Let T00 m−1 = T0 m−1 ∪{ψ(cp)}. (c) Suppose ¬σ(cm) is not consistent with T00 m−1 for all σ ∈ Σ. ThenT 00 m−1 |= σ(cm) for all σ ∈ Σ. There are L-formulas ψ1,...,ψk and constants c1,...,cN of L0 such that T00 m−1 = T ∪{ψj(c1,...,cN)| j = 1,...,k}(Choose N ≥ m so the new constants in T00 m−1 are among c1,...,cN. Choose variables z1,...,zN not occurring in T00 m−1 \ T. Let ψj be theresult of replacing ci by zi in the jth sentence of T00 m−1 \ T.). SoT ∪{ψj(c1,...,cN) | j = 1,...,k} |= σ(cm) for all σ ∈ Σ. Consider ϕ(zm) = ∃z1 ...∃zm−1∃zm+1 ...∃zN k Vj =1 ψj(z1,...,zN). Now ϕ(zm) is consistent with T, and T ∪{ϕ(zm)} |= σ(zm) for all σ ∈ Σ. Hence ϕ(x) is 69
consistent with T and T ∪{ϕ(x)}|= σ(x) for all σ ∈ Σ, contradicting the hypothesis that Σ is locally omitted. So, we can ﬁnally deﬁne Tm to be equal to the set T00 m−1 ∪{¬σ(cm)}, where σ ∈ Σ is chosen so that this set is satisﬁable. It is clear that this set Tm satisﬁes all of the conditions (a), (b), and (c). (Note that if m ≥ 1 and ϕm is in Tm, then ϕm must be in T0 m−1 , since otherwise ¬ϕm ∈ T0 m ⊆ Tm.) This completes the proof of the Theorem for a single partial 1-type. The proof can easily be modiﬁed to cover countably many partial types Σk(x1,...,xnk), k ≥1 (each locally omitted). Requirements (a) and (b) of the construction remain unchanged. For (c), enumerate all ﬁnite sequences α = (k,ci1,...,cink) where k ≥1, and ci1,...,cink are new constants. Then condition (c) becomes: For all m ≥ 1, Tm contains a formula ¬σ(ci1,...,cink) where σ ∈ Σk and α = (k,ci1,...,cink) is the mth sequence in the enumeration of all such sequences.   13.4. Remark. The Omitting Types Theorem can be rephrased topologically as follows: For each positive integer k, let Kk be a closed subset of Snk(T) that has empty interior in the logic topology. Then there is a countable model A of T that omits every type in the unionS{Kk | k ≥1}. Note that if we set K0 n =S{Kk | nk = n}, then we are omitting the unionS {K0 n | n ≥1}. Moreover, K0 n is a typical meager subset of Sn(T) for each n ≥1. 13.5. Remark. The Omitting Types Theorem (as stated here) is false for uncountable languages. An example of a partial 1-type that is locally omittedbyatheory, butnotomittedinanymodelofthattheoryisthefollowing: Let I be an uncountable set and let L be the language whose nonlogical symbols are the distinct constants{ci | i ∈ I}∪{dn | n ∈ N}. T has axioms ¬ci = cj for all i,j ∈ I,i 6= j. Now Σ(x) = {¬x = dn | n ∈ N} is locally omitted, but not omitted. Indeed, every model of T is uncountable, while any structure that omits Σ must be countable. 13.6. Deﬁnition. Let T be a satisﬁable theory and let Σ(x1,...,xn) be an n-type consistent with T. We say Σ(x1,...,xn) is principal (relative to T) if there is a formula ϕ(x1,...,xn) ∈ Σ(x1,...,xn) such that T |= ϕ(x1,...,xn)→ σ(x1,...,xn) holds for every formula σ(x1,...,xn)∈ Σ(x1,...,xn). We say that ϕ(x1,...,xn) is a complete formula in T if for every formula σ(x1,...,xn) in L, exactly one of the conditions T |= ϕ → σ,T |= ϕ →¬σ holds. 13.7. Remarks. Note that the n-type Σ(x1,...,xn) is principal iﬀ the singleton{Σ}is an open set in Sn(T). That is, principal n-types correspond to isolated points of Sn(T). If ϕ(x1,...,xn) is a complete formula in T, then there is a unique n-type Σ(x1,...,xn) that is consistent with T and contains ϕ(x1,...,xn), and this n-type is necessarily principal relative to T. Conversely, every principal 70
type relative to T is determined in this way by a formula that is complete in T.
For complete theories T in a countable language, the next result gives a characterization of those types that can be omitted in some model of T. 13.8. Theorem. Let T be a complete theory in a countable language and let Σ(¯ x) be an n-type consistent with T. Then Σ(¯ x) is principal if and only if it is realized in every model of T (if and only if it is realized in every countable model of T).
Proof. The second equivalence is a consequence of the Downward L¨owenheim-Skolem Theorem. We prove the ﬁrst equivalence. Let T be complete, L be countable and Σ(¯ x) an n-type consistent with T. If Σ is not principal, then T locally omits Σ (since Σ is maximal satisﬁable), so that Σ is omitted in some model of T by Theorem 13.3. Conversely, we need to prove that every principal type (relative to T) is realized in every model of T. Let Σ be a principal n-type, ϕ the complete formula determining Σ and let A |= T. We know that ϕ(¯ x) is consistent with T, hence ∃x1 ...∃xnϕ(x1,...,xn) is true in some model of T. Since T is complete, this implies that A |= ∃x1 ...∃xnϕ(x1,...,xn). Let a1,...,an satisfy ϕ in A. We have T ∪{ϕ} |= σ for all σ ∈ Σ, so that a1,...,an realizes Σ(x1,...,xn) in A.   13.9. Deﬁnition. We say that a structure A is atomic if every n-tuple in A satisﬁes a complete formula in Th(A). (Equivalently: A is an atomic model of T if every n-type realized in A is principal relative to Th(A).) 13.10. Fact. (a) If ϕ(¯x,y) is a complete formula in T, then so is ∃yϕ(¯x,y); (b) if A is an atomic model and a ∈ A, then (A,a) is also atomic. 13.11.Theorem. (a) If A and B are countable, atomic models, and A ≡ B, then A and B are isomorphic. (b) A countable atomic model is strongly ω-homogeneous.
Proof. (a) Let A and B be countable atomic models of T. The proof that A ∼ = B is done by a back-and-forth argument, where the key ingredient is homogeneity: Claim: If (A,a1,...,ak) ≡ (B,b1,...,bk) and if a ∈ A then there exists b ∈ B such that (A,a1,...,ak,a)≡(B,b1,...,bk,b). Using a familiar back-and-forth inductive argument, this is suﬃcient to build an isomorphism (noting that the roles of A and B can be interchanged.) Proof of the claim. tpA(a1,...,ak,a) is a (k + 1)-type consistent with T. Therefore it is principal (because A is atomic); say it is generated by the complete formula ϕ(x1,...,xk,y). We see that A |= 71
∃yϕ(¯x,y)[a1,...,ak]; our elementary equivalence hypothesis therefore implies B |= ∃yϕ(¯x,y)[b1,...,bk], so we can ﬁnd b ∈ B such that B |= ϕ[b1,...,bk,b]. Hence tpB(b1,...,bk,b) = tpA(a1,...,ak,a) and thus (A,a1,...,ak,a)≡(B,b1,...,bk,b.) This completes the proof of the claim, and therefore the proof of part (a). Part (b) follows immediately from part (a) and the fact that the structure (A,a1,...,an) is atomic whenever A is atomic. (See Fact 13.10.)
13.12. Deﬁnition. A model of a theory T is called a prime model of T if it can be elementarily embedded into each model of T.
13.13. Theorem. Let T be a complete theory in a countable language and let A be a model of T. Then A is a prime model of T if and only if A is countable and atomic.
Proof. We assume that the language considered here is countable. (⇐)Supposethemodel A ofthecompletetheory T iscountableandatomic. To show that A is prime we use the “forth” part of a “back-and-forth” construction: Let A = {a0,a1,a2,...}, and B be any model of T. Since A is atomic, there exists a complete formula ϕ0(x) satisﬁed in A by a0. Since ϕ0(x) is consistent with T, there exists a b0 ∈ B such that B |= ϕ0(b0). Because ϕ0(x) is a complete formula (with respect to T) we know that a0 has the same type (in A) that b0 has (in B). Next, let ϕ1(x,y) be a complete formula satisﬁed in A by a0,a1. Then T |= ϕ0(x) →∃yϕ1(x,y), since ϕ0 is complete; hence there exists b1 ∈ B such that B |= ϕ1(b0,b1). Continuing inductively in this way, we get a map f : A → B with f(an) = bn for each n ≥ 0. At each stage of the construction we can ensure that f is an elementary map on the set {a0,...,an}. Therefore it is an elementary map on its entire domain, which is all of A. Hence f is the desired elementary embedding of A into B. (⇒) Suppose A is a prime model of the complete theory T. Then A is necessarily countable as A can be elementarily embedded in every model of T, and T has countable models by the Downward L¨owenheim-Skolem Theorem. Let ¯ a ∈ A be an n-tuple. For any model B of T, we have anelementary embedding f : A → B. Hence B realizes tpA(¯ a). Since tpA(¯ a) is realized in every model of T it is principal (by Theorem 13.8). It follows that A is an atomic model.
For the rest of this chapter we consider the existence of atomic models. Note that if A is atomic, then so is every elementary substructure of A. Therefore, if T is a complete theory in a countable language and T has an atomic model, then it has a countable atomic model, by the Downward L¨owenheim-Skolem Theorem. 72
13.14. Theorem. Let T be a complete theory in a countable language L. Then T has an atomic model if and only if every L-formula that is consistent with T is an element of some principal type consistent with T. Proof. (⇒) Let A be an atomic model of T. If ϕ(x1,...,xn) is a formula consistent with T, then there exist a1,...,an ∈ A such that A |= ϕ[a1,...,an]. That is, ϕ(x1,...,xn) is a member of tpA(a1,...,an), which is principal, since A is an atomic model. (⇐) This direction uses the Omitting Types Theorem. For each n ≥1 let Σn(x1,...,xn) ={¬ϕ(x1,...,xn)| ϕ is a complete formula relative to T}. A model of T is atomic iﬀ it omits all of these partial types Σn. We use the Omitting Types Theorem to prove that there exists a model of T that omits all of these partial types. To apply this Theorem, we must show that Σn is locally omitted by T for each n ≥ 1. Fix n and assume Σn is not locally omitted. Then there exists a formula ψ(x1,...,xn) consistent with T such that for no σ ∈Σn is T ∪{ψ∧¬σ} satisﬁable; that is, T ∪{ψ}|= σ for all σ ∈ Σn. This means that for no complete formula ϕ(x1,...,xn) (relative to T) can the set T ∪{ψ ∧ϕ} be satisﬁable (by the way Σn was deﬁned). This violates our assumption on T; this contradiction shows that each Σn is locally omitted by T.
The next result gives a useful suﬃcient condition for the existence of an atomic model of a theory T in a countable language. 13.15. Theorem. Let T be a complete theory in a countable language, and suppose that for all n there are strictly fewer than continuum many diﬀerent n-types consistent with T. Then T has a countable atomic model.
Proof. We prove the contrapositive: If T has no atomic model, then for some n ≥ 1, T has at least 2ω distinct n-types. The proof is by a tree argument. Suppose T has no atomic model. Using Theorem 13.14, there exists n ≥1 and a formula ϕ(x1,...,xn) consistent with T such that ϕ(¯ x) is not in any principal n-type of T. That is, if τ(¯ x) is any formula such that ϕ(¯ x)∧τ(¯ x) is consistent with T, then τ is not complete relative to T. From this it follows that if ϕ(¯ x)∧τ(¯ x) is consistent with T then there is some further formula χ(¯ x) such that ϕ(¯ x)∧τ(¯ x)∧χ(¯ x) and ϕ(¯ x)∧τ(¯ x)∧¬χ(¯ x) are each consistent with T. This can be used to build a binary tree of formulas (with free variables among x1,...,xn) with the property that each branch of the tree is consistent with T, and distinct branches are inconsistent with each other. Each branch yields a nonempty closed subset of Sn(T), and these closed sets partition Sn(T). Since there are 2ω many branches, it will follow that Sn(T) has cardinality at least 2ω. 73
The partially ordered set used to index this binary tree will be denoted (Λ,≤). Here Λ = {0,1}<ω is the set of all ﬁnite sequences from {0,1}, including the empty sequence, which we denote by∅. For s,t ∈Λ, we write s ≤ t to mean that s is an initial subsequence of t. A typical position in the tree is indexed by an element s of Λ, and its immediate successors under ≤ are indexed by the sequences s0 and s1. We associate to each s ∈Λ an L-formula ψs(¯ x), proceeding by induction on the length of s. Each ψs(¯ x) will be consistent with T. Further, if s ≤ t, thenψ t(¯ x) will be the conjunction of ψs(¯ x) with some other formula. Finally, for any s ∈Λ, the formulas ψs0(¯ x) and ψs1(¯ x) will be logically inconsistent with each other; indeed, one of them will contain a conjunct whose negation is a conjunct of the other. At the top of the tree, s = ∅ and we set ψ∅(¯ x) equal to the formula ϕ(¯ x) that was identiﬁed at the beginning of this proof. Proceeding inductively, suppose we have deﬁned ψs(¯ x) and that this formula is consistent with T andistheconjunctionof ϕ(¯ x)withsomeotherformula. Asdiscussedabove, there exists a formula χs(¯ x) for which both ψs(¯ x)∧χs(¯ x) and ψs(¯ x)∧¬χs(¯ x) are consistent with T. We then deﬁne ψs0(¯ x) = ψs(¯ x)∧χs(¯ x) and ψs1(¯ x) = ψs(¯ x)∧¬χs(¯ x). Evidently this construction produces formulas satisfying the conditions in the previous paragraph.
As we go down a branch of the tree, we get a list of formulas ψs(¯ x) corresponding to the nodes on that branch. More precisely: For each function α : N → {0,1} set Σα(¯ x) = {ψα(0)α(1)...α(k) | k ≥ 0}.Each such set of formulas is a partial n-type consistent with T. Therefore, for each such α we may choose pα ∈ Sn(T) such that Σα ⊆ pα. If α 6= β then Σα ∪Σβ is not consistent with T. Indeed, if k is the least argumentatwhich α andβ disagreeandifs = α(0)...α(k−1), thenΣα∪Σβ will contain both ψs0(¯ x) and ψs1(¯ x), which are logically contradictory. It follows that pα 6= pβ whenever α,β are distinct functions fromNinto{0,1}. Hence the cardinality of Sn(T) is at least 2ω, as desired.   13.16. Corollary. Let T be a complete theory in a countable language. If T has a countable ω-saturated model, then T also has a countable atomic model.
Proof. If there exists a countable ω-saturated model of T, then by Theorem 6.2 there are only countably many types consistent with T. Hence T has a countable atomic model by Theorem 13.15 and the Downward L¨owenheimSkolem Theorem.
Exercises 13.17. Let T be a complete L-theory and let Σ be a partial n-type in L. If T has a model that omits Σ, show that Σ is locally omitted by T. 74
13.18. Let T be a complete L-theory and p ∈ Sn(T). Show that p is locally omitted by T iﬀ p is not an isolated point in the compact space Sn(T). 13.19. Let T be a complete theory in a countable language, with no ﬁnite models. Show that T has a countable atomic model iﬀ for each n ≥ 1 the set of isolated points is dense in the space Sn(T). 13.20. Let T be a complete theory in a countable language. For each positive integer k let Σk(¯ x) be a partial nk-type in L that is omitted in some model Ak of T. Show that there is a single countable model A of T that omits Σk(¯ x) for all k. 13.21. Let L be a countable language and let L0 be the result of adding countably many new predicate symbols {P1,P2,...} to L. Let T be a completetheoryinthelanguage L0 andletΓ(x1,...,xn)beasetofformulas in L. Let Tm be the set of sentences in T that contain Pn only for n = 1,...,m. Assumethatforeach m, Tm hasamodelthatomitsΓ(x1,...,xn). Show that T has a model that omits Γ(x1,...,xn). 13.22. Let T be a complete theory in a countable language and assume T has no ﬁnite models. Show that T is ω-categorical iﬀ T has a countable model that is both atomic and ω-saturated. 13.23. Let T be one of the following theories. (Each is a complete theory in a countable language, with no ﬁnite models.) + Equality on an inﬁnite set with inﬁnitely many named elements. (Example 3.16(ii), Exercise 10.1) + Inﬁnite vector spaces over a ﬁeld K. (Exercises 3.6, 5.4, 9.3, 10.3) + ACFp for a ﬁxed characteristic p. + Bijections without a ﬁnite cycle. (Problem 2.2, Exercise 10.2) + Discrete linear orderings without endpoints. (Example 5.6, Exercises 5.3, 9.4) + Discrete linear orderings with minimum but no maximum. (Problem 3.1) + Descending equivalence relations with inﬁnite splitting of classes. (Problem 4.1) + Dense linear orderings with increasing sequence of elements. (Problem 4.2) For each of these theories, do the following: • Show that T has a countable (inﬁnite) atomic model. • Try to describe the countable atomic model of T as a clear, speciﬁc mathematical structure. (According to Theorem 13.11, the countable inﬁnite atomic model of a complete theory is unique up to isomorphism, if such a model exists.) •For each principal n-type p that is consistent with T, try to give explicitly a complete formula contained in p.
75
14. ω-categoricity
In this chapter we consider ω-categorical theories in a countable language.
14.1. Theorem (Engeler, Ryll-Nardzewski, Svenonius). Let T be a complete theory in a countable language and suppose T has only inﬁnite models. The following conditions are equivalent: (1) T is ω-categorical; (2) For each positive integer n, every n-type consistent with T is principal; (3) For each positive integer n, there are only ﬁnitely many n-types consistent with T; (4) For each positive integer n and x = x1,...,xn, there are ﬁnitely many formulas ϕ1(x),...,ϕkn(x) such that each formula σ(x) is equivalent in T to ϕj(x) for some j = 1,...,kn.
Proof. Let T be a complete theory in a countable language. We will show (1)⇒(2)⇒(3)⇒(4)⇒(1). (1) ⇒ (2): If T is ω-categorical, then any two countable models of T are isomorphic and hence realize the same types. Therefore, no type consistent with T is omitted from any model of T. This implies that all types are principal. (2) ⇒ (3): Fix n ≥ 1. We argue by contradiction. Assume that all n-types consistent with T are principal and that there are inﬁnitely many n-types consistent with T. Each of them is determined by a complete formula, so there exist inﬁnitely many complete formulas ϕ1(x1,...,xn),ϕ2(x1,...,xn),... in L that are pairwise inequivalent in T. Since each ϕi(x1,...,xn) is a complete formula, we have T ∪{ϕi}|= ¬ϕj whenever i 6= j. Take {ϕi} to be a maximal list of inequivalent complete formulas; we have T ∪{¬ϕi | i ≥ 1} is inconsistent. (Every type is principal, so every tuple in every model of T satisﬁes a complete formula.) By the Compactness Theorem, thereissome N ∈Nsuchthat T∪{¬ϕ1,...,¬ϕN}isinconsistent, i.e. T |= ϕ1 ∨...∨ϕN. But T ∪{ϕN+1} is satisﬁable and implies ¬(ϕ1 ∨ ...∨ϕN). This contradiction implies that there can only be ﬁnitely many ϕi. (3) ⇒ (4): Fix n ≥ 1. Let t1,...,tN be a list of all the n-types consistent with T. It is an elementary fact that if ϕ1,ϕ2 are formulas and if for all types t consistent with T we have ϕ1 ∈ t ⇔ ϕ2 ∈ t, then T |= ϕ1 ↔ ϕ2. For each formula ϕ(x1,...,xn), let F(ϕ) = {j | ϕ ∈ tj,j = 1,...,N}. If F(ϕ1) = F(ϕ2) then T |= ϕ1 ↔ ϕ2. There are only ﬁnitely many distinct sets of the form F(ϕ) and hence there are only ﬁnitely many inequivalent formulas (relative to T) in the variables x1,...,xn. (4) ⇒ (1): We use (4) to show that every model of T is atomic. The ω-categoricity of T follows using Theorem 13.11. 76
Assume ϕ1(x1,...,xn),...,ϕk(x1,...,xn) are the ﬁnitely many formulas given by condition (4) (where x1,...,xn = x1,...,xn and k depends on n.) Given any A |= T and a1,...,an ∈ A, we want to ﬁnd a complete formula ϕ such that A |= ϕ[¯ a]. Consider ψ(x1,...,xn) = ^ A|=ϕj[¯ a] ϕj(x1,...,xn)∧ ^ A|=¬ϕj[¯ a] ¬ϕj(x1,...,xn) Clearly A |= ψ(x1,...,xn)[a1,...,an] (by the way ψ was deﬁned). We claim that ψ is a complete formula relative to T. To see this, consider an arbitrary formula ϕ(x1,...,xn); there is a j such that T |= ϕ ↔ ϕj. So either ϕ(x1,...,xn) is implied by T ∪{ψ} or ¬ϕ(x1,...,xn) is implied by T ∪{ψ}. But this implies that the type of (a1,...,an) in A is principal, and hence that every model of T is atomic.   14.2. Remark. Let A be a countable structure for a countable ﬁrst order language and suppose T = Th(A) is ω-categorical. Let G be the automorphism group of A, acting coordinatewise on An for each n ≥1. Then G has only ﬁnitely many distinct orbits on An for each n. This is an immediate consequence of condition (3) in Theorem 14.1 and the fact that the unique countablemodelofan ω-categoricaltheoryisstrongly ω-homogeneous. (See Theorems 6.2 and 12.5 or, alternatively, Theorem 13.11 and the existence results for atomic models later in Section 13.) Inﬁnite permutation groups of this kind have turned out to be very interesting; they are treated in the book Oligomorphic Permutation Groups by Peter Cameron. The next result gives a suﬃcient condition for Th(A) to be ω-categorical that is based on automorphism group considerations of this kind. 14.3. Theorem. Let L be a countable language, let A be any L-structure, and T = Th(A). If G = Aut(A) has only ﬁnitely many orbits on An for each n ≥1, then T is ω-categorical. Proof. Let A satisfy the given hypotheses. We will show that A realizes every type that is consistent with T. The automorphism condition on A implies that A can only realize ﬁnitely many n-types for each n. Therefore T is ω-categorical since it satisﬁes condition (3) of Theorem 14.1. So, let Σ(x1,...,xn) be any n-type consistent with T. Given σ(x1,...,xn) ∈ Σ(x1,...,xn), T |= ∃x1 ...∃xnσ(x1,...,xn) (since T is complete), hence there is ¯ a ∈ An with A |= σ[¯ a]. Let F ⊆ An be a ﬁniteset that selects one n-tuple from each orbit under the action of G. The ¯ a satisfying σ in A can be taken from F. Suppose Σ(x1,...,xn) is not realized in A. For each ¯ a ∈ F we get σ¯ a ∈Σ(x1,...,xn) such that A |=¬σ¯ a[¯ a]. Consider σ(x1,...,xn) = V ¯ a∈F σ¯ a ∈ Σ. There is some ¯ b ∈ F satisfying σ(x1,...,xn) in A. However, this implies that ¯ b satisﬁes ¬σ¯ b since it is a conjunct of σ. This is a contradiction.   77
14.4. Example. Let A = (Q,<). We will show directly (using additional structure on Q) that G = Aut(A) has only ﬁnitely many orbits on Qn for each n. The main idea is the following: given q0 < q1 < ... < qn in Q, there is g ∈ G such that g(k) = qk for k = 0,...,n. Indeed, we may deﬁne g by:
g(r) =
                
r + q0, for r < 0 rq1 −(r−1)q0, for 0≤ r < 1 . . . . . . (r−k)qk+1 −(r−k−1)qk, for k ≤ r < k +1 . . . . . . r + qn −n, for n ≤ r. This construction together with Theorem 14.3 proves that Th(Q,<) is ωcategorical. (However, this proof does not show, as does Cantor’s back and forth argument, that the theory of (Q,<) is axiomatized by the sentence asserting that it is a dense linear ordering without endpoints.) 14.5. Fact. Let T be an ω-categorical complete theory in a countable language. (a) If A is any model of T and a1,...,an ∈ A, then Th(A,a1,...,an) is ω-categorical. (b) If A is any model of T and if B is any structure for any countable language such that the universe of B and all of its interpretations of predicate symbols and function symbols are 0-deﬁnable in A, then Th(B) is also ω-categorical. (The universe of B is allowed to be a set of n-tuples from the universe of A.) In particular, any restriction of T to a smaller language is ω-categorical. 14.6. Theorem (Vaught). Let T be a complete theory in a countable language. If T is not ω-categorical, then T has at least 3 nonisomorphic countable models.
Proof. Suppose that the number of nonisomorphic countable models of T is countable (possibly inﬁnite). Then T has at most countably many n-types for all n ≥1 (as countably many countable models realize all the types that can be realized.) Then by Theorem 13.15, T has a countable atomic model A and by Theorem 6.2, T has a countable ω-saturated model B. If A ∼ = B then every type consistent with T is realized in A and hence is principal, so T is ω-categorical, by Theorem 14.1. So we assume that A 6∼ = B. For some n ≥ 1 there exists at least one n-type Σ( x1,...,xn) that is consistent with T and is not principal. Then B realizes Σ(x1,...,xn) and A doesn’t. Let b1,...,bn realize Σ(x1,...,xn) in B and let T0 = Th(B,b1,...,bn) in L(b1,...,bn). Note that T0 cannot satisfy condition (4) of Theorem 14.1, since T does not satisfy this condition. Indeed, any L-formulas that are inequivalent in T will remain inequivalent in T0. So T0 has at least two nonisomorphic 78
countablemodels. Let(C,c1,...,cn)beamodelof T0 thatisnotisomorphic to (B,b1,...,bn). Then A 6∼ = C, since C realizes Σ and A doesn’t. Moreover, B 6∼ = C, since B is ω-saturated and C isn’t; otherwise, by Theorem 12.6, (B,b1,...,bn) and (C,c1,...,cn) would be isomorphic.
Quite a lot is known about the countable models of a complete theory in a countable language, and this topic has been an active one in research in model theory up to the present day. However, the following diﬃcult problem is still open: Vaught’s Conjecture: Let T be a complete theory in a countable language. If T has an uncountable number of nonisomorphic countable models then T has continuum many nonisomorphic countable models.
79
15. Skolem Hulls
Let L be a ﬁrst order language and T an L-theory. We say that T has Skolem functions if for every L-formula ϕ(x1,...,xn,y) there is an n-ary function symbol f in L such that T |=∀x1 ...∀xn∃yϕ(x1,...,xn,y)→ ϕ(x1,...,xn,f(x1,...,xn)). Note that if T has Skolem functions, then so does any extension of T in the same language. In particular, every completion of T has Skolem functions. Note also that L must contain a constant symbol (apply the deﬁnition to the formula ∃y(y = y)). 15.1. Proposition (Skolemization). Let L be a ﬁrst order language and T an L-theory. There exists a ﬁrst order language L0 ⊇ L and an L0-theory T0 ⊇ T with the following properties: (a) T0 has Skolem functions; (b) Every model of T has an expansion to a model of T0; (c) L0 has the same cardinality as L.
Proof. Inductively build an increasing sequence of ﬁrst order languages (Lk | k ∈ N) with L0 = L and an increasing sequence of theories (Tk | k ∈ N) with T0 = T, such that Tk an Lk-theory for each k ≥ 1. To obtain Lk+1 from Lk we add a new function symbol fϕ for each Lkformula ϕ(x1,...,xn,y); to obtain Tk+1 from Tk add all sentences of the form ∀x1 ...∀xn∃yϕ(x1,...,xn,y)→ ϕ(x1,...,xn,fϕ(x1,...,xn)).Finally, let L0 be the union of all the languages Lk and let T0 be the union ∪{Tk | k ∈N}. To prove (a), we note that each formula of L0 is an Lk-formula for some k. To prove (b), we see that each Lk-structure that is a model of Tk can be expanded to an Lk+1-structure that is a model of Tk+1, using the axiom of choice to interpret each new function symbol appropriately. To prove (c), we note that in constructing Lk+1 from Lk, we added one new symbol for each Lk-formula; hence card(Lk+1) = card(Lk) for each k ∈N. It follows that card(L0) = card(L0) = card(L).   15.2. Remark. Any theory T0 satisfying the conditions in Proposition 15.1 will be called a Skolemization of T. From condition 15.1(b) it follows that any Skolemization of T is a conservative extension of T. (Proof: Suppose σ is an L-sentence such that T0 |= σ. If A is any L-structure that is a model of T, then A has an expansion to an L0-structure A0 that is a model of T0. It follows that A0 |= σ and hence also A |= σ. Thus T |= σ.) 15.3. Proposition. Let T be a theory that has Skolem functions. Then T admits quantiﬁer elimination. Moreover, if A is a model of T and X ⊆ A, 80
then the substructure of A generated by X is an elementary substructure of A.
Proof. Suppose ϕ(x1,...,xn,y) is any formula in the language of T. Since T has Skolem functions there is a function symbol f such that T |=∀x1 ...∀xn(∃yϕ(x1,...,xn,y)→ ϕ(x1,...,xn,f(x1,...,xn))). Butthisimpliesthat∃yϕ(x1,...,xn,y)and ϕ(x1,...,xn,f(x1,...,xn))are equivalent in all models of T. Lemma 8.4 yields that T admits QE. Let hXiA be the substructure of A generated by X (it is nonempty since L has constants). The Tarski-Vaught test yields that hXiA is an elementary substructure of A. Indeed, suppose ψ(x1,...,xn,y) is a formula in the language of T and a1,...,an are in hXiA and satisfy A |= ∃yψ(x1,...,xn,y)[a1,...,an]. Since T has Skolem functions, its language has a function symbol f such that A |= ψ(x1,...,xn,y)[a1,...,an,fA(a1,...,an)]. Since fA(a1,...,an) is in hXiA, we see that this substructure satisﬁes the criterion in Theorem 3.8.   15.4. Deﬁnition. Let T be a theory that has Skolem functions and let A be a model of T. For any subset X of A, the substructure of A generated by X (denoted hXiA) is called the Skolem hull of X in A. Note that if T is a theory that has Skolem functions, A |= T, and X ⊆ A, then hXiA = aclA(X). The containment ⊆ is true for every structure A and X ⊆ A. The opposite containment follows from the fact that hXiA is an elementary substructure of A and contains X. 15.5. Proposition. Let T be a theory that has Skolem functions and let A,B be models of T. Suppose f: X → Y is an elementary map with respect to A,B (so X ⊆ A and Y ⊆ B). Then f extends to an elementary embedding from the Skolem hull hXiA into hYiB, and such an extension is unique. Moreover, if f(X) = Y then this extension is an isomorphism. Proof. The existence of an extension of f to an embedding of hXiA into hYiB follows from Lemma 3.14. This is an elementary embedding because hXiA andhYiB aremodelsof T, whichadmitsQE.Uniquenessisimmediate from the fact that every element of hXiA is the value of an L(X) term in A. If f(X) = Y, then we may reverse the roles of X and Y and apply the same argument to f−1: Y → X, and the extensions of f and f−1 will be inverses of each other.
81
16. Indiscernibles
16.1. Deﬁnition. Let A be an L-structure, (I,<) a linear ordering, and (ai | i ∈ I) a family of elements of A. We say (ai | i ∈ I) is a family of ordered indiscernibles (with respect to the ordering < on I and the structure A) if it has the following property: for any L-formula ϕ(x1,...,xn) and any two increasing sequences i1 < ••• < in and j1 < ••• < jn from (I,<), we have the equivalence A |= ϕ[ai1,...,ain] ⇔ A |= ϕ[aj1,...,ajn]. Note that if (ai | i ∈ I) is indiscernible in A and there exist distinct i,j ∈ I for which ai = aj, then ai = aj holds for all i,j ∈ I. (Apply the deﬁnition to the formula x = y.) 16.2. Proposition. Let T be a theory with an inﬁnite model. There exists a model A of T and a nonconstant sequence (ak | k ∈N) that is an sequence of ordered indiscernibles in A.
Proof. Let L be the language of T; let L0 be the language obtained from L by adding a family (ck | k ∈ N) of distinct constants. Let T0 be the L0-theory consisting of T together with all the sentences ck 6= cl for distinct k,l ∈ N, and all the sentences ϕ(ci1,...,cin)↔ ϕ(cj1,...,cjn)where ϕ(x1,...,xn) is any L-formula and i1 < ••• < in and j1 < ••• < jn are sequences from N. (We will refer to these last sentences as the “indiscernibility axioms” in T0.) If B is a model of T0 and A is the reduct of B to L, then (cB k | k ∈ N) isevidently a nonconstant sequence of ordered indiscernibles in A. Hence it suﬃces to show that T0 has a model, which we do using the Compactness Theorem. Let A be any inﬁnite model of T and let α: N→ A be any 1-1 function. Let Σ be any ﬁnite subset of T0. Let F be the set of k ∈Nsuch that ck occurs in some member of Σ. Let ψ1,...,ψm be all the indiscernibility axioms that occur in Σ. We may assume that there exist L-formulas ϕj(x1,...,xn) such that for each j = 1,...,m the sentence ψj is logically equivalent to ϕj(ci1,...,cin)↔ ϕj(cj1,...,cjn).for some sequences i1 < ••• < in and j1 < ••• < jn from F. We now deﬁne a coloring function C: [N]n → P({1,...,m}), to which we will apply Ramsey’s Theorem. Namely, for each i1 < ••• < in from N we take C(i1,...,in) to be the set of all j ∈ {1,...,m} such that A |= ϕj[α(i1),...,α(in)]. By Ramsey’s Theorem there is an inﬁnite set H ⊆N that is homogeneous for C; that is, C(i1,...,in) = C(j1,...,jn) whenever i1 < ••• < in and j1 < ••• < jn are sequences from H. Let g: F → H be any increasing function. We obtain a model of Σ by using A to interpret the symbols of L and by interpreting ck as α(g(k)) for 82
each k ∈ F. (The other ck do not occur in Σ.) This shows that every ﬁnite subset of T0 has a model.
16.3. Remark. It is sometimes useful to extend the previous result in the following way. Suppose ϕ(x,y) is an L-formula and A is a model of T with an inﬁnite subset S ⊂ A such that {(a,b) ∈ S2 | A |= ϕ[a,b]} is a linear ordering on S. By taking an elementary extension if necessary, we may assume that there is a function α: N→ A such that A |= ϕ[α(k),α(l)] for all k < l in N. Using this function in the above proof yields a nonconstant sequence of ordered indiscernibles (ak | k ∈ N) in a model of T such that ϕ(ak,al) holds for k,l ∈N if and only if k < l. 16.4. Deﬁnition. Let (ai | i ∈ I) be a sequence of ordered indiscernibles in A, with I inﬁnite, and let (xk | k ∈ N) be a ﬁxed sequence of distinct variables. The type of (ai | i ∈ I) in A is the set of all L-formulas ϕ(x1,...,xn) such that A |= ϕ[ai1,...,ain] for every (equivalently, some) sequence i1 < ••• < in from (I,<). 16.5. Proposition. Let (ai | i ∈ I) be a sequence of ordered indiscernibles in A, with I inﬁnite, and let (J,<) be another inﬁnite linear ordering. There exists B ≡ A and a sequence of ordered indiscernibles (bj | j ∈ J) in B having the same type as (ai | i ∈ I). Proof. An easy application of the Compactness Theorem.
Ehrenfeucht-Mostowski Models
We combine the construction of indiscernible sequences with the Skolem hulls that were discussed in the previous chapter to produce models that have a large group of automorphisms and models that realize few types. The starting point is a complete theory T in a ﬁrst order language L. We suppose T has inﬁnite models. Let T0 be a Skolemization of T, in the language L0. Take any inﬁnite model A of T0 with a nonconstant sequence of ordered indiscernibles (ak | k ∈N) and let Φ be the type of this sequence in A. We will refer to such a Φ as the type of a nonconstant sequence of ordered indiscernibles in a model of a Skolemization T0 of T. Given such a Φ, we construct a model of T0 for each inﬁnite ordered set (I,<), which we will denote as Φ(I,<). To do this, let B be a model of T0 and (bi | i ∈ I) a sequence of ordered indiscernibles that has type Φ in B. Take Φ(I,<) to be the Skolem hull of {bi | i ∈ I} in B. Since Φ contains the formula x1 6= x2, we may take bi = i with no loss of generality; that is, we may take Φ(I,<) to be generated by I as an L0-structure. Note that this construction is canonical. Suppose (ci | i ∈ I) is another sequence of ordered indiscernibles that has type Φ in another model C. Let X = {bi | i ∈ I} and Y = {ci | i ∈ I} and consider the map f: X → Y deﬁned by f(bi) = ci for all i ∈ I. Since these indiscernible sequences have 83
the same type, f is an elementary map with respect to B,C. Therefore, by Proposition 15.5, f extends to an isomorphism from hXiB onto hYiC. Using a similar idea we can make this construction functorial. Suppose (I,<) and (J,<) are inﬁnite linear orderings, that (bi | i ∈ I) has type Φ in B and that (ci | j ∈ J) has type Φ in C. For each order preserving function F : I → J we consider F as a map from {bi | i ∈ I} to {cj | j ∈ J} by taking each bi to cF(i). Since these indiscernible sequences have the same type, this deﬁnes an elementary map with respect to B,C. Therefore it extends in a unique way to an elementary embedding of the Skolem hulls, by Proposition 15.5. We denote this extension by Φ(F). To summarize, our construction yields the following: for each inﬁnite linear ordering (I,<) we have a model Φ(I,<) of the Skolemization T0 of T; this model is generated as an L0-structure by the set I, and (I,<) itself is a sequence of ordered indiscernibles in Φ(I,<). Moreover, for each order preserving map F : (I,<) → (J,<) of inﬁnite linear orderings, we have an elementary embedding Φ(F) from Φ(I,<) into Φ(J,<) that extends F. Finally, this is functorial; that is, Φ maps the identity function on (I,<) to the identity on Φ(I,<), and satisﬁes Φ(F)◦Φ(G) = Φ(F ◦G) whenever F,G are order preserving maps that can be composed. We give two applications of this construction. 16.6. Corollary. Let T be an L-theory with inﬁnite models. For any cardinal κ such that card(L) ≤ κ there is a model A of T such that A has cardinality κ and A has 2κ automorphisms (which is the maximum possible number).
Proof. LetΦbethetypeofanonconstantsequenceoforderedindiscernibles in a model of a Skolemization T0 of T, such that the language of T0 has the same cardinality as L. Let I = κ×Z with the lexicographic ordering (α,m) < (β,n) iﬀ (α < β or (α = β and m < n)). Note that Φ(I,<) has cardinality κ, since it is generated by a set of cardinality κ in a language of cardinality at most κ. Note that (I,<) has 2κ many automorphisms. (For each function ϕ: κ →{0,1}, the map taking (α,n) to (α,n + ϕ(α)) is an automorphism of (I,<).) Also, we know that each automorphism of (I,<) extends to an automorphism of Φ(I,<). Therefore the reduct of Φ(I,<) to L is a model of T of cardinality κ that has 2κ many automorphisms.
16.7. Corollary. Let L be a countable ﬁrst order language and let T be a complete L-theory with inﬁnite models. For every inﬁnite cardinal κ, there is a model A of T such that A has cardinality κ but for every countable subset C ⊆ A and every n ≥1, only countably many n-types are realized in (A,a)a∈C.
Proof. LetΦbethetypeofanonconstantsequenceoforderedindiscernibles in a model of a Skolemization T0 of T (so the language of T0 is countable). 84
Let A = Φ(κ,<). Then the reduct of A to L is a model of T of cardinality κ. We will show it satisﬁes the condition in this Corollary. Let C be a countable subset of A. For each a ∈ C there is an L0-term ta and a ﬁnite sequence sa from κ such that a is the value of ta(sa) in A. Let S be the subset of κ consisting of all ordinals that occur in sa for some a ∈ C. Since C is countable and each sa is ﬁnite, we see that S is countable. Suppose X,Y are subsets of κ that contain S, and that f: X → Y is order preserving and is the identity on S. By Proposition 15.5, f has a unique extension to an elementary map from hXiA to hYiA, which we denote by ˜ f. Both of these Skolem hulls are elementary substructures of A. Since f is the identity on S, its extension is the identity onhSiA, which contains C. Therefore, for any tuple a1,...,an in hXiA, the types realized by (a1,...,an) and by (˜ f(a1),..., ˜ f(an)) in (A,a)a∈C are the same. Suppose α1,...,αn and β1,...,βn are sequences of the same length from κ; we will say that these sequences are S-equivalent if there is an order preserving map that is the identity on S and takes αj to βj for each j = 1,...,n. Since S is countable, there exists a countable subset X of κ such that any ﬁnite sequence in κ is S-equivalent to some sequence in X. (To S we need to add at most ω many ordinals from each cut in κ that is determined by S.) Note that hXiA is countable. Let (a1,...,an) be any n-tuple from A. For each j = 1,...,n, let tj be an L0-term and sj a ﬁnite sequence from κ such that aj is the value of tj(sj) in A. Let α1,...,αp be the ordinals that occur in the sequences s1,...,sn. Let β1,...,βp be S-equivalent to α1,...,αp with βi ∈ X for all i = 1,...,p, and let f be an order preserving map that is the identity on S and takes αi to βi for each i. Then ˜ f(aj) is an element of hXiA for each j = 1,...,n.Moreover, as noted above, ( a1,...,an) and (˜ f(a1),..., ˜ f(an)) realize the same type in (A,a)a∈C. Since hXiA is countable, this shows that for any countable C ⊆ A, only countably many n-types are realized in the L0(C)-structure (A,a)a∈C. Hence the same is true if we replace A by its reduct to L.
85
17. Morley rank and ω-stability
In this chapter T is a complete L-theory. Also, x and y denote ﬁnite tuples of variables, x = x1,...,xm and y = y1,...,yn; we will write ∀x instead of ∀x1 ...∀xm, and similarly for ∃x and other strings of variables. If A is an L-structure and ϕ(x) is an L(A)-formula, we will use the canonical interpretation of ϕ(x) in A (which corresponds to interpreting ϕ(x) in (A,a)a∈A). 17.1.Deﬁnition. Wedeﬁnearelation“RMx(A,ϕ(x))≥ α”, where A |= T, ϕ(x) is an L(A)-formula, and α is an ordinal; the deﬁnition is by induction on α. (1) RMx(A,ϕ(x))≥0 iﬀ A |=∃xϕ(x); (2) RMx(A,ϕ(x))≥ α +1 iﬀ there is an elementary extension B of A and a sequence (ϕk(x)| k ∈N) of L(B)-formulas such that (a) B |=∀xϕk(x)→ ϕ(x)for all k ∈N; (b) B |=∀x¬ϕk(x)∧ϕl(x)for all distinct k,l ∈N; and (c) RMx(B,ϕk(x))≥ α for all k ∈N;(3) for λ a limit ordinal, RMx(A,ϕ(x)) ≥ λ iﬀ RMx(A,ϕ(x)) ≥ α for allα < λ . 17.2. Lemma. Suppose A |= T and ϕ(x) is an L(A)-formula. Let S be the set of ordinals α such that RMx(A,ϕ(x)) ≥ α holds. Then exactly one of the following alternatives holds: (1) S is empty; (2) S is the class of all ordinals; (3) S ={α | α is an ordinal and α ≤ γ} for some ordinal γ.
Proof. The main point is to show, by induction on the ordinal α, that if RMx(A,ϕ(x))≥ α and α > β ≥0, then RMx(A,ϕ(x))≥ β. The key step in this induction is when α is a successor ordinal. Assume RMx(A,ϕ(x))≥ α+1. Then we get an elementary extension B of A and a sequence (ϕk(x)| k ∈N)of L(B)-formulasasinclause(2)ofDeﬁnition17.1. Bytheinduction assumption we have that RMx(B,ϕk(x)))≥0 for each k, so each ϕk(x) is satisﬁablein B. Itfollowsthat ϕ(x)isalsosatisﬁablein B, andhencealsoin A, since ϕ(x) is an L(A)-formula and A B. Therefore RMx(A,ϕ(x))≥0. If β +1 < α +1, then β < α, so by the induction hypothesis we have that RMx(B,ϕk(x)))≥ β for each k. Therefore RM(A,ϕ(x))≥ β +1. Finally, if β is a limit ordinal < α, we have (from the induction hypothesis and the successor ordinal case just treated) RM(A,ϕ(x)) ≥ δ for every δ +1 < β. But this implies RM(A,ϕ(x))≥ β, since β is a limit ordinal. From the ﬁrst part of this proof, we have that S is an initial segment of the ordinals. If it is not the class of all ordinals, then it equals {α | α < β}, where β is the least ordinal not in S. If S is nonempty, β must be a successor ordinal, since S is closed upwards under limits by Deﬁnition 17.1(3). Condition (3) holds when γ is the predecessor of β.   86
The previous result allows us to deﬁne a value for “RMx(A,ϕ(x))” in the following natural way; this is called the Morley rank of ϕ(x). 17.3. Deﬁnition (Morley rank). Let A be a model of T and let ϕ(x) be an L(A)-formula. If RMx(A,ϕ(x)) ≥ α is false for all ordinals α, then we write RMx(A,ϕ(x)) =−∞. If RMx(A,ϕ(x))≥ α holds for all ordinals α, then we write RMx(A,ϕ(x)) = +∞. Otherwise we deﬁne RMx(A,ϕ(x)) to be the greatest ordinal α for which RMx(A,ϕ(x)) ≥ α holds. To indicate that RMx(A,ϕ(x)) is an ordinal we write 0≤ RMx(A,ϕ(x)) < +∞ or we say that the L(A)-formula ϕ(x) is ranked. 17.4. Lemma. Let A is a model of T and ϕ(x,y) an L-formula. If a is a ﬁnite tuple of elements of A, then the value of RMx(A,ϕ(x,a)) depends only on tpA(a).
Proof. Let ϕ(x,y) be an L-formula. It suﬃces to prove for each ordinal α that the truth of the relation “RMx(A,ϕ(x,a)) ≥ α” only depends on tpA(a). We do this by induction on α. The initial step α = 0 and the induction step when α is a limit ordinal are trivial. So, suppose the statement of the Lemma holds for all ordinals α < β +1. For j = 1,2, let Aj be a model of T and aj a ﬁnite tuple from Aj, and assume that tpA1(a1) = tpA2(a2). We assume RMx(A1,ϕ(x,a1)) ≥ β +1 and need to prove RMx(A2,ϕ(x,a2))≥ β +1. The assumption yields an elementary extension B1 of A1, a sequence (ϕk(x,zk) | k ∈ N) of L-formulas and, for each k ∈ N, a ﬁnite tuple bk from B1 such that the formulas (ϕk(x,bk) | k ∈ N) witness that RMx(A1,ϕ(x,a1))≥ β +1. That is: (a) B1 |=∀xϕk(x,bk)→ ϕ(x,a1)for all k ∈N; (b) B1 |=∀x¬ϕk(x,bk)∧ϕl(x,bl)for all distinct k,l ∈N; and (c) RMx(B1,ϕk(x,bk))≥ β for all k ∈N. Now let B2 be any ω-saturated elementary extension of A2. We know that tpB1(a1) = tpB2(a2). Since B2 is ω-saturated, wemayconstructinductively a sequence (ck | k ∈N) of ﬁnite tuples from B2 such that for all k ∈N tpB2(a2c0 ...ck) = tpB1(a1b0 ...bk). It follows that (a) B2 |=∀xϕk(x,ck)→ ϕ(x,a2)for all k ∈N; (b) B2 |=∀x¬ϕk(x,ck)∧ϕl(x,cl)for all distinct k,l ∈N; and (c) RMx(B2,ϕk(x,ck))≥ β for all k ∈N. (Statements (a) and (b) are immediate; for (c) we use the induction hypothesis.) That is, the formulas (ϕk(x,ck) | k ∈ N) and the model B2 witness that RMx(A2,ϕ(x,a2))≥ β +1.   17.5. Notation. Let ϕ(x,y) be an L-formula and a a tuple of elements of a model A of T. We will write RM(ϕ(x,a)) in place of RMx(A,ϕ(x,a)), as long as the type tpA(a) and the tuple of variables x are understood. 87
17.6. Lemma. Let A be an ω-saturated model of T and let ϕ(x) be an L(A)-formula. In applying Deﬁnition 17.1, in the clause deﬁning RMx(A,ϕ(x)) ≥ α + 1 one may take the elementary extension B to be A itself.
Proof. Exactly like the argument for the successor ordinal induction step in the proof of Lemma 17.4.   17.7. Lemma (Properties of Morley rank). Let A be a model of Tand let ϕ(x),ψ(x) be L(A)-formulas. (1) RM(ϕ(x)) = 0 iﬀ the number of tuples u ∈ A for which A |= ϕ(u) is ﬁnite and > 0; (2) if A |=∀xϕ(x)→ ψ(x), then RM(ϕ(x))≤ RM(ψ(x)); (3) RM(ϕ(x)∨ψ(x)) = max(RM(ϕ(x)),RM(ψ(x)); (4) if 0 ≤ β < RM(ϕ(x)) < +∞, then there exists an elementary extension B of A and an L(B)-formula χ(x) such that B |= χ(x) → ϕ(x) and RM(χ(x)) = β.
Proof. (1) Note that if ϕ(x) is satisﬁed in A by inﬁnitely many distinct values of x, say by (uk | k ∈ N), then the formulas ϕk(x,uk) that express x = uk have Morley rank ≥0 and thus witness that ϕ(x) has Morley rank ≥1. (2) One proves by induction on the ordinal α that if A |=∀xϕ(x)→ ψ(x) and RM(ϕ(x))≥ α, then RM(ψ(x))≥ α. (3) Since A |=∀xϕ(x)→(ϕ(x)∨ψ(x)), part (2) yields that RM(ϕ(x))≤ RM(ϕ(x)∨ψ(x)). Likewise, RM(ψ(x)) ≤ RM(ϕ(x)∨ψ(x)), so we have max(RM(ϕ(x)),RM(ψ(x))) ≤ RM(ϕ(x)∨ ψ(x)). To get the reverse inequality, one proves by induction on the ordinal α that RM(ϕ(x)∨ψ(x))≥ α implies RM(ϕ(x))≥ α or RM(ψ(x))≥ α. (4) Let F be all formulas ψ(x) with parameters from an elementary extension B of A such that ψ(x) → ϕ(x) is valid in B. Suppose β is an ordinal that is not the Morley rank of any formula in F. Therefore, if ψ(x) is any such formula and RM(ψ(x))≥ β, one has RM(ψ(x))≥ β +1. Now prove by induction on the ordinal α that if ψ(x) ∈ F and RM(ϕ(x)) ≥ β, then one has RM(ψ(x)) ≥ α. From this it follows that no ordinal ≥ α is the Morley rank of a formula in F. Statement (4) follows immediately from this result.   17.8. Remark. Part (4) of the previous result shows that the ordinals that occur as Morley ranks of formulas ϕ(x,a) form an initial segment of the class of all ordinals. Moreover, the number of such ordinal ranks is ≤ κ, where κ is the maximum of the number of types of ﬁnite tuples (over the empty set) in models of T and the cardinality of L. Since every type is a set of L-formulas, κ ≤ 2card(L). Therefore, there exists an ordinal αT < (2card(L))+ such that the set of ordinal Morley ranks is exactly the set of ordinals < αT. 88
17.9. Lemma (Morley degree). Let A be a model of T and ϕ(x) a ranked L(A)-formula. There exists a ﬁnite bound on the integers k such that there exists an elementary extension B of A and L(B)-formulas (ϕj(x)|0≤ j < k) that satisfy the conditions (a) RM(ϕj(x)) = RM(ϕ(x)) for all j < k; (b) B |=∀xϕj(x)→ ϕ(x)for all j < k; (c) B |=∀x¬ϕi(x)∧ϕj(x)for all distinct i,j < k. Moreover, the maximum value of k depends only on tpA(a). If A is ωsaturated, a sequence of such formulas with maximal k can be found for B equal to A itself.
Proof. Let A be a model of T, ϕ(x,y) an L-formula, and a a tuple from A; assume RM(ϕ(x,a)) = α is an ordinal. Suppose B is an elementary extension of A and (ϕj(x) | 0 ≤ j < k) is a sequence of L(B)-formulas that satisfy conditions (a),(b),(c) in the statement of the Lemma. For each 0 ≤ j < k, let ψj(x,yj) be an Lformula and bj a ﬁnite tuple from B such that ϕj is ψ(x,bj). The fact that conditions (a),(b),(c) hold is equivalent to a property of the type realized by a,b0,...,bk−1 in B. (For clause (a) we apply Lemma 17.4.) Therefore, the existence of B and k such formulas (ϕj(x)|0≤ j < k) depends only on the type realized by a in A. Moreover, if such a sequence of k formulas exists for some elementary extension of A, and if B is any speciﬁc ω-saturated elementary extension of A, then we can ﬁnd such a sequence of k formulas for B. (Just realize the type of the parameter sequence b0,...,bk−1 over a in B. Therefore, in proving that the maximum value of k exists, we may assume that A is ω-saturated and restrict ourselves to considering sequences of L(A)-formulas (ϕj(x)|0≤ j < k). Let Λ be the set of ﬁnite sequences from {0,1}; for σ,τ ∈Λ we write σ ⊆ τ to mean that τ is an extension of σ. If σ ⊆ τ and the length of τ is exactly one more than the length of σ, then we call τ an immediate extension of σ and write τ as σ0 or σ1 to indicate which is the last entry in the sequence τ. In our construction we use the fact that (Λ,⊆) is a well-founded partial ordering whose least element is the empty sequence (denoted ∅). We build a nonempty subset S of Λ that is closed under restriction (σ ⊆ τ ∈ S implies σ ∈ S); further, for each σ ∈ S we deﬁne an L(A)-formula ϕσ of Morley rank α. This is done by induction on the binary tree (Λ,⊆). For the basis step, we put∅∈ S and deﬁne ϕ∅ = ϕ(x,a). For the induction step, consider σ ∈ Λ and suppose we have dealt with all τ ∈ Λ that are shorter than σ. If σ 6∈ S, then neither immediate extension of σ gets put into S. If σ ∈ S, there are two cases. First, suppose there is an L(A)formula ψ(x) such that both ϕσ∧ψ and ϕσ∧¬ψ have Morley rank equal to α. In that case we choose such a formula ψ, put both immediate extensions of σ into S, and set ϕσ0 = ϕσ∧ψ and ϕσ1 = ϕσ∧¬ψ. Second, if no such ψ 89
exists, then neither immediate extension of σ gets put into S. (Note that in this latter case, for every L(A)-formula ψ(x), one of the formulas ϕσ∧ψ and ϕσ∧¬ψ has Morley rank = α and the other one has Morley rank < α. (See Lemma 17.7(3).) Next we prove that S is ﬁnite. Otherwise, by K¨onig’s Lemma, there is an inﬁnite branch in S. That is, there exists a function f: N → {0,1} such that for all k ∈ N the sequence f|k = f(0),...,f(k −1) is in S. For all n ≥ 1, let χn(x) be the L(A)-formula ϕf|n ∧¬ϕf|n+1. It is easy to check that the sequence (χn | n ≥1) witnesses that RM(ϕ(x,a))≥ α+1, which is a contradiction. Let S0 denotethesetofleavesoftheﬁnitebinarytree S; thatis, S0 contains those σ ∈ S such that no proper extension of σ is in S. Then S is exactly the set of σ ∈ Λ such that some extension of σ is in S0. Note that if σ,τ are distinct elements of S0 then there is a sequence η such that one of σ,τ is an extension of η0 and the other one is an extension of η1. Hence ϕσ and ϕτ are contradictory in A. Our construction of S ensures that if σ ∈ S is not in S0, then both σ0 and σ1 are in S and, moreover, ϕσ is logically equivalent to ϕσ0 ∨ ϕσ1. A simple argument shows that ϕ(x,a) = ϕ∅ is logically equivalent to the disjunction of all formulas ϕσ with σ ranging over S0. Let d = card(S0) and let χ0,...,χd−1 enumerate the formulas ϕσ with σ ∈ S0. Our construction has ensured that (χj|0 ≤ j < d) satisﬁes conditions (a),(b),(c) in the statement of the Lemma. Moreover, in A the formula ϕ(x,a) is equivalent to the disjunction of χj for 0 ≤ j < d. Suppose now that (ϕj(x) | 0 ≤ j < k) is any sequence of L(A)-formulas that satisfy conditions (a),(b),(c) and that k > d. Consider any j with 0 ≤ j < d and distinct r,s with 0 ≤ r,s < k. By our construction, χj is ϕσ for some σ that is a leaf in S. Using Lemma 17.7 and the fact that ϕr and ϕs are contradictory in A, it follows that at most one of χj ∧ϕr and χj ∧ϕs can have Morley rank = α. Since d < k, the pigeonhole principle implies that there must exist at least one value of r with 0≤ r < k such that χj∧ϕr has Morley rank < α for all 0 ≤ j < d. As noted above, ϕ(x,a) is equivalent to the disjunction of χj for 0 ≤ j < d. Therefore, ϕr is equivalent to the disjunction of the formulas χj ∧ϕr with 0 ≤ j < d. Using Lemma 17.7(3) it follows that ϕr itself has Morley rank < α. This contradiction proves the Lemma.   17.10. Deﬁnition. Given a ranked L(A)-formula ϕ(x), the greatest integer whose existence is proved in Lemma 17.9 is called the Morley degree of ϕ(x) and it is denoted dM(ϕ(x)). 17.11. Lemma (Properties of Morley degree). Let A be an ω-saturated model of T and let ϕ(x),ψ(x) be L(A)-formulas. (1) If ϕ(x) is ranked and dM(ϕ(x)) = d, with the latter statement witnessed by the sequence (ϕj | 0 ≤ j < d) of L(A)-formulas, then each ϕj(x) has Morley degree 1. 90
(2) if 0 ≤ RM(ϕ(x)) = RM(ψ(x)) < +∞ and A |= ϕ(x) → ψ(x), then dM(ϕ(x))≤ dM(ψ(x)); (3) if 0 ≤ RM(ϕ(x)) = RM(ψ(x)) < +∞ then dM(ϕ(x) ∨ ψ(x)) ≤ dM(ϕ(x))+ dM(ψ(x)), with equality if A |=¬(ϕ(x)∧ψ(x)); (4) if 0 ≤ RM(ψ(x)) < RM(ϕ(x)) < +∞, then dM(ϕ(x) ∨ ψ(x)) = dM(ϕ(x)).
Proof. (1) Lemmas 17.7 and 17.9 ensure that each ϕj(x) has a Morley degree. If for some j the formula ϕj(x) has Morley degree > 1, then there exist two L(A)-formulas witnessing that fact. Replacing ϕj(x) by them in the sequence (ϕj | 0 ≤ j < d) witnesses that ϕ(x) has Morley degree ≥ d +1, a contradiction. (2) Any sequence of L(A)-formulas of length d, witnessing that d is the Morley degree of ϕ(x), will witness that the Morley degree of ψ(x) is ≥ d. (3) Let α = RM(ϕ(x)) = RM(ψ(x)); Lemma 17.7(3) yields RM(ϕ(x)∨ ψ(x)) = α. Suppose d = dM(ϕ(x) ∨ ψ(x)), witnessed by the sequence (χj(x) | 0 ≤ j < d) of L(A)-formulas. For each j, at least one of the formulas χj(x)∧ϕ(x) and χj(x)∧ψ(x) has Morley rank = α by Lemma 17.7(3). Let k bethenumberofvaluesof j forwhich RM(χj(x)∧ϕ(x)) = α, and arrange the formulas so that this occurs for 0 ≤ j < k. Therefore RM(χj(x) ∧ ψ(x)) = α for k ≤ j < d. These sequences witness that k ≤ dM(ϕ(x)) and d−k ≤ dM(ψ(x) and hence d ≤ dM(ϕ(x))+dM(ψ(x)). Now suppose A |= ¬(ϕ(x)∧ψ(x)). Let (ϕj(x) | 0 ≤ j < k) witness that dM(ϕ(x)) = k and (ψj(x) | 0 ≤ j < l) witness that dM(ψ(x)) = l. Then (ϕ0(x),...,ϕk−1(x),ψ0(x),...,ψl−1(x)) witnesses that dM(ϕ(x)∨ψ(x))≥ k + l. Combined with the ﬁrst part of the proof, this shows dM(ϕ(x))+ dM(ψ(x))≥ k + l ≥ dM(ϕ(x))+ dM(ψ(x)). (4)Argueasintheﬁrstpartoftheproofof(3); notethatsince RM(ψ(x)) < α, one has k = d.   17.12. Lemma. Let A |= T and C ⊆ A. Let p(x) be a type (in L(C)) of a ﬁnite tuple that is consistent with Th((A,a)a∈C). Assume that some formula in p(x) is ranked. Then there exists a formula ϕp(x) in p(x) that determines p(x) in the following sense: p(x) consists exactly of the L(C)-formulas ψ(x) such that RM(ψ(x)∧ϕp(x)) = RM(ϕp(x)) and dM(ψ(x)∧ϕp(x)) = dM(ϕp(x)). Indeed, such a formula can be obtained by taking ϕp(x) to be a formula ϕ(x) in p(x) with least possible Morley rank and degree, in lexicographic order. Proof. Choose ϕp(x)∈ p(x) as speciﬁed in the last sentence of the Lemma. That is, ϕp(x) is a formula in p(x) of least possible Morley rank and, among members of p(x) having that rank, dM(ϕp(x)) is least possible. If ψ(x) is any formula in p(x), then also ψ(x)∧ ϕp(x) ∈ p(x) and hence RM(ψ(x)∧ϕp(x))≥ RM(ϕp(x)) by our choice of ϕp(x). Hence RM(ψ(x)∧ 91
ϕp(x)) = RM(ϕp(x)) by Lemma 17.7. A similar argument using Lemma 17.11 proves dM(ψ(x)∧ϕp(x)) = dM(ϕ(x)). Conversely, suppose ψ(x) is any L(C)-formula with RM(ψ(x)∧ϕp(x)) = RM(ϕp(x)) and dM(ψ(x)∧ϕp(x)) = dM(ϕp(x)). By way of contradiction, suppose ψ(x) 6∈ p(x), in which case ¬ψ(x) ∈ p(x). But then RM(¬ψ(x)∧ ϕp(x)) = RM(ϕp(x)). In that case Lemma 17.11 yields dM(ϕp(x)) ≥ dM(ψ(x)∧ϕp(x)) + dM(¬ψ(x)∧ϕp(x)) > dM(ψ(x)∧ϕp(x)), which is a contradiction.   17.13. Deﬁnition. Let A |= T and C ⊆ A. Let p(x) be a type (in L(C)) of a ﬁnite tuple that is consistent with Th((A,a)a∈C). We deﬁne RM(p(x)) to be the least Morley rank of a formula in p(x). If some formula in p(x) is ranked, we deﬁne dM(p(x)) to be the least Morley degree of a formula ϕ(x) in p(x) that satisﬁes RM(ϕ(x)) = RM(p(x)). 17.14. Deﬁnition. Let λ be an inﬁnite cardinal. We say T is λ-stable if for every model A of T and every C ⊆ A of cardinality ≤ λ, at most λ many types (in L(C)) of ﬁnite tuples are consistent with Th((A,a)a∈C). 17.15. Theorem. Let L be countable. The following conditions are equivalent: (1) T is ω-stable; (2) for any A |= T and any L(A)-formula ϕ(x), RM(ϕ(x)) < +∞; (3) T is λ-stable for every λ ≥ ω. Proof. (1 ⇒ 2): We prove the contrapositive. Let A be an ω-saturated model of T. Every Morley rank of a formula with parameters from some model of T is the Morley rank of some L(A)-formula. Hence there exists an ordinal αT such that for any formula ϕ(x) with parameters from a model of T, if RM(ϕ(x)) ≥ αT then RM(ϕ(x)) = +∞. (In fact, by 17.7(4), αT can be chosen so that these Morley ranks are exactly the ordinals < αT, but we do not need that here.) Suppose ϕ(x) is any L(A)-formula whose Morley rank is +∞. Then RM(ϕ(x))≥ αT +1, so there exist two L(A)-formulas ψ1(x),ψ2(x) that are contradictoryin A andhaveMorleyrank≥ αT, andsuchthat ψj(x)→ ϕ(x) is valid in A for j = 1,2. (Indeed, there is a whole inﬁnite sequence of such formulas.) By choice of αT, this ensures that ψ1(x),ψ2(x) both have Morley rank +∞. Using Lemma 17.7 we see that ϕ(x)∧ψ1(x) and ϕ(x)∧¬ψ1(x) both have Morley rank +∞. As in the proof of Lemma 17.9 we let Λ be the set of ﬁnite sequences from {0,1} partially ordered by extension, and we use the other notation established in that proof. Suppose there exists a formula ϕ(x) with parameters from a model A of T whose Morley rank equals +∞. Without loss of generality we many take A to be ω1-saturated. Using the argument in the previous paragraph inductively, we may construct a family (ϕσ(x)| σ ∈Λ) of L(A)-formulas such that each ϕσ(x) has Morley rank +∞, ϕ∅(x) is ϕ(x), 92
and for each σ ∈ Λ there is a formula ψ(x) such that ϕσ0 = ϕσ(x)∧ψ(x) and ϕσ1 = ϕσ(x)∧¬ψ(x). Let C be the set of all parameters from A that occur in ϕσ(x) for some σ ∈ Λ; note that C is countable. For each function f: N →{0,1}, let Σf(x) be the set of formulas {ϕf|n | n ∈ N}. Our construction ensures that each Σf(x) is satisﬁable in (A,a)a∈C. Moreover, if f,g are distinct functions, then Σf(x) and Σg(x) are contradictory in A; indeed, if n ∈ N is the least integer with f(n) 6= g(n) and σ = f|n = g|n, then one of these sets contains ϕσ0(x) and the other one contains ϕσ1(x) and these two formulas are contradictory in (A,a)a∈C. For each function f, let pf(x) be the type realized in (A,a)a∈C by some speciﬁc realization of Σf(x). Then {pf(x) | f: N →{0,1}} is a family of uncountably many types of ﬁnite tuples consistent with Th((A,a)a∈C). This contradicts (1). (2 ⇒ 3): Let A |= T and C ⊆ A with card(C)≤ λ. We need to show that there are at most λ many types p(x) (in L(C)) of a ﬁnite tuple that are consistent with Th(A,a)a∈C). Given such p(x), condition (2) ensures that Lemma 17.12 applies, so that p(x) is determined by a formula ϕp(x) in the way described there. Since there are at most λ many L(C)-formulas (here we use the assumption that L is countable), there are at most λ many such types p(x).
We complete this chapter by showing that every uncountable model of an ω-stable theory in a countable language contains nonconstant sequences of ordered indiscernibles, even when names for moderately large sets of parameters are added to the language. First we need some notation and a technical lemma.
17.16. Notation. Let A be an L-structure. If b is a tuple in A and B is any subset of A, we will write tpA(b/B) for the type (in L(B)) realized by b in (A,a)a∈B. 17.17. Lemma. Assume T is ω-stable. Suppose A |= T and C ⊆ A. Let ϕ(x) be a ranked L(C)-formula, and set (α,d) = (RM(ϕ(x)),dM(ϕ(x))). Suppose (ak | k ∈N) is a sequence of ﬁnite tuples (of the same length) from A and for each k ∈N deﬁne pk(x) = tpA(ak/C ∪{a0,...,ak−1}). Assume that A |= ϕ(ak) and (RM(pk(x)),dM(pk(x))) = (α,d), for all k ∈N. Then (ak | k ∈N) is an indiscernible sequence in (A,a)a∈C. Proof. We prove by induction on n ∈N that whenever i0 < ••• < in are in N, tpA(ai0 ...ain/C) = tpA(a0 ...an/C). In the basis case, n = 0. Take any i ∈ N. Since ϕ(x) ∈ tpA(ai/C) we have (RM(tpA(ai/C)),dM(tpA(ai/C)) ≤ (α,d) lexicographically. On the other hand, tpA(ai/C) ⊆ pi(x); thus our assumptions yield (RM(tpA(ai/C)),dM(tpA(ai/C)) ≥ (α,d). It follows that (RM(tpA(ai/C)),dM(tpA(ai/C)) = (α,d). Lemma 17.12 implies tpA(ai/C)) = tpA(a0/C)). 93
For the induction step n > 0. Consider any i0 < ••• < in from N. As argued in the previous paragraph, tp(ain/C ∪{ai0,...,ain−1}) has Morley rank α and degree d, as does pn(x). Both of these types contain the formula ϕ(x). Applying Lemma 17.12 we conclude that for any L(C)-formula ψ(x,y0,...,yn−1) we have: (i) A |= ψ[an,a0,...,an−1] if and only if the formula ϕ(x) ∧ ψ(x,a0,...,an−1) has Morley rank α and degree d; (ii) A |= ψ[ain,ai0,...,ain−1] if and only if the formula ϕ(x) ∧ ψ(x,ai0,...,ain−1) has Morley rank α and degree d. The induction hypothesis states that tpA(ai0 ...ain−1/C) = tpA(a0 ...an−1/C). This implies that the right hand sides of statements (i) and (ii) are equivalent to each other. Therefore we conclude tpA(ai0 ...ain/C) = tpA(a0 ...an/C) as claimed.   17.18. Proposition. Assume T is an ω-stable L-theory with L countable. Suppose A |= T and C ⊆ A. Assume that A is uncountable and card(C) < card(A). Then there exists a nonconstant sequence of ordered indiscernibles in (A,a)a∈C. Proof. We may assume C is inﬁnite. Let λ = card(C). We begin an inductive construction by noting that the formula x = x is satisﬁed by > λ many elements of A in A. Choose an L(A) formula ϕ(x) that is satisﬁed by > λ many elements of A in A and has the minimum possible Morley rank and degree; say these are (α,d). Note that α > 0 since ϕ(x) is satisﬁed by inﬁnitely many elements. By adding ﬁnitely many elements to C we may assume that ϕ(x) is an L(C)-formula. We will construct a sequence (ak | k ∈N) of elements of A that satisfy ϕ(x) in A such that for all i ∈ N, the Morley rank and degree of tpA(ak/C ∪ {a0,...,ak−1}) is exactly (α,d). First we obtain a0 with this property. If no such element of A exists, we have (RM(tpA(a/C)),dM(tpA(a/C))) < (α,d) for all a ∈ A. For each a ∈ A we therefore have an L(C)-formula ψa(x) that is satisﬁed by a and has (RM(ψa(x)),dM(ψa(x))) < (α,d). There are at most λ such formulas while there are > λ many values of a. Therefore there is a set of > λ many values of a for which ψa(x) is the same formula ψ(x). But this contradicts the minimum choice of (α,d). This proves a0 exists. For the induction step we have a0,...,ak−1 and seek ak. This is handled by the same argument as in the previous paragraph, replacing C by C ∪ {a0,...,ak−1}. Finally, by Lemma 17.17 the resulting sequence (ak | k ∈N) is indiscernible over C in A.
94
Exercises 17.19. Let A be an ω-saturated L-structure and let X ⊆ Am be A-deﬁnable in A. Assume that 0 ≤ β < α = RM(X) < +∞. (Since L(A)-formulas that are equivalent in (A,a)a∈A have the same Morley rank by Lemma 17.7(2), we may refer without ambiguity to the Morley rank of a deﬁnable set.) Show that there is an inﬁnite family (Yn | n ∈N) of pairwise disjoint A-deﬁnable subsets of X such that RM(Yn) = β for all n ∈N. 17.20. Let A be an L-structure, let ϕ(x) be an L(A)-formula and let t(x) an L-term, with x = x1,...,xm. Show that the formulas (ϕ(x)∧y = t(x)) and ϕ(x) have the same Morley rank. (Here y is a single, new variable. The Morley rank of ϕ(x) is taken with respect to the variables x and the Morley rank of (ϕ(x)∧y = t(x)) is taken with respect to the variables x,y.) 17.21. Let L bethelanguagewhosenonlogicalsymbolsconsistofaconstant symbol e, a unary function symbol i, and a binary function symbol p. Let G be a group, considered as an L-structure by interpreting e as the identity element, i(g) as the inverse of g, and p(g,h) as the product of g and h in G. Assume that the theory of G is ω-stable. Show that G satisﬁes the descending chain condition on G-deﬁnable subgroups. That is, if G ⊇ H0 ⊇ H1 ⊇ ... are subgroups of G and each Hn is G-deﬁnable, show that the sequence (Hn | n ∈ N) is eventually constant. (Hint: use cosets to show that the Morley ranks of the sets Hn would otherwise yield an inﬁnite, strictly decreasing sequence of ordinals.) 17.22. Let L be the language whose nonlogical symbols are the unary predicate symbols P1,...,Pn. Let T be the L-theory whose axioms express that the sets P1,...,Pn are inﬁnite and that they form a partition of the underlying set of the L-structure being considered. Show that T admits QE and is complete. Show that the formula x = x has Morley rank 1 and Morley degree n in models of T. 17.23. Let L be a countable language andlet T be a complete L-theory with inﬁnite models. Suppose that for every model A of T and every countable C ⊆ A, the space of 1-types S1(C) is countable. Show that T is ω-stable. 17.24. Let L be a countable language and let T be a complete L-theory with inﬁnite models. Suppose that for every model A of T and every L(A)formula ψ(x) in which x is a single variable, one has RM(ψ(x)) < +∞. Show that for every model A of T, every n ≥ 1, and every L(A)-formula ϕ(x1,...,xn), onehas RM(ϕ(x1,...,xm)) < +∞. (Hint: usethepreceding exercise together with a careful reading of the proof of Theorem 17.15.)
95
18. Morley’s uncountable categoricity theorem
The goal of this chapter is to prove the following important theorem. The ideas developed by Morley for its proof had a strong inﬂuence on the development of pure model theory during the last decades of the 20th century. In this chapter L is a countable ﬁrst order language and T is a complete L-theory with inﬁnite models. 18.1. Theorem (Morley’s Theorem). If T is κ-categorical for one uncountable cardinal κ, then T is κ-categorical for all uncountable κ.
To prove this theorem, we make use of all the tools that were developed in the last few chapters. In particular, Morley rank plays a key role in the proof. It’s use is justiﬁed by the following result. 18.2. Proposition. If T is κ-categorical for some uncountable κ, then T is ω-stable. Therefore, for every satisﬁable formula ϕ(x) with parameters from some model of T, RM(ϕ(x)) is an ordinal and so dM(ϕ(x)) is deﬁned.
Proof. Let κ be an uncountable cardinal and suppose that T is κcategorical. Let A be the unique (up to isomorphism) model of T with card(A) = κ. By the L¨owenheim-Skolem Theorems and the uniqueness of A, every model of T of cardinality ≤ ω1 is isomorphic to an elementary substructure of A. Arguing by contradiction, suppose T is not ω-stable; that is, there is a model B of T and a countable subset C ⊆ B such that uncountably many types of ﬁnite tuples are consistent with Th((B,b)b∈C). By passing to a diﬀerent model, we may assume that uncountably many such types are actually realized in (B,b)b∈C and that card(B) = ω1. Putting the two previous paragraphs together, we may assume that we have a countable C ⊆ A such that uncountably many types of ﬁnite tuples are realized in (A,a)a∈C. However, Corollary 16.7 yields a model A0 of T having cardinality κ and satisfying the property that for every countable subset C ⊆ A0 and every n ≥ 1, only countably many n-types are realized in (A0,a)a∈C. Obviously A and A0 cannot be isomorphic, which contradicts the assumption that T is κ-categorical. Finally, the second sentence of the Proposition follows from the ﬁrst using Theorem 17.15.   18.3. Lemma. If T is ω-stable, then for every inﬁnite cardinal κ and every regular cardinal λ ≤ κ, T has a λ-saturated model of cardinality κ. Proof. Let λ ≤ κ be inﬁnite cardinals with λ regular. By Theorem 17.15, T is κ-stable. Therefore we may build an elementary chain (Aα | α < λ) of models of T, all having cardinality equal to κ, such that for all α < λ, every 96
type of a ﬁnite tuple that is consistent with Th((Aα,a)a∈Aα) is realized in Aα+1. Let A be the union of this chain, so A |= T and card(A) = κ. Let C be any subset of A of cardinality < λ. Since λ is regular, there exists an α < λ such that C ⊆ Aα. Any type in L(C) of a ﬁnite tuple that is consistent with Th((A,a)a∈C is realized in (Aα,a)a∈C and hence in (A,a)a∈C. Therefore A is λ-saturated.   18.4. Corollary. If κ is an uncountable cardinal and T is κ-categorical, then the unique model of T of cardinality κ is κ-saturated.
Proof. Let A be the unique model of T with cardinality κ. By Proposition 18.2, T is ω-stable. If κ is regular, then by taking λ = κ in the previous result there is a κ-saturated model of cardinality κ; this model is isomorphic to A. If κ is not regular, then it is a limit cardinal. For any cardinal τ < κ, we may apply the previous result with λ = τ+ to show that A is τ+-saturated. Since κ is a limit of such cardinals, we conclude that A is κ-saturated in this case too.   18.5. Remark. If T is ω-stable, then it can be proved that T has a κsaturated model of cardinality κ for every inﬁnite cardinal κ, without assuming categoricity. However, the proof of this result uses properties of Morley rank beyond the ones we developed. 18.6. Deﬁnition. Suppose A is a model of T and C ⊆ A. Let a be a ﬁnite tuple from A and take p(x) = tpA(a/C) to be the type realized by a in (A,c)c∈C. When we say that p(x) is principal we mean that it is principal relative to the L(C)-theory Th((A,c)c∈C). (Here p(x) is a complete type in L(C)andTh((A,c)c∈C)isthesetofsentencesin p(x), sothereisnopossible ambiguity.) That is, there exists an L-formula ϕ(x,y) and a tuple d from C such that for any L(C)-formula ψ(x) in p(x), the formula ϕ(x,d) → ψ(x) is valid in (A,c)c∈C. When this condition holds, we will say ϕ(x,d) is a complete formula in p(x). If D ⊆ C and d is a tuple from D, then we say p(x) is principal over D. 18.7. Lemma. Let A |= T and C ⊂ A, and suppose a,b,a0,...,an are ﬁnite tuples from A. (1) if tpA(a/C) is principal and every coordinate of b is either a coordinate of a or a member of C, then tpA(b/C) is principal; (2) tpA(ab/C) is principal if and only if tpA(a/C) and tpA(b/C∪{a}) are principal; (3) tpA(a0 ...an/C) is principal if and only if tpA(aj/C ∪{a0,...,aj−1}) is principal for each 0≤ j ≤ n. Proof. (1) Suppose tpA(a/C) is principal and write a as a1,...,am where aj ∈ A for each j. Let ϕ(x1,...,xm) be a complete formula in tpA(a/C). First, we treat the case where every coordinate of b is a coordinate of a; say b is b1,...,bn and for each j = 1,...,n let π(j) be an element of{1,...,m} 97
for which bj = aπ(j). Then the formula ∃x1 ...∃xmϕ(x1,...,xm)∧y1 = xπ(1) ∧•••∧yn = xπ(n) is a complete formula in tpA(b/C). Note that the argument in the previous paragraph covers the case where b is a permutation of a. Therefore, to complete the proof of part (1) it suﬃces to show that tpA(ac/C) is principal for each tuple c = c1,...,ck from C. This type contains the complete formula ϕ(x1,...,xm)∧xm+1 = c1 ∧•••∧xm+k = ck. (2) First suppose that tpA(ab/C) contains the complete formula ϕ(x,y). Then∃yϕ(x,y) is a complete formula in tpA(a/C) and ϕ(a,y) is a complete formula in tpA(b/C∪{a}). Conversely, suppose ϕ(x) is a complete formula in tpA(a/C) and ψ(x,y) is an L(C)-formula such that ψ(a,y) is a complete formula in tpA(b/C ∪{a}). Then ψ(x,y)∧ψ(y) is a complete formula in tpA(ab/C). (3) This is proved by induction on n using part (2).   18.8. Deﬁnition. Let A be an L-structure and C ⊆ A. We say that A is constructible over C if there is an ordinal γ and a family (aα | α < γ) such that A = C ∪{aα | α < γ} and tpA(aβ/C ∪{aα | α < β}) is principal for all β < γ. 18.9. Remark. Let A be an L-structure and C ⊆ A, and assume A is constructible over C. Then there exists an ordinal γ and a family (aα | α < γ) as in Deﬁnition 18.8 that also satisﬁes: aα 6∈ C for all α < γ and aα 6= aβ for all α < β < γ. (From the original family remove all aβ that are members of C or equal some aα with α < β; it is easy to verify that the thinned family still witnesses that A is constructible over C.) 18.10. Lemma. Let A be an L-structure and C ⊆ A, and suppose that A is constructible over C. Then (A,c)c∈C is atomic; that is, tpA(a/C) is principal for each ﬁnite tuple a from A.
Proof. Let (aα | α < γ) satisfy the conditions in Deﬁnition 18.8 and the preceding remark. That is, A = C ∪{aα | α < γ}; tpA(aβ/C ∪{aα | α < β}) is principal for all β < γ; aα 6∈ C for all α < γ; and aα 6= aβ for all α < β < γ. For convenience, set Cβ ={aα | α < β} for each β ≤ γ. Let b be a ﬁnite tuple from Cγ. We say b is good if it is a permutation of a tuple aβ1,...,aβn such that β1 < ••• < βn < γ and tpA(aβj/C ∪ Cβj) is principal over C ∪{αβ1,...,αβj−1} for each j = 1,...,n. Lemma 18.7 implies that tpA(b/C) is principal whenever b is a good tuple from Cγ. 98
Now we prove, by induction on β ≤ γ, that each ﬁnite tuple b = b1,...,bn of distinct elements of Cβ can be extended to a good tuple from Cβ. So, let b be a ﬁnite tuple from Cβ+1; we may assume that aβ occurs in b (or the desired result follows immediately from the induction hypothesis) and without loss of generality bn = aβ. There are distinct b0 1,...,b0 p ∈ Cβ suchthat tp A(aβ/C ∪Cβ) is principal over C ∪{b0 1,...,b0 p}. Let b0 be the tupleobtained from b1,...,bn−1,b0 1,...,b0 p by eliminating any b0 i that also occurs among b1,...,bn−1. Then b0 is contained in Cβ; by the induction hypothesis it can be extended to a good tuple d from Cβ. This argument is completed by noting that d,aβ is a good tuple from Cβ+1 that extends b. Now we prove the Lemma. Let b be any ﬁnite tuple from A; we want to show that tpA(b/C) is principal. By Lemma 18.7 we may assume that no coordinate of b is in C and that the coordinates of b are distinct. By what was proved in the previous paragraph, there is a good tuple b0 from Cγ that extends b. As noted above, tpA(b0/C) is principal. Hence Lemma 18.7 yields that tpA(b/C) is also principal, as desired.   18.11. Proposition. Suppose T is ω-stable. Let A |= T and C ⊆ A. There exists B  A such that C ⊆ B and B is constructible over C. Proof. If C is the universe of an elementary substructure of A, then take B to be that structure. Otherwise there is an L(C)-formula ϕ(x) that is satisﬁed in A but not by any element of C (by the Tarski-Vaught criterion). Chose such a formula with least possible Morley rank and degree. Let (α,d) = (RM(ϕ(x)),dM(ϕ(x))). We claim that ϕ(x) is a complete formula for a type p(x) over C that is consistent with Th((A,a)a∈C). Otherwise there is an L(C)-formula ψ(x) such that ϕ(x)∧ψ(x) and ϕ∧¬ψ(x) are both consistent with Th((A,a)a∈C). But one of these formulas must have (RM,dM) < (α,d), which is impossible. Let a0 be an element of A that satisﬁes ϕ(x) in A. As shown above, tpA(a0/C) is principal and a0 6∈ C. Continue inductively as long as possible toconstructasequenceofdistinctelements aα in A\C foraninitialsegment of ordinals α such that whenever aα is deﬁned, we have that tpA(aα/C ∪ {aδ | δ < α}) is principal. Since A is a set, this construction must stop. If γ is the ﬁrst ordinal at which the construction cannot be continued, then C ∪{aα | α < γ}) is the universe of an elementary substructure of A that is constructible over A.
Nextweprovethemaintechnicalresultofthischapter, fromwhichMorley’s Theorem is an easy consequence. 18.12. Theorem. Suppose T is ω-stable. Assume κ is an uncountable cardinal and that every model of T of cardinality κ is κ-saturated. Then every uncountable model of T is saturated; that is, if A |= T and λ = card(A) is uncountable, then A is λ-saturated. 99
Proof. Assume T is ω-stable and that κ,λ are uncountable cardinals. We will prove the contrapositive of the statement in the Theorem. That is, we assume T has a model A of cardinality λ that is not λ-saturated and we obtain the same kind of model of cardinality κ. So, there is a subset C of A of cardinality < λ and a type p(x) of a ﬁnite tuple over C such that p(x) is consistent with Th((A,a)a∈C) but is not realized in (A,a)a∈C. By Proposition 17.18 there is a nonconstant sequence (ak | k ∈ N) of ordered indiscernibles in (A,a)a∈C. Let I ={ak | k ∈N}. Note that (A) for each L(C ∪I)-formula ϕ(x) that is satisﬁable in (A,a)a∈C∪I there exists ψ(x)∈ p(x) such that ϕ(x)∧¬ψ(x) is satisﬁable in (A,a)a∈C∪I since otherwise p(x) would be realized in (A,a)a∈C. Let C0 be any countable subset of C. For each L(C0 ∪ I)-formula ϕ(x) that is satisﬁable in (A,a)a∈C0∪I let ψϕ be one of the formulas ψ satisfying (A) for ϕ. Since C0 ∪ I is countable, there is a countable set C1 such that C0 ⊆ C1 ⊆ C and such that the parameters of ψϕ are in C1 for all L(C0 ∪I)-formulas ϕ(x) that are satisﬁable in (A,a)a∈C0∪I. Continue this inductively to deﬁne Ck for all k ∈ N and let C0 =S{Ck | k ∈ N}. This countable set satisﬁes C0 ⊆ C and the parameters of ψϕ are in C0 for all L(C0 ∪I)-formulas ϕ(x) that are satisﬁable in (A,a)a∈C0∪I. Let p0(x) be the restriction of p(x) to C0. We have: (B) for each L(C0∪I)-formula ϕ(x) that is satisﬁable in (A,a)a∈C0∪I there exists ψ(x)∈ p0(x) such that ϕ(x)∧¬ψ(x) is satisﬁable in (A,a)a∈C0∪I. Note also that (ak | k ∈ N) is a sequence of ordered indiscernibles in (A,a)a∈C0. By Proposition 16.5 there is a model of Th((A,a)a∈C0) that contains a family (bα | α < κ) of ordered indiscernibles having the same type as (ak | k ∈ N). We may assume this model is of the form (B,a)a∈C0. Using Proposition 18.11 there is B0 B such that C0∪{bα | α < κ}⊆ B0 and B0 is constructible over C0∪{bα | α < κ}. We show that p0(x) is not realized in (B0,a)a∈C0. Suppose otherwise, that p0(x) is realized by the ﬁnite tuple b in (B0,a)a∈C0. By Lemma 18.10, we have that tpB0(b/C0 ∪{bα | α < κ} is principal; it contains a complete formula that we may write as ϕ(x,bα0,...,bαn) where ϕ(x,y0,...,yn) is an L(C0)-formula and α0 < ••• < αn < κ. So, for each formula ψ(x) in p0(x) we have that ϕ(x,bα0,...,bαn) → ψ(x) is valid in (B0,bα0,...,bαn,a)a∈C0. But bα0,...,bαn and a0,...,an realize the same type over C0. Hence ϕ(x,a0,...,an) → ψ(x) is valid in (A,a0,...,a0,a)a∈C0 for each formula ψ(x) in p0(x). This contradicts (B) and conﬁrms the claim that p0(x) is not realized in (B0,a)a∈C0. We ﬁnish the proof by using the downward L¨owenheim-Skolem Theorem to get B00  B0 such that C0 ⊆ B00 and card(B00) = κ. Then B00 is a model
100
of T that has cardinality κ but is not κ-saturated. (Indeed, it is not even ω1-saturated.)   Now we put all the pieces together to give a proof of the main result:
Proof of Theorem 18.1 (Morley’s Theorem). Suppose κ is an uncountable cardinal and T is κ-categorical. By Proposition 18.2, T is ω-stable. By Corollary 18.4, every model of T of cardinality κ is κ-saturated. Let λ be any uncountable cardinal. By Theorem 18.12, every model of T of cardinality λ is λ-saturated. Using Theorem 12.9(d) and the fact that T is complete, we conclude that any two models of T of cardinality λ are isomorphic. That is, T is λ-categorical.
101
19. Characterizing Definability
In this chapter we present a number of basic results, all of which concern deﬁnability in one way or another. The results discussed here include the characterizationsofdeﬁnabilityduetoSvenoniusandBeth. Wealsopresent Robinson’s Joint Consistency Lemma and Craig’s Interpolation Theorem. Our ﬁrst results give necessary and suﬃcient conditions for a relation to be deﬁnable in a given structure: 19.1. Theorem. Let L be any ﬁrst order language and let P be an n-ary predicate symbol that is not in L. Suppose (A,R) is an ω-saturated L(P)structure and that A is strongly ω-homogeneous. The following conditions are equivalent: (1) R is 0-deﬁnable in A; (2) every automorphism of A leaves R setwise invariant.
Proof. (1) ⇒ (2) is immediate, since automorphisms are elementary maps. (2) ⇒ (1): Assume every automorphism of A leaves R setwise invariant. By way of contradiction, assume that R is not 0-deﬁnable in A. It suﬃces to ﬁnd n-tuples a and b from A that realize the same n-type in A but such that R(a) is true and R(b) is false. We would then have an automorphism of A taking a to b, since A is strongly ω-homogeneous; this automorphism would not leave R invariant, contradicting our hypothesis. Since (A,R) is ω-saturated, it suﬃces to show there exists a in R so that tpA(a)∪{¬P(v)}is consistent with Th(A,R). If b realizes this partial type in (A,R), then a and b have the desired properties. Let Σ(v) = {ϕ(v) ∈ L | (A,R) |= ∀v(¬P(v) → ϕ(v))}. If a realizes the partial type Σ(v)∪{P(v)} in (A,R), then obviously tpA(a)∪{¬P(v)} is consistent with Th(A,R). Therefore, since (A,R) is ω-saturated it suﬃces to prove that Σ(v)∪{P(v)} is consistent with Th(A,R). Arguing by contradiction, suppose Σ(v) ∪{P(v)} is not consistent with Th(A,R). Then there is a formula ϕ(v) in Σ(v) such that (A,R)|= ϕ(v)→ ¬P(v). Thus (A,R) |= ∀v(¬P(v) ↔ ϕ(v)) and hence ¬ϕ(v) deﬁnes R in A. This contradicts the assumption that R is not deﬁnable in A.
19.2. Corollary (Svenonius’s Theorem). Let A be any L-structure and let R be any n-ary relation on A. The following conditions are equivalent: (1) R is not 0-deﬁnable in A; (2) there is an elementary extension (B,S) of (A,R) and an automorphism of B that does not leave S setwise invariant.
Proof. (2) ⇒ (1): If R were 0-deﬁnable in A, then S would be 0-deﬁnable in A, by the same L-formula, and thus S would be invariant under every automorphism of B. 102
(1) ⇒ (2): By Theorem 12.3 we may take (B,S) to be an elementary extension of (A,R) such that (B,S) is ω-saturated and B is strongly ωhomogeneous. Note that S is deﬁnable in B if and only if R is deﬁnable in A. Now apply Theorem 19.1 to (B,S).   19.3. Deﬁnition. Let T be a satisﬁable theory in a language that contains L(P) where P is an n-ary predicate symbol. (a) We say T deﬁnes P explicitly over L if there is a formula ϕ(x1,...,xn) in L such that T |=∀x1 ...∀xn(P(x)↔ ϕ(x)). (b) We say T deﬁnes P implicitly over L if for any models A and B of T that have the same reduct to L, PA and PB are identical. 19.4.Theorem (Beth’sDeﬁnabilityTheorem). Let T be a satisﬁable theory in a language L0 that contains L(P), where P is an n-ary predicate symbol. Then T deﬁnes P explicitly over L if and only if T deﬁnes P implicitly over L. Proof. (⇒) Obvious. (⇐) Assume that T deﬁnes P implicitly over L but that T does not deﬁne P explicitly. Let x be the sequence x1,...,xn of distinct variables. Consider the L0-theory T0 consisting of T together with all sentences of the form ¬∀xP(x)↔ ϕ(x)where ϕ(x) is an L-formula. We claim that T0 is unsatisﬁable. Note that if (A,R) is the reduct to L(P) of a model of T0, then R cannot be 0-deﬁnable in A. If T0 is satisﬁable, use Theorem 12.3 to get an ω-saturated model A0 of T0 such that every reduct of A0 to a sublanguage of L(P) is strongly ωhomogeneous. Let A be the reduct of A0 to L and R = PA0. Since R is not 0-deﬁnable in A, by Theorem 19.1 there is an automorphism σ of A such that σR 6= R. Let B0 be the unique L0-structure with underlying set A that is determined by requiring that the function σ is an isomorphism from A0 onto B0. Then B0 is a model of T, the reduct of B0 to L is A (since σ is an automorphism of A), and PB0 = σ(R)6= R = PA0. This contradicts the assumption that T deﬁnes P implicitly over L. Therefore T0 is unsatisﬁable. Consequently, there exist L-formulas ϕ1(x),...,ϕk(x) such that T together with the sentences ¬∀xP(x) ↔ ϕj(x)(j = 1,...,k) is unsatisﬁable. Therefore T |=∀xP(x)↔ ϕ1(x)∨•••∨∀xP(x)↔ ϕk(x).Let T0 bethe L(P)-theoryconsistingofall L(P)-sentencesthatareprovable in T. In particular the sentence ∀xP(x)↔ ϕ1(x)∨•••∨∀xP(x)↔ ϕk(x)is in T0. Therefore we see that T0 deﬁnes P implicitly over L. For each j = 1,...,k and each L(P)-formula ψ let ψ(j) denote the Lformula that results from ψ by replacing every occurrence of P(u) by 103
ϕj(u) with suitable change of bound variables. Finally, let Tj = {ψ(j) | ψ is an L(P)-sentence and T0 |= ψ}. Note that if A is any model of Tj and we set R ={a ∈ An | A |= ϕj[a]}, then (A,R)|= T0. Fix j ∈ {1,...,k}. Note that the L(P)-theories T0 ∪ Tj and T0 ∪ {∀xP(x) ↔ ϕk(x)} are equivalent; indeed, their models are exactly the L(P)-structures (A,R) where A |= Tj and R = {a ∈ An | A |= ϕj[a]}. Therefore there is an L(P)-sentence ψj such that T0 |= ψj and T0 |= ψ(j) j ↔∀xP(x)↔ ϕj(x).Therefore T0 |=∀xP(x)↔ k ^ j=1 (ψ(j) j → ϕj(x)). But this sentence is in L(P) and hence we have T |=∀xP(x)↔ k ^ j=1 (ψ(j) j → ϕj(x)). showing that T explicitly deﬁnes P over L.
19.5. Fact. Let T be a satisﬁable theory in a language that contains L(F), where F is an n-ary function symbol (a constant symbol if n = 0). We say that T deﬁnes F explicitly over L if there is an L-formula ϕ(x1,...,xn,y) such that T |=∀x1 ...∀xn∀y(F(x1,...,xn) = y ↔ ϕ(x1,...,xn,y)). Further, T deﬁnes F implicitly over L if for any models A,B of T that have the same reduct to L, FA and FB are identical. Beth’s Deﬁnability Theorem then holds also for functions: T deﬁnes F explicitly over L if and only if T deﬁnes F implicitly over L. 19.6. Deﬁnition. Let L ⊆ L0 be ﬁrst order languages and let T ⊆ T0 be theories in these languages. T0 is an extension by deﬁnitions of T if T0 is a conservative extension of T and if every formula in L0 is equivalent in T0 to a formula in L. 19.7. Fact. Suppose L ⊆ L0, T ⊆ T0 and assume that T0 is a conservative extension of T. Assume further that for every simple atomic formula ϕ0 in L0 there exists a formula ϕ in L s.t. T0 |= ϕ0 ↔ ϕ. Then T0 is an extension by deﬁnitions of T. (By a “simple atomic formula” we mean one of the form P(v1,...,vn) or f(v1,...,vn) = w or c = w, where v1,...,vn and w are distinct variables.) 19.8. Corollary. Let L ⊆ L0 be ﬁrst order languages and let T ⊆ T0 be theories in these languages. Then T0 is an extension by deﬁnitions of T if and only if every model of T has a unique expansion that is a model of T0. 104
Proof. Suppose T0 is an extension by deﬁnitions of T. Let A be any model of T. If P is any predicate symbol of L0, then there exists a formula ϕ in L such that T0 |= ∀x1 ...∀xn(P(x1,...,xn) ↔ ϕ(x1,...,xn)). This gives an interpretation of P on A. This interpretation is well deﬁned because, if ϕ1 and ϕ2 are two formulas in L such that T0 |= ∀x1 ...∀xn(P(x1,...,xn) ↔ ϕi(x1,...,xn)),i = 1,2, then T0 |= ∀x1 ...∀xn(ϕ1(x1,...,xn) ↔ ϕ2(x1,...,xn)), so T |= ∀x1 ...∀xn(ϕ1(x1,...,xn)↔ ϕ2(x1,...,xn)), since T0 is a conservative extension of T. Similarly, if F is any function symbol of L0, then there exists a formula ϕ in L such that T0 |= ∀x1 ...∀xn∀y(F(x1,...,xn) = y ↔ ϕ(x1,...,xn,y)). Note that this implies that T |= ∀x1 ...∀xn∃!yϕ(x1,...,xn,y). Therefore the formula ϕ(x1,...,xn,y) deﬁnes on every model of T the graph of a totally deﬁned function. This gives a well-deﬁned interpretation of F on A. Similarly for constant symbols c in L0, using the formula c = y in the same way. An easy induction argument on formulas shows that this expansion of A is a model of T0. Furthermore, it is the only such model, because any model of T0 has to interpret the relation, function and constant symbols of L0 according to the L-formulas by which they are explicitly deﬁned in T0. For the converse, let T0 be an L0 theory such that every model of T has a unique expansion that is a model of T0. First we show that T0 is a conservative expansion of T. Let σ be any L-sentence proved by T0. If A is any model of T, then it has a (unique) expansion A0 that is a model of T0. Since σ is true in A0, and σ is an L-sentence, it must be true in A. Therefore T proves σ. Tocompletetheproofweneedtoshowthateveryformulain L0 isequivalent in T0 to a formula in L. This is an immediate consequence of Fact 19.7 and Beth’sDeﬁnabilityTheorem(usingFact19.5inthecaseoffunctionsymbols and constant symbols).
19.9. Remark. See pages 57-61 of Shoenﬁeld, Mathematical Logic, for a useful discussion of extensions by deﬁnitions. 19.10. Deﬁnition. Let Ti be a theory in Li for each i = 1,2, where L1 and L2 do not have any nonlogical symbols in common. Call T1 and T2 equivalent by deﬁnitions if there is a theory T in some language L that contains the union of L1 and L2 such that T is simultaneously an extension by deﬁnitions of T1 and of T2.
When T1 and T2 are equivalent by deﬁnitions, we may regard them as being interchangeable. In particular, there is a bijective correspondence between models of T1 and models of T2 that preserves all properties of mathematical signiﬁcance. Namely, expand any model of T1 to a model of T and then take the reduct of this model to L2. 105
19.11. Example. Let T1 be the theory of Boolean rings in the language L1 with nonlogical symbols {+,−,×,0,1}. Let T2 be the theory of Boolean algebras in the language L2 with nonlogical symbols {∧,∨,(•)c,0,1}. As is well known, every Boolean ring can be regarded as a Boolean algebra, and vice versa. This is because of the fact that in a Boolean ring +,−,×,0,1 can be deﬁned in terms of ∧,∨,(•)c,0,1 and vice versa. If T is the theory axiomatized by the sentences that express these deﬁnitions, then T is easily seen to be an extension by deﬁnitions of both T1 and T2. Therefore T1 and T2 are equivalent by deﬁnitions. This model theoretic fact expresses in a complete way the relation between Boolean rings and Boolean algebras. In the rest of this chapter we prove Craig’s Interpolation Theorem, which gives another characteristic important property of ﬁrst order logic. 19.12. Theorem (Robinson’s Joint Consistency Lemma). Let L be a ﬁrst order language and let L1 and L2 be extensions of L whose intersection is L. For each i = 1,2 let Ti be a satisﬁable theory in Li. If there is a complete theory T in L such that T ⊆ T1 ∩T2, then T1 ∪T2 is satisﬁable. For the proof of this theorem we need the following preliminary result: 19.13. Lemma. Let L be a ﬁrst order language and let L1 and L2 be extensions of L whose intersection is L. Suppose Aj is an Lj structure for j = 1,2, and A1 | L ≡ A2 | L. Then there exists an elementary extension A0 1 of A1 and f : A2 → A0 1 such that f is an elementary embedding of A2 | L into A0 1 | L. Proof. For any L-structure A we let EDiag(A) denote the ﬁrst order theory of the L(A)-structure (A,a)a∈A. It is easy to see that A can be elementarily embedded into an L-structure B iﬀ B has an expansion that is a model of EDiag(A). We ﬁrst show that to prove the Lemma it suﬃces to prove that Σ = EDiag(A1)∪EDiag(A2|L) is satisﬁable. If so, let A0 1 be the reduct of a model of Σ to L1. Without loss of generality we may assume that for each a ∈ A1, the interpretation of a in A0 1 is a itself. This implies that A0 1 is an elementary extension of A1. Moreover, there is an elementary embedding of A2|L into A0 1|L because A0 1 has an expansion that is a model of EDiag(A2|L). Arguing by contradiction, suppose EDiag(A1)∪EDiag(A2|L) is not satisﬁable. By the Compactness Theorem and the fact that EDiag(A1) and EDiag(A2|L) are closed under conjunction, there exist σ1 ∈EDiag(A1) and σ2 ∈EDiag(A2|L) such that {σ1,σ2} has no model. There exist a1,...,am ∈ A1,b1,...,bn ∈ A2, and L-formulas τ1,τ2, such that σ1 = τ1(a1,...,am) and σ2 = τ2(b1,...,bm) We may assume that A1∩A2 is empty, and also that τ1 and τ2 have no free variables in common. Let the free variables in τ1 and τ2 be z1,...,zm+n. Since {σ1,σ2} has no model, it follows that ∃zτ1 ∧∃zτ2 has no model. But ∃zτ2 is true in A2, 106
because σ2 ∈EDiag(A2|L), and A1|L ≡ A2|L, so∃zτ2 is true in A1 as well. Moreover ∃zτ1 is true in A1, because σ1 ∈ EDiag(A1). Therefore A1 is a model of ∃zτ1 ∧∃zτ2. This is a contradiction.   Proof of Theorem 19.12. We are given, for i = 1,2, a satisﬁable Li-theory Ti; T = T1 ∩T2 is assumed to be a complete theory in L = L1 ∩L2. We wish to show that T1 ∪T2 is satisﬁable. Let A1 be a model of T1,and let B1 be a model of T2. Now T = Th(A1|L) = Th(B1|L) since T is complete; therefore A1|L ≡ B1|L. By the preceding Lemmathereisamodel B2 ¬ B1 andamap f1 : A1 → B2 thatelementarily embeds A1|L into B2|L. Next we apply the Lemma to (A1,a)a∈A1 in the language L1(A1) and (B2,f1(a))a∈A1 in the language L2(A1). We then have (A1|L,a)a∈A1 ≡(B2|L,f1(a))a∈A1, and these two structures are the reducts to L(A1) of (A1,a)a∈A1 and (B2,f1(a))a∈A1 (respectively). Using the lemma again, we see that there exists an elementary extension (A2,a)a∈A1 of (A1,a)a∈A1 and an elementary embedding g1 of (B2|L,f1(a))a∈A1 into (A2|L,a)a∈A1. Note that these last two structures are reducts to the language L(A1), which is the intersection of L1(A1) and L2(A1). So we have B1  B2,A1  A2 and maps f1 : A1 → B2 and g1 : B2 → A2 that are elementary embeddings with respecttoformulasinthelanguage L. Inaddition, wehavethat g1(f1(a)) = a for each a ∈ A1. We continue inductively in this way. The result is a pair of elementary chains A1  A2  A3  ... and B1  B2  B3  ... and mappings fn : An → Bn+1 and gn : Bn+1 → An+1 that are elementary embeddings with respect to formulas of L and that satisfy gn(fn(x)) = x for all x ∈ An and fn+1(gn(y)) = y for all y ∈ Bn+1. Note that for all n ≥ 1,fn+1 = fn on An and gn+1 = gn on Bn+1. Now let A = ∪An,B = ∪Bn,f = ∪fn,g = ∪gn. We have A |= T1 since A1 |= T1 and A1 A; similarly B |= T2. Moreover we see that f is an isomorphism of A|L onto B|L whose inverse is g. We can replace B by an isomorphic copy B0 such that B0|L = A|L, using the mapping f to rename all elements. It then follows that we can deﬁne a structure C for L1∪L2 so that C|L1 = A and C|L2 = B0. The fact that B0|L = A|L guarantees that the interpretations of symbols of L1∩L2 are well-deﬁned. We see that C is necessarily a model for T = T1 ∪T2: C|L1 = A |= T1 and C|L2 = B0 |= T2, completing the proof.   19.14. Theorem (Craig’s Interpolation Theorem). Let L be a ﬁrst order language and let ϕ and ψ be L-sentences such that ϕ |= ψ. Then there is a sentence θ such that (i) ϕ |= θ and θ |= ψ, and (ii) every predicate, function, or constant symbol (excluding equality) that occurs in θ occurs also in both ϕ and ψ. 107
Proof. Assume ϕ |= ψ; let L1 be the language of ϕ and L2 that of ψ; take L to be the common language, containing = at least. It suﬃces to show that T0 |= ψ where T0 = {σ ∈ L : ϕ |= σ}; if this holds, then there is a ﬁnite subset F of T0 such that F |= ψ. Taking θ to be the conjunction of the formulas in F will give the desired sentence. If T0 6|= ψ then T0∪{¬ψ} is satisﬁable. Let T1 be a complete extension in L2 of T0 ∪{¬ψ} and set T = T1 ∩ L, so T is a complete theory in L. We claim that T ∪{ϕ} is satisﬁable in L1. If not, there is a sentence σ ∈ T such that ϕ |= ¬σ. But then ¬σ ∈ T0 ⊆ T1, which implies ¬σ ∈ T, a contradiction. We apply Theorem 19.12 to T1 and T ∪{ϕ}. Since both sets are satisﬁable and since T is complete, T∪T1∪{ϕ}is satisﬁable. In particular{ϕ,¬ψ}is satisﬁable, which is a contradiction.   19.15. Remark. It is possible to have sentences ϕ and ψ that have no predicate, function, or constant symbol in common, yet satisfy ϕ |= ψ. For example, ϕ might be unsatisﬁable or ψ might be valid. If logic with identity isconsidered(aswedohere), thentherearemoreinterestingexamples, such as the following: ∀x∀y[x = y]|=∀x∀y[P(x)↔ P(y)]. Examples like this explain why the conclusion of Craig’s Theorem allows the equality symbol to occur in the interpolating sentence θ. If in Craig’s Theorem one only considers sentences ϕ and ψ without equality, then it can be shown that there is an interpolating sentence that contains only symbols that occur in both ϕ and ψ. If there are no such symbols and neither formula contains equality, then it can be shown that either ϕ is unsatisﬁable or ψ is valid.
Finally, we give an alternate proof of Beth’s Deﬁnability Theorem that uses Craig’s Theorem: Assume that T deﬁnes P implicitly over L. For each symbol α of L1 that is not in L, let α0 denote a symbol of the same type and arity as α, which does not occur in L1. Let L2 denote the language that contains L and that contains α0 for each symbol α of L1 that is not in L. Let T0 be the theory in L2 that results from T by leaving every symbol of L unchanged and by replacing every occurence of any other symbol of L1 by the corresponding symbol α0. We observe that T∪T0 |=∀¯ x[P(¯ x)↔ P0(¯ x)]. Indeed, consider any model of T ∪T0 and let (A,R,R0) denote its reduct to L(P,P0). Then (A,R) and (A,R0) are both reducts of models of T. It follows from our hypothesis (that T implicitly deﬁnes P over L) that R = R0. Therefore there exist ﬁnite subsets Σ ⊆ T and Σ0 ⊆ T0 such that Σ∪Σ0 |=∀¯ x(P(¯ x)↔ P0(¯ x)). By adding ﬁnitely many sentences from T ∪T0 to each of these ﬁnite sets, we can ensure that Σ0 is precisely the result of replacing every occurrence of a symbol α of L1 that is not in L by the corresponding α0. In particular, Σ0 will contain P0 in exactly the same places that Σ contains P. 108
We now add new constants c1,...cn to the language of T ∪T0. Evidently Σ∪Σ0 |= P(c1,...cn) → P0(c1,...cn). Let σ be the conjunction of all the sentences in Σ and let σ0 be the conjunction of the sentences in Σ0. Then σ ∧P(c1,...cn) |= (σ0 → P0(c1,...cn)). Obviously the common language of the sentences σ ∧ P(c1,...cn) and (σ0 → P0(c1,...cn)) is L(c1,...cn). Now apply Craig’s Theorem to the above: there is an L-formula θ(x1,...xn) such that σ ∧ P(c1,...cn) |= θ(c1,...cn) and θ(c1,...cn) |= (σ0 → P0(c1,...cn)). That is to say: (a) Σ|= (P(c1,...cn)→ θ(c1,...cn)) and (b) Σ0 |= (θ(c1,...cn)→ P0(c1,...cn)). From (b) we conclude that Σ |= (θ(c1,...cn) → P(c1,...cn)). (To see this, consider a formal derivation of (θ(c1,...cn) → P0(c1,...cn)) from Σ0. For each symbol α of L1 that is not in L, replace every occurrence of α0 in this derivation by α. The result is a formal derivation of (θ(c1,...cn) → P(c1,...cn)) from Σ.) Therefore Σ |= (θ(c1,...cn) ↔ P(c1,...cn)). But Σ does not in fact contain the new constants ci, so we conclude Σ |= ∀¯ x(P(¯ x) ↔ θ(¯ x)). This shows that T explicitly deﬁnes P, since Σ is a subset of T.
109
Appendix: Systems of Definable Sets and Functions
Math 571 takes the point of view that Model Theory is the study of sets and functions that are deﬁnable in a given mathematical structure using formulas of ﬁrst order logic with equality. In this appendix we explore the collections of deﬁnable sets and characterize them using simple “geometric” properties. This discussion can be read at any time in the course. Let L be a ﬁrst order language and M an L-structure; let M be the underlying set of M. 20.16. Deﬁnition. A set A ⊆ Mm is deﬁnable in M if there is an L-formula ϕ(x1,...,xm,y1,...,yn) and elements b1,...,bn of M such that A ={(a1,...,am)∈ Mm | M |= ϕ[a1,...,am,b1,...,bn]}. If S ⊆ M and the above equation holds for some ϕ and some b1,...,bn ∈ S, then we say that A is S-deﬁnable in M. Let A ⊆ Mm and B ⊆ Mn; a function f: A → B is S-deﬁnable in M if the graph of f is S-deﬁnable in M. (We regard the graph of f as a subset of Mm+n.)
Now we begin to analyze the nature of the sets and functions that are deﬁnable in a given structure M. We want to explain them in a way that is intelligible to any mathematician, so we move the syntax of ﬁrst order logic far into the background. The most basic logical operations used to build up ﬁrst order formulas are the propositional connectives ¬,∨,∧ and the existential quantiﬁer ∃x where x is any variable ranging over the set M. They have the following meanings: ¬ stands for the negation, “not”, ∨ stands for the disjunction, “or” ∧ stands for the conjunction, “and”, ∃x stands for the existential quantiﬁer, “there exists x”. These logical operations correspond to familar elementary mathematical operations on sets; namely, the basic propositional connectives correspond to Boolean operations on sets and the existential quantiﬁers correspond to projection operations on Cartesian products. We illustrate this now in a simple setting: let x,y be variables ranging over nonempty sets A,B (respectively), and let ϕ(x,y) and ψ(x,y) denote conditions on (x,y) deﬁning subsets Φ and Ψ (respectively) of A×B. We consider the conditions that can be built up from ϕ(x,y) and ψ(x,y) using the basic logical operations (on the left below), and the sets that are deﬁned by them (on the right): ¬ϕ(x,y) deﬁnes the complement of Φ in A×B,ϕ (x,y)∨ψ(x,y) deﬁnes the union Φ∪Ψ,ϕ (x,y)∧ψ(x,y) deﬁnes the intersection Φ∩Ψ, ∃xϕ(x,y) deﬁnes the projection π(Φ) where π(x,y) = y is the projection onto the second coordinate. 110
To illustrate the usefulness of these simple ideas, consider a given function f: A → B. The image f(A) of A under f can be deﬁned by the equivalence y ∈ f(A)⇐⇒∃x[f(x) = y]. Let Γ be the graph of f, which is deﬁned as a subset of A × B by the condition f(x) = y. Thedisplayedequivalenceexhibitsthefactthat f(A)is the projection of Γ under the projection map π onto the second coordinate. There are three other logical operations that are often used in mathematics: → stands for the implication, “ if ..., then”, ↔ stands for the equivalence, “if and only if”, ∀x stands for the universal quantiﬁer, “for all x.” As is familiar, these operations can be deﬁned in terms of the basic ones. Indeed, ϕ → ψ is equivalent to ¬ϕ∨ψ, ϕ ↔ ψ is equivalent to (ϕ∧ψ)∨ (¬ϕ∧¬ψ) and ∀xϕ is equivalent to ¬∃x¬ϕ. Therefore we see that these three logical operations correspond to elementary set operations that can be constructed by applying the basic ones several times. Simple and familiar logical equivalences often capture mathematical facts that seem complicated when viewed without the use of logical notation. For example, the familiar equivalence ∀yϕ(x,y)⇐⇒¬∃y¬ϕ(x,y) shows that the set deﬁned by∀yϕ(x,y) can be obtained from Φ by ﬁrst taking the complement in A×B, then projecting onto the ﬁrst coordinate, and then taking the complement of that set in A. This technique is particularly useful when dealing with logically complicated notions, such as continuity or diﬀerentiability, which we express in the usual way with ’s and δ’s and quantiﬁers over them. In such cases we often deal with conditions having more than two variables and with repeated quantiﬁers. Weuseseveraladditionalnotationalconventions. Acondition ϕ(x,y)deﬁning a subset of A×B is sometimes viewed as deﬁning a condition on triples (x,y,z), where z ranges over a nonempty set C; in that case ϕ(x,y) deﬁnes a subset of A×B ×C. In such a situation we indicate the condition also as ϕ(x,y,z). This is similar to the situation in algebra where one routinely regards a polynomial p(x,y) as a polynomial in three variables x,y,z in which all monomials containing z are taken to have coeﬃcient 0. It is also useful to consider conditions obtained by substitution. As above, let f: A → B be a function and let Γ be the graph of f. The condition ϕ(x,f(x)) deﬁnes a subset S of A. This condition is equivalent to ∃y[f(x) = y∧ϕ(x,y)]. Therefore S can be obtained by applying the projection π0 to Γ∩Φ, where π0(x,y) = x is the projection of A×B onto the ﬁrst coordinate. We will show that the essential features of the collection of S-deﬁnable sets in M are captured by the following deﬁnition: 111
20.17. Deﬁnition. Let X be a nonempty set. A deﬁnability system on X is a sequence S = (Sm)m∈N such that for each m ≥0: (1) Sm is a Boolean algebra of subsets of Xm that contains ∅ and Xm as elements; (2) if A ∈ Sm, then X ×A and A×X belong to Sm+1; (3) {(a1,...,am)∈ Xm | a1 = am}∈ Sm; (4) if A ∈ Sm+1, then π(A)∈ Sm, where π: Xm+1 → Xm is the projection map on the ﬁrst m coordinates. If A ⊆ Xm we say A belongs to S if A ∈ Sm. If A ⊆ Xm and B ⊆ Xn and if f: A → B is a function, then we say f belongs to S if the graph of f belongs to S. 20.18. Notation. Let L be a ﬁrst order language and M an L-structure with underlying set M; let S be any subset of M. We write D(M,S) for the system (Sm)m∈N, where for each m ≥ 0, Sm is the collection of all subsets of Mm that are S-deﬁnable in M. 20.19. Proposition. Let L be a ﬁrst order language and M an L-structure with underlying set M; let S be any subset of M. Then D(M,S) is a deﬁnability system on M.
Proof. Exercise. The informal remarks above make it easy to prove this result. Our next result is a converse to Proposition 20.19. It states that each deﬁnability system is closed under deﬁnability. If X is a nonempty set and M ⊆ Xk, then for each m ≥0 we regard Mm as a subset of Xkm. 20.20. Theorem. Let X be a nonempty set and let S be a deﬁnability system on X. Let L be a ﬁrst order language and M an L-structure whose underlying set is M; let S be a subset of M. Suppose all of the following sets belong to S: (a) M; (b) {cM} for each constant symbol c in L; (c) {s} for each s ∈ S; (d) RM for each relation symbol R in L; (e) the graph of fM for each function symbol f in L. Then every set that is S-deﬁnable in M belongs to S.
We ﬁrst give a series of basic results about deﬁnability systems that will be used in the proof of Theorem 20.20. For these lemmas we ﬁx a nonempty set X and a deﬁnability system S on X. 20.21. Lemma. If A and B belong to S, then A×B belongs to S. 112
Proof. Suppose A ⊆ Xm and B ⊆ Xn. Then A×B = (A×Xn)∩(Xm ×B). Condition (2) of Deﬁnition 20.17 (used repeatedly) followed by condition (1) yields that this set belongs to S.   20.22. Lemma. For all 1≤ i < j ≤ m the diagonal set ∆m(i,j) : ={(a1,...,am)∈ Xm | ai = aj} belongs to S. Proof. Let k : = j−i+1. Condition (3) in Deﬁnition 20.17 gives that the diagonal set ∆k(1,j −i+1) belongs to S, and ∆m(i,j) = Xi−1 ×∆k(1,j −i+1)×Xm−j. This set belongs to S by repeated use of condition (2) of Deﬁnition 20.17. (See also Lemma 20.21.)   20.23. Lemma. Let B ∈ Sn and let i(1),...,i(n) ∈{1,...,m}. Then the set A ⊆ Xm deﬁned by A: ={(a1,...,am)∈ Xm |(ai(1),...,ai(n))∈ B} belongs to S. Proof. Note that for any a1,...,am ∈ X, the tuple (a1,...,am) is in A iﬀ ∃y1 ...∃yn(xi(1) = y1 ∧...∧xi(n) = yn ∧(y1,...,yn)∈ B}. Let Dj denote the diagonal set ∆m+n(i(j),m + j) and let πj : Xm+j → Xm+j−1 denote the projection map onto the ﬁrst coordinates, for each j = 1,...,n. The displayed condition shows that A = π1(...πn(D1 ∩...∩Dn ∩(Xm ×B))...). Using Deﬁnition 20.17 and Lemma 20.22 we see that A ∈ Sm.   20.24. Lemma. Suppose A ⊆ Xm, B ⊆ Xn, and C ⊆ Xp belong to S. Let f: A → B and g: B → C be functions that belong to S. Then their composition g◦f: A → C also belongs to S. Proof. Let x beatupleofvariablesthatrangesover Xm andlet y rangeover Xn and z range over Xp similarly. Use Lemma 20.23 and the equivalence (x,z)∈Γ(g◦f)⇔∃y((x,y)∈Γ(f)∧(y,z)∈Γ(g)).   20.25. Lemma. Suppose A ⊆ Xm belongs to S. Let f = (f1,...,fn): A → Xn be a function with coordinate functions fj : A → X. The function f belongs to S if and only if all of the coordinate functions fj belong to S. 113
Proof. (⇒) Fix j (1 ≤ j ≤ n) and let πj : Xn → X be the projection map deﬁned by πj(x1,...,xn) : = xj. Using Lemma 20.22 we see that πj belongs to S, since its graph is a diagonal set. Noting that fj = πj ◦ f, Lemma 20.24 completes the proof of this direction. (⇐) Let x range over Xm and y = (y1,...,yn) range over Xn. The graph of f is deﬁned by the equivalence (x,y)∈Γ(f)⇔((x,y1)∈Γ(f1)∧...∧(x,yn)∈Γ(fn)). If the functions f1,...,fn all belong to S, this equivalence together with Lemma 20.23 and condition (1) of Deﬁnition 20.17 show that f belongs to S.
Proof of Theorem 20.20. Let L, M, and S be as in the statement of the Theorem, and let S be any deﬁnability system to which all sets listed in conditions (a)–(e) of the Theorem belong. We must show that every S-deﬁnable set in M belongs to S. Let k be such that M ⊆ Xk. As noted above, we consider Mm as a subset of Xkm for each m ≥0. First we prove the following statement by induction on the complexity of terms: Let t be an L(S)-term, and let x1,...,xm be a sequence of distinct variables that includes all variables of t; the function tM: Mm → M deﬁned by interpreting t in M belongs to the deﬁnability system S. In the basic step of this induction t is either a constant symbol c or an element of S, or one of the variables xi. In the ﬁrst case the graph of the function tM is Mm×{cM}, and the second case is similar; in the third case it is the intersection of Mm+1 with k diagonal sets. In each case this shows the graph belongs to S. For the induction step, we consider the case where t is of the form f(t1,...,tn) where f is an n-ary function symbol of L and t1,...,tn are L(S)-termsofwhichthestatementbeingprovedistrue. Let G: Mm → Mn be the function with coordinate functions tM j , j = 1,...,n. Lemma 20.25 shows that G belongs to S; Lemma 20.24 shows that tM = fM ◦G belongs to S. This completes the inductive proof of this statement about terms. Now we prove the following statement about formulas from which Theorem 20.20 follows immediately; the proof is by induction on formulas: Let ϕ be an L(S)-formula and let x1,...,xm be a sequence of distinct variables that includes all free variables of ϕ; the set ϕM: ={(a1,...,am)∈ Mm | M |= ϕ[a1,...,am]} belongs to the deﬁnability system S. 114
In the basic step of this induction ϕ is an atomic formula of the form R(t1,...,tn) where R is an n-ary relation symbol of L and t1,...,tn are L(S)-terms. Let G: Mm → Mn be the function deﬁned above using the terms t1,...,tn. As shown there, G belongs to S. We see that ϕM is deﬁned by the equivalence (a1,...,am)∈ ϕM ⇔ ∃y1 ...∃yn((a1,...,am,y1,...,yn)∈Γ(G)∧(y1,...,yn)∈ RM). (Strictly speaking note that each ∃yj stands for a sequence of k existential quantiﬁers over X.) This shows that ϕM is the result of applying a sequence of kn projections to the set Γ(G)∩(Mm ×RM) which shows that ϕM belongs to S. Now we consider the cases of the induction step where ϕ is constructed from formulas α and β using propositional connectives. We have a list x1,...,xm of distinct variables that include all free variables of ϕ, and thus they also include all free variables of α and β. We apply the induction hypothesis to α and β and this list of variables, obtaining that the sets αM and βM, which are both subsets of Mm, belong to S. It follows immediately from condition (1) of Deﬁnition 20.17 that ϕM also belongs to S. The other case of the induction step concerns the situation where ϕ is of the form ∃yψ. We may assume that y is not in the list of variables x1,...,xm. (Otherwise perform a change of bound variables that replaces y by some completely new variable. Since this does not increase the complexity of ψ, wemaystillapplytheinductionhypothesistothenewsituation.) If y isnot inthelist x1,...,xm, thenweapplytheinductionhypothesistotheformula ψ and the list of variables x1,...,xm,y. Evidently ϕM = π(ψM), where π: Mm+1 → Mm is the projection on the ﬁrst m coordinates. Condition (4) of Deﬁnition 20.17 yields that ϕM belongs to S. This completes the proof of Theorem 20.20.
Let X be a nonempty set. Given two deﬁnability systems S(1) and S(2) on X, we say that S(2) contains S(1), and we write S(1) ⊆ S(2), if S(1)m ⊆ S(2)m for all m ≥0. This deﬁnes a partial ordering on the collection of all deﬁnability systems on X. Any family (S(i))i∈I of deﬁnability systems on X has a greatest lower bound S in the collection of all deﬁnability systems on X; namely, we just take Sm =\{S(i)m | i ∈ I} for each m.Suppose F = (Fm)m∈N where Fm is a collection of subsets of Xm for each m ≥0. Obviouslythereisatleastonedeﬁnabilitysystem S thatcontains F; just let Sm be the collection of all subsets of Xm for all m ≥ 0. It follows that there exists a smallest deﬁnability system S on X that contains F. Namely, let S be the greatest lower bound (intersection) of all deﬁnability 115
systems on X that contain F. We call this the deﬁnability system on X generated by F. 20.26. Corollary. Let L be a ﬁrst order language and let M be an Lstructure with underlying set M; let S be a subset of M. Then D(M,S) is the deﬁnability system on M generated by the sets listed in (b)–(e) of Theorem 20.20.
Proof. Exercise.
Exercises In the following Exercises, let S be a deﬁnability system on the nonempty set X. 20.27. Show that there is a language L and an L-structure M based on the set X such that S = D(M,∅). 20.28. Let I be a ﬁnite index set and let A ∈ Sm be the union of the sets Ai ∈ Sm, i ranging over I. Show that a function f: A → Xn belongs to S if and only if all of its restrictions f|Ai belong to S. 20.29. Let A ⊆ Xm+n and x ∈ Xm, and put Ax: ={y ∈ Xn |(x,y)∈ A}. Show that if A belongs to S and k ∈N, then the set {x ∈ Xm |card(Ax)≤ k} also belongs to S. 20.30. Let the sets A,B,C and the function f: A×B → C belong to S. Show that the sets {a ∈ A | f(a,•): B → C is injective } and {a ∈ A | f(a,•): B → C is surjective } also belong to S. 20.31. Suppose X = R and the order relation{(x,y)∈R2 | x < y} belongs to S. Suppose A ⊆ Rm belongs to S. Show that the topological closure cl(A) of A and the interior int(A) of A in Rm also belong to S. 20.32. Suppose X = R and the order relation{(x,y)∈R2 | x < y} belongs to S. Suppose that the function f: Rm+1 →R belongs to S. Show that the


