# 条件编译符号与发布 - 左直拳的马桶_日用桶 - CSDN博客
2015年12月24日 19:52:00[左直拳](https://me.csdn.net/leftfist)阅读数：4591
一、条件编译符号
条件编译的作用就是可以在代码中设置一些使用场景。最常见的就是假如是DEBUG，就怎样怎样；否则又如何如何。
如果要添加一些除了DEBUG、TRACE之类的场景，条件，可以自己定义。定义的方法是：右击项目，属性，在生成页签中，输入自定义的条件编译符号。
好比说，现在我们做的项目早早就把登录模块放上去了，搞到经常登录，烦死了，浪费不少时间。那么，我可以设置一个条件编译符号，比方说NoLogin，然后在代码里：
```
#if NoLogin
                    //伪造一个登录信息，不登录
                    。。。
#else
                   //乖乖地登录
                   。。。
#endif
```
这样只要我这个NoLogin条件编译符号成立，存在，则可不必登录矣。
条件编译符号保存在项目文件里。
二、发布 
WEB项目里的web.config如果展开，将会发现存在着 web.debug.config、web.release.config。这就是发布的时候，因应不同的编译选项的。比如说，你选了“Release”，那么系统将会用web.release.config里的配置覆盖web.config里的，发布出来的web.config将是覆盖后的版本。 
![这里写图片描述](https://img-blog.csdn.net/20151224193500465)
注意这些供发布替换的config，有一些格式要求，不过里面有详细的说明，照写可也。
如果除了debug，release，还有其他发布要求的话，也可以自行添加。方法是： 
点VS菜单栏的生成，选配置管理器，新建即可。比如说，我新建了一个名为 NoLogin 的配置方案，那么系统会自动为你添加一个web.NoLogin.config 
![这里写图片描述](https://img-blog.csdn.net/20151224194429380)
三、条件编译符 与 发布的关系
似乎没有啥关系。条件编译符 在 web.config 中是不支持的。条件编译符只对代码起作。不过看上去，选debug、release方案发布出来的代码，自定义的那些条件编译符都不起作用了。可能debug,release是系统保留方案，会自动清除自定义的条件编译符。算了，不去试了。
