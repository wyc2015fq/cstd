# 好记性不如烂笔头——.NET运行原理 - 左直拳的马桶_日用桶 - CSDN博客
2014年03月12日 14:54:01[左直拳](https://me.csdn.net/leftfist)阅读数：1600

WINDOWS中运行的代码，分为托管代码和非托管代码。
.NET环境中运行的代码就是托管代码，.NET环境外运行的就是非托管代码。
我们开发的时候，会对源代码进行编译。但其实，对于托管代码，我们编译出来的其实是IL（中间语言），还不能真正执行，尽管它们的后缀名是EXE或DLL，看上去很像那么回事。只有到了运行的时候，再由CLR（公共语言运行库）编译成真正可执行的代码。
而非托管代码则是可直接执行的代码。
对托管代码，CLR无须每次调用都编译，只须编译一次进内存，下次直接从内存中调用即可。当然，机器重启，或程序关闭，又要重新开始。这种运行方式第一次会比较慢，但CLR编译后，生成的代码因为适应本机环境，有可能作了特别的优化，从而使得性能更加优于非托管代码。
也因为这种无论由何种语言开发，一律编译成中间代码的方式，使得.NET的支撑语言多种多样，C#\C++\vb等等。
无论是托管代码还是非托管代码，EXE或DLL文件里面都有一个PE文件，里面含有一些指令。这些指令是指示代码可以直接执行，还是先行编译再执行，此乃托管代码和非托管代码的分野。
