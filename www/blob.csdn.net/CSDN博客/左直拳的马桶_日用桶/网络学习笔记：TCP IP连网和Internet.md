# 网络学习笔记：TCP/IP连网和Internet - 左直拳的马桶_日用桶 - CSDN博客
2015年03月22日 23:56:34[左直拳](https://me.csdn.net/leftfist)阅读数：1827
个人分类：[计算机基础																[学习笔记](https://blog.csdn.net/leftfist/article/category/1790155)](https://blog.csdn.net/leftfist/article/category/2622721)
**1、网关**
由硬件和软件组成，实现不同网段间的数据传送。
常用路由器充当网关。
![](https://img-blog.csdn.net/20150322212122741?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvbGVmdGZpc3Q=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/Center)
网关通常维护一份路由表，但只有少量的编址信息。它用这些信息把数据转发到知道更多信息的网关。
组成互联网骨干的网关称为核心网关，由internet网络操作中心（INOC)管理。
**2、套接字和端口**
由协议（TCP或UDP）、IP地址及端口组成。
套接字的作用就是建立连接。
凡1024以下的端口号都被认为是标准服务端口。例如21，FTP;25，邮件；80，http，等等。当然默认端口号可以改成别的。
**3、DNS**
域名便于记忆。
最初，域名的解释是靠本机的hosts文件，所有互联网上的机器都从指定地址下载这个文件；后来数据量大了以后，就有了多层、分布式的DNS。
![](https://img-blog.csdn.net/20150322215808072?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvbGVmdGZpc3Q=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/Center)
客户请求一个域名，例如www.microsoft.com的过程：
1）查询本机缓存是否含有对应地址
2）否则向DNS服务器A发送递归查询
3）DNS服务器A在本地查询，如果找不到则向自己的根域服务器发出请求
4）根域服务器如果也无法解释，则返回管理COM域的DNS服务器的IP地址
5）DNS服务器A于是向COM域DNS服务器发出请求
6）COM域DNS服务器无法解释，返回microsoft.com域的DNS服务器IP地址
7）DNS服务器A向microsoft.com域的DNS服务器发出请求
8）microsoft.com域的DNS服务器找到www.microsoft.com的IP地址，返回
9）DNS服务器A向客户返回www.microsoft.com的IP地址
**4、动态主机配置协议（DHCP)**
DHCP和DNS同为TCP/IP网络中的两个最基本的服务。
DHCP的作用是为客户动态分配IP地址。
DHCP分配IP地址的过程分为4步：
1）客户发出IP租约请求
使用0.0.0.0作为原地址，目标地址为255.255.255.255，在网上进行广播
2）DHCP服务器提供IP租约
DHCP收到请求，如果有可分配IP，则返回响应消息，包括：
客户的MAC地址
IP地址
子网掩码
租约有效时间
服务器标识
3）客户选择IP租约
客户收到消息后，通过广播进行响应，表示选择该租约。因为网络上可能存在多个DHCP服务器。其他DHCP收到这个消息后，就取消提供的租约。
4）DHCP租约确认
被选择的DHCP服务器广播发送确认消息，表示租约批准。
客户机收到确认消息后，配置TCP/IP协议，建立网络通信。
一块网卡一个IP地址，每个IP的建立都经历同样的过程。
经过租约时间的50%后，客户机就会自动进行续约请求。
**5、TCP/IP子协议**
TCP/IP不是单个协议，而是一组协议，常称为子协议，每个子协议有专门的功能。
IP：网际协议，负责数据如何传送和往何处传送
TCP：核心协议。属于传输层，面向连接，提供可靠传输。
UDP：核心协议。属于传输层，无连接
ICMP：网际控制消息协议。核心协议。提示数据包在数据传送过程中发生的错误，以及未成功发送等信息
ARP：地址解析协议。获取主机或节点的MAC地址，映射到本地IP库
RAPP：逆向地址解析协议。通过广播MAC地址，获取设备的IP地址。用于满足通过MAC地址进行请求的一些情况。
Telnet：应用层终端模拟协议，常用于远程登录。
FTP：
SNMP：简单网络管理协议，管理设备的通信协议（？）
SMTP：简单邮件传输协议。负责邮件传输。
POP：邮局协议。负责邮件存放。SMTP和POP使邮件服务器能够接收、存储、转发消息，二者缺一不可。
IMAP：Internet邮件访问协议，基于SMTP，是POP更复杂的一种选择。功能比POP强，安全性也更好，但需要更多存储空间和资源。
HTTP：超文本传送协议
