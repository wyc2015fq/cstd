# mysql允许远程访问 - 左直拳的马桶_日用桶 - CSDN博客
2016年11月06日 14:16:01[左直拳](https://me.csdn.net/leftfist)阅读数：565
mysql默认不能远程访问。
what！怎么可能！大家满口赞誉的东东，居然默认是个单机版，太玩具了吧。
其实，这只是对刚安装好的mysql来说的。刚装好的mysql，只有一个账号，就是管理员root，限定只能本机访问，好像也没啥不妥吧（反而更谨慎？）。
那么，如何才能开启远程访问呢，比如同一个局域网里面，允许其他机器访问它的数据库？
假设新装好的MYSQL，其初始账号情况如下：
```
+------+-----------+
| user | host      |
+------+-----------+
| root | 127.0.0.1 |
| root | ::1       |
| root | localhost |
+------+-----------+
3 rows in set (0.14 sec)
```
网上搜了搜，有大神说可以将host改为’%’，这样就能被所有机器访问了。
可是，我现在遇到的情况是，有个第三方开发的系统，我们要从它的数据库里读数据。它的账号默认就是像以上，只能本地访问。难道我要对它的账号进行修改？看起来好像改动很小，应该也没啥风险，但是，总觉得不妥。
然而网上基本上所有的教程都是这种将host改成’%’的论调，天下文章一大抄。
我认为思路应该是这样的：
> 
1、创建一个用户 
  2、赋予这个用户允许远程访问
经测试，成功了。步骤如下：  
1、创建用户
`create user 'test' identified by '123456'`
这样创建出来的用户，其host就是’%’
如果要限定只能某个IP访问，可以酱紫：
`create user 'test'@'192.168.0.164' identified by '123456'`
好，至此创建用户，允许远程访问都搞定了
2、但是还要赋权限
`grant all on db1.* to test@'%';`
这里将数据库db1的所有权限都赋给了test。
如此，可用test访问那个mysql数据库矣。
3、清空密码  
那个第三方系统，其mysql账户root，密码为空。那在连接串里怎样写呢？事实证明，有三种方式可以写：
```
server=192.168.128.130; user id=test; password=;database=db1
server=192.168.128.130; user id=test; password='';database=db1
server=192.168.128.130; user id=test; database=db1
```
以上都可以。如果在命令行登录，可以这样：  
mysql -u test（回车）  
即可登录。
那么怎么清空密码呢？可以酱紫：
`set password for test@'%'=password('');`
感叹mysql的过人之处。看上去，其账号其实是 账号名称 + host 来决定的，相当于一个复合主键。这种思路很新奇。也很实用。
