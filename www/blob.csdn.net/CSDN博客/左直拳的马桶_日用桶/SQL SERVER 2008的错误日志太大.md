# SQL SERVER 2008的错误日志太大 - 左直拳的马桶_日用桶 - CSDN博客
2011年12月29日 11:49:25[左直拳](https://me.csdn.net/leftfist)阅读数：5808
早上客户说，网站为毛出问题了？
出问题。问题永远出现在早上刚上班，电脑刚打开的时刻，永远在最忙碌或者刚喘口气，准备实现一个宏伟功能的时候蹦出来，让你猝不及防。工作，仿佛就是在救火。今天救一个，明天救一个。
访问客户网站，报错，黄底红字的.NET报错界面，让人心惊肉跳。我立刻黑着脸质问旁边的家伙，他这2天在更新，肯定是更新之后没有检查。“混蛋！什么垃圾！”我心中充满了蔑视和愤怒。这个月的绩效给你个不及格。马拉到隔壁去了。
这个家伙不能依靠，等他，不知道猴年马月才搞的定，只好亲自上阵。小姐不济，妈咪来了。
登录服务器，发觉系统警告说C盘空间严重不足。天啦，只剩下0KB。
找来找去，发现是SQL SERVER占用空间太大。没理由，里面的数据库，日志都不大，怎么会爆棚了呢？
我好慌乱。因为我没遇到过这种问题。我这个DBA是盗版的。
查来查去，发现是目录C:\Program Files\Microsoft SQL Server\MSSQL10_50.MSSQLSERVER\MSSQL\Log，里面有几个ERRORLOG十分巨大，其中一个17GB。
这是神马文件？原来是SQL SERVER的错误日志。
并且它还在增长，象的士上的跳表。
我感到恐惧，立刻就停掉了SQL SERVER。然后在C盘移走了一些无关紧要的文件（当然还没傻到去碰SQL SERVER的），挤出了200M，然后开启SQL（谢天谢地，还能开），网站也可以访问了。
但问题出在哪里呢？
我打开sql server的management studio，点 管理 - SQL SERVER日志，看了当前的日志，发现有人在试探sa的密码。怪不得日志这么大，都是他们在不停地试
![](http://hi.csdn.net/attachment/201112/29/0_1325130062neVZ.gif)
混蛋。数据库部署的时候，没有改默认端口，还是1433，我立刻改了端口。结果错误就没有了。且让他们慢慢试。
然后这些巨大无比的错误日志该怎么删掉呢？management studio这里不能直接删的。当然手动更不能删了。查了一下，方法是这样的：
1、点SQL SERVER错误日志，右键，配置，限定错误日志的数目，比如6个
2、然后运行命令：
EXEC sp_cycle_errorlog ;
这个命令的作用是将当前日志归档，然后新建一个日志。因为日志数量被限制为6，那么只要运行这个步骤若干次，那么老的日志就会被回收了。SQL服务重启一次，也会将日志归档新建，但这个命令不用重启。
结论：
1、SQL的默认端口一定要改
2、sa的密码一定要设的够强。
