# 数据库连接引发事务自动开启问题 - 左直拳的马桶_日用桶 - CSDN博客
2018年11月14日 19:02:26[左直拳](https://me.csdn.net/leftfist)阅读数：192
做的一个项目，涉及到两个oracle数据库，A库和B库。主打A库，但有些数据要从B库里读取。于是在A库中建了一个数据库连接（DBLINK），指向B库。
于是月亮下去了，毛病出来了。
忽然发现，有些数据保存，根本没有提交成功。提示：
```
ORA-01453: SET TRANSACTION 必须是事务处理的第一个语句
造成原因：之前的事务没有结束。
```
哪里来的事务呢？
后来才发现，这一切的元凶就是数据库连接。原因是，当我们使用dblink的时候，oracle认为这是一个分布式的东东，所以就算我们只是读取数据，而没有插入或更新、删除啥的，它都自动开启一个事务！
知道了原因解决问题就很简单了，当调用完使用了dblink的语句后，不管3721，要来个事务回滚。
后来又查了下，发觉这个dblink还会带来一个问题，就是数据库连接得不到及时释放，可能会引起连接耗尽问题。
我去，这个数据库连接除了使用比较方便外，基本上就是一无是处啊，那些CLOB字段问题就不用多说了。
