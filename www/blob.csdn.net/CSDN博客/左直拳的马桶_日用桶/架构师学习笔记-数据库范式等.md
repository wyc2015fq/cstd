# 架构师学习笔记-数据库范式等 - 左直拳的马桶_日用桶 - CSDN博客
2018年08月30日 22:50:17[左直拳](https://me.csdn.net/leftfist)阅读数：155
一、三级模式-两级映射 
![这里写图片描述](https://img-blog.csdn.net/20180824213907655?watermark/2/text/aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L2xlZnRmaXN0/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70)
通俗地说， 
内模式看到的是数据库文件，关心数据如何存放； 
概念模式是表 
外模式是视图
二、关系代数
> 
并  
  交  
  差 
  笛卡尔积  
  投影 ：select 列 
  选择：条件过滤 
  联接：相同列合并，默认等值联接，即只保留两者的相同行
投影就是选列；选择就是过滤行；
![这里写图片描述](https://img-blog.csdn.net/20180824221758494?watermark/2/text/aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L2xlZnRmaXN0/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70)
![这里写图片描述](https://img-blog.csdn.net/20180824221810905?watermark/2/text/aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L2xlZnRmaXN0/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70)
![这里写图片描述](https://img-blog.csdn.net/20180824220507336?watermark/2/text/aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L2xlZnRmaXN0/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70)
![这里写图片描述](https://img-blog.csdn.net/20180824221454945?watermark/2/text/aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L2xlZnRmaXN0/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70)
![这里写图片描述](https://img-blog.csdn.net/20180824220809220?watermark/2/text/aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L2xlZnRmaXN0/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70)
三、函数依赖 
比如，学号可以确定学生姓名，就说姓名依赖学号。
1、部分函数依赖 
主键为（学号 + 课程号），则字段“姓名“部分依赖于学号。
2、传递函数依赖
学号 宿舍 费用 
062201 A 900 
062230 B 1200 
062240 B 1200 
学号确定宿舍、宿舍确定费用，且有学号不包含宿舍，宿舍不确定学号，符合传递函数依赖条件。费用传递依赖于学号。
四、规范化理论的价值与用途 
![这里写图片描述](https://img-blog.csdn.net/20180826231654979?watermark/2/text/aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L2xlZnRmaXN0/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70)
五、求候选关键字 
![这里写图片描述](https://img-blog.csdn.net/20180827223411779?watermark/2/text/aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L2xlZnRmaXN0/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70)
![这里写图片描述](https://img-blog.csdn.net/20180827223422687?watermark/2/text/aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L2xlZnRmaXN0/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70)
![这里写图片描述](https://img-blog.csdn.net/20180827223438165?watermark/2/text/aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L2xlZnRmaXN0/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70)
![这里写图片描述](https://img-blog.csdn.net/20180827223741267?watermark/2/text/aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L2xlZnRmaXN0/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70)
六、范式 
![这里写图片描述](https://img-blog.csdn.net/20180828075655137?watermark/2/text/aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L2xlZnRmaXN0/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70)
提升范式能消除数据冗余、插入异常、更新异常、删除异常等弊端；但范式并非越高越好，范式越高，数据的粒度就越小，有可能会带来管理、性能的问题。通常，到达范式三就差不多了。
范式是递增的。要达到高范式，一定是已经满足了低范式。
范式的判别有条件可供判断，条件满足，或者条件不存在，范式都成立
1、第一范式 
![这里写图片描述](https://img-blog.csdn.net/20180828222250347?watermark/2/text/aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L2xlZnRmaXN0/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70)
2、第二范式 
![这里写图片描述](https://img-blog.csdn.net/20180828223505488?watermark/2/text/aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L2xlZnRmaXN0/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70)
学分部分依赖主键（只依赖课程号），所以不符合第二范式。解决方法是拆分，将课程从此表中拆分出去，仅保留课程号。事实上， 改造为更高范式，通常都是拆分。
3、第三范式 
![这里写图片描述](https://img-blog.csdn.net/20180828222136793?watermark/2/text/aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L2xlZnRmaXN0/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70)
主键只有一个，肯定不存在部分依赖情况，所以肯定符合第二范式。但表中存在传递依赖：学号确定系号，系号确定系名和地址，所以不是第三范式。办法：拆分。
4、BC范式 
![这里写图片描述](https://img-blog.csdn.net/20180828225049882?watermark/2/text/aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L2xlZnRmaXN0/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70)
图中没有非主属性，肯定符合第三范式。但因为罗列出来的依赖表达式中，有属性T不是候选键，所以不是BC范式。图中候选关键字是SJ、ST。
七、模式分解 
表拆分其实就是模式分解。
1、保持函数依赖分解 
![这里写图片描述](https://img-blog.csdn.net/20180829073048916?watermark/2/text/aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L2xlZnRmaXN0/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70)
分解之前有哪些函数依赖，分解之后，它们依然存在。 
如图所示，模式R(A,B,C)有A->B,B->C，A->C,分解为R1(A,B)，R2(B,C)，此为保持函数依赖分解（A->C可由A->B,B->C传递推导出来）。但如果拆分为 R1(A,B)和R3(A,C)，则不是保持函数依赖分解，因为B->C没有了。
2、无损分解 
![这里写图片描述](https://img-blog.csdn.net/20180829075004594?watermark/2/text/aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L2xlZnRmaXN0/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70)
1）表格法 
![这里写图片描述](https://img-blog.csdn.net/20180830223556584?watermark/2/text/aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L2xlZnRmaXN0/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70)
列为关系模式的属性 
行为分解模式 
a代表分解模式中拥有原模式中的属性 
当有两行中某列为同为a，则可根据函数依赖，将不为a的列改为b。如果最后能得到一行 
全为a，则是无损分解。 
![这里写图片描述](https://img-blog.csdn.net/20180830224738968?watermark/2/text/aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L2xlZnRmaXN0/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70)
2）运算法 
![这里写图片描述](https://img-blog.csdn.net/20180830224806696?watermark/2/text/aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L2xlZnRmaXN0/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70)
适合分解为两个模式的情况。 
将这两个模式分别求交集、互相求差，如果有交集确定任一差，则为无损分解。
