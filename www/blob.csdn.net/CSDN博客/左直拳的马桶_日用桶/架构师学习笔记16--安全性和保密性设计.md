# 架构师学习笔记16--安全性和保密性设计 - 左直拳的马桶_日用桶 - CSDN博客
2018年07月15日 23:19:15[左直拳](https://me.csdn.net/leftfist)阅读数：527
信息安全指保证信息的保密性、完整性、真实性、占有性。 
占有性是指要保护信息赖以存储的节点、介质、载体等不被盗用或窃取。方法有版权、专利、商业秘密等。
**一、加密和解密**
**1、对称加密**
1）DES 
2）IDEA
**2、不对称加密**
1）RSA
**二、数字签名与数字水印**
**1、散列函数**
散列函数一种公开的数学函数。散列函数输入内容叫“报文”，输出结果叫“散列码”或“消息摘要”。散列函数有如下特点： 
1）不同报文有不同散列码 
2）单向。由报文得到散列码容易，反过来则非常困难 
3）不能预知报文的散列码（意思是一定要经过运算才能知道，没有什么规律可借以推测） 
4）散列码具有固定长度，而不管报文长度多少 
常用散列函数有MD5、SHA、HMAC
**2、数字签名**
数字签名用于保证信息的真实性、无篡改、不可否认。 
数字签名由两个算法组成：签名算法 + 验证算法。 
过程：发送方将信息用私钥加密，即签名，然后将信息和签名一起发送给接收方。接收方对签名解密，解密结果与信息进行对照，确认真实、无篡改、及确信是发送方发出。 
1）RSA + MD5
**3、数字信封**
其实就是将消息进行加密发送。对称加密。先用密钥将消息加密；然后用接收方的公钥将密钥加密；加密后的密钥随同消息一起发给接收方。接收方用私钥解出密钥，然后用密钥解密消息。
**4、数字水印**
数字水印是将标记信息直接隐藏在数字载体中，或者修改特定区域的结构间接做记号，目的就是打上专属印记。数字水印有点象彩蛋，不容易被发现，除了作者。如何打这个“水印“，有一些算法。 
数字签名与数字水印没有什么关系。要说有，都是为了验明正身。不同的是，数字签名是别人用来验证这东西是发布者搞出来的，而数字水印是发布者证明这东西是自己搞出来的。 
“有你签名，别抵赖” 
“有我LOGO，是我的”
**三、数字证书与密钥管理**
加密算法的保密不重要，密钥却举足轻重。密钥如何保管与分配，是个问题。
**1、密钥分配中心**
搞个密钥分配中心（KDC）吧。 
密钥分配中心，顾名思义，负责分配密钥。怎么分配呢？ 
A和B想加密通信，A向KDC发出请求，KDC返回一个应答给A，内有密钥K，分别用A和B的公钥加密。A收到应答，解出K，然后又转发消息给B，B也解密得到K。于是A和B用K进行对称加密通信。
**2、数字证书和公开密钥基础设施**
对称加密中，通信双方共同掌握密钥，其他任何第三方都不能知道； 
而非对称加密（公钥加密）中，公钥公开，私钥自己掌握。 
公钥该如何公开？ 
最简单的，就是公钥向全世界公布。但是，这样有致命的漏洞，任意人都可以冒充通信一方，公布自己的公钥。所以就要用到数字证书和PKI（公开密钥基础设施）。
1）数字证书 
数字证书用于确认公钥发布者的身份。 
一般包括：证书所有者的公钥，证书签发者的数字签名等。
[数字证书与数字签名](https://blog.csdn.net/leftfist/article/details/66469294)
2）PKI（公开密钥基础设施） 
PKI就是数字证书的一整套机制，包括数字证书，证书颁发机构（CA），查验机制等等。 
证书一般是X.509。
**四、安全协议**
**1、IPSec**
网络安全协议（IP Security），该协议将密码技术应用在网络层。
![这里写图片描述](https://img-blog.csdn.net/20180708222823142?watermark/2/text/aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L2xlZnRmaXN0/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70)
![这里写图片描述](https://img-blog.csdn.net/20180708221713188?watermark/2/text/aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L2xlZnRmaXN0/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70)
工作原理： 
数据发送前，发送方将其加密；接收方收到后，解密提取明文。整个传输过程，都是加密传输。这种加密，不是数据包的头尾加密，而是直接对数据包中的数据进行加密。
IPSec不是一个单独的协议，包括：AH（IP认证头部协议）、ESP（封装安全负载协议）、IKE（Internet密钥交换协议 ）等等。
AH提供数据的完整性和认证，但不包括保密性； 
ESP原则上只提供保密性，但也可以实现完整性和认证； 
IKE负责协商，协商加密算法，密钥。 
AH和ESP可分开，也可以接合使用。
IPSec有两种工作模式：传输模式和隧道模式 
1）传输模式 
首先加密数据；然后在IP头和数据之间插入IPSec头。 
传输模式加密部分较少，节省带宽，减轻CPU负载，通信和处理效率较高。
2）隧道模式 
将数据包整个加密，然后再加上ESP头，再加个新的IP头。 
隧道模式的安全性较高。
IPV6中，IPSec必选；IPV4，IPSec可选。
**2、SSL**
SSL，用于安全传输数据的一种通信协议。包括服务器认证、客户端认证、SSL链路数据完整性和保密性等几个方面。SSL协议建立在传输层即TCP之上，应用层之下，有一个突出的优点是它与应用层协议相独立，高层应用协议，如HTTP可以透明地建立在SSL之上进行工作。
SSL协议组成： 
![这里写图片描述](https://img-blog.csdn.net/20180709223935995?watermark/2/text/aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L2xlZnRmaXN0/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70)
SSL记录协议 
所有要传输的数据都被封装在记录中，记录由记录头和长度不为0的记录数据组成。所有SSL通信，包括握手消息、安全空白记录、应用数据等都使用SSL记录。
SSL协议建立的传输通道具有保密、认证、可靠（有完整性检查）的基本安全性，但不能保证传输信息的不可否认性。
![这里写图片描述](https://img-blog.csdn.net/20180709224840877?watermark/2/text/aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L2xlZnRmaXN0/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70)
[HTTPS](https://blog.csdn.net/leftfist/article/details/67613837)
**3、PGP**
电子邮件加密方案。PGP并不是新的加密算法或协议，而是多种加密算法的综合，包含了非对称加密、对称加密、数字签名和摘要，压缩等等。
1）加密原理 
![这里写图片描述](https://img-blog.csdn.net/20180709225718250?watermark/2/text/aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L2xlZnRmaXN0/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70)
2）密钥管理机制 
公钥介绍机制。即由发送方A、接收方B共同信任的权威认证机构D来为双方的公钥进行担保。
**五、计算机病毒与防治**
计算机病毒多种多样，但都有共同特征：传染性、非授权性、潜伏性和破坏性。
蠕虫 
是病毒中的一种，但是它与普通病毒之间有着很大的区别。一般认为：蠕虫是一种通过网络传播的恶性病毒，它具有病毒的一些共性，如传播性、隐蔽性、破坏性等等，同时具有自己的一些特征，如不利用文件寄生（有的只存在于内存中），对网络造成拒绝服务，以及和黑客技术相结合，等等。
典型的蠕虫病毒有尼姆达、震荡波、熊猫烧香等。
木马 
木马不具传染性，它并不能像病毒那样复制自身，也并不“刻意”地去感染其他文件，它主要通过将自身伪装起来，吸引用户下载执行。相对病毒而言，我们可以简单地说，病毒破坏你的信息，而木马窃取你的信息。 
典型的特洛伊木马有灰鸽子、网银大盗等。
**六、身份认证与访问控制**
**1、用户标识与认证**
除了口令、密钥、各种卡、指纹人脸识别等，还有 
1）PPP（点对点协议）认证 
数据链路层协议。 
PPP定义了PAP(密码验证协议)、CHAP(挑战-握手验证协议)、EAP(扩展验证协议)。其中：
PAP：明文密码验证
CHAP：加密验证。服务器端向客户端发送会话ID+挑战字符串，客户端收到挑战字符串后，使用它对口令进行MD5散列并返回。服务器端存有客户端的明文口令，可进行比对。
EAP： 
一个用于PPP认证的通用协议，支持多种认证机制，不需要在建立连接阶段指定认证方式，传给后端的认证服务器搞定。缺点是PPP要想使用EAP就要修改。
2）RADIUS协议 
朗讯公司提出的客户/服务器方式的安全认证协议，能在拨号网络中提供注册、验证功能，现在已成为互联网的正式协议标准，当前流行的AAA（Authentication认证 Authorization授权 Accountion审计）协议。
**2、逻辑访问控制**
访问控制在身份认证基础上，对不同身份的请求加以限制。认证解决“你是谁“”的问题，访问控制解决“你能做啥”的问题。
访问控制包括主体（访问者）、客体（被访问者，如文件，数据库）、访问规则三方面构成。
访问控制策略（访问规则） 
1）自主访问控制（DAC） 
主体决定客体的被访问策略 
方便，但不够安全。
2）强制访问控制（MAC） 
统一划分客体的被访问策略。如信息的密级。安全，但管理麻烦，工作量大。
3）基于角色的访问控制（RBAC） 
统一对主体和客体进行管理。
**3、审计与跟踪**
**4、公共访问控制**
**七、网络安全体系**
**1、OSI安全服务**
OSI的OSI/RM是著名的网络架构模型（即网络七层架构），但没有对安全性作专门的设计，所以OSI在此基础上提出了一套安全架构： 
1）安全服务 
对象认证服务、访问控制服务、数据保密性服务、数据完整性服务、禁止否认服务 
2）安全机制 
为了实现以上服务，OSI建议采用以下8种安全机制： 
加密机制
数字签名机制
访问控制机制
数据完整性机制
鉴别交换机制
业务流填充机制 
没数据时也发送一些伪随机序列，扰人耳目。
路由控制机制
公正机制
安全服务与安全机制并非一一对应，有些服务需要多种机制才能实现。
**2、VPN在网络安全中的应用**
VPN（虚拟专用网络）利用不安全的网络，例如互联网，通过安全技术处理，实现类似专网的安全性能。
1）VPN的优点 
安全、方便扩充（接入、调整都很方便）、方便管理（许多工作都可以放在互联网）、节约成本
2）VPN的工作原理
**八、系统的安全性设计**
**1、物理安全**
物理设备本身的安全，以及存放物理设备的位置、环境等。应该集中存放，冗余备份，限制访问等。
**2、防火墙**
网络具有开放、自由、无边界性等特点，防火墙是网络隔离手段，目前实现网络安全的一种主要措施。 
1）防火墙基本原理 
采用包过滤、状态检测、应用网关等几种方式控制网络连接。
2）防火墙优点 
隔离网络 
集中管理 
有效记录
3）正确使用防火墙 
防火墙防外不防内 
不能完全杜绝外部攻击 
不能防范病毒、数据攻击 
只能防范已知的威胁 
不能防范不通过它的链接
**3、入侵检测**
仅有防火墙还不够。入侵检测系统是防火墙之后的第二道安全闸门。 
1）入侵检测技术 
包括数据采集、数据处理和过滤、入侵分析及检测、报告及响应4个阶段。
2）入侵检测技术的种类 
主机型 
网络型
**九、安全性规章**
