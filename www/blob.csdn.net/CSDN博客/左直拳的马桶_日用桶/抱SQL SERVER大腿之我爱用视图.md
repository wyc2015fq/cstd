# 抱SQL SERVER大腿之我爱用视图 - 左直拳的马桶_日用桶 - CSDN博客
2007年05月10日 17:43:00[左直拳](https://me.csdn.net/leftfist)阅读数：1651标签：[sql server																[数据库](https://so.csdn.net/so/search/s.do?q=数据库&t=blog)](https://so.csdn.net/so/search/s.do?q=sql server&t=blog)
个人分类：[sql server](https://blog.csdn.net/leftfist/article/category/136470)
抱SQL SERVER大腿之我爱用视图
左直拳
我们拥有一个巨大的表，两千多万条记录。也许在行家眼里，两千多万条记录顶多算条毛，不过这条毛也忒粗壮了一点：我们的数据库占用的空间已经达到5G多了。不要以为是日志文件在搞鬼，日志文件可以自动收缩的，最多不超过100M。
这样子就给我们备份、同步带来很大的麻烦。备份、压缩、下载，谁见谁害怕。
昨天想了个办法，将这个巨无霸分出去了。分到了另一个数据库上。虽说有这么多记录，不过这些记录并不是太重要，如果放在一个分布式的系统里面看，它没有同步的必要。
思想如下：
1、将大表转移到另一个数据库上
2、原有数据库建立一个视图，相同结构，相同名字
由于该视图是单表视图，结构跟表又一致，名字也跟表名一样，那么操作这个视图，无论是查询、插入、更新或删除，都跟直接操作这个表没什么区别。这样代码也无须做任何的修改。平滑过渡。
该表上建立的索引，视图也一样的使用。
以前我见过有人为了避免某个表过大，采用的方法是建立12个结构一样的表，每个月用一个。当时就想，这种做法好是好，但代码岂不是烦死了。现在想起来，查询的时候，可以使用视图将12个表用 UNION ALL 结合起来，当一个表用。
视图在分布式数据库中使用应该很方便。
