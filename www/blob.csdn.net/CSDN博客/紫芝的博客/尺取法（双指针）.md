# 尺取法（双指针） - 紫芝的博客 - CSDN博客





2018年04月26日 19:48:24[紫芝](https://me.csdn.net/qq_40507857)阅读数：301








# 双指针
1.所谓的双指针，指的是在遍历对象的过程中，不是普通使用单个指针进行访问
而是使用两个相同方向或者相反方向的指针进行扫描，从而达到相应的目的

2.双指针法充分使用了数组有序这一特征，从而在某些情况下能够简化一些运算


3.这里的指针，并非C语言中的指针的概念，而是指索引、游标、可迭代对象

## 例一：
 给定一个有序递增数组，在数组中找到满足条件的区间，

使得这个区间所有数字之和为某一给定的值

![](https://img-blog.csdn.net/20180427084145892)


```cpp
#include<bits/stdc++.h>
using namespace  std;
//在长度为n的数组a中，找到区间和为m的闭区间 
void FindSum(int *A,int n,unsigned int m)
{
	int i,j;
	i=j=0;
	int sum=A[0];
	while(i<=j&&j<n){
		if(sum>=m){
			if(sum==m)
			printf("%d-%d\n",i+1,j+1);
			sum-=A[i];
			++i;
		}else{
			++j;
			sum+=A[j];
		}
	}
}
int main()
{
	int m,a[14]={1,2,3,4,5,6,7,8,9,10,11,12,13,14};
	cin>>m;
	FindSum(a,14,m);
	return 0;
}
```

## 例二：
![](https://img-blog.csdn.net/20180427083832342)


![](https://img-blog.csdn.net/20180426210212735)


给定长度为n的数列以及整数s，求出不小于s的连续子序列的长度的最小值
如果解不存在，输出0

整个过程分为四步：
1.初始化左右端点
2.不断扩大右端点，直到满足条件
3.如果第二步中无法满足条件，则终止，否则更新结果

4.将左端点扩大1，然后回到第二步 





```cpp
#include<bits/stdc++.h>
using namespace std;
const int maxn=1e6+10;
int n,m,s,w,a[maxn];
int sum[maxn];//预处理前缀和
int main()
{
	int t;
	scanf("%d",&t);
	while(t--){
		memset(a,0,sizeof(a));
		memset(sum,0,sizeof(sum));
		cin>>n>>m>>s>>w;
		while(m--){
			int x,y;
			cin>>x>>y;
			a[x]++;a[y+1]--;//深刻理解，重点
		}
			for(int i=1;i<=n;i++)
			a[i]=a[i-1]+a[i];
			
			for(int i=1;i<=n;i++)
			sum[i]=sum[i-1]+a[i];
			
			long long ans=0,r=1,l=1;
			
			for(int i=1;i<=n;i++){
				while(r<i&&sum[i]-sum[r]>=w)//右边的区间 
				r++;
				while(l<r-1&&sum[r-1]-sum[l]>=w//左边的区间 
				&&sum[i]-sum[l]>=s)//整个区间
				l++;
				
				if(l<r&&sum[r-1]-sum[l-1]>=w
				&&sum[i]-sum[r-1]>=w
				&&sum[i]-sum[l-1]>=s)
				ans+=l; 
			}
			printf("%I64d\n",ans);
		}
	return 0;
 }
```









