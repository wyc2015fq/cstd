# 十进制整数(包括负数)和二进制的转换 - 紫芝的博客 - CSDN博客





2018年04月17日 23:49:15[紫芝](https://me.csdn.net/qq_40507857)阅读数：863








# 原码：

符号位+n位数值位

# 反码：

将原码的符号位不变，其余位取反

# 补码：

反码+1=补码

正数的原码、反码、补码都相同

一、十进制整数转换为二进制数

采用除2取余的方法：

1.用2去除十进制整数，得到一个商数和一个余数；

2.再用2去除新得到的商数，又会得到一个商数和余数；

3.反复进行直到商数为0为止；

4.把最后得到的余数作为二进制数的最高位

5.把最先得到的余数作为二进制的最低位

6.依次排列即可得到结果

```cpp
#include<bits/stdc++.h>
using namespace std;
int p[10];
int main()
{
	int n;//十进制数
	int w;//宽度为 8位 	
	while(cin>>n>>w)
	{
		if(n>=0)
		{
			vector<int> v;
		while(n)
		{
			v.push_back(n%2);
			n/=2;
		}
		int size=v.size();
		if(size<w)
		{
			for(int i=0;i<w-size;i++)
			v.push_back(0);
		}
		reverse(v.begin(),v.end());
		for(int i=0;i<w;i++)
		printf("%d",v[i]);
		printf("\n");
		}
	else {
		n=-n;
		vector<int> v;
		while(n)
		{
			if(n%2==1)
			v.push_back(0);
			else if(n%2==0)
			v.push_back(1);
			n/=2;
		}
		int size=v.size();
	
		if(size<w)
		{
			for(int i=0;i<w-size;i++)
			v.push_back(1);
		}
		
		v[0]++;		
		for(int i=0;i<w;i++)
		{
			if(v[i]>=2)
			{
				v[i]=v[i]%2;
				v[i+1]++;
			}
		}
		reverse(v.begin(),v.end());
		
		for(int i=0;i<w;i++)
		printf("%d",v[i]);
		printf("\n");
	}
	}
	return 0;
}
```


二、二进制转换为十进制数

方法：按照其位权展开，然后将各部分相加

```cpp
#include<bits/stdc++.h>
using namespace std;
int main()
{
	string s;
	
	while(cin>>s)
	{
	long long ans=0;
	 int len=s.length();
		if(s[0]=='0')//正数 
		{			
			for(int i=1;i<len;i++)
			{
				ans=ans+pow(2,len-i-1)*(s[i]-'0');
			}
		}else{
			cout<<"-";
			for(int i=0;i<len;i++)
			{
			if(s[i]=='0')
			s[i]=1;	
			else
			s[i]=0;
			}
			reverse(s.begin(),s.end());
			s[0]++;
			for(int i=0;i<len;i++)
			{
				if(s[i]>=2)
				{
					s[i]=s[i]%2;
					if(i+1<len)
					s[i+1]++;
				}
			 }
			 for(int i=0;i<len;i++)
			 ans=ans+pow(2,i)*s[i];
		}
		cout<<ans<<endl; 
	 } 
	return 0;
}
```




