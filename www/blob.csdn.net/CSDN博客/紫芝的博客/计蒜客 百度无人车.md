# 计蒜客 百度无人车 - 紫芝的博客 - CSDN博客





2018年05月18日 20:39:14[紫芝](https://me.csdn.net/qq_40507857)阅读数：77
个人分类：[解题模板](https://blog.csdn.net/qq_40507857/article/category/7565904)











[点击打开链接](https://nanti.jisuanke.com/t/26980)


百度一共制造了 nn 辆无人车，其中第 ii 辆车的重量为 ai kga_i\ \mathrm{kg}。

由于车辆过重会增大轮胎的磨损程度，现在要给这 nn 辆车减轻重量。每将一辆车减轻 1 kg1\ \mathrm{kg} 需要消耗 pp 万百度币，总预算为 ss 万百度币。

现在希望你设计一种最优的减重方案，使得最重的车辆的重量是所有减重方案中最小的。任何时候，每辆车的重量必须大于等于 1 kg1\ \mathrm{kg}。并且减重方案只能减轻整数 kg\mathrm{kg}。

### 输入格式

第一行输入一个整数 nn，表示百度无人车的数量。

接下来一行输入 nn 个整数，其中第 ii 个整数 aia_i 表示第 ii 辆车的重量。

接着一行输入两个整数 p,sp, s，分别表示把一辆车减重 1 kg1\ \mathrm{kg} 需要花费 pp 万百度币，总的预算是 ss 万百度币。

保证 1≤n≤200001 \le n \le 20000，1≤ai≤200001 \le a_i \le 20000，1≤p≤200001 \le p \le 20000，1≤s≤10181 \le s \le 10^{18}。

### 输出格式

输出一个整数，表示经过你设计的最优减重方案后，最重的车辆的重量是多少 kg\mathrm{kg}。



#### 样例输入1
4
6 7 8 9
1 3


#### 样例输出1
7


#### 样例输入2
5
11 14 6 13 11
4 68


#### 样例输出2
8






分析：



先把n个数从小到大排序，然后计算差分数组：b[I]=a[I]-a[l-1];



从后向前扫描差分数组，如果当前预算足够减去这一层，则b[l]=0，更新s;





否则把全部预算用用于减轻重量，b[l]更新为减轻后的值，跳出循环

![](https://img-blog.csdn.net/20180518203842344)


```cpp
#include<bits/stdc++.h>
using namespace std;
typedef long long ll;
const int maxn=2e4+10;
int n,p,a[maxn];
ll s;
int b[maxn];//差分数组
int main()
{
    scanf("%d",&n);
    for(int i=0;i<n;i++)
        scanf("%d",&a[i]);

    scanf("%d%lld",&p,&s);
    sort(a,a+n);
    b[0]=a[0];
    for(int i=1;i<n;i++)//计算差分数组
        b[i]=a[i]-a[i-1];
        s=s/p;//这些预算可以减轻多少kg
/*
    for(int i=0;i<n;i++)
    cout<<b[i]<<endl;
*/
    int k=1;//代表这是从后往前数第k辆车
    for(int i=n-1;i>=0;i--)
    {
        if(s>=b[i]*k){//当前预算足够减轻重量
            s-=b[i]*k;
            b[i]=0;
        }else{//预算不够，把全部预算用完
            int t=b[i]*k-s;
            b[i]=ceil(1.0*t/k);//浮点数向上取整
            s=0;
            break;
        }
            k++;
    }
    ll ans=0;
    if(b[0]<1)//最小重量为1kg
        printf("1\n");
    else{//差分数组求和
        for(int i=0;i<n;i++){
             //cout<<b[i]<<endl;
            ans+=b[i];
        }
        printf("%lld\n",ans);
    }

    return 0;
}
```



