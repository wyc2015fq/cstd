# 调多大的角度  计算几何 - 紫芝的博客 - CSDN博客





2018年05月05日 10:50:24[紫芝](https://me.csdn.net/qq_40507857)阅读数：54








[点击打开链接](https://cn.vjudge.net/contest/226984#problem/K)

# 调多大的角度

  假如你是一位迫击炮炮手，需要摧毁同一地平线上，距离为s米的地方工事，你要讲炮口角度a调为多少合适，炮口角度a定义为炮身与地平线的夹角，单位为角度，忽略空气阻力，忽略地球是圆的。当然，也可能会因为距离太远无法射到，如果太远，请计算出需要向目标移动的最短距离。迫击炮也有最短射程b米，低于(<b)的都无法射到。

## Input

有多组输入数据，每组一行v  s  b

初始速度v，敌人距离s，迫击炮最短射程b，全部为大于0的整数。

v的单位是米/秒。

文件结束时输入数据结束。

## Output

如果可以射到，先输出一个a和一个空格，再输出角度，单位为角度，保留到个位即可。

如果太远无法到达，先输出move和一个空格，再输出最短移动距离，保留两位小数，并保证移动后必须能够射到目标。

如果太近无法射到，输出-1。

注意：G值为9.8

## Sample Input

10 10 5

556 25956 139

211 28944 74

446 22680 24824

## Sample Output

a 39

a 28

move 24401.04

-1

# 斜抛运动

**定义：**

物体以一定的初速度斜向射出去，在空气阻力可以忽略的情况下，物体所做的这类运动叫做斜抛运动。物体作[匀变速曲线运动](https://baike.baidu.com/item/%E5%8C%80%E5%8F%98%E9%80%9F%E6%9B%B2%E7%BA%BF%E8%BF%90%E5%8A%A8)，它的运动轨迹是[抛物线](https://baike.baidu.com/item/%E6%8A%9B%E7%89%A9%E7%BA%BF/3555564)。

## 公式解析

斜抛运动能达到的最大高度公式：

![](https://gss3.bdstatic.com/-Po3dSag_xI4khGkpoWK1HF6hhy/baike/s%3D111/sign=ad5b878d7ed98d1072d40830103eb807/b2de9c82d158ccbfef07a44b1bd8bc3eb1354103.jpg)

在忽略空气阻力的条件下，分解速度，则有：

其中Vo为抛出速度，θ为速度与[水平面](https://baike.baidu.com/item/%E6%B0%B4%E5%B9%B3%E9%9D%A2)夹角，g为重力加速度

水平方向的速度是：![](https://gss1.bdstatic.com/9vo3dSag_xI4khGkpoWK1HF6hhy/baike/s%3D99/sign=004388755b82b2b7a39f35cd31addb7c/cc11728b4710b91269fbe68fc1fdfc039245228c.jpg)

竖直方向的速度是：![](https://gss3.bdstatic.com/-Po3dSag_xI4khGkpoWK1HF6hhy/baike/s%3D129/sign=0e742996932397ddd2799c066082b216/fcfaaf51f3deb48fe718b1aff21f3a292df57849.jpg)

水平方向的[位移](https://baike.baidu.com/item/%E4%BD%8D%E7%A7%BB)方程是：![](https://gss3.bdstatic.com/-Po3dSag_xI4khGkpoWK1HF6hhy/baike/s%3D106/sign=fde4a8f0c91349547a1eec64604e92dd/4610b912c8fcc3ce60c6d9429045d688d43f20b8.jpg)

竖直方向的位移方程是：![](https://gss3.bdstatic.com/7Po3dSag_xI4khGkpoWK1HF6hhy/baike/s%3D147/sign=2710f402af4bd11300cdb3366daea488/8601a18b87d6277f71aa22492a381f30e924fc03.jpg)

从公式  ![](https://gss3.bdstatic.com/-Po3dSag_xI4khGkpoWK1HF6hhy/baike/s%3D129/sign=0e742996932397ddd2799c066082b216/fcfaaf51f3deb48fe718b1aff21f3a292df57849.jpg)

可得当  ![](https://gss3.bdstatic.com/7Po3dSag_xI4khGkpoWK1HF6hhy/baike/s%3D44/sign=81fb2af20d2442a7aa0efca1d043429f/0b46f21fbe096b63e98e4e210e338744ebf8ac2f.jpg)

**小球达到最高点所用时间为**

![](https://gss2.bdstatic.com/9fo3dSag_xI4khGkpoWK1HF6hhy/baike/s%3D89/sign=042e3e94af6eddc422e7b9f238db7352/908fa0ec08fa513d2c4d7caf3f6d55fbb3fbd9df.jpg)

**所以小球运动时间为**

![](https://gss3.bdstatic.com/7Po3dSag_xI4khGkpoWK1HF6hhy/baike/s%3D112/sign=8efef16b6259252da7171905069b032c/3801213fb80e7bec03e010902d2eb9389b506b8c.jpg)

**小球能达到的最高点叫[射高](https://baike.baidu.com/item/%E5%B0%84%E9%AB%98)，从抛出点到落地点的水平位移叫[射程](https://baike.baidu.com/item/%E5%B0%84%E7%A8%8B)**

**物体的水平射程是：**

![](https://gss1.bdstatic.com/-vo3dSag_xI4khGkpoWK1HF6hhy/baike/s%3D52/sign=55a1d077adc379317968862beac451c2/2934349b033b5bb5e4bb328f34d3d539b600bc56.jpg)

![](https://gss3.bdstatic.com/7Po3dSag_xI4khGkpoWK1HF6hhy/baike/s%3D161/sign=e0f0286540a7d933bba8e0759c4bd194/86d6277f9e2f0708c77b3871eb24b899a901f241.jpg)

![](https://gss0.bdstatic.com/-4o3dSag_xI4khGkpoWK1HF6hhy/baike/s%3D136/sign=939b538a0846f21fcd345a50c0256b31/96dda144ad345982f6e6f8e30ef431adcbef8456.jpg)

![](https://gss2.bdstatic.com/-fo3dSag_xI4khGkpoWK1HF6hhy/baike/s%3D91/sign=b8061e3bd8b44aed5d4eb2e5b31cbb0d/9213b07eca80653832c9b96295dda144ad34829b.jpg)

从上式可以看出，当![](https://gss0.bdstatic.com/94o3dSag_xI4khGkpoWK1HF6hhy/baike/s%3D53/sign=00a8f941b8a1cd1101b67223b81265e5/6f061d950a7b02088380229060d9f2d3572cc872.jpg)时，![](https://gss2.bdstatic.com/-fo3dSag_xI4khGkpoWK1HF6hhy/baike/s%3D61/sign=40a48092ff1f4134e437067f241f16a9/377adab44aed2e736d6e9b5d8501a18b87d6fa38.jpg)度，![](https://gss3.bdstatic.com/7Po3dSag_xI4khGkpoWK1HF6hhy/baike/s%3D42/sign=77d824b533adcbef05347f04adafd7e8/d788d43f8794a4c2da64fa5a0cf41bd5ad6e397f.jpg)有最大值，所以斜抛运动的倾角为45度时，射程最远![](https://gss0.bdstatic.com/94o3dSag_xI4khGkpoWK1HF6hhy/baike/s%3D53/sign=00a8f941b8a1cd1101b67223b81265e5/6f061d950a7b02088380229060d9f2d3572cc872.jpg)时，

有最大射程，最大射程是指初态与末态垂直位移为0的状况下，而在落点低于抛点时，最佳初射角则为

![](https://gss0.bdstatic.com/94o3dSag_xI4khGkpoWK1HF6hhy/baike/s%3D112/sign=ab23ae40a38b87d65442af1e35082860/0df3d7ca7bcb0a46ea2097486963f6246b60af44.jpg)

h为初末垂直位移。

**斜抛运动[轨迹方程](https://baike.baidu.com/item/%E8%BD%A8%E8%BF%B9%E6%96%B9%E7%A8%8B)式：**

![](https://gss0.bdstatic.com/94o3dSag_xI4khGkpoWK1HF6hhy/baike/s%3D178/sign=5f78d29dd300baa1be2c43bc7f10b9b1/d833c895d143ad4b115659b180025aafa40f0642.jpg)

**三大常量：**

**射时T：**

![](https://gss3.bdstatic.com/7Po3dSag_xI4khGkpoWK1HF6hhy/baike/s%3D112/sign=8efef16b6259252da7171905069b032c/3801213fb80e7bec03e010902d2eb9389b506b8c.jpg)

**射高H：**

![](https://gss2.bdstatic.com/9fo3dSag_xI4khGkpoWK1HF6hhy/baike/s%3D116/sign=47d17db4932397ddd2799c056f83b216/b58f8c5494eef01f18c05c96e2fe9925bd317d88.jpg)

**射程R：**

![](https://gss2.bdstatic.com/9fo3dSag_xI4khGkpoWK1HF6hhy/baike/s%3D106/sign=4129ee5efadcd100c99cfc21448a47be/c995d143ad4bd113091ef36158afa40f4afb0595.jpg)



![](https://gss1.bdstatic.com/-vo3dSag_xI4khGkpoWK1HF6hhy/baike/c0%3Dbaike80%2C5%2C5%2C80%2C26/sign=ccb43b326e81800a7ae8815cd05c589f/8601a18b87d6277f83c3f0852a381f30e824fcbe.jpg)



## AC代码：

```cpp
#include<bits/stdc++.h>
using namespace std;
#define pi acos(-1)
int main()
{
    //freopen("test.in","r",stdin);
    //freopen("test.out","w",stdout);
	//ios::sync_with_stdio(0);
	int v,s,b;
	while(~scanf("%d%d%d",&v,&s,&b)){
		double v2=v*v;
		double max=(v2/9.8);//初速度与水平面的夹角为45度时，射程最大
		if(s<b)
		printf("-1\n");
		else if(s>max)
		printf("move %.2f\n",s-max);
		else{
			double x=asin(9.8*s/v2)/2;//初速度与水平面的夹角（弧度制）
			double ans=180*x/pi;//角度
			printf("a %.0f\n",ans);
		}
	}
	return 0;
}
```





