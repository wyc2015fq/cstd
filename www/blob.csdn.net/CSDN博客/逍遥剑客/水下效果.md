# 水下效果 - 逍遥剑客 - CSDN博客
2008年04月10日 00:46:00[xoyojank](https://me.csdn.net/xoyojank)阅读数：4764
这里说的水下效果, 是指在水底下时, 为了增强真实感, 做的一种水的波动效果, 算是post process的一种吧
原理很简单, 就是把渲染好的屏幕场景做为一张纹理输入, 然后对上面的像素按时间进行扰动, 这样感觉好像水在晃动一样, 增强代入感. (想想潜水时^_^)
代码很简单, 没啥好说的
sampler2D Texture0;//屏幕RenderTarget
sampler2D Texture1;//扰动纹理
float fTime0_1;
float4 ps_main( float2 texCoord : TEXCOORD0 ) : COLOR
{
float2 bump = tex2D(Texture1, texCoord + (fTime0_1*20));
float2 texel = texCoord + bump/500;
return tex2D( Texture0, texel );
}
Texture1是一张bumpmap
![](https://p-blog.csdn.net/images/p_blog_csdn_net/xoyojank/UnderWater_Bumpmap.JPG)
最终效果:
![](https://p-blog.csdn.net/images/p_blog_csdn_net/xoyojank/UnderWater_Scene.JPG)
可能不太明显, 毕竟是个动态效果, 把波动值加大:
![](https://p-blog.csdn.net/images/p_blog_csdn_net/xoyojank/UnderWater_Scene2.JPG)
关于扰动的时候屏幕边缘会显示另一边的像素的问题, 只要把texture0的寻址模式改成CLAMP就OK啦
![](https://p-blog.csdn.net/images/p_blog_csdn_net/xoyojank/UnderWater_TextureUV_Clamp.JPG)
