# hdu  1285 确定比赛名次（拓扑排序） - HJ - CSDN博客
2017年04月27日 14:41:32[FZH_SYU](https://me.csdn.net/feizaoSYUACM)阅读数：291
个人分类：[====ACM====																[---------OJ---------																[HDU																[----------图论---------																[拓扑排序](https://blog.csdn.net/feizaoSYUACM/article/category/7238159)](https://blog.csdn.net/feizaoSYUACM/article/category/6308029)](https://blog.csdn.net/feizaoSYUACM/article/category/6308041)](https://blog.csdn.net/feizaoSYUACM/article/category/6308067)](https://blog.csdn.net/feizaoSYUACM/article/category/6308070)
Problem Description 
有N个比赛队（1<=N<=500），编号依次为1，2，3，。。。。，N进行比赛，比赛结束后，裁判委员会要将所有参赛队伍从前往后依次排名，但现在裁判委员会不能直接获得每个队的比赛成绩，只知道每场比赛的结果，即P1赢P2，用P1，P2表示，排名时P1在P2之前。现在请你编程序确定排名。
Input 
输入有若干组，每组中的第一行为二个数N（1<=N<=500），M；其中N表示队伍的个数，M表示接着有M行的输入数据。接下来的M行数据中，每行也有两个整数P1，P2表示即P1队赢了P2队。
Output 
给出一个符合要求的排名。输出时队伍号之间有空格，最后一名后面没有空格。
其他说明：符合条件的排名可能不是唯一的，此时要求输出时编号小的队伍在前；输入数据保证是正确的，即输入数据确保一定能有一个符合要求的排名。
Sample Input
4 3 
1 2 
2 3 
4 3
Sample Output
1 2 4 3
因为要按照字典序来输出，因此在出现多个入度为0的情况时，需要从小到大扫描一遍。
```cpp
#include<iostream>
#include<cstring>
using namespace std;
int n,m,a[1005][1005],vis[1005],ans[1005]; 
void topsort()         //拓扑排序  
{
    for(int i=1;i<=n;i++)
      for(int j=1;j<=n;j++)
        if(a[i][j])
          vis[j]++;
    for(int i=1;i<=n;i++)     //从最小的开始寻找 
    {
        int k=1;       //保证多个答案的时候序号小的先输出 
        while(vis[k])         //寻找入度为零的点 
          k++;
        ans[i]=k;
        vis[k]=-1;
        for(int j=1;j<=n;j++)
          if(a[k][j])
            vis[j]--;        //与当前序号相关联的入度减1 
    }
}
int main()
{
    int x,y; 
    while(cin>>n>>m)
    {
        memset(ans,0,sizeof(ans));
        memset(a,0,sizeof(a));
        memset(vis,0,sizeof(vis));
        for(int i=0;i<m;i++)
        {
            cin>>x>>y;
            a[x][y]=1;
        }
        topsort();
        for(int i=1;i<n;i++)
          cout<<ans[i]<<" ";
        cout<<ans[n]<<endl;
    }
    return 0;
}
```
