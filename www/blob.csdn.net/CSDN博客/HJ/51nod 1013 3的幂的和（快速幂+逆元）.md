# 51nod  1013 3的幂的和（快速幂+逆元） - HJ - CSDN博客
2017年04月28日 20:40:19[FZH_SYU](https://me.csdn.net/feizaoSYUACM)阅读数：501
求：3^0 + 3^1 +…+ 3^(N) mod 1000000007 
Input
输入一个数N(0 <= N <= 10^9)
Output
输出：计算结果
Input示例
3
Output示例
40
逆元：
若对于数字A,C 存在X，使A * X = 1 (mod C) ,那么称X为 A 对C的乘法逆元。
理论依据:
F / A mod C = ?
如果存在 A*X = 1 (mod C)
那么2边同时乘起来,得到 F * X = ? (mod C)
成立条件
(1) 模方程 A * X = 1(mod C) 存在解
(2) A | F (F % A == 0)
若ax=1 mod f 则称**a关于模f的乘法逆元为x**。也可表示为**ax≡1(mod f)**。
**当a与f互素时，a关于模f的乘法逆元有唯一解。如果不互素，则无解。如果f为素数，则从1到f-1的任意数都与f互素，即在1到f-1之间都恰好有一个关于模f的乘法逆元**
```cpp
#include<iostream>
using namespace std;
#define mod 1000000007
typedef long long LL;
LL quick_pow(LL x,LL n)
{
    LL res=1;
    while(n)
    {
        if(n&1)
          res=res*x%mod;
        x=x*x%mod;
        n/=2; 
    }
    return res;
}
int main()
{
    LL n;
    while(cin>>n)
    {
        LL ans=(quick_pow(3,n+1)-1)*500000004%mod;
        cout<<ans<<endl;
    }
    return 0;
}
```
