# 计算机网络知识总结（上） - HJ - CSDN博客
2018年01月22日 15:15:25[FZH_SYU](https://me.csdn.net/feizaoSYUACM)阅读数：254
所属专栏：[计算机基础知识](https://blog.csdn.net/column/details/19572.html)
物理层的主要任务是实现通信双方的物理连接，以比特流（bits）的形式传送数据信息，并向数据链路层提供透明的传输服务。
物理层接口的特性：机械特性、电气特性、功能特性、规程特性。
数据是指所有能输入到计算机并被计算机程序识别和处理的符号的介质的总称。有模拟数据（某个区间内连续变换的值）和数字数据（某个区间内是离散的值）之分。数据是信息的载体。在计算机中，信息是用数据来表示并转换成信号进行传送。
数据通信是指在不同计算机之间传送表示字母、数字、符号的二进制代码0、1比特序列的模拟或数字信号的过程。
逻辑信道在物理信道上增加软件或硬件规程，用以实现物理信道的可靠数据传输。
信道特性是描述信道性能和质量的指标，包括信道误码率、信道时延和信道带宽等。
频分多路复用实现的条件是信道的总带宽远远大于每个传输单路信号所需要的带宽。
伪随机码序列是一种貌似随机但实际上是有规律的周期性二进制码序列。常用的伪随机码序列是M序列。
电路交换：网络节点内部完成对通信线路的连通，为数据提供专用的传输通路。
存储转发交换：网络节点运用程序先将途径的数据流按照传输单元接收并存储下来，然后选择一条合适的链路将它转发出去，在逻辑上为数据流提供了传输通路。
电路交换就是由交换机负责在两个通信站点之间建立一条物理专用线路。利用电路交换进行通信，通常需要经历“建立电路”、“传输数据”和“拆除电路”三个阶段。
同一个报文的所有分组到达终点后，按分组编号等信息再将它们重新组装成完整的长报文。
在数据链路层把IP数据报封装成帧并将数据帧从一个节点传输到相邻节点，通过采用差错控制与流量控制等方法为网络层提供可靠的、无差错的、透明的数据传输服务。
每一种数据链路层协议都规定了帧的数据部分长度上限——最大传输单元（MTU）。
控制字符SOH放在帧的最前面，表示帧的开始，另一个控制字符EOT表示帧的结束。
通信过程中产生的传输差错是由随机差错和突发差错共同构成的。
误码率是指二进制比特在数据传输系统中被传错的概率。（P(e) = N(e)/N）
如果超过协议规定的最大重发次数，接收端仍然不能正确接收，发送端则终止发送该数据帧，并向高层协议报告错误信息。
流量控制主要是为了防止网络拥塞、数据淹与死锁等问题所采取的一种措施。即使在网络正常工作的情况下，流量控制也能减少信息的传输时延，并能防止网络的各部分处于超负荷状态。
流量控制分为两种，基于反馈的流量控制和基于速率的流量控制。
滑动窗口协议按照发送与接收窗口的大小不同以及不同的控制机制可以分为：1位滑动窗口协议、后退N帧协议以及选择重传协议。对于有序接收方式，发送窗口最大尺寸选为S(max)，对于无序接收方式，窗口最大尺寸至多是序号范围的一半。
PPP协议有三个组成部分：
（1）将IP数据包封装到串行链路的方法
（2）用来建立、配置和测试数据链路连接的链路控制协议LCP
（3）一套网络控制协议NCP
一般连续发送的两个PPP帧之间只需要用一个标志字段即可。如果出现连续两个标志字段，表示这是一个空帧，应当丢弃。
以太网使用CSMA/CD（载波监听多路访问/冲突检测）协议来协调总线上各计算机的工作。CSMA/CD的基本思想可以归纳为以下3点：
（1）先听后发
（2）边发边听，碰撞停止
（3）退避重传，碰撞过多放弃发送
在以太网中，数据链路层地址又称MAC地址或物理地址。MAC地址是一个48比特的二进制数，它被固化在每一个网络适配器的ROM中。MAC地址是某个接口的标识符或称这个接口的物理地址。以太网交换机根据数据帧的目标MAC地址转发数据。
交换机采用一种地址学习的方式来工作，交换机还会隔离本地流量，阻止不必要的流量被传送到网络上。
交换机处理未知单播帧（目的MAC在MAC地址表中找不到映射关系）和广播帧（目标MAC为FF-FF-FF-FF-FF-FF）的时候才去的是洪泛方式，即将数据帧向除发送接口外的其他所有端口进行转发。
当网络中充满了大量的广播帧就会引起广播风暴，它会使交换式网络的性能显著下降。
为了隔离交换式网络中广播，可以使用虚拟局域网（VLAN）技术或使用路由器。
路由器工作在网络层，它根据网络层的逻辑地址来转发数据包。路由器的每一个接口既是一个冲突域，又是一个广播域，也就是说路由器不允许广播帧从一个接口转发到另一个接口。
虚拟局域网VLAN是由一些局域网网段构成的与地理位置无关的逻辑组，而这些网络具有某些共同的需求。每个VLAN的帧都有一个明确的标识符，指明发送这个帧的工作站是属于哪一个VLAN。
使用VLAN技术可以对连接到交换机端口的网络用户进行逻辑分段，它不受网络用户的物理位置限制而根据用户需求进行网络分段。使用了VLAN技术后，人们可以用交换机来代替路由器隔离广播域。VLAN还可以被用来设立防火墙、限制数据访问以及将网络入侵事件通知给管理者等，这些都可以提高网络的安全系数。
常见的VLAN划分方式：
（1）基于端口划分VLAN（静态VLAN）
（2）基于MAC地址划分VLAN（主机网卡的MAC地址）
（3）基于网络层协议类型划分VLAN
（4）基于网络层子网地址划分VLAN
（5）基于网络层以上协议乃至应用程序的类型划分VLAN
当一个交换机接收到来自于某台主机的数据帧，它将给这个数据帧加上一个标签以标识这个数据帧来自于哪个VLAN。VLAN标签被添加到原始的以太网帧的目的MAC地址字段和协议类型字段之间。
在以太网交换机中，CFI总是被设置为0，由于兼容特性，CFI常用于以太网类网络和令牌环类网络之间。
网络层关注IP数据报通过通信子网的路径，即如何将IP数据报从源端沿着某条适当的路径送达到目的端。
网络层要实现路由选择、拥塞控制与网络互连等基本功能，在使用了数据链路层提供的服务的同时，向传输层的端到端传输连接提供服务。
Internet上每一台主机和路由器在互联网上的接口都有一个唯一的IP地址，即IP地址唯一标识IP网络上的一台设备。
IP地址包含网络号和主机号两部分。
分类的IP地址
--> 子网的划分
--> 构成超网
公有地址只负责连通互联网上的其他节点，并作为一个互联网的节点，而私有地址则只负责连接企业或机构的内部网络，这些内部地址不能再互联网上使用。因此私有地址可以在众多企业或机构的内部网络中被重复使用，从而缓解了IP地址资源枯竭的危机。
TCP/IP协议定义了一个在因特网上传输的报，称为IP数据报。协议规定：IP数据报的首部长度必须是4字节的整数倍。如果不是4字节的整数倍，则由最后的填充字段“补0”来加以填充。
如果一个IP数据报需要通过网络传输，但其总长度超过了网络所允许的最大传输单元MTU时，则必须先对数据报进行分片，再通过网络传送。此时，IP数据报中的“总长度”字段指的是经过分片后每一个分片的首部与数据长度的总和。
数据报每经过一台路由器TTL的值减1，如果一个数据报在转发前TTL的值减到零，那么这个数据报将被路由器丢弃，这样做的好处是当网络中出现环路或是其他原因引起的数据报无法正常交付的时候，这个数据报不会在网络中被无限制的传递下去，从而达到节省网络资源的目的。
在数据报的整个传递过程中，无论是否进行分片，无论每个分片被路由的路径是否相同，数据报中的源地址和目的地址字段始终保持不变。
ARP采用了老化机制，在一段时间内如果表中的某一行没有使用，就会被删除，这样可以大大减少ARP缓存表的长度，加快查询速度。
最初的编制方案不合理，需要划分子网与构造超网，原因如下：
（1）IP地址资源的有效利用率低
（2）路由器的工作效率低
（3）网络规模的限制
子网划分的方法是从原两级IP地址结构中的主机号部分借用若干位作为子网号。相应的原两级IP地址结构编程了三级IP地址结构。
