# hdu  1281  棋盘游戏（二分匹配+暴力） - HJ - CSDN博客
2017年01月16日 01:03:39[FZH_SYU](https://me.csdn.net/feizaoSYUACM)阅读数：279
Problem Description 
小希和Gardon在玩一个游戏：对一个N*M的棋盘，在格子里放尽量多的一些国际象棋里面的“车”，并且使得他们不能互相攻击，这当然很简单，但是Gardon限制了只有某些格子才可以放，小希还是很轻松的解决了这个问题（见下图）注意不能放车的地方不影响车的互相攻击。 
所以现在Gardon想让小希来解决一个更难的问题，在保证尽量多的“车”的前提下，棋盘里有些格子是可以避开的，也就是说，不在这些格子上放车，也可以保证尽量多的“车”被放下。但是某些格子若不放子，就无法保证放尽量多的“车”，这样的格子被称做重要点。Gardon想让小希算出有多少个这样的重要点，你能解决这个问题么？
Input 
输入包含多组数据， 
第一行有三个数N、M、K(1 < N,M<=100 1 < K <= N*M)，表示了棋盘的高、宽，以及可以放“车”的格子数目。接下来的K行描述了所有格子的信息：每行两个数X和Y，表示了这个格子在棋盘中的位置。
Output 
对输入的每组数据，按照如下格式输出： 
Board T have C important blanks for L chessmen.
Sample Input
3 3 4 
1 2 
1 3 
2 1 
2 2 
3 3 4 
1 2 
1 3 
2 1 
3 2
Sample Output
Board 1 have 0 important blanks for 2 chessmen. 
Board 2 have 3 important blanks for 3 chessmen.
Author 
Gardon
解法：分析每一个点P(x,y)， 
横坐标x看成图A中的一个点，纵坐标看成另外图B中的一个点 
那么这个点能放棋子表明这两个图中的两个点有一条边相连
最后求最大匹配数
还有一个问题：如何求重要点？ 
   暴力枚举每一个存在于最大匹配方案中的点，判断删除该点，能否依然实现最大匹配即可
```cpp
#include<iostream>
#include<cstdio>
#include<cstring>
using namespace std;
const int N=105;
int map[N][N],vis[N],use[N];
int n,m,k,x[N*N],y[N*N];
int find(int x)                      //匈牙利算法求最大匹配
{
    for(int i=1;i<=m;i++)
    {
        if(map[x][i]&&!vis[i])
        {
            vis[i]=1;
            if(!use[i]||find(use[i]))
            {
                use[i]=x;
                return 1;
            }
        }
    }
    return 0;
}
int maxP()                  //暴力枚举每一个可放点，求出最大匹配
{
    int sum=0;
    memset(use,0,sizeof(use));
    for(int i=1;i<=n;i++)
    {
        memset(vis,0,sizeof(vis));
        if(find(i))
          sum++;
    }
    return sum;
}
int main()
{
    int tt=1;
    while(cin>>n>>m>>k)
    {
        memset(map,0,sizeof(map));
        for(int i=1;i<=k;i++)
        {
            cin>>x[i]>>y[i];
            map[x[i]][y[i]]=1;
        } 
        int ans=maxP(),sum=0;
        for(int i=1;i<=k;i++)
        {
            map[x[i]][y[i]]=0;
            if(maxP()<ans)          //如果去掉该点最大匹配数减少，则该点为重要点
              sum++;
            map[x[i]][y[i]]=1;
        }
        printf("Board %d have %d important blanks for %d chessmen.\n", tt++,sum,ans); 
    }
    return 0;
}
```
