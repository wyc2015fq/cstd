# hdu  5701 中位数计数（数学） - HJ - CSDN博客
2017年04月08日 18:22:04[FZH_SYU](https://me.csdn.net/feizaoSYUACM)阅读数：261
Problem Description 
中位数定义为所有值从小到大排序后排在正中间的那个数，如果值有偶数个，通常取最中间的两个数值的平均数作为中位数。
现在有n个数，每个数都是独一无二的，求出每个数在多少个包含其的区间中是中位数。
Input 
多组测试数据
第一行一个数n(n≤8000)
第二行n个数，0≤每个数≤109,
Output 
N个数，依次表示第i个数在多少包含其的区间中是中位数。
Sample Input
5 
1 2 3 4 5
Sample Output
1 2 3 2 1
解题思路：
用一个数组记录下其他数字比当前s[i]大以及小的个数，因为如果s[i]要为中位数，那么在区间内比它小的数和比它大的数的个数要相同，且都为区间个数的一半（显然区间个数一定是奇数个）。
```cpp
#include<iostream>
#include<cstring>
using namespace std;
#define c 8001
int s[100005],ans[100005];
int main()
{
    int n;
    while(cin>>n)
    {
        for(int i=0;i<n;i++)
          cin>>s[i];
        for(int i=0;i<n;i++)
        {       
            memset(ans,0,sizeof(ans));
            ans[c]++;
            int num=0;
            for(int j=i-1;j>=0;j--)
            {
                num+=s[j]>s[i]?1:-1;
                ans[c+num]++;
            }
            num=0;
            int cnt=ans[c];
            for(int j=i+1;j<n;j++)
            {
                num+=s[j]<s[i]?1:-1;
                cnt+=ans[c+num];
            }
            if(i==0)
              cout<<cnt;
            else
              cout<<" "<<cnt;
        }
        cout<<endl;
    }
    return 0;
}
```
