# hdu 2050 折线分割平面（图形递推题） - HJ - CSDN博客
2016年05月09日 18:19:14[FZH_SYU](https://me.csdn.net/feizaoSYUACM)阅读数：1266
Problem Description 
我们看到过很多直线分割平面的题目，今天的这个题目稍微有些变化，我们要求的是n条折线分割平面的最大数目。比如，一条折线可以将平面分成两部分，两条折线最多可以将平面分成7部分，具体如下所示。
Input 
输入数据的第一行是一个整数C,表示测试实例的个数，然后是C 行数据，每行包含一个整数n(n大于0且n<=10000),表示折线的数量。
Output 
对于每个测试实例，请输出平面的最大分割数，每个实例的输出占一行。
Sample Input 
2 
1 
2
Sample Output 
2 
7
递推题目首要是在分析，先由前面几种特殊的情况来推出一般递推公式，因此我们先来看看看：
假如题目要求的不是折线，而是 
直线，那么可以得到公式n条直线会划分成1 + n * (n + 1) / 2个区域 
假如题目要求的不是折线，而是 
交叉线，那么可以得到公式n条叉线会划分的区域比直线多出1 + n * (n + 1) / 2个
接下来就细细考虑，在直线和叉线之间，折现的区别和联系分别在哪里？ 
对比折线，叉线和直线： 
                        折线               叉线            直线 
如果n=1：         2                     4                2 
如果n=2：         7                     11              4 
如果n=3…
可得到：对于k条折线，则所划分的区域会比k条叉线少k*2个
所以可以得出最后k条折线所划分的区域的递推公式为
```
1 + k * (2 * k + 1) - 2 * k;
```
整理得
```
2*k*k-k+1;
```
```cpp
#include<iostream>
using namespace std;
int main()
{
    long long t,k,n;  
    cin>>n;
    while(n--)
    {
        cin>>t;
        k=2*t*t-t+1;            //得到公式代码就十分简洁明了
        cout<<k<<endl;
    }
    return 0;
}
```
