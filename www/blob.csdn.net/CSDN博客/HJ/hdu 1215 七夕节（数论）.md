# hdu  1215  七夕节（数论） - HJ - CSDN博客
2016年05月09日 17:41:49[FZH_SYU](https://me.csdn.net/feizaoSYUACM)阅读数：1481
hdu  七夕节  （1215）
Problem Description 
七夕节那天,月老来到数字王国,他在城门上贴了一张告示,并且和数字王国的人们说:”你们想知道你们的另一半是谁吗?那就按照告示上的方法去找吧!” 
人们纷纷来到告示前,都想知道谁才是自己的另一半.告示如下:
数字N的因子就是所有比N小又能被N整除的所有正整数,如12的因子有1,2,3,4,6. 
你想知道你的另一半吗?
Input 
输入数据的第一行是一个数字T(1<=T<=500000),它表明测试数据的组数.然后是T组测试数据,每组测试数据只有一个数字N(1<=N<=500000).
Output 
对于每组测试数据,请输出一个代表输入数据N的另一半的编号.
Sample Input 
3 
2 
10 
20
Sample Output 
1 
8 
22
一开始拿到这个题目会想这很简单，不就是求一个数的因子和嘛。 
不过要考虑数据的大小，如果开一个循环不细细考虑减少复杂度的话可能超时。 
恩，问题就在这里。我们知道，一个数的因子总是成对出现的，譬如说： 
假设
```
t=m*n（t,m,n均为正整数）；
```
那么可以断定m和n其中必有一个小于等于根号t，另一个大于等于根号t， 
即
```
令k*k==t(k为正实数）,如果t=m*n,并且m<=k，则有n>=k;
```
（对于细节不加以详述，大家可以在网上找找度娘）
那么就可以想办法把循环的次数由N减少到根号N，避免超时。
代码如下（细节问题请看代码）：
```cpp
#include<iostream>
using namespace std;
int main()
{
    int n,m;
    cin>>n;
    while(n--)
    {
        int sum=1;
        cin>>m;
        for(int i=2;i*i<=m;i++)   //给出数据太大，将循环范围缩小避免超时
            if(m%i==0)
            {
                if(i!=m/i) sum=sum+i+m/i;   //判断该数是m的因子并且是比根号m小的一个因子，因为循环次数缩小，根据上面所述，要将另一个因子一并加上
                else sum=sum+i;      //否则即可判定该数为m的平方根，因为两个平方根相同，即只需要加一次便可
            }
        cout<<sum<<endl;
    }
    return 0;
}
```
