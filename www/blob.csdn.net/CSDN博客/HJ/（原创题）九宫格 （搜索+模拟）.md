# （原创题）九宫格  （搜索+模拟） - HJ - CSDN博客
2017年08月31日 13:53:01[FZH_SYU](https://me.csdn.net/feizaoSYUACM)阅读数：677
Problem Description
九宫格大家应该都填过。最简单的，就是将1~9这9个数填入九宫格中，要保证每一行每一列每一斜对角三个数之和都相等。不过，现在如果将数的范围扩大成任意正整数，你能做出来吗？试试看吧！
Input 
第一行输入一个正整数T，表示数据组数（1< T<10000）； 
第二行输入九个正整数，保证每个数据不超过100，并且各不相等；
Output 
如果能够满足每一行每一列每一斜对角三个数之和都相等，则输出“Yes”；如果不满足，则输出“No answer！”。
Sample Input 
2 
1 2 3 4 5 6 7 8 9 
2 3 4 5 6 7 8 9 10
Sample Output 
Yes 
No answer!
可能具有一定处理能力的人才能完全做出来吧。用到搜索和模拟。也是本人比较得意的一个原创题。
```cpp
#include<iostream>
#include<algorithm>
#include<cstring>
#include<ctime>
#include<cstdlib>
#include<cstdio>
using namespace std;
int m,k,blag,vis[10],s[10],d[5];
int s2[100005][10];
int check()                               
{
    for(int i=0;i<9;i++)
      for(int j=0;j<9;j++)
        for(int p=0;p<9;p++)
          if(!vis[i]&!vis[j]&&!vis[p]&&s[i]+s[j]+s[p]==m)    //未被访问过并且三个数之和为m 
          {
              d[0]=s[i];d[1]=s[j];d[2]=s[p];           //将三个数提取出来，存放到d[]中 
              vis[i]=vis[j]=vis[p]=1;       //将这三个数做上标记
              for(int q=0;q<9;q++)
                if(s[q]==k-s[i]||s[q]==k-s[j]||s[q]==k-s[p])      //将这三个数对应的数'也做上标记 
                  vis[q]=1;
              return 1;
          }
    return 0;
}
int judge()
{
    if(check()==0)    //判断这四组数中是否存在任意三组，其中每一组抽出一个数字所构成的三个数能够组成一横排或者一竖排  
      return 0;
    int a,b;
    for(int i=0;i<9;i++)       //此时只剩下了一组未标记 
      if(!vis[i])
        a=s[i];
    b=k-a;              //把它们找出来存放到a,b中 
    for(int i=0;i<3;i++)
    {
        for(int j=0;j<3;j++)
        {
            if(i==j)
              continue;
            if(d[i]+(k-d[j])+a==m&&(k-d[i])+d[j]+b==m)  //最后只需要调整一竖排的顺序，使之满足上下两横排三个数之和也为m即可 
              return 1;
        }
    }
    return 0;
}
int main()
{
    int t;
    cin>>t;
    while(t--)
    {
        memset(vis,0,sizeof(vis));
        for(int i=0;i<9;i++)   //输入9个数 
        {
            int x;
            cin>>x;
            s[i]=x;
        }
        sort(s,s+9);       //排完序之后第5大的数就是中间的数字 
        int flag=0;
        k=s[4]*2;              //k为任意两个相对的数之和  共有四组这样的数字 
        for(int i=0;i<4;i++)
          if(s[i]+s[8-i]!=k)           //如果少于四组则无法填满九宫格 
            flag=1;
        if(flag==0)
        {
            m=s[4]*3;              //m为任意一横排一竖排或者一斜线三个数之和 
            vis[4]=1;
            if(judge())
              cout<<"Yes"<<endl;
            else
              cout<<"No answer!"<<endl;
        }
        else
           cout<<"No answer!"<<endl;
    }
    return 0;
}
```
