# 网络测试与分析主要内容总结 - HJ - CSDN博客
2018年06月30日 19:21:45[FZH_SYU](https://me.csdn.net/feizaoSYUACM)阅读数：413
##### **定义**：
       按照特定的方法在指定的网络环境中，运用测试仪器平台对计算机网络进行数据采集，并对采集到的数据进行分析处理，得到数据结果，同时对故障原因进行分析或定位。
**分类**：
1）按**功能体系**可分为：数据采集、数据管理、数据分析和和数据表示四个模块；
2）按**结构体系**可分为：元和流两个级。
       ①“元”代表网线、网卡、交换机、路由器、主机和服务器等组成网络的基本单位以及组成网络的架构；
       ②“流”代表网络中的各种数据，可以是比特流、数据帧流，也可以是分组流和应用流；
**测试中的数据源：**
       一般分为主动测试数据源和被动测试数据源
**被动测试的三种架构：**
|架构名称|典型描述|
|----|----|
|代理架构|SNMP代理架构是基于轮询式的网络测试模型，采用代理架构进行测试时，需要将网络测试任务分布于不同的代理点上，代理点通常为路由器或者交换机；|
|间接数据源架构|基于NetFlow的发布式模型是比较典型的一个，不同于SNMP代理架构，采用NetFlow发布的形式，可以保证代理响应，除了增加部分网络流量外，几乎可以忽略其对网络造成的影响；|
|直接数据架构|需要预先规划数据采集点的部署。主要有三种方法获得流量：直接获取，镜像方式，TAP方式；|
**错误帧的类型：**
|错误帧的类型|错误原因|
|----|----|
|FCS（帧检验序列 Frame Check Sequence）错误|在以太网传输过程中产生了误码，即CRC（循环冗余检验）错误，表示数据传输中有坏帧导致校验结果不正确，坏帧将被丢弃；|
|Runt（短帧）错误|包长度小于64字节，但CRC正确，超小帧；|
|Fragment分片错误|包长度小于64字节，且CRC错误；|
|Alignment对齐错误|数据帧为不是一个完整的字节，不能被8bit整除或帧长非整数；|
|Collision碰撞|数据包在传输中发生冲突；|
|Oversize超长帧错误|CRC正确，数据段长度在1518 B ~ 1522 B之间（未启用Jumbo）；|
|Dribble错误|正确的CRC检验帧后有多余字节；|
|Jabber错误|超长帧的CRC校验错误；|
|幻象帧|看上去像是一个有效帧，但是没有帧的起始定界（长度必须至少是64字节）；|
**协议分析仪的常用接入方式:**
|常用接入方式|优点|缺点|
|----|----|----|
|直连任意接口|测试方便；|只能收到组播、广播和本端口流量；|
|SPAN|不必终端链路；|需要配置交换机，并增加CPU开销；|
|TAP接入|真实流量，协议分析；|需要另接TAP设备，连接时需要断开网络；|
|Hub|测试方便；|只适用于低流量；|
|连接到Trunk口|不必中断链路；|需要专业分析仪，PC网卡不支持；|
|串行接入|真实流量，协议分析；|性能容易导致网络质量下降；|
**交换机的三种转发方式**
|交换机的转发方式|描述|
|----|----|
|存储转发|是交换机中应用最广的转发方式；交换机必须接收到一个完整的帧才进行转发。由于需要对输入端口的数据帧进行检查，因此增加了数据处理时延，从而导致性能略有下降；|
|直接转发|提供了低时延、高性能的交换方式； 因为转发前不需要读取完整的帧信息，所以延迟非常小；但转发时没有检查冗余校验等信息，不提供错误检测能力；|
|直接转发无碎片|改进后的直接转发方式，是介于存储转发和直接转发之间的一种解决方式；这种方式虽然也不提供数据校验，但是能够避免大多数的错误。它的数据处理速度比直接转发方式慢，但比存储转发方式快许多；|
