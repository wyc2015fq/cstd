# hdu 6345 子串查询（前缀和） - HJ - CSDN博客
2018年08月14日 08:28:44[FZH_SYU](https://me.csdn.net/feizaoSYUACM)阅读数：89
[http://acm.hdu.edu.cn/showproblem.php?pid=6345](http://acm.hdu.edu.cn/showproblem.php?pid=6345)
解题思路：
利用前缀和对于每次查询的区间[l,r]，求出最先出现的最小字母个数即可。
```cpp
#include<iostream>
#include<cstdio>
#include<vector>
#include<algorithm>
#include<cstring>
using namespace std;
const int maxn=1e5+10;
char s[maxn];
int a[30][maxn];
int main()
{
    int t,tt=1,n,q,l,r;
    scanf("%d",&t);
    while(t--)
    {
        scanf("%d%d%s",&n,&q,s);
        printf("Case #%d:\n",tt++);
        for(int i=0;i<n;i++)
        {
            for(int j=0;j<26;j++)
              a[j][i+1]=a[j][i];
            a[s[i]-'A'][i+1]++;
        }
        while(q--)
        {
            scanf("%d%d",&l,&r);
            int ans=0;
            for(int i=0;i<26;i++)
              if(a[i][r]-a[i][l-1]!=0)
              {
                    ans=a[i][r]-a[i][l-1];
                    break;
              }
            printf("%d\n",ans);
        }
    }
    return 0;
}
```
