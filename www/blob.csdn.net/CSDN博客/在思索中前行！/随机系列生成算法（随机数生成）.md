# 随机系列生成算法（随机数生成） - 在思索中前行！ - CSDN博客





2015年04月28日 11:16:06[_Tham](https://me.csdn.net/txl16211)阅读数：3131标签：[随机数																[random																[生成随机数](https://so.csdn.net/so/search/s.do?q=生成随机数&t=blog)
个人分类：[数据结构](https://blog.csdn.net/txl16211/article/category/2409063)





## 1、问题描述

        给定一个正整数n，需要输出一个长度为n的数组，数组元素是随机数，范围为0 – n-1，且元素不能重复。比如 n = 3 时，需要获取一个长度为3的数组，元素范围为0-2。

## 2、准备

首先，让我们先构造如下函数：

> 


**[cpp]**[view
 plain](http://blog.csdn.net/touch_2011/article/details/6807248#)[copy](http://blog.csdn.net/touch_2011/article/details/6807248#)



- //随机数生成函数，生成[a,b]之间的一个随机数字
- //其中0<=a<b<=RAND_MAX(即2^15-1=32767)
- int random(int a,int b)  
- {  
- return a+rand()%(b-a+1);  
- }  



## 3、解法一

先给序列A[0...n-1]赋值，A[i]=i;(0=<i<n)。然后为每个元素A[i]赋一个优先级P[i]，然后依据优先级对序列A进行排序。这里要保证序列P中没有相同的元素，所以P[i]的取值范围可以选[0,(n-1)^3]。这样就尽可能保证P中元素无重复。伪代码如下：

> 


**[cpp]**[view
 plain](http://blog.csdn.net/touch_2011/article/details/6807248#)[copy](http://blog.csdn.net/touch_2011/article/details/6807248#)



- n=length[A]  
- for(i=0;i<n;i++)  
-    P[i]=random(0,n^3);  
- sort A,using p as sort keys  



  分析：显然解法一无法准确的确保P中元素无重复，且当n较大时，n的三次方会很大，如当n=10000时，n的三次方已经超出了无符号长整形的表示范围。该算法时间复杂度依赖排序时间，且这个排序不好实现。总之，这不是一个很好的随机序列生成算法。

## 4、解法二

 先给序列A[0...n-1]赋值，A[i]=i;(0=<i<n)。然后原地排列给定序列。代码如下：

> 


**[cpp]**[view
 plain](http://blog.csdn.net/touch_2011/article/details/6807248#)[copy](http://blog.csdn.net/touch_2011/article/details/6807248#)



- //产生随机序列
- void randomSequence1(int *a,int n)  
- {  
- int i,r,temp;  
- for(i=0;i<n;i++)  
-         a[i]=i;  
-     srand(time(NULL));  
- for(i=0;i<n;i++){  
-         r=random(i,n-1);  
- //交换
-         temp=a[i];  
-         a[i]=a[r];  
-         a[r]=temp;  
-     }    
- }  



         分析：这个算法的时间复杂度为o（n）。

## 5、解法三

这是在网上看的一种高效随机生成序列算法，详细请看原文：[http://www.cnblogs.com/eaglet/archive/2011/01/17/1937083.html](http://www.cnblogs.com/eaglet/archive/2011/01/17/1937083.html)

这里给出自己写的代码：

> 


**[cpp]**[view
 plain](http://blog.csdn.net/touch_2011/article/details/6807248#)[copy](http://blog.csdn.net/touch_2011/article/details/6807248#)



- //产生随机序列
- void randomSequence2(int *a,int n)  
- {  
- int i,end,r;  
- int *q=(int *)malloc(sizeof(int)*n);  
- for(i=0;i<n;i++)  
-         q[i]=i;  
-     srand(time(NULL));  
-     end=n-1;  
- for(i=0;i<n;i++){  
-         r=random(0,end);  
-         a[i]=r;  
-         q[r]=q[end];  
-         end--;  
-     }    
- }  



## 6、附录


参考书籍：《算法导论》     解法三原文：[http://www.cnblogs.com/eaglet/archive/2011/01/17/1937083.html](http://www.cnblogs.com/eaglet/archive/2011/01/17/1937083.html)](https://so.csdn.net/so/search/s.do?q=random&t=blog)](https://so.csdn.net/so/search/s.do?q=随机数&t=blog)




