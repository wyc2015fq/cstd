# VMWare虚拟机下CentOS 配置网络实现远程连接,提供Web访问 - 在思索中前行！ - CSDN博客





2014年09月17日 17:17:42[_Tham](https://me.csdn.net/txl16211)阅读数：5067








    最近使用VMWARE虚拟机当中redhat操作系统，感觉直接使用很不方便，于是就决定配置下redhat网络，通过本机远程工具SecureCRT来连接redhat使用。

    环境说明：本机操作系统WINDOW 7 64位；虚拟机VMWare10.0；虚拟机操作系统：Centos 6.4。


    一、设置本机网络：VM虚拟机安装后会在本机当中添加两个网络连接VMnet1和VMnet8，其中网络连接VMnet1是host-only方式，在host-only方式下，虚拟系统和宿主机器系统是可以相互通信的，相当于这两台机器通过双绞线互连，仅将虚拟机和主机连上了，默认情况下，虚拟机只能到主机访问，可以与主机相互共享文件，但是虚拟机无法访问外部互联网;

网络连接VMnet8是NAT方式，就是让虚拟系统借助NAT(网络地址转换)功能，通过宿主机器所在的网络来访问公网。也就是相当于给你一个虚拟交换机，将虚拟机和真实系统连上去了，这样虚拟机和真实系统可以相互共享，同时可以实现在虚拟操作系统里访问互联网。其中TCP/IP配置信息是由VMnet8(NAT)虚拟网络的DHCP服务器提供的，无法进行手工修改，因此虚拟系统也就无法和本局域网中的其他真实主机进行通讯。

本地物理网卡和虚拟网卡通过VMnet0虚拟交换机进行桥接，物理网卡和虚拟网卡在拓扑图上处于同等地位，那么物理网卡和虚拟网卡就相当于处于同一个网段，虚拟交换机就相当于一台现实网络中的交换机,所以两个网卡的IP地址也要设置为同一网段。所以当我们要在局域网使用虚拟机，对局域网其他pc提供服务时，例如提供ftp，提供ssh，提供http服务，那么就要选择桥接模式。

    一般来说，采用NAT方式是最常见和最方便的。如果你只有一个外网地址，此种方式很合适。

1）设置本地网络连接为共享状态，并且共享给VMnet8：



![](http://blog.itpub.net/attachment/201408/5/26770925_140722447362hD.png)


2)设置VMnet8的IP地址和子网掩码：此处设IP地址为192.168.137.1（1-224内数字都可以，与本机ip地址无关），子网掩码255.255.255.0，网关和DNS可以不设置；



![](http://blog.itpub.net/attachment/201408/5/26770925_1407224540LaZZ.png)



二、打开VMWare并设置网络连接，点开edit-virtual network editor进行VMWare设置：
![](http://blog.itpub.net/attachment/201408/5/26770925_14072245697N78.png)



点击NAT setting进行设置：此处主要是设置gateway ip，相当于局域网的网关，虚拟机操作系统要用到该网关；



![](http://blog.itpub.net/attachment/201408/5/26770925_1407224602nDeG.png)



三、设置虚拟机操作系统redhat的ip地址，编辑vi /etc/sysconfig/network-scripts/ifcfg-eth0，设置ip地址192.168.137段内都可以，网关为192.168.137.2，如下图所示：



![](http://blog.itpub.net/attachment/201408/5/26770925_1407224667S0S5.png)



四 重启网络/etc/init.d/network restart，查看ip地址ifconfig  并ping网关 ping 192.168.137.2



![](http://blog.itpub.net/attachment/201408/5/26770925_1407224685Z0Bw.png)



五、使用secureCRT连接即可。
![](http://blog.itpub.net/attachment/201408/5/26770925_1407224708O84l.png)




现在困扰我的问题是，几经周折，虚拟机可以ping 到网关了，但是ping不到局域网内的任何其他目标机器。

设置为桥接模式时，设置ipv4为DHCP是没问题的，但是一段时间后ip就变动了。手动设置ip，网关等后，却无法上网，除了宿主主机能ping到，其他机器均无法访问到该地址。

有知道如何使用虚拟机设置一个固定ip,作稳定的web访问的大牛，在楼下赐教



