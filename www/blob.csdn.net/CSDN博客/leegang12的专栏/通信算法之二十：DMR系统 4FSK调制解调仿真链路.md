# 通信算法之二十：DMR系统 4FSK调制解调仿真链路 - leegang12的专栏 - CSDN博客
2018年04月25日 22:51:55[leegang12](https://me.csdn.net/leegang12)阅读数：483
一.  4FSK原理简介
         DMR系统，数字集群通信系统。DMR协议采用的调制方式4FSK，是一种恒包络调制，调制时每秒发送2400个符号，每个符号携带两比特的信息。最大频偏D定义如下：D = 3h/2T，h代表每个调制的频偏系数，0.6。T标示符号周期，为1/2400。D=2160。
       4FSK调制器由一个平方根升余弦滤波器级联一个频率调制器组成。第一部分是成型滤波器模块，产生四电平的基带带限信号作为调制信号。第二部分是跳频部分FM。
      调频是角度调制的一种，角度调制一般表示为：Sm(t) = Acos(Wc(t)+ )。频率调制是利用基带信号载波频率得到的，即瞬时频偏随调制信号m(t)线性变化。满足： =Kf.m(t) 。其中，Kf为频偏常数。
二. 4FSK调制信号产生
       产生调制信号主要有两种，直接法和间接法。间接法实现成本和复杂度高。直接法调频是调制信号m(t)直接控制振荡器的频率使其按照调制信号的规律线性变化。调频信号的正交调制是间接法调频的一种实现方式.
三. MATLAB仿真链路
%****************************************************************
% 内容概述：4FSK调制与4FSK解调 仿真链路
% 仿真链路：
% 创 建 人：lee gang
% 创建时间：2016年10月23日
% 参考文献：DMR通信系统
% 版权声明：不可随意复制、不可随意传播。
%****************************************************************
clc;
clear all;
close all;
%系统参数设计---------------------------------
Fs = 30000;%采样频率.30k，256k
Ts = 0.1;%符号周期.输入符号速率10Hz,2.4k
SampleNum = Fs * Ts;%采样点                     
A = 1;   %ampilitude is 1
w1 = 300;%2160,%初始化载波频率
w2 = 600;%720
w3=900;  %-720
w4=1200; %-2160 
%输入源比特序列基带信号-------------------------------------
Sign_Set= randint(1,200);
LenthSourceBit = length(Sign_Set);
%信号分离成IQ信号-------------------------------------------
LenthQp = LenthSourceBit/2; 
t = 0......................;
for I=1:LenthSourceBit/2                            
    Sign_Set1(I)= Sign_Set(2*I-1);
    Sign_Set2(I)=Sign_Set(2*I);
end
%产生基带信号---------------------------------------------------
[sign_orign,st] = Fsk4Modulation(Sign_Set1,Sign_Set2,LenthQp,SampleNum,t,w1,w2,w3,w4);
%调制之后的4FSK-画信号图----------------------------------
figure;su......;
axis([0,.......]);
title('输入源比特基带信号');grid;
subplot....);
axis([0,......]);
title('4FSK调制信号');grid;
%高斯白噪声信道-------------------------------------------------------
st = awgn(st,-2);
figure;plot(t,st);
title('接收到的4FSK信号');grid;
%带通低通滤波器-------------------------------------------------------
[....1,..2,......t3,...t4] = Fsk4Demodulation(s.....,F...s,w...,w...,w...,w....);
%画图---部分代码省略（）
figure;subplot(2,2,1)....................
axis([0,...........................................]);
title('F1分量低通滤波后的波形');grid;
subplot(....,....,2);plot(t,........);
axis([0,Ts..............]);
title('F2分量低通滤波后的波形');grid;
subplot(2.............................
axis([0,T.................................)]);
title('F3分量低通滤波后的波形');
....................................................
title('F4分量低通滤波后的波形');grid;
%抽样判决---------------------------------------------------
[...,..] = Fsk4DeSampsetence(d...,dt...,.....,...,....,...);
%输出源比特序列----------------------------------------------
.............................
......................................
[errNum,errRate] = biterr(Sign_Set,FskDataOut);
disp(['误码率 = ',num2str(errRate),', 错误比特数 = ',num2str(errNum)]);
四. 仿真图形
[详细资料，及相应MATLAB代码，C语言代码。咨询qq：1279682290
 ]
