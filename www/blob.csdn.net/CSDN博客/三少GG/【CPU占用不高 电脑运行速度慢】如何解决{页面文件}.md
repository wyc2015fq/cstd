# 【CPU占用不高 电脑运行速度慢】如何解决{页面文件} - 三少GG - CSDN博客
2011年09月25日 12:28:04[三少GG](https://me.csdn.net/scut1135)阅读数：8091

2011.10.03
DMA才是王道！！！拯救我的电脑吧！！！突然奇慢无比，开机3分钟，经常死机！
**[硬盘提速之恢复被系统自动禁用的DMA模式篇](http://blog.163.com/munan_2002/blog/static/614151200911112838838/)**
硬盘的DMA模式大家应该都知道吧，硬盘的PATA模式有DMA33、DMA66、DMA100和DMA133，最新的SATA-150都出来了！一般来说现在大多数人用的还是PATA模式的硬盘，**硬盘使用DMA模式相比以前的PIO模式传输的速度要快2~8倍。DMA模式的起用对系统的性能起到了实质的作用**。以前有很多文章介绍过如何打开DMA模式，我在这里也就不多说了。 
但笔者发现一个新的“问题”——Windows 2000、XP、2003**系统有时会自行关闭硬盘的DMA模式，自动改用PIO模式运行**！这就造成在使用以上系统中硬盘性能突然下降，其中最明显的现象有：系统起动速度明显变慢，一般来说正常Windows
 XP系统启动时那个由左向右运动的滑条最多走2～4次系统就能启动，但这一问题发生时可能会走5～8次或更多！而且在运行系统时进行硬盘操作时明显感觉变慢，在运行一些大的软件时CPU占用率时常达到100%而产生停顿，玩一些大型3D游戏时（比如极品飞车6）画面时有明显停顿（很多人这时以为是自己的显卡问题，当然如果你使用的是三年前的显卡玩这些游戏是有点老了，但如果你用的是今年才买的GF显卡那就不是它的问题了），**出现以上问题时大家最好看看自己硬盘的DMA模式是不是被Windows 系统自行关闭了。查看自己的系统是否打开DMA模式**： 
1. 双击“管理工具”，然后双击“计算机管理”； 
2. 单击“系统工具”，然后单击“设备管理器”； 
3. 展开“IDE ATA/ATAPI 控制器”节点； 
4. 双击您的“主要IDE控制器”； 
5. 点击“高级设置”。 
看到“**设备0”，下面的传输模式应设为“DMA（若可用）”，再下面“当前传输模式”**，如果是“Ultra
 DMA Mode *（*为数字，DMA33为2，DMA66为4，DMA100为5、DMA133为6）”，那么你的系统正常，但如果以前你自己设的是“Ultra DMA Mode 6”又没有改动，而现在是“Ultra DMA Mode 4”或“Ultra DMA Mode 2”更或者是“PIO 模式”而且改不过来！可能就是系统自行关闭了DMA模式了。 
分析问题： 
好了，先来说说问题是如何产生的。在Windows 2000/XP/2003中有这样一个设定：** Windows IDE/ATAPI 端口驱动程序 (Atapi.sys) 累积收到总共6个超时或循环冗余检验 (CRC) 错误后，驱动程序将把通信速度（传送模式）从最快的直接内存访问 (DMA) 模式分步骤降为较慢的 DMA 模式。如果驱动程序继续收到超时或 CRC 错误，则驱动程序最终将把传送模式降为最慢的模式（PIO 模式）。 问题就在这里！**一般来说一个正常的硬盘很少会有超时或循环冗余检验 (CRC) 错误，但是当我们使用这些系统里的挂起（也有叫**休眠**）并恢复计算机后就很容易造成超时或循环冗余检验
 (CRC) 错误。因为系统设定的超时值为4秒，当系统向 ATA 磁盘发出读取请求时如果硬盘回应时间超过 4 秒的超时值时才会产生超时或循环冗余检验 (CRC) 错误，但因为系统在挂起（也有叫休眠）时硬盘是在停转状态中，恢复计算机时硬盘有个从停止到运动的过程，这就很容易造成大部分硬盘回应时间超过 4 秒的超时值。也就是说当我们使用计算机挂起6次后系统就会把通信速度（传送模式）从最快的直接内存访问 (DMA) 模式分步骤降为较慢的 DMA 模式。如果挂起6次以上则驱动程序最终将把传送模式降为最慢的模式（PIO
 模式）。**这就是Windows 系统突然变慢的原因。**
解决问题： 
若要为受影响的设备重新启用典型DMA或更快DMA的传送模式，请执行以下操作： 
1. 双击“管理工具”，然后双击“计算机管理”； 
2. 单击“系统工具”，然后单击“设备管理器”； 
3. 展开“IDE ATA/ATAPI 控制器”节点； 
4.** 双击您要为其恢复典型 DMA 传送模式的控制器； 5. 单击“驱动程序”选项卡； 6. 单击“卸载”。 当此过程完成后，重新启动您的计算机。当 Windows 重新启动后，将重新枚举硬盘控制器，同时与该控制器相连的每个设备的传送模式将重置为默认值。 **
但这样只是把硬盘设备的传送模式重置为默认值，当我们再使用挂起系统时系统又会自行关闭DMA模式！所以我们还要做以下操作： 
1. 单击“开始”，单击“运行”，键入 Regedit，然后单击“确定”。 
2. 在注册表中找到并单击以下项： 
HKEY_LOCAL_MACHINE\SYSTEM\CurrentControlSet\Control\Class\{4D36E96A-E325-11CE-BFC1-08002BE10318}\0001 
和 
HKEY_LOCAL_MACHINE\SYSTEM\CurrentControlSet\Control\Class\{4D36E96A-E325-11CE-BFC1-08002BE10318}\0002 
3. 在“编辑”菜单上，指向“新建”，然后单击“DWORD 值”。 
4. 键入 ResetErrorCountersOnSuccess，然后按 Enter 键。 
5. 在“编辑”菜单上，单击“修改”。 
6. 键入 l，然后单击“确定”。 
7. 按照下列步骤操作，然后退出注册表编辑器： 
注意：上面注册表最后的项“{4D36E96A-E325-11CE-BFC1-08002BE10318}”列出的带有“0001”编号的子项对应于一台仅有一个 IDE 控制器的计算机的主要 IDE 通道和次要 IDE 通道。如果您的计算机有两个 IDE 控制器，则对于每个控制器，主要 IDE 通道和次要 IDE 通道的带有编号的子项分别是：“0001、0002、0003、0004、0005、0006……”。 
为检查是否找到了正确的子项，请检查子项的 DriverDesc 值是包含字符串值“主要 IDE 通道”，还是包含字符串值“次要 IDE 通道”。 
建立以上注册表键值的目的是： 
在Windows中，使系统向 ATA 磁盘发出读取请求时的 4 秒的超时值更改为 10 秒。还实现了一种较不严格的变通策略以在发生超时错误和 CRC 错误时降低传送模式（从较快的 DMA 模式到较慢的 DMA 模式，最终降为 PIO 模式）。以前的情况是，在每当累积发生的超时错误或 CRC 错误的总数达到 6 次时，IDE/ATAPI 端口驱动程序 (Atapi.sys) 将降低传送模式。当我们建立以上注册表键值实现新的策略后，Atapi.sys 仅在连续发生
 6 次超时错误或 CRC 错误后才降低传送模式。 
这一新的策略实现后将大大降低系统降低或关闭DMA传送模式的机会。现在我们可以安心地使用挂起系统和高性能的DMA硬盘模式，再也不会发生系统性能突然下降的情况了。
++++++++++++++++++
点评：直接内存访问
 (DMA): 支持某些特定设备（如硬盘和 CD 或 DVD 驱动器）与计算机内存直接互传信息（无需使用计算机处理器）的技术。DMA 提高设备性能并释放计算机处理器以执行其他任务。
如何启用或禁用直接内存访问
 (DMA): 
1.注意:必须以管理员身份进行登录，才能执行这些步骤。对于支持 DMA 的设备（如硬盘和 CD 或 DVD 驱动器），通常默认情况下，启用直接内存访问 (DMA)。但是，如果设备未正确安装或发生系统错误，则可能需要手动启用 DMA. 
2.启用资源管理器. 
**3.在左窗格中，单击“IDE ATA/ATAPI 控制器”旁边的加号将其展开. 4.对于标签中包含 Channel 单词的每个图标，右键单击该图标，然后单击“属性”. **
5.单击“高级设置”选项卡，然后在“设备属性”下，选中或清除“启用 DMA”复选框. 
6.“确定”.搞定! 
+++++++++++++++
### [硬盘 : IDE与ATA区别](http://nuknown.blog.163.com/blog/static/1271644802009847848282/?fromdm&fromSearch&isFromSearchEngine=yes)
IDE即Integrated Drive Electronics，它的本意是指把控制器与盘体集成在一起的硬盘驱动器，我们常说的IDE接口，也叫ATA（Advanced Technology Attachment）接口，现在PC机使用的硬盘大多数都是IDE兼容的，只需用一根电缆将它们与主板或接口卡连起来就可以了。
1.2 IDE传输模式
IDE硬盘接口的几种传输模式有明显区别。IDE接口硬盘的传输模式，经历过三个不同的技术变化，由PIO(Programmed I／O)模式，DMA(Direct Memory Access)模式，直至现今的Ultra DMA模式(简称UDMA)。  
此外，关于如何从硬件，软件，病毒方面给电脑提速的好文章：
[http://zhidao.baidu.com/question/11748769.html](http://zhidao.baidu.com/question/11748769.html)
+++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
依次进行如下3个步骤：
**1. 电脑清理**
**2. 显卡，网卡驱动更新**。
**3. 磁盘清理**
[最佳答案](http://zhidao.baidu.com/question/140513709)
硬盘问题,可能性非常大,用光盘进PE系统,扫扫硬盘坏道,有的话换个硬盘吧(一般修复好,用不了几天又会这样).
其余：
1). 系统重装啊，太简单了。如果还不行，就考虑换个硬盘试试
2). 定期清理系统垃圾，增大虚拟内存，系统盘的空闲空间至少在系统盘空间的1/3以上，去掉不必要的启动项，清理出册表中的无用项，进行磁盘逻辑文件整理（磁盘碎片整理）
3)你在打开文件的时候听下硬盘有没有嚓嚓的声音```如果有，那么说明硬盘有坏道或者是碎片太多，你可以先整理碎片试下。
4). 看一下硬盘的传输模式，，应该是变成PIO的了，，，删掉硬盘所以的IDE通道，，刷新一下重启即可。
**碎片清理！！！**
   在操作之前我想还是应该向大家详细介绍一下磁盘碎片的由来，其实磁盘碎片应该称之为文件碎片，这是因为用户文件并不是连续保存在磁盘中，而是被分散保存到整个磁盘的不同区域形成的。当应用程序所需的物理内存不足时，一般Windows操作系统会在硬盘中产生临时交换文件，用该文件所占用的硬盘空间虚拟成内存，紧接着虚拟内存管理程序就会对硬盘频繁读写，从而产生大量碎片。另外，像大家电脑中必不可少的网页浏览器在你使用上网浏览时，也会产生大量的临时文件或临时文件目录的设置也会造成磁盘中大量碎片的形成。通常情况下，这些文件碎片不会引起系统的使用问题，但是过多的碎片会加重系统读写文件的负担以致性能随之下降，有时候会造成文件丢失，严重之时甚至会影响硬盘使用寿命。因此定时整理磁盘碎片还是显得非常重要的。
1).  分析磁盘结束后，你就可以根据分析结果，选择进行磁盘碎片整理了。**只要在“上一次运行时间”中检查磁盘上碎片的百分比超过了10%，则应该对磁盘进行碎片整理（我的d盘经Defraggler检测碎片为34%，急需整理。且发现页面文件）**。只需单击一下“磁盘碎片整理”，即可帮你的Win7减负加速了。
# [磁盘碎片清理功能强大 替Win7减负加速](http://pcedu.pconline.com.cn/windows7/skill/1106/2432215.html)
2). 
# [还我速度!磁盘碎片整理软件大比拼](http://pcedu.pconline.com.cn/pingce/0703/973387.html)
3). 我本人使用的是下面这个软件，非常使用！！
## [Defraggler 不到1M的超实用免费磁盘碎片整理工具(可整理指定文件夹的碎片)](http://www.iplaysoft.com/defraggler.html)
+++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
** 4. 页面文件**设置！
    页面文件的设置
一、什么是页面文件
    页面文件"也就是"虚拟内存"，内存在计算机中的作用很大，电脑中所有运行的程序都需要经过内存来执行，如果执行的程序很大或很多，就会导致内存消耗殆尽。为了解决这个问题，Windows中运用了虚拟内存技术，即拿出一部分硬盘空间来充当内存使用，当内存占用完时，电脑就会自动调用硬盘来充当内存，以缓解内存的紧张。举一个例子来说，如果电脑只有128MB物理内存的话，当读取一个容量为200MB的文件时，就必须要用到比较大的虚拟内存，文件被内存读取之后就会先储存到虚拟内存，等待内存把文件全部储存到虚拟内存之后，跟着就会把虚拟内里储存的文件释放到原来的安装目录里了。下面，就让我们一起来看看如何对虚拟内存进行设置吧。
二、页面文件的大小计算
    对于不同的计算机而言，页面文件的大小是各不相同的。关于页面文件大小的设置，有两个流传甚广的“公式”，“物理内存X2.5”或者“物理内存X1.5”。这两种计算方法固然简便，但是并不适用于所有的计算机。设置页面文件大小最准确的方法是看看计算机在平常运行中实际使用的页面文件大小。如果物理内存较大，**可以考虑将页面文件的“起始大小”和“最大值”设置为相等，等于上一步中计算出来的大小。这样硬盘中不会因为页面文件过渡膨胀产生磁盘碎片，其副作用是由于“最大值”被设置的较小，万一偶然出现虚拟内存超支的情况，可能会导致系统崩溃。**
三、设置页面文件
    现在回到“虚拟内存”的设置对话框中选择自定义大小并按照上面的计算结果分别设置“初始大小”和“最大值”.
如果你的硬盘空间够大，你也可以自己设置虚拟内存，具体步骤如下：右键单击“我的电脑”→属性→高级→性能 设置→高级→虚拟内存 更改→选择虚拟内存（页面文件）存放的分区→自定义大小→确定最大值和最小值→设置。一般来说，虚拟内存为物理内存的1.5倍，稍大一点也可以，如果你不想虚拟内存频繁改动，可以将最大值和最小值设置为一样。
设置好了，再一路确定，最终，系统会要重新启动，重启一下，便完成了设置。
四、对页面文件进行碎片整理
    Windows XP运行时需要大量访问页面文件，如果页面文件出现碎片，系统性能将会受到严重影响，而且会缩短硬盘的使用寿命。所以很有必要对页面文件定期进行碎片整理。不过别忘了，页面文件是系统关键文件，Windows XP运行时无法对其进行访问。所以对它进行碎片整理并不是一件容易的事情。有两种方案可以选择，一是安装Windows双系统，然后启动另外一个Windows对Windows XP所在的分区进行碎片整理。二是使用专门的工具软件，比如SystemFile Defragmenter等。
+++++++++++++++++++++++++++++
（1）对于[系统分区](http://baike.baidu.com/view/115542.htm)是否设置页面文件，这里有一个矛盾：如果设置，则系统有可能会频繁读取这部分页面文件，从而加大系统盘所在磁道的负荷，但如果不设置，当系统出现[蓝屏](http://baike.baidu.com/view/20772.htm)死机(特别是STOP错误)的时候，无法创建转储文件(Memory.dmp)，从而无法进行程序调试和[错误报告](http://baike.baidu.com/view/1111081.htm)了。所以折中的办法是在系统盘设置较小的页面文件，只要够用就行了。
　　(2)单独建立一个空白分区，在该分区设置虚拟内存，其最小值设置为物理内存的1.5倍，最大值设置为物理内存的3倍，该分区专门用来存储页面文件，不要再存放其它任何文件。之所以单独划分一个分区用来设置虚拟内存，主要是基于两点考虑：其一，由于该分区上没有其它文件，这样分区不会产生[磁盘碎片](http://baike.baidu.com/view/84.htm)，这样能保证页面文件的数据读写不受磁盘碎片的干扰；其二，按照Windows对内存的管理技术，Windows会优先使用不经常访问的分区上的。
 如果已经设置的一个分区的页面文件，则其它硬盘分区不设置任何页面文件。因为过多的分区设置页面文件，这样会导致，[硬盘磁头](http://baike.baidu.com/view/815368.htm)反复的在不同的分区来回读取。这样既耽误了系统速度，也会减少硬盘的寿命。
(3)
• 为获得最佳性能，请不要将初始大小设成低于“所有驱动器页面文件大小的总数”下的推荐大小最低值。推荐大小等于系统 RAM 大小的 1.5 倍。尽管在使用需要大量内存的程序时您可能会增加页面文件的大小，但还是**应该将页面文件保留为推荐大小。****• 要删除页面文件，请将初始大小和最大值都设为零，或者单击“无分页文件”。Microsoft 强烈建议不要禁用或删除页面文件。**
++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
电脑运行慢一般有这几个原因：1.内存少2.显卡小3.硬盘的传输率低4.cpu低5.系统的问题你的配置是作文本处理的，应该够用，你用优化大师清理一下垃圾，最好是重装下系统，如不见小的话可能要加硬件了，加内存和换显卡，我觉得内存的效果会更好些，你不玩游戏，换显卡有点浪费！
重要文章：
笔记本速度慢、cpu使用率、内存得不到充分利用该如何解决
我的笔记本是华硕F81Se系列的：南桥 SiS 968芯片组   Intel（R）CORE（TM）2   Duo双核2.1处理器T8100的 、3G内存（自己加了一根金士顿2G的内存）、显存为512MB。（在网上没有查到F81Se系列的CPU是我这样的）
我的笔记本开机第一次运行应用程序速度非常慢，静止状态动动鼠标CPU使用率就过10%，运行程序的时候正常50%以上，因为这样我才自己加了一根金士顿2G的DDR2内存，重装了几次操作系统（以为是系统问题），但这样还是解决不了问题
使用CPU-z检测内存为单通道，时序：DRAM频率为333MHz；前端总线：内存为6：10；前端总线额定FSB为800MHz；总线速度仅为200MHz，使用性能计数器日志监测分页文件使用率仅为5%，使用超级兔子检测内存得分仅为2.07分（满分7分），
我的笔记本原装Vista操作系统，但因为工作关nei系所要使用的运用程序与Vista操作系统存在兼容性问题，所以就该装了XP操作系统
请问我的笔记本电脑要怎么样处理，才能充分发挥电脑的硬件性能。
答:
请参考CPU占用率100%原因及解决方法 
http://tw.netsh.com/eden/bbs/714955/html/table_4157347.html 
网页为什么打开速度慢？ 
如果一直都是这样，有几种可能： 
1、可能因为你的机子配置不行（应该考虑升级一下硬件）； 
2、可能是你接入的带宽不够～上网速度慢。如果是最近才这样的： 
如果是最近才这样的，可能是： 
1、可能是中毒了，你可以在“任务管理器”查找可疑的东西；或者用“上网助手”分析处理； 
2、可能是你的硬盘可用空间不足，应该进行磁盘清理了； 
3、可能是你的“INTERNET临时文件”太多了，考虑清理； 
4、是不是你打开的网页太大了？你可以只打开文字； 
5、你的浏览器出问题了，应该修复或者尝试其他的浏览器，比如腾讯TT，傲游，火狐等。 
另，一些恶意代码也可能会影响打开网页速度。 
用工具清理一下你的电脑，如上网助手，或优化大师也可以 
**电脑的降温风扇经常发出“怒吼”声怎么办? 给它的转轴加注润滑油。方法：揭开转轴一端的纸片，会看到转轴，加适量的缝纫机油(甚至是食用油)进行润滑，会大大降低风扇的噪音。**
电脑降噪全攻略之共振篇 
http://www.100j.net/Hardwear/ApplyTechnology/Experience/200504/26088.html
