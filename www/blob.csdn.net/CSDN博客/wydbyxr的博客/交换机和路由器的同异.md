# 交换机和路由器的同异 - wydbyxr的博客 - CSDN博客
2018年12月25日 09:55:54[whitenightwu](https://me.csdn.net/wydbyxr)阅读数：8
个人分类：[计算机基础和编程基础](https://blog.csdn.net/wydbyxr/article/category/7751906)
# 用快递来解释
数据帧：快递
二层MAC地址:你的身份证号，全球唯一
三层IP地址:你的当前的住宅地址，你随时可能会搬去其他地址住
额外的规则:一个住宅地址只能住一个人，否则会导致收发快递不正常
交换机：给你派件的快递员，但是只认身份证号的数字(MAC)，不认地址上的中文(IP)
路由器：物流公司的集散中心，占有一个身份证号(MAC)，同时占有一个住宅地址(IP)
载波：运输快递的火车/飞机/船
猫：将快递装上/卸下火车/飞机/船的地方
1）交换机
  工作在 TCP/IP 协议的二层 —— 数据链路层
  工作简单，直接使用硬件处理
2）路由器
  转发需要修改 TTL ，IP 头部校验和需要重新计算，数据帧需要重新封装
  工作在 TCP/IP 协议的三层 —— 网络层
  工作复杂，使用软件处理。
  交换机：工作于数据链路层，用来隔离冲突域，连接的所有设备同属于一个广播域（子网），负责子网内部通信。
  路由器：工作于网络层，用来隔离广播域（子网），连接的设备分属不同子网，工作范围是多个子网之间，负责网络与网络之间通信。
  总结：交换机适合局域网内互联，路由器实现全网段互联。
  举个例子：家用宽带路由器，其实是交换机和路由器的结合体，有两个网络层接口，一个连接运营商网络，物理上也就是wan口，IP地址由运营商分配。另一个连接家庭网络，没有物理接口，IP地址由自己通过路由器管理界面配置，一般默认是192.168.1.1
# 交换要快速转发提高吞吐量。路由要最短路径送报文。
1）工作层次不同：交换机主要工作在数据链路层（第二层）；路由器工作在网络层（第三层）。
2）转发依据不同：
  交换机转发所依据的对象时：MAC地址。（物理地址）
  路由转发所依据的对象是：IP地址。（网络地址）
3）主要功能不同：交换机主要用于组建局域网；而路由主要功能是将由交换机组好的局域网相互连接起来，或者接入Internet。
  总之，交换机能做的，路由都能做。交换机不能分割广播域，路由可以。路由还可以提供防火墙的功能。路由配置比交换机复杂。
