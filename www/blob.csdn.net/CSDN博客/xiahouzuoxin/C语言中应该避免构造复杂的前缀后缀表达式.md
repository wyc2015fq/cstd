# C语言中应该避免构造复杂的前缀后缀表达式 - xiahouzuoxin - CSDN博客





2013年12月12日 21:32:35[xiahouzuoxin](https://me.csdn.net/xiahouzuoxin)阅读数：1638








一个例子：



```cpp
#include <stdio.h>
 
int main(){
    int i = 0;
    int a[] = {10,20,30};
 
    int r = 1 * a[i++] + 2 * a[i++] + 3 * a[i++];
    printf("%d\n", r);
    return 0;
}
```

结果是什么呢？





初学者半天想不明白;

半桶水的立刻答道：“哇，简单，1*10+2*20+3*30=140”

高手就考虑了C语言中算术运算符的结合顺序（从右到左），答案是“1*30+2*20+3*10=100”




当你用gcc编译后却惊奇的发现，答案是
60

C语言中，在一个算术运算过程中，i++会保持原值不变。但这是种不好的风格，最好的方法是在写程序过程中避免使用类似上面的复杂的前后缀表达式，尤其是与++运算结合在一起的表达式。




参考：[http://blog.jobbole.com/53211/](http://blog.jobbole.com/53211/)









