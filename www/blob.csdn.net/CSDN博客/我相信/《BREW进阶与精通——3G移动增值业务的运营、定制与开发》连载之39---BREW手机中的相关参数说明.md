# 《BREW进阶与精通——3G移动增值业务的运营、定制与开发》连载之39---BREW手机中的相关参数说明 - 我相信...... - CSDN博客





2010年01月12日 08:38:00[半吊子全栈工匠](https://me.csdn.net/wireless_com)阅读数：1781










## 在支持BREW的手机中，既有很多与BREW相关的参数，又有很多与手机上的具体功能以及API相关的参数。了解这些参数有利于手机厂商将BREW移植到手机上，并且方便地开发应用。对CP/SP而言，了解目标手机平台的详细信息不但有利于特色应用的开发，而且能够方便应用的移植。在BREW 3.X的以前版本中，其中的很多信息是不能通过BREW设备配置器或者BREW 模拟器获得的，而是由手机厂商通过单独的文档提供，那些文档通常是PDF格式的。

### 1 运营商的相关参数

这些参数一般由运营商提供，由手机厂商将这些参数植入手机中，而且这些参数一般与BREW分发系统以及安全性相关。

1.与ADS相关的参数有两个，一个是IP地址，一个是域名。如果IP地址为0，手机将使用域名，否则直接使用IP地址。如果使用了域名，运营商必须提供DNS服务器的地址（一般为两个，一主一备），手机将连接DNS服务器将域名解析为IP地址。直接使用IP地址，手机用户可以缩短建立数据连接的时间，但不利于将来ADS位置的变更。

2.Carrier ID是一个32位的运营商标识，用来鉴权和计费。允许使用子标识来区分运营商的地方分公司。

3.BKEY是一个16字节的密钥，用来认证手机与ADS之间的通信。和AKEY类似，可以与MIN/ESN 相关联保证系统更加安全。如果BKEY 设为全零，系统将通过一个算法使用MIN
来生成一个共享密钥完成安全认证。

4.AKEY 或BKEY 指定符，是一个标识位，来区分移动商店使用AKEY 还是 BKEY 来验证手机与ADS下载服务器的通信。

5.用户鉴权标识，是从用户层面通知移动商店以什么来鉴权与ADS的连接。可以只使用SID, 也可以是 SID 与口令相结合。

6.应用执行策略，表明了允许哪些应用可以在手机上运行。包括

a) True-BREW 应用 (certified by BREW Certification
Center),

b) 运营商指定的应用

c) a或b均可

d) a和b同时满足

一般都使用c。

7.测试禁用策略，是一个标识，用来区分是否禁止将拥有测试签名的应用安装到手机上运行。

8.SID是一个32字节的整数，运营商使用SID来区分终端用户。为了方便起见，许多运营商一般简单的使用MIN
作为SID.

### 2 设备基本信息

手机的基本信息包括手机型号，平台号，BREW版本号，芯片组型号，编译的版本，处理器型号，文件系统和闪存类型，串口的支持类型，是否支持RUIM卡，是否支持BREW Debuger，BREW应用管理器的版本以及PEK的版本，是否支持uiOne和homescreen，是否支持IPV6和无线局域网等等。

BREW
应用的大小受可用空闲文件系统的空间量和可用的RAM 量限制。BREW应用在执行时会加载到RAM 中，任何剩余的RAM 都可用于内存分配、加载资源、创建控件等，可用RAM 的多少取决于手机的类型及其手机厂商的配置。

### 3 显示信息

手机的显示信息很多，中文字体的支持，True Type字体的支持，屏幕的尺寸和色深，LCD的类型，背光的支持程度等等。

由于独特的发光原理，液晶屏幕无法达到传统显示器的亮度，这样就导致很多色彩丰富的图案在强光下不能显示出原有的效果，当手机在户外使用时表现得尤其明显。同时，手机所能提供的色彩数量也是限制美工人员发挥的一个重要瓶颈。手机的屏幕大小各有不同，从80X30像素到320x240像素，就好比在PC发展过程中的CGA、EGA乃至VGA。因此，开发商中美工设计人员要在设计之初考虑屏幕的自适应问题，例如在128 x l28分辨率下与200x200的分辨率下，如何做到不更换图片而显示出同样的画面效果。



### 4 输入支持

手机的收入对于用户而言存在着很多的瓶颈，一个优秀的输入法可以为用户带来很多的便利。而对于一个功能强大的3G手机，如果其有一个方便、快捷的输入方式，无疑是3G手机厂商不容忽视的一环。对输入法的支持很重要，手机厂商如果提供了自己的输入法框架，一般要提供相关的AEEText.h文件予以说明。

手机厂商要明确手机键盘的布局，是否支持一键直接激活BREW应用管理器，是否支持键盘锁，是否支持同时按键等等。

另外，触摸屏的采用也要明确标识出来。特别需要注意的是，笔事件在BREW2.X和BREW 3.x中是不同的。

### 5 网络信息

手机的网络信息一般包括两个方面：电信网络信息和互联网信息。电信网络信息指IS-95A,IS-95B,CDMA1x,EV-DO,UMTS等等，同时指明相应的无线频率800MHz, 1500MHz, 1800MHz, 1900MHz等。

互联网信息包括手机可以同时支持的TCP和UDP的数目，早期的BREW手机至少支持1个TCP和1个UDP连接，BREW
2.x的手机至少同时支持3个TCP和4个UDP，BREW 3.x的手机同时支持更多的连接。

### 6与电话相关的信息

由于BREW直接提供了对手机中电话业务的支持能力，所以手机中和电话相关的信息也很多。各个手机厂商可以提供风格不同的手机铃声格式和分类标准，可以提供不同电话本的记录格式和容量，但一般都需要提供相应的头文件加以说明。

手机中还需提供是否支持呼叫记录服务，手机开关机时的服务，是否支持呼叫处理服务，是否支持BREW与其他应用之间的交互，例如BREW
调用WAP，MMS调用BREW等等。

### 7硬件辅助支持

一般手机都有一个基于闪存的文件系统，而早期的手机存储是基于EEPROM的。如果手机有其他硬件支持的特色服务，也最好在手机中的BREW功能里表现出来。例如是否支持GPSone功能，是否支持滑盖或翻盖事件，是否支持照相机服务，是否支持游戏手柄，是否支持外置键盘等等。

CAMERA已经成为手机必不可少的功能之一。相对于传统的数码相机体积大，存储、接受和传送不方便等缺点，手机CAMERA更加便利、灵活，而且在图像、照片、视频等的传输途径(如：蓝牙、红外线、EMAIL等)上相当便利。而且，随着手机硬件和软件的发展，手机照相机的性能也将会得到极大的提高，甚至在某些方面，完全可以取代传统的数码相机。

蓝牙（Bluetooth）是一种使用很广泛的近距离无线技术，如果手机支持蓝牙功能，一般在BREW中也提供相应的支持。

### 8软件支持

手机中的软件支持首先是指对BREW SDK中的API的支持程度，如果对某些API不支持，要先与运营商的手机规范核实，然后再在已知的问题中列出来，并尽量解决。

手机的各种服务也要予以明确，例如是否支持屏幕保护功能，是否支持墙纸服务，是否支持uiOne技术的用户待机界面等等。

如果有预安装的应用（主要是动态预安装的应用）或者自启动的应用，也应该列出来。

### 9多媒体支持

多媒体服务在手机中非常重要，也是特色手机的一个重要方面。手机厂商应明确手机中所支持的音频文件格式：MIDI，MP3，QCP，PMD，EVRC- B，SMAF，Phrase，AAC，AAC＋，ADPCM等等。

MMF(SMAF格式)即MIDI平台添加人声特效，MMF是SMAF格式的文件，SMAF 是Syntheticmusic MobileApplication Format的缩写，是雅马哈开发出来的多媒体数据形式。SMAF的规格被定义为在便携终端器上能够播放的多媒体文档形式; SMAF文档与同类的标准MIDI文档等相比，具有尺寸小、表现力强的优点。其实MMF就是MIDI文件的一种，在本质上MMF的工作原理与MIDI大同小异。PMD(CMX格式)允许文件中包含文本、图片、动画和声音，这些所有的元素集成在一个比较小的文件中，可以在手持设备之间进行传输。PMD文件包含音频和(或)视频。BREW2.X以上版本可以播放混合音频和视频的PMD文件，BREWI.X只能播放音频文件。在手机上播放PMD文件需要OEM支持。

图像文件也是如此，图像文件的格式一般有JPEG，BMP，BCI，CMX，PNG等等。PNG用来存储灰度图像时，灰度图像的深度可多到16位，存储彩色图像时，彩色图像的深度可多到48位，并且还可存储多达16位的Q通道数据。PNG使用从LZ77派生的无损数据压缩算法，具有流式读/写性能(streamability)，图像文件格式允许连续读出和写入图像数据，这个特性很适合于在通信过程中生成和显示图像。同时，逐次逼近显示的特性可使在通信链路上传输图像文件的同时就在终端上显示图像，把整个轮廓显示出来之后逐步显示图像的细节，也就是先用低分辨率显示图像，然后逐步提高它的分辨率。



