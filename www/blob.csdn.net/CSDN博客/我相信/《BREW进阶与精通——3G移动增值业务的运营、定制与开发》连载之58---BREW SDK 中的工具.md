# 《BREW进阶与精通——3G移动增值业务的运营、定制与开发》连载之58---BREW SDK 中的工具 - 我相信...... - CSDN博客





2010年07月14日 15:05:00[半吊子全栈工匠](https://me.csdn.net/wireless_com)阅读数：1528








BREW模拟器在3.X以前的版本叫Emulator，3.x及以上版本叫Simulator，只有功能上的改进，没有本质的不同，为了方便起见这里都使用模拟器这个概念。BREW模拟器可以用来模拟各种的手持设备，并测试在BREW环境下开发的应用和扩展类。



MIF 编辑器用来创建 MFX和 MIF 文件。BREW3.x之前的版本只有MIF文件，MFX 是开发 MIF 过程中使用的 XML 格式中间文件。从3.X开始，MIF是一种从 MFX 文件编译而成的特殊类型资源文件，其中包含有关模块 (MOD) 文件内容的信息。MIF创建之后，将以二进制形式加载到目标设备。在模拟器上运行应用程序时，也要使用 MIF。

在了解MIF编辑器的功能前，先要弄清楚一个概念就是ClassID。BREW中ClassID必须唯一，任何两个应用或非应用不应该具有相同的ClassID。如果ClassID不能确保唯一性的话，当具有同样ClassID的两类出现在同一手机中，该设备中的AEE就会混淆，而且只能找到其中的一个。由于终端用户在下载应用包的过程中可能将许多应用的组合一股脑地存放在无线设备中，所以无法保证ClassID唯一性的后果是不堪设想的。可以在MIF编辑器中取得ClassID，也可以登陆BREW开发商外联网，通过BREW ClassID生成器来获得。这样就可生成一个扩展名为.bid的文件，可以下载并包含在应用中。每个 BID 文件均包含唯一的 32 位类型 ID，并具有指定的名称（例如 AEECLSID_APP）。 ClassID保存在 MIF 中，而 BID 文件包含在模块来源文件（例如 app.c）中。这使得应用可以根据AEE 提供的ClassID 为其创建实例。

在 MIF 编辑器中输入必要的信息后，用将 MFX 编译为 MIF，可以使用适于不同设备显示屏的图像创建多个 MIF。应用在编译链接后生成可执行文件，即为模拟器生成 app.dll，为目标设备生成 app.mod。要在模拟器上加载此应用，要指定包含 app.mif和app.dll 的目录。选择执行其中该应用时，模拟器将加载 app.dll，以创建应用的实例并开始执行。

每个BREW 模块均包含一个或多个应用，也可以是扩展类应用。

MIF 中还包含每个应用的文本字符串，以及在可运行应用菜单中代表应用的一个或多个图形图标。MIF中还包含其它可确定模块权限级别的信息，以及该应用可从其它应用接收到的通知。

在手机上，MIF与包含每个模块目录的文件夹处于同一层次。模块目录的名称与 MIF 的前缀名称相同。模拟器允许MIF 目录的选择独立于包含模块可执行文件的目录，以便在多个设备上模拟应用的执行。







资源编辑器可以创建支持不同手机和语言的资源文件。通过从代码分离资源并在运行时间加载，可以避免将源代码与每个所支持的语言和手机的独立编辑标记相混淆。资源编辑器可以使用以下文件格式：

BRX是 XML 格式的中间文件，在生成最终输出之前，可以使用资源编辑器对其进行编辑和保存。资源编辑器不要求此中间文件使用 BRX 扩展名，只要文件包含正确的 XML 格式有效数据，不管扩展名是什么，资源编辑器都能够对其进行解释。BAR是由资源编译器作为最终输出的一部分生成的二进制文件。BRH是由资源编译器作为最终输出的一部分生成的头文件。

BREW 3.x 以前的版本使用扩展名为 BRI 的二进制中间格式。为了兼容，资源编辑器仍然支持此格式，但是建议将所有 BRI 文件转换为 BRX 文件。



手机设备配置器可用于创建和配置模拟器使用的设备文件，即与手机相关的软硬件属性文件。然后通过模拟器，再在各种设备上测试应用程序。设备文件首先包含的是要配置的设备的图像，一般由实际设备的图片生成。接着是每个设备按键的图像区域，然后定义按键以及每个按键要传送给应用的事件代码，还可以定义设备的屏幕大小、字体、支持的语言和颜色深度。

由手机设备配置器组织的设备的项目包括以下组件：设备文件（QSC/DPK），对常规设备属性和特定的设备对象及其属性等信息进行编码。另外，它还包含设备图像文件的引用。位图图像文件包括主图像文件和可选的按下按钮产生的图像文件。另外，设备和图像文件必须位于同一目录下。

对于３.ｘ及其以上版本，CP/SP一般只使用手机设备配置器来浏览手机设备的信息，而不做其他的修改操作。













