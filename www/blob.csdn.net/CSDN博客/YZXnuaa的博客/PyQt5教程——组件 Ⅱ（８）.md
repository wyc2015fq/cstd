# PyQt5教程——组件 Ⅱ（８） - YZXnuaa的博客 - CSDN博客
2018年04月28日 13:24:06[YZXnuaa](https://me.csdn.net/YZXnuaa)阅读数：65
个人分类：[PyQt](https://blog.csdn.net/YZXnuaa/article/category/7625276)
这部分的教程将会继续介绍PyQt5的组件。我们这节教程的内容将包括像素图（QPixmap）,单行文本框（QLineEdit）和下拉列表框（QComboBox）
## 像素图（QPixmap）
像素图（QPixmap）是各种用于处理图像的组件中的一个。它是在屏幕上显示图片的最佳选择。在我们代码例子中，我们将使用像素图来在窗口上显示一个图片。
```
```python
#!/usr/bin/python3
```
```python
# -*- coding: utf-8 -*-
```
```python
"""
```
```python
ZetCode PyQt5 tutorial
```
```python
In this example, we dispay an image
```
```python
on the window.
```
```python
author: Jan Bodnar
```
```python
website: zetcode.com
```
```python
last edited: January 2015
```
```python
"""
```
```python
import
```
```python
sys
```
```python
from
```
```python
PyQt5.QtWidgets
```
```python
import
```
```python
(QWidget, QHBoxLayout,
```
```python
```
```python
QLabel, QApplication)
```
```python
from
```
```python
PyQt5.QtGui
```
```python
import
```
```python
QPixmap
```
```python
class
```
```python
Example(QWidget):
```
```python
```
```python
```
```python
def
```
```python
__init__(
```
```python
self
```
```python
):
```
```python
```
```python
super
```
```python
().__init__()
```
```python
```
```python
```
```python
self
```
```python
.initUI()
```
```python
```
```python
```
```python
```
```python
def
```
```python
initUI(
```
```python
self
```
```python
):
```
```python
```
```python
hbox
```
```python
=
```
```python
QHBoxLayout(
```
```python
self
```
```python
)
```
```python
```
```python
pixmap
```
```python
=
```
```python
QPixmap(
```
```python
"redrock.png"
```
```python
)
```
```python
```
```python
lbl
```
```python
=
```
```python
QLabel(
```
```python
self
```
```python
)
```
```python
```
```python
lbl.setPixmap(pixmap)
```
```python
```
```python
hbox.addWidget(lbl)
```
```python
```
```python
self
```
```python
.setLayout(hbox)
```
```python
```
```python
```
```python
self
```
```python
.move(
```
```python
300
```
```python
,
```
```python
200
```
```python
)
```
```python
```
```python
self
```
```python
.setWindowTitle(
```
```python
'Red Rock'
```
```python
)
```
```python
```
```python
self
```
```python
.show()
```
```python
```
```python
```
```python
if
```
```python
__name__
```
```python
=
```
```python
=
```
```python
'__main__'
```
```python
:
```
```python
```
```python
```
```python
app
```
```python
=
```
```python
QApplication(sys.argv)
```
```python
```
```python
ex
```
```python
=
```
```python
Example()
```
```python
```
```python
sys.exit(app.exec_())
```
```
运行这个例子，我们会把一个图片显示在窗口上。
```
```python
pixmap
```
```python
=
```
```python
QPixmap(
```
```python
"redrock.png"
```
```python
)
```
```
创建QPixmap对象。该对象构造方法传入一个文件的名字作为参数。
```
```python
lbl
```
```python
=
```
```python
QLabel(
```
```python
self
```
```python
)
```
```python
lbl.setPixmap(pixmap)
```
```
我们把像素图对象设置给标签，从而通过标签来显示像素图。
## 单行文本编辑框（QLineEdit）
单行文本编辑框组件允许输入单行的纯文本数据 。这个组件支持撤销、重做、剪切、粘贴、拖拽、拖动方法。
```
```python
#!/usr/bin/python3
```
```python
# -*- coding: utf-8 -*-
```
```python
"""
```
```python
ZetCode PyQt5 tutorial
```
```python
This example shows text which
```
```python
is entered in a QLineEdit
```
```python
in a QLabel widget.
```
```python
```
```python
author: Jan Bodnar
```
```python
website: zetcode.com
```
```python
last edited: January 2015
```
```python
"""
```
```python
import
```
```python
sys
```
```python
from
```
```python
PyQt5.QtWidgets
```
```python
import
```
```python
(QWidget, QLabel,
```
```python
```
```python
QLineEdit, QApplication)
```
```python
class
```
```python
Example(QWidget):
```
```python
```
```python
```
```python
def
```
```python
__init__(
```
```python
self
```
```python
):
```
```python
```
```python
super
```
```python
().__init__()
```
```python
```
```python
```
```python
self
```
```python
.initUI()
```
```python
```
```python
```
```python
```
```python
def
```
```python
initUI(
```
```python
self
```
```python
):
```
```python
```
```python
self
```
```python
.lbl
```
```python
=
```
```python
QLabel(
```
```python
self
```
```python
)
```
```python
```
```python
qle
```
```python
=
```
```python
QLineEdit(
```
```python
self
```
```python
)
```
```python
```
```python
```
```python
qle.move(
```
```python
60
```
```python
,
```
```python
100
```
```python
)
```
```python
```
```python
self
```
```python
.lbl.move(
```
```python
60
```
```python
,
```
```python
40
```
```python
)
```
```python
```
```python
qle.textChanged[
```
```python
str
```
```python
].connect(
```
```python
self
```
```python
.onChanged)
```
```python
```
```python
```
```python
self
```
```python
.setGeometry(
```
```python
300
```
```python
,
```
```python
300
```
```python
,
```
```python
280
```
```python
,
```
```python
170
```
```python
)
```
```python
```
```python
self
```
```python
.setWindowTitle(
```
```python
'QLineEdit'
```
```python
)
```
```python
```
```python
self
```
```python
.show()
```
```python
```
```python
```
```python
```
```python
def
```
```python
onChanged(
```
```python
self
```
```python
, text):
```
```python
```
```python
```
```python
self
```
```python
.lbl.setText(text)
```
```python
```
```python
self
```
```python
.lbl.adjustSize()
```
```python
```
```python
```
```python
if
```
```python
__name__
```
```python
=
```
```python
=
```
```python
'__main__'
```
```python
:
```
```python
```
```python
```
```python
app
```
```python
=
```
```python
QApplication(sys.argv)
```
```python
```
```python
ex
```
```python
=
```
```python
Example()
```
```python
```
```python
sys.exit(app.exec_())
```
```
这个例子显示了一个单行编辑文本框和一个标签。我们在单行文本编辑框中输入文本时会同步把文本显示在标签中。
```
```python
qle
```
```python
=
```
```python
QLineEdit(
```
```python
self
```
```python
)
```
```
创建单行文本编辑框（QLineEdit）组件。
```
```python
qle.textChanged[
```
```python
str
```
```python
].connect(
```
```python
self
```
```python
.onChanged)
```
```
如果单行文本编辑框框内文本被改变，调用onChanged()方法。
```
```python
def
```
```python
onChanged(
```
```python
self
```
```python
, text):
```
```python
```
```python
```
```python
self
```
```python
.lbl.setText(text)
```
```python
```
```python
self
```
```python
.lbl.adjustSize()
```
```
上面是onChanged()方法的实现，我们设置了标签的显示文本。我们调用了adjustSize()方法来调整标签相对于显示的文本的长度。
![QLineEdit](http://zetcode.com/img/gui/pyqt5/qlineedit.png)Figure: QLineEdit
## 分割框（QSplitter）
分割框组件让我们通过拖拽分割线来控制子组件的大小。在我们的例子中，我们显示由两个分割框组件约束的三个QFrame组件。
```
```python
#!/usr/bin/python3
```
```python
# -*- coding: utf-8 -*-
```
```python
"""
```
```python
ZetCode PyQt5 tutorial
```
```python
This example shows
```
```python
how to use QSplitter widget.
```
```python
```
```python
author: Jan Bodnar
```
```python
website: zetcode.com
```
```python
last edited: January 2015
```
```python
"""
```
```python
import
```
```python
sys
```
```python
from
```
```python
PyQt5.QtWidgets
```
```python
import
```
```python
(QWidget, QHBoxLayout, QFrame,
```
```python
```
```python
QSplitter, QStyleFactory, QApplication)
```
```python
from
```
```python
PyQt5.QtCore
```
```python
import
```
```python
Qt
```
```python
class
```
```python
Example(QWidget):
```
```python
```
```python
```
```python
def
```
```python
__init__(
```
```python
self
```
```python
):
```
```python
```
```python
super
```
```python
().__init__()
```
```python
```
```python
```
```python
self
```
```python
.initUI()
```
```python
```
```python
```
```python
```
```python
def
```
```python
initUI(
```
```python
self
```
```python
):
```
```python
```
```python
hbox
```
```python
=
```
```python
QHBoxLayout(
```
```python
self
```
```python
)
```
```python
```
```python
topleft
```
```python
=
```
```python
QFrame(
```
```python
self
```
```python
)
```
```python
```
```python
topleft.setFrameShape(QFrame.StyledPanel)
```
```python
```
```python
```
```python
topright
```
```python
=
```
```python
QFrame(
```
```python
self
```
```python
)
```
```python
```
```python
topright.setFrameShape(QFrame.StyledPanel)
```
```python
```
```python
bottom
```
```python
=
```
```python
QFrame(
```
```python
self
```
```python
)
```
```python
```
```python
bottom.setFrameShape(QFrame.StyledPanel)
```
```python
```
```python
splitter1
```
```python
=
```
```python
QSplitter(Qt.Horizontal)
```
```python
```
```python
splitter1.addWidget(topleft)
```
```python
```
```python
splitter1.addWidget(topright)
```
```python
```
```python
splitter2
```
```python
=
```
```python
QSplitter(Qt.Vertical)
```
```python
```
```python
splitter2.addWidget(splitter1)
```
```python
```
```python
splitter2.addWidget(bottom)
```
```python
```
```python
hbox.addWidget(splitter2)
```
```python
```
```python
self
```
```python
.setLayout(hbox)
```
```python
```
```python
```
```python
self
```
```python
.setGeometry(
```
```python
300
```
```python
,
```
```python
300
```
```python
,
```
```python
300
```
```python
,
```
```python
200
```
```python
)
```
```python
```
```python
self
```
```python
.setWindowTitle(
```
```python
'QSplitter'
```
```python
)
```
```python
```
```python
self
```
```python
.show()
```
```python
```
```python
```
```python
```
```python
def
```
```python
onChanged(
```
```python
self
```
```python
, text):
```
```python
```
```python
```
```python
self
```
```python
.lbl.setText(text)
```
```python
```
```python
self
```
```python
.lbl.adjustSize()
```
```python
```
```python
```
```python
if
```
```python
__name__
```
```python
=
```
```python
=
```
```python
'__main__'
```
```python
:
```
```python
```
```python
```
```python
app
```
```python
=
```
```python
QApplication(sys.argv)
```
```python
```
```python
ex
```
```python
=
```
```python
Example()
```
```python
```
```python
sys.exit(app.exec_())
```
```
在我们的例子中，我们有三个框架组件和两个分割框组件。注意在某些主题下，分割框组件可能不会被显示。
```
```python
topleft
```
```python
=
```
```python
QFrame(
```
```python
self
```
```python
)
```
```python
topleft.setFrameShape(QFrame.StyledPanel)
```
```
我们使用了一个样式框架，为了让框架组件之间的分割线看的明显。
```
```python
splitter1
```
```python
=
```
```python
QSplitter(Qt.Horizontal)
```
```python
splitter1.addWidget(topleft)
```
```python
splitter1.addWidget(topright)
```
```
我们创建了一个分割框组件并且在这个分割框中添加进入两个框架组件。
```
```python
splitter2
```
```python
=
```
```python
QSplitter(Qt.Vertical)
```
```python
splitter2.addWidget(splitter1)
```
```
我们把第一个分割框添加进另一个分割框组件中。
![QSplitter widget](http://zetcode.com/img/gui/pyqt5/qsplitter.png)Figure: QSplitter widget
## 下拉列表框（QComboBox）
下拉列表框组件允许用户从列表中选择一个列表项。
```
```python
#!/usr/bin/python3
```
```python
# -*- coding: utf-8 -*-
```
```python
"""
```
```python
ZetCode PyQt5 tutorial
```
```python
This example shows how to use
```
```python
a QComboBox widget.
```
```python
```
```python
author: Jan Bodnar
```
```python
website: zetcode.com
```
```python
last edited: January 2015
```
```python
"""
```
```python
import
```
```python
sys
```
```python
from
```
```python
PyQt5.QtWidgets
```
```python
import
```
```python
(QWidget, QLabel,
```
```python
```
```python
QComboBox, QApplication)
```
```python
class
```
```python
Example(QWidget):
```
```python
```
```python
```
```python
def
```
```python
__init__(
```
```python
self
```
```python
):
```
```python
```
```python
super
```
```python
().__init__()
```
```python
```
```python
```
```python
self
```
```python
.initUI()
```
```python
```
```python
```
```python
```
```python
def
```
```python
initUI(
```
```python
self
```
```python
):
```
```python
```
```python
self
```
```python
.lbl
```
```python
=
```
```python
QLabel(
```
```python
"Ubuntu"
```
```python
,
```
```python
self
```
```python
)
```
```python
```
```python
combo
```
```python
=
```
```python
QComboBox(
```
```python
self
```
```python
)
```
```python
```
```python
combo.addItem(
```
```python
"Ubuntu"
```
```python
)
```
```python
```
```python
combo.addItem(
```
```python
"Mandriva"
```
```python
)
```
```python
```
```python
combo.addItem(
```
```python
"Fedora"
```
```python
)
```
```python
```
```python
combo.addItem(
```
```python
"Arch"
```
```python
)
```
```python
```
```python
combo.addItem(
```
```python
"Gentoo"
```
```python
)
```
```python
```
```python
combo.move(
```
```python
50
```
```python
,
```
```python
50
```
```python
)
```
```python
```
```python
self
```
```python
.lbl.move(
```
```python
50
```
```python
,
```
```python
150
```
```python
)
```
```python
```
```python
combo.activated[
```
```python
str
```
```python
].connect(
```
```python
self
```
```python
.onActivated)
```
```python
```
```python
```
```python
self
```
```python
.setGeometry(
```
```python
300
```
```python
,
```
```python
300
```
```python
,
```
```python
300
```
```python
,
```
```python
200
```
```python
)
```
```python
```
```python
self
```
```python
.setWindowTitle(
```
```python
'QComboBox'
```
```python
)
```
```python
```
```python
self
```
```python
.show()
```
```python
```
```python
```
```python
```
```python
def
```
```python
onActivated(
```
```python
self
```
```python
, text):
```
```python
```
```python
```
```python
self
```
```python
.lbl.setText(text)
```
```python
```
```python
self
```
```python
.lbl.adjustSize()
```
```python
```
```python
```
```python
if
```
```python
__name__
```
```python
=
```
```python
=
```
```python
'__main__'
```
```python
:
```
```python
```
```python
```
```python
app
```
```python
=
```
```python
QApplication(sys.argv)
```
```python
```
```python
ex
```
```python
=
```
```python
Example()
```
```python
```
```python
sys.exit(app.exec_())
```
```
例子中显示了一个下拉列表框和一个标签。下拉列表框有五个列表项。这五个列表项都是Linux发行版的名字。标签组件显示在下拉列表框中选中的列表项的文本。
```
```python
combo
```
```python
=
```
```python
QComboBox(
```
```python
self
```
```python
)
```
```python
combo.addItem(
```
```python
"Ubuntu"
```
```python
)
```
```python
combo.addItem(
```
```python
"Mandriva"
```
```python
)
```
```python
combo.addItem(
```
```python
"Fedora"
```
```python
)
```
```python
combo.addItem(
```
```python
"Arch"
```
```python
)
```
```python
combo.addItem(
```
```python
"Gentoo"
```
```python
)
```
```
我们创建一个下拉列表框并填充了五个列表项。
```
```python
combo.activated[
```
```python
str
```
```python
].connect(
```
```python
self
```
```python
.onActivated)
```
```
一旦列表项被选中，会调用onActivated()方法。
```
```python
def
```
```python
onActivated(
```
```python
self
```
```python
, text):
```
```python
```
```python
```
```python
self
```
```python
.lbl.setText(text)
```
```python
```
```python
self
```
```python
.lbl.adjustSize()
```
```
上面的方法，我们把下拉列表框中选中的列表项的文本显示在标签组件上。并且根据标签文本调整了标签大小。
![QComboBox](http://zetcode.com/img/gui/pyqt5/qcombobox.png)
