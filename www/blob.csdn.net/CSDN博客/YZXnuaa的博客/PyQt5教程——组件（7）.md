# PyQt5教程——组件（7） - YZXnuaa的博客 - CSDN博客
2018年04月28日 11:11:56[YZXnuaa](https://me.csdn.net/YZXnuaa)阅读数：199
组件（widgets）是构建一个应用的基础模块。PyQt5有广泛的各式各样的组件，包含按钮，复选按钮，滑块条，和列表框。在这个部分的教程中，我们将学习几种有用的组件：复选按钮（QCheckBox），切换按钮（ToggleButton），滑块条（QSlider），进度条（ProgressBar）和日历组件（QCalendarWidget）。
## 复选框（QCheckBox）
复选框组件有两种状态：选中和未选中。它是由一个选择框和一个标签组成的。一个应用中，复选框是典型的用来代表有效或无效状态的组件。
```
```python
#!/usr/bin/python3
```
```python
# -*- coding: utf-8 -*-
```
```python
"""
```
```python
ZetCode PyQt5 tutorial
```
```python
In this example, a QCheckBox widget
```
```python
is used to toggle the title of a window.
```
```python
author: Jan Bodnar
```
```python
website: zetcode.com
```
```python
last edited: January 2015
```
```python
"""
```
```python
import
```
```python
sys
```
```python
from
```
```python
PyQt5.QtWidgets
```
```python
import
```
```python
QWidget, QCheckBox, QApplication
```
```python
from
```
```python
PyQt5.QtCore
```
```python
import
```
```python
Qt
```
```python
class
```
```python
Example(QWidget):
```
```python
```
```python
```
```python
def
```
```python
__init__(
```
```python
self
```
```python
):
```
```python
```
```python
super
```
```python
().__init__()
```
```python
```
```python
```
```python
self
```
```python
.initUI()
```
```python
```
```python
```
```python
```
```python
def
```
```python
initUI(
```
```python
self
```
```python
):
```
```python
```
```python
cb
```
```python
=
```
```python
QCheckBox(
```
```python
'Show title'
```
```python
,
```
```python
self
```
```python
)
```
```python
```
```python
cb.move(
```
```python
20
```
```python
,
```
```python
20
```
```python
)
```
```python
```
```python
cb.toggle()
```
```python
```
```python
cb.stateChanged.connect(
```
```python
self
```
```python
.changeTitle)
```
```python
```
```python
```
```python
self
```
```python
.setGeometry(
```
```python
300
```
```python
,
```
```python
300
```
```python
,
```
```python
250
```
```python
,
```
```python
150
```
```python
)
```
```python
```
```python
self
```
```python
.setWindowTitle(
```
```python
'QCheckBox'
```
```python
)
```
```python
```
```python
self
```
```python
.show()
```
```python
```
```python
```
```python
```
```python
def
```
```python
changeTitle(
```
```python
self
```
```python
, state):
```
```python
```
```python
```
```python
if
```
```python
state
```
```python
=
```
```python
=
```
```python
Qt.Checked:
```
```python
```
```python
self
```
```python
.setWindowTitle(
```
```python
'QCheckBox'
```
```python
)
```
```python
```
```python
else
```
```python
:
```
```python
```
```python
self
```
```python
.setWindowTitle('')
```
```python
```
```python
```
```python
if
```
```python
__name__
```
```python
=
```
```python
=
```
```python
'__main__'
```
```python
:
```
```python
```
```python
```
```python
app
```
```python
=
```
```python
QApplication(sys.argv)
```
```python
```
```python
ex
```
```python
=
```
```python
Example()
```
```python
```
```python
sys.exit(app.exec_())
```
```
在我们的例子中，我们创建了一个复选框，用来切换窗口标题。
```
```python
cb
```
```python
=
```
```python
QCheckBox(
```
```python
'Show title'
```
```python
,
```
```python
self
```
```python
)
```
```
这是QCheckBox类的构造方法。
```
```python
cb.toggle()
```
```
我们需要设置窗口标题，所以我们必须选中复选框。如果不选中复选框，默认情况下复选框不会被选中所以窗口标题也不会被设置。
```
```python
cb.stateChanged.connect(
```
```python
self
```
```python
.changeTitle)
```
```
将我们自定义的changeTitle()槽方法和stateChanged信号连接。changeTitle()方法将用于切换窗口标题。
```
```python
def
```
```python
changeTitle(
```
```python
self
```
```python
, state):
```
```python
```
```python
```
```python
if
```
```python
state
```
```python
=
```
```python
=
```
```python
Qt.Checked:
```
```python
```
```python
self
```
```python
.setWindowTitle(
```
```python
'QCheckBox'
```
```python
)
```
```python
```
```python
else
```
```python
:
```
```python
```
```python
self
```
```python
.setWindowTitle('')
```
```
复选框组件的状态会传入changeTitle()方法的state参数。如果复选框被选中，我们设置窗口标题。否则，我们把窗口标题设置成一个空字符串。
![QCheckBox](http://zetcode.com/img/gui/pyqt5/qcheckbox.png)Figure: QCheckBox
## 切换按钮
切换按钮是QPushButton的特殊模式。切换按钮有两种状态：按下和没有按下。我们可以通过点击它在两种状态之间切换。下面的列子展示了切换按钮合适出现的情景。
```
```python
#!/usr/bin/python3
```
```python
# -*- coding: utf-8 -*-
```
```python
"""
```
```python
ZetCode PyQt5 tutorial
```
```python
In this example, we create three toggle buttons.
```
```python
They will control the background colour of a
```
```python
QFrame.
```
```python
author: Jan Bodnar
```
```python
website: zetcode.com
```
```python
last edited: January 2015
```
```python
"""
```
```python
import
```
```python
sys
```
```python
from
```
```python
PyQt5.QtWidgets
```
```python
import
```
```python
(QWidget, QPushButton,
```
```python
```
```python
QFrame, QApplication)
```
```python
from
```
```python
PyQt5.QtGui
```
```python
import
```
```python
QColor
```
```python
class
```
```python
Example(QWidget):
```
```python
```
```python
```
```python
def
```
```python
__init__(
```
```python
self
```
```python
):
```
```python
```
```python
super
```
```python
().__init__()
```
```python
```
```python
```
```python
self
```
```python
.initUI()
```
```python
```
```python
```
```python
```
```python
def
```
```python
initUI(
```
```python
self
```
```python
):
```
```python
```
```python
self
```
```python
.col
```
```python
=
```
```python
QColor(
```
```python
0
```
```python
,
```
```python
0
```
```python
,
```
```python
0
```
```python
)
```
```python
```
```python
redb
```
```python
=
```
```python
QPushButton(
```
```python
'Red'
```
```python
,
```
```python
self
```
```python
)
```
```python
```
```python
redb.setCheckable(
```
```python
True
```
```python
)
```
```python
```
```python
redb.move(
```
```python
10
```
```python
,
```
```python
10
```
```python
)
```
```python
```
```python
redb.clicked[
```
```python
bool
```
```python
].connect(
```
```python
self
```
```python
.setColor)
```
```python
```
```python
redb
```
```python
=
```
```python
QPushButton(
```
```python
'Green'
```
```python
,
```
```python
self
```
```python
)
```
```python
```
```python
redb.setCheckable(
```
```python
True
```
```python
)
```
```python
```
```python
redb.move(
```
```python
10
```
```python
,
```
```python
60
```
```python
)
```
```python
```
```python
redb.clicked[
```
```python
bool
```
```python
].connect(
```
```python
self
```
```python
.setColor)
```
```python
```
```python
blueb
```
```python
=
```
```python
QPushButton(
```
```python
'Blue'
```
```python
,
```
```python
self
```
```python
)
```
```python
```
```python
blueb.setCheckable(
```
```python
True
```
```python
)
```
```python
```
```python
blueb.move(
```
```python
10
```
```python
,
```
```python
110
```
```python
)
```
```python
```
```python
blueb.clicked[
```
```python
bool
```
```python
].connect(
```
```python
self
```
```python
.setColor)
```
```python
```
```python
self
```
```python
.square
```
```python
=
```
```python
QFrame(
```
```python
self
```
```python
)
```
```python
```
```python
self
```
```python
.square.setGeometry(
```
```python
150
```
```python
,
```
```python
20
```
```python
,
```
```python
100
```
```python
,
```
```python
100
```
```python
)
```
```python
```
```python
self
```
```python
.square.setStyleSheet(
```
```python
"QWidget { background-color: %s }"
```
```python
%
```
```python
```
```python
self
```
```python
.col.name())
```
```python
```
```python
```
```python
self
```
```python
.setGeometry(
```
```python
300
```
```python
,
```
```python
300
```
```python
,
```
```python
280
```
```python
,
```
```python
170
```
```python
)
```
```python
```
```python
self
```
```python
.setWindowTitle(
```
```python
'Toggle button'
```
```python
)
```
```python
```
```python
self
```
```python
.show()
```
```python
```
```python
```
```python
```
```python
def
```
```python
setColor(
```
```python
self
```
```python
, pressed):
```
```python
```
```python
```
```python
source
```
```python
=
```
```python
self
```
```python
.sender()
```
```python
```
```python
```
```python
if
```
```python
pressed:
```
```python
```
```python
val
```
```python
=
```
```python
255
```
```python
```
```python
else
```
```python
: val
```
```python
=
```
```python
0
```
```python
```
```python
```
```python
if
```
```python
source.text()
```
```python
=
```
```python
=
```
```python
"Red"
```
```python
:
```
```python
```
```python
self
```
```python
.col.setRed(val)
```
```python
```
```python
elif
```
```python
source.text()
```
```python
=
```
```python
=
```
```python
"Green"
```
```python
:
```
```python
```
```python
self
```
```python
.col.setGreen(val)
```
```python
```
```python
else
```
```python
:
```
```python
```
```python
self
```
```python
.col.setBlue(val)
```
```python
```
```python
```
```python
self
```
```python
.square.setStyleSheet(
```
```python
"QFrame { background-color: %s }"
```
```python
%
```
```python
```
```python
self
```
```python
.col.name())
```
```python
```
```python
```
```python
if
```
```python
__name__
```
```python
=
```
```python
=
```
```python
'__main__'
```
```python
:
```
```python
```
```python
```
```python
app
```
```python
=
```
```python
QApplication(sys.argv)
```
```python
```
```python
ex
```
```python
=
```
```python
Example()
```
```python
```
```python
sys.exit(app.exec_())
```
```
在我们的例子中，我们创建了三个切换按钮和一个QWidget组件。我们把QWidget组件的背景颜色设置为黑色。切换按钮将在红色，绿色和蓝色的RGB值部分进行切换。QWidget组件的背景颜色将取决于哪一个切换按钮被按下。
```
```python
self
```
```python
.col
```
```python
=
```
```python
QColor(
```
```python
0
```
```python
,
```
```python
0
```
```python
,
```
```python
0
```
```python
)
```
```
这里是初始化，让RGB值为黑色。
```
```python
redb
```
```python
=
```
```python
QPushButton(
```
```python
'Red'
```
```python
,
```
```python
self
```
```python
)
```
```python
redb.setCheckable(
```
```python
True
```
```python
)
```
```python
redb.move(
```
```python
10
```
```python
,
```
```python
10
```
```python
)
```
```
要创建切换按钮，就要创建QPushButton，并且调用setCheckable()方法让它可被选中。
```
```python
redb.clicked[
```
```python
bool
```
```python
].connect(
```
```python
self
```
```python
.setColor)
```
```
我们把clicked信号连接到我们定义的方法上。我们使用clicked信号来操作布尔值。
```
```python
source
```
```python
=
```
```python
self
```
```python
.sender()
```
```
我们获得发生状态切换的按钮。
```
```python
if
```
```python
source.text()
```
```python
=
```
```python
=
```
```python
"Red"
```
```python
:
```
```python
```
```python
self
```
```python
.col.setRed(val)
```
```
在这种情况下，如果发生切换的是red按钮，我们更新RGB值中的红色部分的颜色值。
```
```python
self
```
```python
.square.setStyleSheet(
```
```python
"QWidget { background-color: %s }"
```
```python
%
```
```python
self
```
```python
.col.name())
```
```
我们使用样式表来改变背景颜色。
![Toggle button](http://zetcode.com/img/gui/pyqt5/togglebutton.png)
Figure: Toggle button
## 滑块条(QSlider)
滑块条(QSlider)组件有一个简单的可调节手柄。这个手柄可以前后拖动。我们可以使用这个方式来选择具体的数值。有时使用滑块条比直接输入数字或使用数值选择框更自然，在我们下面的例子中，我们将显示一个滑块条和一个标签。标签将会显示一个图像。滑块条将控制标签。
```
```python
#!/usr/bin/python3
```
```python
# -*- coding: utf-8 -*-
```
```python
"""
```
```python
ZetCode PyQt5 tutorial
```
```python
This example shows a QSlider widget.
```
```python
author: Jan Bodnar
```
```python
website: zetcode.com
```
```python
last edited: January 2015
```
```python
"""
```
```python
import
```
```python
sys
```
```python
from
```
```python
PyQt5.QtWidgets
```
```python
import
```
```python
(QWidget, QSlider,
```
```python
```
```python
QLabel, QApplication)
```
```python
from
```
```python
PyQt5.QtCore
```
```python
import
```
```python
Qt
```
```python
from
```
```python
PyQt5.QtGui
```
```python
import
```
```python
QPixmap
```
```python
class
```
```python
Example(QWidget):
```
```python
```
```python
```
```python
def
```
```python
__init__(
```
```python
self
```
```python
):
```
```python
```
```python
super
```
```python
().__init__()
```
```python
```
```python
```
```python
self
```
```python
.initUI()
```
```python
```
```python
```
```python
```
```python
def
```
```python
initUI(
```
```python
self
```
```python
):
```
```python
```
```python
sld
```
```python
=
```
```python
QSlider(Qt.Horizontal,
```
```python
self
```
```python
)
```
```python
```
```python
sld.setFocusPolicy(Qt.NoFocus)
```
```python
```
```python
sld.setGeometry(
```
```python
30
```
```python
,
```
```python
40
```
```python
,
```
```python
100
```
```python
,
```
```python
30
```
```python
)
```
```python
```
```python
sld.valueChanged[
```
```python
int
```
```python
].connect(
```
```python
self
```
```python
.changeValue)
```
```python
```
```python
```
```python
self
```
```python
.label
```
```python
=
```
```python
QLabel(
```
```python
self
```
```python
)
```
```python
```
```python
self
```
```python
.label.setPixmap(QPixmap(
```
```python
'mute.png'
```
```python
))
```
```python
```
```python
self
```
```python
.label.setGeometry(
```
```python
160
```
```python
,
```
```python
40
```
```python
,
```
```python
80
```
```python
,
```
```python
30
```
```python
)
```
```python
```
```python
```
```python
self
```
```python
.setGeometry(
```
```python
300
```
```python
,
```
```python
300
```
```python
,
```
```python
280
```
```python
,
```
```python
170
```
```python
)
```
```python
```
```python
self
```
```python
.setWindowTitle(
```
```python
'QSlider'
```
```python
)
```
```python
```
```python
self
```
```python
.show()
```
```python
```
```python
```
```python
```
```python
def
```
```python
changeValue(
```
```python
self
```
```python
, value):
```
```python
```
```python
if
```
```python
value
```
```python
=
```
```python
=
```
```python
0
```
```python
:
```
```python
```
```python
self
```
```python
.label.setPixmap(QPixmap(
```
```python
'mute.png'
```
```python
))
```
```python
```
```python
elif
```
```python
value >
```
```python
0
```
```python
and
```
```python
value <
```
```python
=
```
```python
30
```
```python
:
```
```python
```
```python
self
```
```python
.label.setPixmap(QPixmap(
```
```python
'min.png'
```
```python
))
```
```python
```
```python
elif
```
```python
value >
```
```python
30
```
```python
and
```
```python
value <
```
```python
80
```
```python
:
```
```python
```
```python
self
```
```python
.label.setPixmap(QPixmap(
```
```python
'med.png'
```
```python
))
```
```python
```
```python
else
```
```python
:
```
```python
```
```python
self
```
```python
.label.setPixmap(QPixmap(
```
```python
'max.png'
```
```python
))
```
```python
```
```python
if
```
```python
__name__
```
```python
=
```
```python
=
```
```python
'__main__'
```
```python
:
```
```python
```
```python
app
```
```python
=
```
```python
QApplication(sys.argv)
```
```python
```
```python
ex
```
```python
=
```
```python
Example()
```
```python
```
```python
sys.exit(app.exec_())
```
```
在我们的例子中，我们模拟了一个音量控制器。通过拖动滑块条的把手，我们可以改变标签的图像。
```
```python
sld
```
```python
=
```
```python
QSlider(Qt.Horizontal,
```
```python
self
```
```python
)
```
```
这里我们创建了一个横向的滑块条。
```
```python
self
```
```python
.label
```
```python
=
```
```python
QLabel(
```
```python
self
```
```python
)
```
```python
self
```
```python
.label.setPixmap(QPixmap(
```
```python
'mute.png'
```
```python
))
```
```
我们创建了一个标签组件，并且设置一个初始的无声图片。
```
```python
sld.valueChanged[
```
```python
int
```
```python
].connect(
```
```python
self
```
```python
.changeValue)
```
```
我们把`valueChanged` 信号连接到我们自定义的 `changeValue()方法上。`
```
```python
if
```
```python
value
```
```python
=
```
```python
=
```
```python
0
```
```python
:
```
```python
```
```python
self
```
```python
.label.setPixmap(QPixmap(
```
```python
'mute.png'
```
```python
))
```
```python
...
```
```
这里实现了根据滑块条的值，我们设置不同的标签图片。在上面的代码中，如果滑块条的值等于零，我们为标签设置mute.png图片。
![QSlider widget](http://zetcode.com/img/gui/pyqt5/qslider.png)
Figure: QSlider widget
## 进度条（QProgressBar）
当我们处理耗时长的任务时，我们需要用到进度条组件。它通过动画的方式让我们了解任务正在处理中。在PyQt5中，进度条组件提供了横向和纵向的进度条选择。程序员可以设置进度条的最大值和最小值。进度条的默认值是0~99。
```
```python
#!/usr/bin/python3
```
```python
# -*- coding: utf-8 -*-
```
```python
"""
```
```python
ZetCode PyQt5 tutorial
```
```python
This example shows a QProgressBar widget.
```
```python
author: Jan Bodnar
```
```python
website: zetcode.com
```
```python
last edited: January 2015
```
```python
"""
```
```python
import
```
```python
sys
```
```python
from
```
```python
PyQt5.QtWidgets
```
```python
import
```
```python
(QWidget, QProgressBar,
```
```python
```
```python
QPushButton, QApplication)
```
```python
from
```
```python
PyQt5.QtCore
```
```python
import
```
```python
QBasicTimer
```
```python
class
```
```python
Example(QWidget):
```
```python
```
```python
```
```python
def
```
```python
__init__(
```
```python
self
```
```python
):
```
```python
```
```python
super
```
```python
().__init__()
```
```python
```
```python
```
```python
self
```
```python
.initUI()
```
```python
```
```python
```
```python
```
```python
def
```
```python
initUI(
```
```python
self
```
```python
):
```
```python
```
```python
self
```
```python
.pbar
```
```python
=
```
```python
QProgressBar(
```
```python
self
```
```python
)
```
```python
```
```python
self
```
```python
.pbar.setGeometry(
```
```python
30
```
```python
,
```
```python
40
```
```python
,
```
```python
200
```
```python
,
```
```python
25
```
```python
)
```
```python
```
```python
self
```
```python
.btn
```
```python
=
```
```python
QPushButton(
```
```python
'Start'
```
```python
,
```
```python
self
```
```python
)
```
```python
```
```python
self
```
```python
.btn.move(
```
```python
40
```
```python
,
```
```python
80
```
```python
)
```
```python
```
```python
self
```
```python
.btn.clicked.connect(
```
```python
self
```
```python
.doAction)
```
```python
```
```python
self
```
```python
.timer
```
```python
=
```
```python
QBasicTimer()
```
```python
```
```python
self
```
```python
.step
```
```python
=
```
```python
0
```
```python
```
```python
```
```python
self
```
```python
.setGeometry(
```
```python
300
```
```python
,
```
```python
300
```
```python
,
```
```python
280
```
```python
,
```
```python
170
```
```python
)
```
```python
```
```python
self
```
```python
.setWindowTitle(
```
```python
'QProgressBar'
```
```python
)
```
```python
```
```python
self
```
```python
.show()
```
```python
```
```python
```
```python
```
```python
def
```
```python
timerEvent(
```
```python
self
```
```python
, e):
```
```python
```
```python
```
```python
if
```
```python
self
```
```python
.step >
```
```python
=
```
```python
100
```
```python
:
```
```python
```
```python
self
```
```python
.timer.stop()
```
```python
```
```python
self
```
```python
.btn.setText(
```
```python
'Finished'
```
```python
)
```
```python
```
```python
return
```
```python
```
```python
```
```python
self
```
```python
.step
```
```python
=
```
```python
self
```
```python
.step
```
```python
+
```
```python
1
```
```python
```
```python
self
```
```python
.pbar.setValue(
```
```python
self
```
```python
.step)
```
```python
```
```python
```
```python
def
```
```python
doAction(
```
```python
self
```
```python
):
```
```python
```
```python
```
```python
if
```
```python
self
```
```python
.timer.isActive():
```
```python
```
```python
self
```
```python
.timer.stop()
```
```python
```
```python
self
```
```python
.btn.setText(
```
```python
'Start'
```
```python
)
```
```python
```
```python
else
```
```python
:
```
```python
```
```python
self
```
```python
.timer.start(
```
```python
100
```
```python
,
```
```python
self
```
```python
)
```
```python
```
```python
self
```
```python
.btn.setText(
```
```python
'Stop'
```
```python
)
```
```python
```
```python
```
```python
if
```
```python
__name__
```
```python
=
```
```python
=
```
```python
'__main__'
```
```python
:
```
```python
```
```python
```
```python
app
```
```python
=
```
```python
QApplication(sys.argv)
```
```python
```
```python
ex
```
```python
=
```
```python
Example()
```
```python
```
```python
sys.exit(app.exec_())
```
```
在我们的例子中有一个横向进度条和一个按钮。按钮控制滑块条的开始和停止。
```
```python
self
```
```python
.pbar
```
```python
=
```
```python
QProgressBar(
```
```python
self
```
```python
)
```
```
这是滑块条类的构造方法。
```
```python
self
```
```python
.timer
```
```python
=
```
```python
QtCore.QBasicTimer()
```
```
我们用定时器对象来激活进度条。
```
```python
self
```
```python
.timer.start(
```
```python
100
```
```python
,
```
```python
self
```
```python
)
```
```
为了开启定时器事件，我们调用了start()方法。这个方法有两个参数：定时时间和接收定时器事件的对象。
```
```python
def
```
```python
timerEvent(
```
```python
self
```
```python
, e):
```
```python
```
```python
```
```python
if
```
```python
self
```
```python
.step >
```
```python
=
```
```python
100
```
```python
:
```
```python
```
```python
```
```python
self
```
```python
.timer.stop()
```
```python
```
```python
self
```
```python
.btn.setText(
```
```python
'Finished'
```
```python
)
```
```python
```
```python
return
```
```python
```
```python
```
```python
self
```
```python
.step
```
```python
=
```
```python
self
```
```python
.step
```
```python
+
```
```python
1
```
```python
```
```python
self
```
```python
.pbar.setValue(
```
```python
self
```
```python
.step)
```
```
每个QObject类和它的子类都有timerEvent()事件处理函数用于处理定时事件。为了对定时器事件作出反馈，我们重新实现了这个事件处理函数。
```
```python
def
```
```python
doAction(
```
```python
self
```
```python
):
```
```python
```
```python
```
```python
if
```
```python
self
```
```python
.timer.isActive():
```
```python
```
```python
self
```
```python
.timer.stop()
```
```python
```
```python
self
```
```python
.btn.setText(
```
```python
'Start'
```
```python
)
```
```python
```
```python
```
```python
else
```
```python
:
```
```python
```
```python
self
```
```python
.timer.start(
```
```python
100
```
```python
,
```
```python
self
```
```python
)
```
```python
```
```python
self
```
```python
.btn.setText(
```
```python
'Stop'
```
```python
)
```
```
在doAction()方法中，我们开始和停止定时器。
![QProgressBar](http://zetcode.com/img/gui/pyqt5/qprogressbar.png)
Figure: QProgressBar
## 日历组件（QCalendarWidget）
QCalendarWidget类提供了一个基于月的日历组件。它允许用户通过简单的直观的方式选择日期。
```
```python
#!/usr/bin/python3
```
```python
# -*- coding: utf-8 -*-
```
```python
"""
```
```python
ZetCode PyQt5 tutorial
```
```python
This example shows a QCalendarWidget widget.
```
```python
author: Jan Bodnar
```
```python
website: zetcode.com
```
```python
last edited: January 2015
```
```python
"""
```
```python
import
```
```python
sys
```
```python
from
```
```python
PyQt5.QtWidgets
```
```python
import
```
```python
(QWidget, QCalendarWidget,
```
```python
```
```python
QLabel, QApplication)
```
```python
from
```
```python
PyQt5.QtCore
```
```python
import
```
```python
QDate
```
```python
class
```
```python
Example(QWidget):
```
```python
```
```python
```
```python
def
```
```python
__init__(
```
```python
self
```
```python
):
```
```python
```
```python
super
```
```python
().__init__()
```
```python
```
```python
```
```python
self
```
```python
.initUI()
```
```python
```
```python
```
```python
```
```python
def
```
```python
initUI(
```
```python
self
```
```python
):
```
```python
```
```python
cal
```
```python
=
```
```python
QCalendarWidget(
```
```python
self
```
```python
)
```
```python
```
```python
cal.setGridVisible(
```
```python
True
```
```python
)
```
```python
```
```python
cal.move(
```
```python
20
```
```python
,
```
```python
20
```
```python
)
```
```python
```
```python
cal.clicked[QDate].connect(
```
```python
self
```
```python
.showDate)
```
```python
```
```python
```
```python
self
```
```python
.lbl
```
```python
=
```
```python
QLabel(
```
```python
self
```
```python
)
```
```python
```
```python
date
```
```python
=
```
```python
cal.selectedDate()
```
```python
```
```python
self
```
```python
.lbl.setText(date.toString())
```
```python
```
```python
self
```
```python
.lbl.move(
```
```python
130
```
```python
,
```
```python
260
```
```python
)
```
```python
```
```python
```
```python
self
```
```python
.setGeometry(
```
```python
300
```
```python
,
```
```python
300
```
```python
,
```
```python
350
```
```python
,
```
```python
300
```
```python
)
```
```python
```
```python
self
```
```python
.setWindowTitle(
```
```python
'Calendar'
```
```python
)
```
```python
```
```python
self
```
```python
.show()
```
```python
```
```python
```
```python
```
```python
def
```
```python
showDate(
```
```python
self
```
```python
, date):
```
```python
```
```python
```
```python
self
```
```python
.lbl.setText(date.toString())
```
```python
```
```python
```
```python
if
```
```python
__name__
```
```python
=
```
```python
=
```
```python
'__main__'
```
```python
:
```
```python
```
```python
```
```python
app
```
```python
=
```
```python
QApplication(sys.argv)
```
```python
```
```python
ex
```
```python
=
```
```python
Example()
```
```python
```
```python
sys.exit(app.exec_())
```
```
以上的例子展示一个日历组件和标签组件。功能是日历中选择的日期会显示在标签组件中。
```
```python
cal
```
```python
=
```
```python
QCalendarWidget(
```
```python
self
```
```python
)
```
```
创建QCalendarWidget类。
```
```python
cal.clicked[QDate].connect(
```
```python
self
```
```python
.showDate)
```
```
如果我们在组件上选择了一个日期，`clicked[QDate]` 信号会被发射。我们把这个信号和自定义的showDate()方法连接。
```
```python
def
```
```python
showDate(
```
```python
self
```
```python
, date):
```
```python
```
```python
```
```python
self
```
```python
.lbl.setText(date.toString())
```
```
我们通过selectedDate()方法检索被选中的日期。然后我们把选中的日期对象转化成字符串显示在标签组件上。
