# “房间里有100个人，每人都有100元钱，每轮每人要拿一元钱随机给另一个人”最后分布的python结果 - lyx的专栏 - CSDN博客





2017年07月30日 17:05:48[钱塘小甲子](https://me.csdn.net/qtlyx)阅读数：3461
个人分类：[Python](https://blog.csdn.net/qtlyx/article/category/5969093)









下午看到了这个问题，一开始直觉当然是觉得每个人的期望都是一样的，大家都是公平的，最后肯定是差不多。

这就是直觉，而在统计学和随机过程的世界里，直觉往往是错误的。

我们用python仿真一下这个过程。



```python
# coding:utf-8
# 房间里有100个人，每人都有100元钱，他们在玩一个游戏。
# 每轮游戏中，每个人都要拿出一元钱随机给另一个人，最后这100个人的财富分布是怎样的？
import matplotlib.pyplot as plt
import pandas as pd
import random
person = 100
id_list = range(person)
id_money_dict = {k: person for k in id_list}
round_number = 17000
for round in range(round_number):
    for id in id_money_dict.keys():
        id_money_dict[id] += -1
        id_get = random.randint(0, person-1)
        while id_get == id:
            id_get = random.randint(0, person - 1)
        id_money_dict[id_get] += 1
se = pd.Series(id_money_dict)
se.plot.bar()
plt.show()
plt.close()
plt.show()
plt.close()
se.plot.hist(bins=100)
plt.show()
```
结果的图如下:
![](https://img-blog.csdn.net/20170730165937879?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvcXRseXg=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/Center)

![](https://img-blog.csdn.net/20170730165947947?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvcXRseXg=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/Center)


第一张图是每个人最后手上的钱，后面一个是财富的分布。

确实反直觉。

但是仔细一想，确实这件事情是这样的。我们假设现在进行了1000次试验，那么每个人的期望收益就是100 - 1000 + （1000* 1/99 * 99） = 100.这个期望是100，是我们的直觉。但是别忘了，这是一个分布，有方差的，所以，其实每个人都是在这个分布里面抽样。所以才会有这样类似于反直觉的结果。






