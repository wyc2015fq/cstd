# Eclipse:An internal error occurred during: "Build Project". GC overhead limit exceeded - xqhrs232的专栏 - CSDN博客
2018年11月28日 13:54:39[xqhrs232](https://me.csdn.net/xqhrs232)阅读数：44
个人分类：[JavaWeb技术](https://blog.csdn.net/xqhrs232/article/category/8231541)
原文地址::[https://blog.csdn.net/testcs_dn/article/details/45225413](https://blog.csdn.net/testcs_dn/article/details/45225413)
在使用Eclipse的Build Project功能时，提示以下错误： 
An internal error occurred during: “Build Project”. GC overhead limit exceeded 
如图： 
搜索的一下，是属于java.lang.OutOfMemoryError。 
OOM大家都知道，就是JVM内存溢出了，那GC overhead limit exceed呢？
GC overhead limt exceed检查是Hotspot VM 1.6定义的一个策略，通过统计GC时间来预测是否要OOM了，提前抛出异常，防止OOM发生。Sun 官方对此的定义是：“并行/并发回收器在GC回收时间过长时会抛出OutOfMemroyError。过长的定义是，超过98%的时间用来做GC并且回收了不到2%的堆内存。用来避免内存过小造成应用不能正常工作。“
听起来没啥用…预测OOM有啥用？起初开来这玩意只能用来Catch住释放内存资源，避免应用挂掉。后来发现一般情况下这个策略不能拯救你的应用，但是可以在应用挂掉之前做最后的挣扎，比如数据保存或者保存现场（Heap Dump）。
而且有些时候这个策略还会带来问题，比如加载某个大的内存数据时频繁OOM。
**用于了一两年了，今天突然遇到这个问题，也许是以前没留意。 
其实如果不是很频繁的出现，也不需要留意它，直接点OK就好了。** 
之后会弹出提示如下： 
如果担心还有没保存的修改，就点No，检查完毕后重启一下Eclipse。
解决方法： 
原因是Eclipse默认配置内存太小需要更改Eclipse安装文件夹下的eclipse.ini文件。
Eclipse.ini默认文件如下：
-startup
plugins/org.eclipse.equinox.launcher_1.3.0.v20140415-2008.jar
--launcher.library
plugins/org.eclipse.equinox.launcher.win32.win32.x86_64_1.1.200.v20150204-1316
-product
org.eclipse.epp.package.jee.product
--launcher.defaultAction
openFile
--launcher.XXMaxPermSize
512M
-showsplash
org.eclipse.platform
--launcher.XXMaxPermSize
512m
--launcher.defaultAction
openFile
--launcher.appendVmargs
-vmargs
-Dosgi.requiredJavaVersion=1.8
-Xms1024m
-Xmx1536m
-XX:MaxPermSize=1024m
1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
修改如下：
-Xms512m -Xmx1024m
第一个是最小的初始化内存，第二个是最大的占有内存
还可以加上 -XX:MaxPermSize=1024m这个意思是在编译文件时一直占有最大内存，重启Eclipse
2017-12-20更新
补一个 macOS 下的 Eclipse.ini 文件内容：
-startup
../Eclipse/plugins/org.eclipse.equinox.launcher_1.3.201.v20161025-1711.jar
--launcher.library
/Users/aven/.p2/pool/plugins/org.eclipse.equinox.launcher.cocoa.macosx.x86_64_1.1.401.v20161122-1740
-product
org.eclipse.epp.package.jee.product
--launcher.defaultAction
openFile
-showsplash
org.eclipse.platform
--launcher.appendVmargs
-vm
/Library/Java/JavaVirtualMachines/jdk1.8.0_121.jdk/Contents/Home/jre/bin
-vmargs
-Dosgi.requiredJavaVersion=1.8
-XX:+UseG1GC
-XX:+UseStringDeduplication
-XstartOnFirstThread
-Dorg.eclipse.swt.internal.carbon.smallFonts
-Dosgi.requiredJavaVersion=1.8
-Xms256m
-Xmx1024m
-Xdock:icon=../Resources/Eclipse.icns
-XstartOnFirstThread
-Dorg.eclipse.swt.internal.carbon.smallFonts
-Declipse.p2.max.threads=10
-Doomph.update.url=http://download.eclipse.org/oomph/updates/milestone/latest
-Doomph.redirection.index.redirection=index:/->http://git.eclipse.org/c/oomph/org.eclipse.oomph.git/plain/setups/
1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
macOS 下的 Eclipse.ini 文件在哪？
--------------------- 
作者：微wx笑 
来源：CSDN 
原文：https://blog.csdn.net/testcs_dn/article/details/45225413 
版权声明：本文为博主原创文章，转载请附上博文链接！
