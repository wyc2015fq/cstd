# 【转】关于HFSS软件的使用 - xqhrs232的专栏 - CSDN博客
2015年08月06日 14:26:50[xqhrs232](https://me.csdn.net/xqhrs232)阅读数：2417
原文地址::[http://blog.sina.com.cn/s/blog_6211dcd60100p4hm.html](http://blog.sina.com.cn/s/blog_6211dcd60100p4hm.html)
相关文章
1、HFSS软件使用基础介绍----[http://wenku.baidu.com/link?url=S3PKmMKWGvS8625B_F6xcOCz8vDKeKEG5EEfSsY8Ce9ObzJD5ab2CUjt5hjhoFHtteOBJXardlwnsYyLjpD1yk97mydPoxuHtn4uAqvqNWS](http://wenku.baidu.com/link?url=S3PKmMKWGvS8625B_F6xcOCz8vDKeKEG5EEfSsY8Ce9ObzJD5ab2CUjt5hjhoFHtteOBJXardlwnsYyLjpD1yk97mydPoxuHtn4uAqvqNWS)
2、HFSS软件系统介绍----[http://wenku.baidu.com/link?url=pwW1K6H0XR-LVoqndBK21i_HSvF3jQmdiAdby9SNcVsX-A_2pi18Q1K2FNJYsgHooQv6GrbYc9HT3rFm2kyXDUxs0vwALNglLY6nAmE9vr_](http://wenku.baidu.com/link?url=pwW1K6H0XR-LVoqndBK21i_HSvF3jQmdiAdby9SNcVsX-A_2pi18Q1K2FNJYsgHooQv6GrbYc9HT3rFm2kyXDUxs0vwALNglLY6nAmE9vr_)
3、ansoft hfss中文使用教程详解----[http://download.csdn.net/download/fzp530221433/1279209](http://download.csdn.net/download/fzp530221433/1279209)
4、HFSS软件介绍与实例操作中文教程----[http://wenku.baidu.com/link?url=aIKWcQcB_XDXpCZ4mEgHMS7Gbnm8_rxg3G5bluS9qlj2qJN736wFBxlnYSMljVWRhnG_DX2Gjf0teAxps5SM729rDock94FBmUW-tf66S2_](http://wenku.baidu.com/link?url=aIKWcQcB_XDXpCZ4mEgHMS7Gbnm8_rxg3G5bluS9qlj2qJN736wFBxlnYSMljVWRhnG_DX2Gjf0teAxps5SM729rDock94FBmUW-tf66S2_)
5、
# Ansoft HFSS13 免费版(含免费补丁)----[http://www.pc6.com/softview/SoftView_56173.html](http://www.pc6.com/softview/SoftView_56173.html)
**原文地址：**[【转】关于HFSS软件的使用](http://blog.sina.com.cn/s/blog_6188aef80100nyca.html)**作者：**[ZERO](http://blog.sina.com.cn/u/1636347640)
HFSS软件的使用关键有两点： **激励施加** 和 **边界设定**，都在一个窗口下完成。
务必清楚 Wave Port、 Terminal Port 的区别 以及 三根 Line 的区别；
合理施加对于 Port 的设置，不仅是采用什么样的 Port ，还有一个问题要注意，你的 Port 的平面的大小对仿真的影响很大；
Boundary 的设置相对较简单。
**HFSS使用心得**
1、简介
    目前，国际上主流的三维高频电磁场仿真软件有德国**CST**公司的 **MicroWave Studio**（微波工作室）、美国**Ansoft**公司的**HFSS**（高频电磁场仿真），而诸如Zeland等软件则最多只能算作2.5维的。
    就目前发行的版本而言， CST的MWS的前后处理**界面及操作感**比HFSS好很多，然而Ansoft也意识到了自己的缺点，在将要推出的新版本HFSS（定名为Ansoft Designer）中，界面及操作都得到了极大的改善，完全可以和CST相比；
    在**性能**方面，2个软件各有所长，在业界每隔一定时间就会有一次软件比赛，看看谁的软件算的快，算的准，在过去的时间里，CST和ANSOFT成绩相差不多；
**    价格**方面，2个软件相差不多，大约在7～8万美元的水平，且都有出国培训的安排。
    值得注意的是，**MWS**采用的理论基础是**FIT**，所以MWS的计算是由时域得到频域解，对于象滤波器，耦合器等主要关心带内参数的问题设计就非常适合；而**HFSS**采用的理论基础是**有限元方法**，是一种积分方法，其解是频域的，所以HFSS是由频域到时域，对于设计各种辐射器及求本征模问题很擅长。
    当然，并不是说2个软件在对方的领域就一无是处。
    由于Ansoft进入中国市场较早，所以目前国内的HFSS使用者众多，特别是在各大通信技术研究单位、公司、高校非常普及。
2、使用心得
    和大部分的大型数值分析软件相似，以有限元方法为基础的Ansoft HFSS并非是傻瓜软件，对于绝大部分的问题来说，想要得到快速而准确的结果，必须对工作作一定的干预。
    除了必须十分明了模型细节外，建模者本身也最好具备一定的电磁理论基础。
    作者假定阅读者使用过HFSS，因此对一些属于基本操作方面的内容并不提及。
2.1、对称的使用
    对于一个具体的高频电磁场仿真问题，首先应该看看它是否可以采用**对称面**。这里面的约束主要在几何对称和激励对称要求。
    如果一个问题的激励并不要求是可改变的，比如全部同相馈电的阵列，此时最好采用对称，甚至可以采用2个对称（E和H对称），将可以大大节约时间和设备资源。
2.2、面的使用
    在实际问题中，有很多结构是可以**使用2维面来代替**的，使用2维面的好处是可以极大的减少计算量并且结果与使用3维实体相差无几。
    例如计算一个微带的分支线耦合器，印制板的微带以及地都可以指定某些面为理想电面代替，这样可以很快的获得所需要的物理尺寸及其性能。
    再以计算偶极子为例，如果偶极子是以理想导体为材质的圆柱，那么相同的其他条件下其计算时间大约是采用等效面为偶极子的4～5倍，由此可见一般。
2.3、Lump Port（集中端口）的使用
    在 HFSS8 里提供了一种新的激励：Lump Port，这种激励**避免了建立一个同轴或者波导激励**，从而在一定程度上减轻了模型量，也减少了计算时间。
    Lump Port 也可以使用一个**面**来代表，要注意的是对该 Port 的**校准线和阻抗线**的设置一定要准确，**端口在空间上一定要与其他金属（或电面）相接**，否则结果极易出错。
2.4、关于辐射边界的问题
    在不需要求解近（远）场问题时，比如密封在金属箱体里面的滤波器等密闭问题，无需设置辐射边界。
    在需要求解场分布或者方向图时，必须设置辐射边界。
    这里有些需要注意的问题：
    在计算大带宽周期性结构时，比如3个倍频程，最好分段计算，例如以一个倍频程为一段，也就是说在**不同的频段计算时设置不同大小的辐射边界**，否则在计算的频率边缘难以保证计算精度；
    其次，辐射边界的大小和问题的具体形状密切相关，如果物体的外部轮廓可以装在一个球或并不过分的椭球中时，宜采用**立方体边界**--简单有效；如果问题的外部轮廓较为复杂或者椭球2轴差距太大，宜采用**相似形边界或圆柱边界**；对于辐射问题，如果估计问题的增益较低（比如2dB），那么边界宜采用**球形**，此时为了得到结果准确也只好牺牲时间了；
    另在 HFSS8 中提供了一种**新的吸收边界--PML边界条件**，对于这种边界，笔者并不是很满意，尽管其有效距离为八分之一个中心波长--是老边界的一半，可以减少计算量，然而这种边界由程序自己生成，为一个立方体的复杂结构，对于一些特殊的复杂问题，这种边界内部有很多的空间是无用的，此时还不如使用老边界灵活。
2.5、关于开孔
    有些问题需要在壁上开孔，此时可以采用2种办法，其一是老老实实的在模型上**挖空**；其二是采用**H/Natrue边界条件。**通常，如果是在面上开孔，将会采用后者，简单，便于修改。
2.6、关于网格划分
    当模型建立好了之后，进入计算模块，第一步是给问题划分网格。
    对于一般问题，让软件自动划分比较省心，但对大型问题和复杂问题，让**软件自己划分**可能需要很好的耐性来等待。
    根据实际经验，在大型模型的结构密集区域或场敏感区域使用**人工划分**可以得到很好的效果。有些问题的计算结果开始表现为收敛，但进一步提高精度，却又**反弹**，问题就在于开始时场敏感区域的**网格划分不够仔细**，导致计算结果的偏差。
2.7、关于所需要的精度
    计算问题时，一般需要给定一个收敛精度和计算次数以避免程序"陷入计算而无法自拔"，当对模型**熟悉**后，可以单单靠给定次数。
    在问题之初，建议的计算精度不要太高，实际中曾见到有操作者将问题的S参数精度设定为0.00001，其实这是完全没有必要的，一般S参数的精度设定为0.02左右就已经可以满足绝大部分问题的需要（此时应该注意有无**收敛反弹**的情况）。
    如果是计算次数，对于密闭问题，建议是设定为8～12次，对于辐射问题，一般计算6～8次左右即可观察结果，如果不够再决定是否继续计算。
2.8、关于扫描
    HFSS 提供一个扫描功能，分3种方式：**快速**、**离散**和**插值**。
    其中**离散扫描**只保留最后一个频点的场结果，其计算时间是单个频点计算时间之和；
    对**快速扫描**，将可以得到所计算的频率范围内的所有频率场结果，但是其计算速度和频点多少关系不大，基本和模型复杂程度正比，有时扫描计算的时间非常长。
    如果不是特别需要关心所有的场情况，建议选用离散扫描，对于特别巨大的问题，则是以快速扫描为宜。
    而**插值方式**比较少用。
2.9、关于问题的规模
    HFSS 所能计算的问题规模与**计算机硬件**关系很大，其次是所使用的**操作系统**。
    在 HFSS8 里，问题描述**矩阵的阶基本和网格数正比**，对于四面体上10万的问题也能游刃有余（只要机器够好），然而这并非是指实际问题的电尺寸。
    实际上，要精确计算一个计算机网络电缆接头（RJ45）所需要的时间和资源并不比计算一个有一个波长电尺寸的一般辐射问题少多少，所以实际上其计算规模的主要约束是问题的复杂程度，而复杂程度里面包含了电尺寸、结构复杂度等要素。
    由此提醒我们建模时应该尽量**简化模型**。
    一般来说，**除了在激励区**，当结构电尺寸比二十分之一波长还小时，可以忽略它的存在，而不会引入明显的误差，这一点在解决问题之初很有效，可以迅速发现问题的关键；
    当问题的**主要要求满足后**，再将模型细化以获得更加精确的结果。
