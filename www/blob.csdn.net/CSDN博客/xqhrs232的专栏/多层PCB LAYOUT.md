# 多层PCB LAYOUT - xqhrs232的专栏 - CSDN博客
2011年11月03日 11:37:04[xqhrs232](https://me.csdn.net/xqhrs232)阅读数：1070标签：[layout																[网络																[properties																[layer																[工作																[delete](https://so.csdn.net/so/search/s.do?q=delete&t=blog)](https://so.csdn.net/so/search/s.do?q=工作&t=blog)](https://so.csdn.net/so/search/s.do?q=layer&t=blog)](https://so.csdn.net/so/search/s.do?q=properties&t=blog)](https://so.csdn.net/so/search/s.do?q=网络&t=blog)](https://so.csdn.net/so/search/s.do?q=layout&t=blog)
个人分类：[PCB/EDA/硬件设计与仿真](https://blog.csdn.net/xqhrs232/article/category/906926)
原文地址::[http://blog.csdn.net/happyflovef/article/details/5584479](http://blog.csdn.net/happyflovef/article/details/5584479)
多层PCB电路板设计方法
2009-08-30 22:57
在设计多层PCB电路板之前，设计者需要首先根据电路的规模、电路板的尺寸和电磁兼容（EMC）的要
求来确定所采用的电路板结构，也就是决定采用4层，6层，还是更多层数的电路板。确定层数之后，再
确定内电层的放置位置以及如何在这些层上分布不同的信号。这就是多层PCB层叠结构的选择问题。层
叠结构是影响PCB板EMC性能的一个重要因素，也是抑制电磁干扰的一个重要手段。本节将介绍多
层PCB板层叠结构的相关内容。
11.1.1 层数的选择和叠加原则
确定多层PCB板的层叠结构需要考虑较多的因素。从布线方面来说，层数越多越利于布线，但是制板成
本和难度也会随之增加。对于生产厂家来说，层叠结构对称与否是PCB板制造时需要关注的焦点，所以
层数的选择需要考虑各方面的需求，以达到最佳的平衡。
对于有经验的设计人员来说，在完成元器件的预布局后，会对PCB的布线瓶颈处进行重点分析。结合其
他EDA工具分析电路板的布线密度；再综合有特殊布线要求的信号线如差分线、敏感信号线等的数量和
种类来确定信号层的层数；然后根据电源的种类、隔离和抗干扰的要求来确定内电层的数目。这样，整
个电路板的板层数目就基本确定了。
确定了电路板的层数后，接下来的工作便是合理地排列各层电路的放置顺序。在这一步骤中，需要考虑
的因素主要有以下两点。
（1）特殊信号层的分布。
（2）电源层和地层的分布。
如果电路板的层数越多，特殊信号层、地层和电源层的排列组合的种类也就越多，如何来确定哪种组合
方式最优也越困难，但总的原则有以下几条。
（1）信号层应该与一个内电层相邻（内部电源/地层），利用内电层的大铜膜来为信号层提供屏蔽。
（2）内部电源层和地层之间应该紧密耦合，也就是说，内部电源层和地层之间的介质厚度应该取较小
的值，以提高电源层和地层之间的电容，增大谐振频率。内部电源层和地层之间的介质厚度可以
在Protel的Layer Stack Manager（层堆栈管理器）中进行设置。选择【Design】/【Layer Stack
Manager…】命令，系统弹出层堆栈管理器对话框，用鼠标双击Prepreg文本，弹出如图11-1所示对话
框，可在该对话框的Thickness选项中改变绝缘层的厚度。
![](http://hiphotos.baidu.com/shouzhishi/pic/item/b4af3532775ca7d01b4cff76.jpg)
如果电源和地线之间的电位差不大的话，可以采用较小的绝缘层厚度，例如5mil（0.127mm）。
（3）电路中的高速信号传输层应该是信号中间层，并且夹在两个内电层之间。这样两个内电层的铜膜
可以为高速信号传输提供电磁屏蔽，同时也能有效地将高速信号的辐射限制在两个内电层之间，不对外
造成干扰。
（4）避免两个信号层直接相邻。相邻的信号层之间容易引入串扰，从而导致电路功能失效。在两信号
层之间加入地平面可以有效地避免串扰。
（5）多个接地的内电层可以有效地降低接地阻抗。例如，A信号层和B信号层采用各自单独的地平面，
可以有效地降低共模干扰。
（6）兼顾层结构的对称性。
11.1.2 常用的层叠结构
下面通过4层板的例子来说明如何优选各种层叠结构的排列组合方式。
对于常用的4层板来说，有以下几种层叠方式（从顶层到底层）。
（1）Siganl_1（Top），GND（Inner_1），POWER（Inner_2），Siganl_2（Bottom）。
（2）Siganl_1（Top），POWER（Inner_1），GND（Inner_2），Siganl_2（Bottom）。
（3）POWER（Top），Siganl_1（Inner_1），GND（Inner_2），Siganl_2（Bottom）。
显然，方案3电源层和地层缺乏有效的耦合，不应该被采用。
那么方案1和方案2应该如何进行选择呢？一般情况下，设计人员都会选择方案1作为4层板的结构。原因并非方案2不可被采用，而是一般的PCB板都只在顶层放置元器件，所以采用方案1较为妥当。但
是当在顶层和底层都需要放置元器件，而且内部电源层和地层之间的介质厚度较大，耦合不佳时，就需
要考虑哪一层布置的信号线较少。对于方案1而言，底层的信号线较少，可以采用大面积的铜膜来
与POWER层耦合；反之，如果元器件主要布置在底层，则应该选用方案2来制板。
如果采用如图11-1所示的层叠结构，那么电源层和地线层本身就已经耦合，考虑对称性的要求，一般采
用方案1。
在完成4层板的层叠结构分析后，下面通过一个6层板组合方式的例子来说明6层板层叠结构的排列组合
方式和优选方法。
（1）Siganl_1（Top），GND（Inner_1），Siganl_2（Inner_2），Siganl_3（Inner_3），POWER（In
）。
方案1采用了4层信号层和2层内部电源/接地层，具有较多的信号层，有利于元器件之间的布线工作，但
是该方案的缺陷也较为明显，表现为以下两方面。
① 电源层和地线层分隔较远，没有充分耦合。
② 信号层Siganl_2（Inner_2）和Siganl_3（Inner_3）直接相邻，信号隔离性不好，容易发生串扰。
（2）Siganl_1（Top），Siganl_2（Inner_1），POWER（Inner_2），GND（Inner_3），Siganl_3（In
）。
方案2相对于方案1，电源层和地线层有了充分的耦合，比方案1有一定的优势，但是Siganl_1（Top）
和Siganl_2（Inner_1）以及Siganl_3（Inner_4）和Siganl_4（Bottom）信号层直接相邻，信号隔离不
好，容易发生串扰的问题并没有得到解决。
（3）Siganl_1（Top），GND（Inner_1），Siganl_2（Inner_2），POWER（Inner_3），GND（Inner_
）。
相对于方案1和方案2，方案3减少了一个信号层，多了一个内电层，虽然可供布线的层面减少了，但是
该方案解决了方案1和方案2共有的缺陷。
① 电源层和地线层紧密耦合。
② 每个信号层都与内电层直接相邻，与其他信号层均有有效的隔离，不易发生串扰。
③ Siganl_2（Inner_2）和两个内电层GND（Inner_1）和POWER（Inner_3）相邻，可以用来传输高速
信号。两个内电层可以有效地屏蔽外界对Siganl_2（Inner_2）层的干扰和Siganl_2（Inner_2）对外界
的干扰。
综合各个方面，方案3显然是最优化的一种，同时，方案3也是6层板常用的层叠结构。
通过对以上两个例子的分析，相信读者已经对层叠结构有了一定的认识，但是在有些时候，某一个方案
并不能满足所有的要求，这就需要考虑各项设计原则的优先级问题。遗憾的是由于
电路板的板层设计和实际电路的特点密切相关，不同电路的抗干扰性能和设计侧重点各有所不同，所以
事实上这些原则并没有确定的优先级可供参考。但可以确定的是，设计原则2（内部电源层和地层之间
应该紧密耦合）在设计时需要首先得到满足，另外如果电路中需要传输高速信号，那么设计原则3（电
路中的高速信号传输层应该是信号中间层，并且夹在两个内电层之间）就必须得到满足。表11-1给出了
多层板层叠结构的参考方案，供读者参考。
![](http://hiphotos.baidu.com/shouzhishi/pic/item/d735683cfeb415c63c6d9779.jpg)
11.2.1 元器件布局的一般原则
设计人员在电路板布局过程中需要遵循的一般原则如下。
（1）元器件最好单面放置。如果需要双面放置元器件，在底层（Bottom Layer）放置插针式元器件，
就有可能造成电路板不易安放，也不利于焊接，所以在底层（Bottom Layer）最好只放置贴片元器件，
类似常见的计算机显卡PCB板上的元器件布置方法。单面放置时只需在电路板的一个面上做丝印层，便
于降低成本。
（2）合理安排接口元器件的位置和方向。一般来说，作为电路板和外界（电源、信号线）连接的连接
器元器件，通常布置在电路板的边缘，如串口和并口。如果放置在电路板的中央，显然不利于接线，也
有可能因为其他元器件的阻碍而无法连接。另外在放置接口时要注意接口的方向，使得连接线可以顺利
地引出，远离电路板。接口放置完毕后，应当利用接口元器件的String（字符串）清晰地标明接口的种
类；对于电源类接口，应当标明电压等级，防止因接线错误导致电路板烧毁。
（3）高压元器件和低压元器件之间最好要有较宽的电气隔离带。也就是说不要将电压等级相差很大的
元器件摆放在一起，这样既有利于电气绝缘，对信号的隔离和抗干扰也有很大好处。
（4）电气连接关系密切的元器件最好放置在一起。这就是模块化的布局思想。
（5）对于易产生噪声的元器件，例如时钟发生器和晶振等高频器件，在放置的时候应当尽量把它们放
置在靠近CPU的时钟输入端。大电流电路和开关电路也容易产生噪声，在布局的时候这些元器件或模块
也应该远离逻辑控制电路和存储电路等高速信号电路，如果可能的话，尽量采用控制板结合功率板的方
式，利用接口来连接，以提高电路板整体的抗干扰能力和工作可靠性。
（6）在电源和芯片周围尽量放置去耦电容和滤波电容。去耦电容和滤波电容的布置是改善电路板电源
质量，提高抗干扰能力的一项重要措施。在实际应用中，印制电路板的走线、引脚连线和接线都有可能
带来较大的寄生电感，导致电源波形和信号波形中出现高频纹波和毛刺，而在电源和地之间放置一
个0.1 F的去耦电容可以有效地滤除这些高频纹波和毛刺。如果电路板上使用的是贴片电容，应该将贴
片电容紧靠元器件的电源引脚。对于电源转换芯片，或者电源输入端，最好是布置一个10 F或者更大
的电容，以进一步改善电源质量。
（7）元器件的编号应该紧靠元器件的边框布置，大小统一，方向整齐，不与元器件、过孔和焊盘重
叠。元器件或接插件的第1引脚表示方向；正负极的标志应该在PCB上明显标出，不允许被覆盖；电源变
换元器件（如DC/DC变换器，线性变换电源和开关电源）旁应该有足够的散热空间和安装空间，外围留
有足够的焊接空间等。
11.2.2 元器件布线的一般原则
设计人员在电路板布线过程中需要遵循的一般原则如下。
（1）元器件印制走线的间距的设置原则。不同网络之间的间距约束是由电气绝缘、制作工艺和元件大
小等因素决定的。例如一个芯片元件的引脚间距是8mil，则该芯片的【Clearance Constraint】就不能设
置为10mil，设计人员需要给该芯片单独设置一个6mil的设计规则。同时，间距的设置还要考虑到生产厂
家的生产能力。
另外，影响元器件的一个重要因素是电气绝缘，如果两个元器件或网络的电位差较大，就需要考虑电气
绝缘问题。一般环境中的间隙安全电压为200V/mm，也就是5.08V/mil。所以当同一块电路板上既有高
压电路又有低压电路时，就需要特别注意足够的安全间距。
（2）线路拐角走线形式的选择。为了让电路板便于制造和美观，在设计时需要设置线路的拐角模式，
可以选择45°、90°和圆弧。一般不采用尖锐的拐角，最好采用圆弧过渡或45°过渡，避免采用90°或者更
加尖锐的拐角过渡。
导线和焊盘之间的连接处也要尽量圆滑，避免出现小的尖脚，可以采用补泪滴的方法来解决。当焊盘之
间的中心距离小于一个焊盘的外径D时，导线的宽度可以和焊盘的直径相同；如果焊盘之间的中心距大
于D，则导线的宽度就不宜大于焊盘的直径。
导线通过两个焊盘之间而不与其连通的时候，应该与它们保持最大且相等的间距，同样导线和导线之间
的间距也应该均匀相等并保持最大。
（3）印制走线宽度的确定方法。走线宽度是由导线流过的电流等级和抗干扰等因素决定的，流过电流
越大，则走线应该越宽。一般电源线就应该比信号线宽。为了保证地电位的稳定（受地电流大小变化影
响小），地线也应该较宽。实验证明：当印制导线的铜膜厚度
为0.05mm时，印制导线的载流量可以按照20A/mm2进行计算，即0.05mm厚，1mm宽的导线可以流
过1A的电流。所以对于一般的信号线来说10～30mil的宽度就可以满足要求了；高电压，大电流的信号
线线宽大于等于40mil，线间间距大于30mil。为了保证导线的抗剥离强度和工作可靠性，在板面积和密
度允许的范围内，应该采用尽可能宽的导线来降低线路阻抗，提高抗干扰性能。
对于电源线和地线的宽度，为了保证波形的稳定，在电路板布线空间允许的情况下，尽量加粗，一般情
况下至少需要50mil。
（4）印制导线的抗干扰和电磁屏蔽。导线上的干扰主要有导线之间引入的干扰、电源线引入的干扰和
信号线之间的串扰等，合理安排和布置走线及接地方式可以有效减少干扰源，使设计出的电路板具备更
好的电磁兼容性能。
对于高频或者其他一些重要的信号线，例如时钟信号线，一方面其走线要尽量宽，另一方面可以采取包
地的形式使其与周围的信号线隔离起来（就是用一条封闭的地线将信号线“包裹”起来，相当于加一层接
地屏蔽层）。
对于模拟地和数字地要分开布线，不能混用。如果需要最后将模拟地和数字地统一为一个电位，则通常
应该采用一点接地的方式，也就是只选取一点将模拟地和数字地连接起来，防止构成地线环路，造成地
电位偏移。
完成布线后，应在顶层和底层没有铺设导线的地方敷以大面积的接地铜膜，也称为敷铜，用以有效减小
地线阻抗，从而削弱地线中的高频信号，同时大面积的接地可以对电磁干扰起抑制作用。
电路板中的一个过孔会带来大约10pF的寄生电容，对于高速电路来说尤其有害；同时，过多的过孔也会
降低电路板的机械强度。所以在布线时，应尽可能减少过孔的数量。另外，在使用穿透式的过孔（通
孔）时，通常使用焊盘来代替。这是因为在电路板制作时，有可能因为加工的原因导致某些穿透式的过
孔（通孔）没有被打穿，而焊盘在加工时肯定能够被打穿，这也相当于给制作带来了方便。
以上就是PCB板布局和布线的一般原则，但在实际操作中，元器件的布局和布线仍然是一项很灵活的工
作，元器件的布局方式和连线方式并不唯一，布局布线的结果很大程度上还是取决于设计人员的经验和
思路。可以说，没有一个标准可以评判布局和布线方案的对与错，只能比较相对的优和劣。所以以上布
局和布线原则仅作为设计参考，实践才是评判优劣的唯一标准。
11.2.3 多层PCB板布局和布线的特殊要求
相对于简单的单层板和双层板，多层PCB板的布局和布线有其独特的要求。
对于多层PCB板的布局，归纳起来就是要合理安排使用不同电源和地类型元器件的布局。其目的一是为
了给后面的内电层的分割带来便利，同时也可以有效地提高元器件之间的抗干扰能力。
所谓合理安排使用不同电源和地类型元器件的布局，就是将使用相同电源等级和相同类型地的元器件尽
量放在一起。例如当电路原理图上有+3.3V、+5V、−5V、+15V、−15V等多个电压等级时，设计人员
应该将使用同一电压等级的元器件集中放置在电路板的某一个区域。当然这个布局原则并不是布局的唯
一标准，同时还需要兼顾其他的布局原则（双层板布局的一般原则），这就需要设计人员根据实际需求
来综合考虑各种因素，在满足其他布局原则的基础上，尽量将使用相同电源等级和相同类型地的元器件
放在一起。对于多层PCB板的布线，归纳起来就是一点：先走信号线，后走电源线。这是因为多层板的
电源和地通常都通过连接内电层来实现。这样做的好处是可以简化信号层的走线，并且通过内电层这种
大面积铜膜连接的方式来有效降低接地阻抗和电源等效内阻，提高电路的抗干扰能力；同时，大面积铜
膜所允许通过的最大电流也加大了。
一般情况下，设计人员需要首先合理安排使用不同电源和地类型元器件的布局，同时兼顾其他布局原
则，然后按照前面章节所介绍的方法对元器件进行布线（只布信号线），完成后分割内电层，确定内电
层各部分的网络标号，最后通过内电层和信号层上的过孔和焊盘来进行连接。焊盘和过孔在通过内电层
时，与其具有相同网络标号的焊盘或过孔会通过一些未被腐蚀的铜膜连接到内电层，而不属于该网络的
焊盘周围的铜膜会被完全腐蚀掉，也就是说不会与该内电层导通。
11.3 中间层创建与设置
中间层，就是在PCB板顶层和底层之间的层，其结构参见图11-1，读者可以参考图中的标注进行理解。
那中间层在制作过程中是如何实现的呢？简单地说多层板就是将多个单层板和双层板压制而成，中间层
就是原先单层板和双层板的顶层或底层。在PCB板的制作过程中，首先需要在一块基底材料（一般采用
合成树脂材料）的两面敷上铜膜，然后通过光绘等工艺将图纸中的导线连接关系转换到印制板的板材上
（对图纸中的印制导线、焊盘和过孔覆膜加以保护，防止这些部分的铜膜在接下来的腐蚀工艺中被腐
蚀），再通过化学腐蚀的方式（以FeCl3或H2O2为主要成分的腐蚀液）将没有覆膜保护部分的铜膜腐蚀
掉，最后完成钻孔，印制丝印层等后期处理工作，这样一块PCB板就基本制作完成了。同理，多
层PCB板就是在多个板层完成后再采取压制工艺将其压制成一块电路板，而且为了减少成本和过孔干
扰，多层PCB板往往并不比双层板和单层板厚多少，这就使得组成多层PCB板的板层相对于普通的双层
板和单层板往往厚度更小，机械强度更低，导致对加工的要求更高。所以多层PCB板的制作费用相对于
普通的双层板和单层板就要昂贵许多。
但由于中间层的存在，多层板的布线变得更加容易，这也是选用多层板的主要目的。然而在实际应用
中，多层PCB板对手工布线提出了更高的要求，使得设计人员需要更多地得到EDA软件的帮助；同时中
间层的存在使得电源和信号可以在不同的板层中传输，信号的隔离和抗干扰性能会更好，而且大面积的
敷铜连接电源和地网络可以有效地降低线路阻抗，减小因为共同接地造成的地电位偏移。因此，采用多
层板结构的PCB板通常比普通的双层板和单层板有更好的抗干扰性能。
11.3.1 中间层的创建
Protel系统中提供了专门的层设置和管理工具—Layer Stack Manager（层堆栈管理器）。这个工具可以
帮助设计者添加、修改和删除工作层，并对层的属性进行定义和修改。选择【Design】/【Layer Stack
Manager…】命令，弹出如图11-2所示的层堆栈管理器属性设置对话框。
![](http://hiphotos.baidu.com/shouzhishi/pic/item/e408a63c90f19d28bba16742.jpg)
上图所示的是一个4层PCB板的层堆栈管理器界面。除了顶层（TopLayer）和底层（BottomLayer）外，
还有两个内部电源层（Power）和接地层（GND），这些层的位置在图中都有清晰的显示。双击层的名
称或者单击Properties按钮可以弹出层属性设置对话框，如图11-3所示。
![](http://hiphotos.baidu.com/shouzhishi/pic/item/5de9f6fdb925c6aab801a048.jpg)
在该对话框中有3个选项可以设置。
（1）Name：用于指定该层的名称。
（2）Copper thickness：指定该层的铜膜厚度，默认值为1.4mil。铜膜越厚则相同宽度的导线所能承受
的载流量越大。
（3）Net name：在下拉列表中指定该层所连接的网络。本选项只能用于设置内电层，信号层没有该选
项。如果该内电层只有一个网络例如“+5V”，那么可以在此处指定网络名称；但是如果内电层需要被分
割为几个不同的区域，那么就不要在此处指定网络名称。
在层间还有绝缘材质作为电路板的载体或者用于电气隔离。其中Core和Prepreg都是绝缘材料，但
是Core是板材的双面都有铜膜和连线存在，而Prepreg只是用于层间隔离的绝缘物质。两者的属性设置
对话框相同，双击Core或Prepreg，或者选择绝缘材料后单击Properties按钮可以弹出绝缘层属性设置对
话框。如图11-4所示。
绝缘层的厚度和层间耐压、信号耦合等因素有关，在前面的层数选择和叠加原则中已经介绍过。如果没
有特殊的要求，一般选择默认值。
除了“Core”和“Prepreg”两种绝缘层外，在电路板的顶层和底层通常也会有绝缘层。点击图11-2左上角
的Top Dielectric（顶层绝缘层）或Bottom Dielectric（底层绝缘层）前的选择框选择是否显示绝缘层，
单击旁边的按钮可以设置绝缘层的属性。
在顶层和底层绝缘层设置的选项下面有一个层叠模式选择下拉列表，可以选择不同的层叠模式：Layer
Pairs（层成对）、Internal Layer Pairs（内电层成对）和Build-up（叠压）。在前面讲过，多层板实际
上是由多个双层板或单层板压制而成的，选择不同的模式，则表示在实际制作中采用不同压制方法，所
以如图11-5所示的“Core”和“Prepreg”的位置也不同。例如，层成对模式就是两个双层板夹一个绝缘层
（Prepreg），内电层成对模式就是两个单层板夹一个双层板。通常采用默认的Layer Pairs（层成对）模
式。
![](http://hiphotos.baidu.com/shouzhishi/pic/item/c41a946fa0f31df280cb4a54.jpg)
![](http://hiphotos.baidu.com/shouzhishi/pic/item/22359650c4e5f8a78d543050.jpg)
在图11-2所示的层堆栈管理器属性设置对话框右侧有一列层操作按钮，各个按钮的功能如下。
（1）Add Layer：添加中间信号层。例如，需要在GND和Power之间添加一个高速信号层，则应该首先
选择GND层，如图11-6所示。单击Add Layer按钮，则会在GND层下添加一个信号层，如图11-7所示，
其默认名称为MidLayer1，MidLayer2，„，依此类推。双击层的名称或者点击Properties按钮可以设置该
层属性。
![](http://hiphotos.baidu.com/shouzhishi/pic/item/8e15b8cab99afad553664f5e.jpg)
（2）Add Plane：添加内电层。添加方法与添加中间信号层相同。先选择需要添加的内电层的位置，然
后单击该按钮，则在指定层的下方添加内电层，其默认名称为Internal Plane1，InternalPlane2，„，依
此类推。双击层的名称或者点击Properties按钮可以设置该层属性。
（3）Delete：删除某个层。除了顶层和底层不能被删除，其他信号层和内电层均能够被删除，但是已
经布线的中间信号层和已经被分割的内电层不能被删除。选择需要删除的层，单击该按钮，弹出如
图11-8所示的对话框，单击Yes按钮则该层就被删除。
（4）Move Up：上移一个层。选择需要上移的层（可以是信号层，也可以是内电层），单击该按钮，
则该层会上移一层，但不会超过顶层。
（5）Move Down：下移一个层。与Move Up按钮相似，单击该按钮，则该层会下移一层，但不会超过
底层。
（6）Properties：属性按钮。单击该按钮，弹出类似图11-3所示的层属性设置对话框。
11.3.2 中间层的设置
完成层堆栈管理器的相关设置后，单击OK按钮，退出层堆栈管理器，就可以在PCB编辑界面中进行相关
的操作。在对中间层进行操作时，需要首先设置中间层在PCB编辑界面中是否显示。选择
【Design】/【Options…】命令，弹出如图11-9所示的选项设置对话框，在Internal planes下方的内电
层选项上打勾，显示内电层。
![](http://hiphotos.baidu.com/shouzhishi/pic/item/b34eb90b4bbaf016b0351d3f.jpg)
![](http://hiphotos.baidu.com/shouzhishi/pic/item/74ab3a4ee494bb1eaec3ab3a.jpg)
在完成设置后，就可以在PCB编辑环境的下方看到显示的层了，如图11-10所示。用鼠标单击电路板板
层标签即可切换不同的层以进行操作。如果不习惯系统默认的颜色，可以选择
【Tools】/【Preferences…】命令下的Colors选项自定义各层的颜色，相关内容在第8章已有介绍，供读
者参考。
![](http://hiphotos.baidu.com/shouzhishi/pic/item/4a05e8c9c7ea853f7e3e6f01.jpg)
11.4 内电层设计
多层板相对于普通双层板和单层板的一个非常重要的优势就是信号线和电源可以分布在不同的板层上，
提高信号的隔离程度和抗干扰性能。内电层为一铜膜层，该铜膜被分割为几个相互隔离的区域，每个区
域的铜膜通过过孔与特定的电源或地线相连，从而简化电源和地网络的走线，同时可以有效减小电源内
阻。
11.4.1 内电层设计相关设置
内电层通常为整片铜膜，与该铜膜具有相同网络名称的焊盘在通过内电层的时候系统会自动将其与铜膜
连接起来。焊盘/过孔与内电层的连接形式以及铜膜和其他不属于该网络的焊盘的安全间距都可以
在Power Plane Clearance选项中设置。选择【Design】/【Rules…】命令，单击Manufacturing选项，其
中的Power Plane Clearance和Power Plane Connect Style选项与内电层相关，其内容介绍如下。
1．Power Plane Clearance
该规则用于设置内电层安全间距，主要指与该内电层没有网络连接的焊盘和过孔与该内电层的安全间
距，如图11-11所示。在制造的时候，与该内电层没有网络连接的焊盘在通过内电层时其周围的铜膜就
会被腐蚀掉，腐蚀的圆环的尺寸即为该约束中设置的数值。
![](http://hiphotos.baidu.com/shouzhishi/pic/item/700c4030aa26ff31eac4af09.jpg)
2．Power Plane Connect Style
该规则用于设置焊盘与内电层的形式。主要指与该内电层有网络连接的焊盘和过孔与该内电层连接时的
形式。如图11-12所示。
![](http://hiphotos.baidu.com/shouzhishi/pic/item/6fb1f3816b4140ff9023d916.jpg)
单击Properties（属性）按钮，弹出其规则设置对话框，如图11-13所示。对话框左侧为规则的适用范
围，在右侧的Rule Attributes下拉列表中可以选择连接方式：Relief Connect、Direct Connect和No
connect。Direct Connect即直接连接，焊盘在通过内电层的时候不把周围的铜膜腐蚀掉，焊盘和内电层
铜膜直接连接；No connect指没有连接，即与该铜膜网络同名的焊盘不会被连接到内电层；设计人员一
般采用系统默认的Relief Connect连接形式，该规则的设置对话框如图11-13所示。
![](http://hiphotos.baidu.com/shouzhishi/pic/item/1c32c502e1389aa0d53f7c12.jpg)
这种焊盘连接形式通过导体扩展和绝缘间隙与内电层保持连接，其中在Conductor Width选项中设置导
体出口的宽度；Conductors选项中选择导体出口的数目，可以选择2个或4个；Expansion选项中设置导
体扩展部分的宽度；Air-Gap选项中设置绝缘间隙的宽度。
11.4.2 内电层分割方法
在本章的前几节已经介绍了多层板的层叠结构的选择，内电层的建立和相关的设置，在本小节中将主要
介绍多层板内电层的分割方法和步骤，供读者参考。
（1）在分割内电层之前，首先需要定义一个内电层，这在前面的章节中已经有了介绍，本处不再赘
述。选择【Design】/【Split Planes…】命令，弹出如图11-14所示的内电层分割对话框。该对话框中
的Current split planes栏中指内电层已经分割的区域。在本例中，内电层尚未被分割，所以图11-14所示
的Current split planes栏为空白。Current split planes栏下的Add、Edit、Delete按钮分别用于添加新的
电源区域，编辑选中的网络和删除选中的网络。按钮下方的Show Selected Split Plane View选项用于设
置是否显示当前选择的内电层分割区域的示意图。如果选择该选项，则在其下方的框中将显示内电层中
该区域所划分网络区域的缩略图，其中与该内电层网络同名的引脚、焊盘或连线将在缩略图中高亮显
示，不选择该选项则不会高亮显示。Show Net For选项，选择该选项，如果定义内电层的时候已经给该
内电层指定了网络，则在该选项上方的方框中显示与该网络同名的连线和引脚情况。
（2）单击Add按钮，弹出如图11-15所示的内电层分割设置对话框。
![](http://hiphotos.baidu.com/shouzhishi/pic/item/d735683cfe1315c63c6d971a.jpg)
在如图11-15所示的对话框中，Track Width用于设置绘制边框时的线宽，同时也是同一内电层上不同网
络区域之间的绝缘间距，所以通常将Track Width设置的比较大。建议读者在输入数值时也要输入单
位。如果在该处只输入数字，不输入单位，那么系统将默认使用当前PCB编辑器中的单位。
Layer选项用于设置指定分割的内电层，此处可以选择Power和GND内电层。本例中有多种电压等级存
在，所以需要分割Power内电层来为元器件提供不同等级的电压。
Connect to Net选项用于指定被划分的区域所连接的网络。通常内电层用于电源和地网络的布置，但是
在Connect to Net下拉列表中可以看到，可以将内层的整片网络连接到信号网络，用于信号传输，只是
一般设计者不这样处理。信号所要求的信号电压和电流弱，对导线要求小，而电源电流大，需要更小的
等效内阻。所以一般信号在信号层走线，内电层专用于电源和地网络连线。
（3）单击图11-15内电层分割设置对话框中的OK按钮，进入网络区域边框绘制状态。
在绘制内电层边框时，用户一般将其他层面的信息隐藏起来，只显示当前所编辑的内电层，方便进行边
框的绘制。选择【Tools】/【Preferences…】命令，弹出如图11-16所示的对话框。选择Display选项，
再选择Single Layer Mode复选框，如图11-16所示。这样，除了当前工作层Power之外，其余层都被隐
藏起来了，显示效果如图11-17所示。
![](http://hiphotos.baidu.com/shouzhishi/pic/item/9c66bb276977523f8b82a1e1.jpg)
![](http://hiphotos.baidu.com/shouzhishi/pic/item/175ae8423fc49d3b72f05dec.jpg)
在分割内电层时，因为分割的区域将所有该网络的引脚和焊盘都包含在内，所以用户通常需要知道与该
电源网络同名的引脚和焊盘的分布情况，以便进行分割。在左侧Browse PCB工具中选择VCC网络（如
图11-18所示），单击Select按钮将该网络点亮选取。
图11-19所示为将VCC网络点亮选取后，网络标号为VCC的焊盘和引脚与其他网络标号的焊盘和引脚的
对比。
选择了这些同名的网络焊盘后，在绘制边界的时候就可以将这些
![](http://hiphotos.baidu.com/shouzhishi/pic/item/83af0da91d4bc199ca130ce9.jpg)
焊盘都包含到划分的区域中去。此时这些电源网络就可以不通过信号层连线而是直接通过焊盘连接到内
电层。
（4）绘制内电层分割区域。
选择【Design】/【Split Planes…】命令，弹出如图11-14所示的内电层分割对话框，单击Add按钮，弹
出如图11-15所示的内电层分割设置对话框。首先选择12V网络，单击OK按钮，光标变为十字状，此时
就可以在内电层开始分割工作了。
在绘制边框边界线时，可以按“Shift+空格键”来改变走线的拐角形状，也可以按Tab键来改变内电层的属
性。在绘制完一个封闭的区域后（起点和终点重合），系统自动弹出如图11-20所示的内电层分割对话
框，在该对话框中可以看到一个已经被分割的区域，在PCB编辑界面中显示如图11-21所示。
![](http://hiphotos.baidu.com/shouzhishi/pic/item/709ecadf8c17c07c95ee37f5.jpg)
![](http://hiphotos.baidu.com/shouzhishi/pic/item/6efa0afbd410ea36a9d311f0.jpg)
![](http://hiphotos.baidu.com/shouzhishi/pic/item/4d97e808ff40d0aad0581bf3.jpg)
在添加完内电层后，放大某个12V焊盘，可以看到该焊盘没有与导线相连接（如图11-22（a）所示），
但是在焊盘上出现了一个“+”字标识，表示该焊盘已经和内电层连接。
将当前工作层切换到Power层，可以看到该焊盘在内电层的连接状态。由于内电层通常是整片铜膜，所
以图11-22（b）中焊盘周围所示部分将在制作过程中被腐蚀掉，可见GND和该内电层是绝缘的。
![](http://hiphotos.baidu.com/shouzhishi/pic/item/a2d1eb1a745757fdac6e75f8.jpg)
在内电层添加了12V区域后，还可以根据实际需要添加别的网络，就是说将整个Power内电层分割为几
个不同的相互隔离的区域，每个区域连接不同的电源网络。最后完成效果如图11-23所示。
在完成内电层的分割之后，可以在如图11-20所示的对话框中编辑和删除已放置的内电层网络。单
击Edit按钮可以弹出如图11-15所示的内电层属性对话框，在该对话框中可以修改边界线宽、内电层层
面和连接的网络，但不能修改边界的形状。如果对边界的走向和形状不满意，则只能单击Delete按钮，
重新绘制边界；或者选择【Edit】/【Move】/【Split Plane Vertices】命令来修改内电层边界线，此时可
以通过移动边界上的控点来改变边界的形状，如图11-24所示。完成后在弹出的确认对话框中单击Yes按
钮即可完成重绘。
![](http://hiphotos.baidu.com/shouzhishi/pic/item/c41a946fa06c1df280cb4ac5.jpg)
![](http://hiphotos.baidu.com/shouzhishi/pic/item/c617853fe58c7fd2838b13d6.jpg)
在内电层添加了12V区域后，还可以根据实际需要添加别的网络，就是说将整个Power内电层分割为几
个不同的相互隔离的区域，每个区域连接不同的电源网络。最后完成效果如图11-23所示。
在完成内电层的分割之后，可以在如图11-20所示的对话框中编辑和删除已放置的内电层网络。单
击Edit按钮可以弹出如图11-15所示的内电层属性对话框，在该对话框中可以修改边界线宽、内电层层
面和连接的网络，但不能修改边界的形状。如果对边界的走向和形状不满意，则只能单击Delete按钮，
重新绘制边界；或者选择【Edit】/【Move】/【Split Plane Vertices】命令来修改内电层边界线，此时可
以通过移动边界上的控点来改变边界的形状，如图11-24所示。完成后在弹出的确认对话框中单击Yes按
钮即可完成重绘。
出现问题。所以在PCB设计时要尽量保证边界不通过具有相同网络名称的焊盘。
![](http://hiphotos.baidu.com/shouzhishi/pic/item/e548d05130988a741138c2cf.jpg)
（3）在绘制内电层边界时，如果由于客观原因无法将同一网络的所有焊盘都包含在内，那么也可以通
过信号层走线的方式将这些焊盘连接起来。但是在多层板的实际应用中，应该尽量避免这种情况的出
现。因为如果采用信号层走线的方式将这些焊盘与内电层连接，就相当于将一个较大的电阻（信号层走
线电阻）和较小的电阻（内电层铜膜电阻）串联，而采用多层板的重要优势就在于通过大面积铜膜连接
电源和地的方式来有效减小线路阻抗，减小PCB接地电阻导致的地电位偏移，提高抗干扰性能。所以在
实际设计中，应该尽量避免通过导线连接电源网络。
（4）将地网络和电源网络分布在不同的内电层层面中，以起到较好的电气隔离和抗干扰的效果。
（5）对于贴片式元器件，可以在引脚处放置焊盘或过孔来连接到内电层，也可以从引脚
处引出一段很短的导线（引线应该尽量粗短，以减小线路阻抗），并且在导线的末端放置焊盘和过孔来
连接，如图11-27所示。
（6）关于去耦电容的放置。前面提到在芯片的附近应该放置0.01μF的去耦电容，对于电源类的芯片，
还应该放置10 F或者更大的滤波电容来滤除电路中的高频干扰和纹波，并用尽可能短的导线连接到芯
片的引脚上，再通过焊盘连接到内电层。
（7）如果不需要分割内电层，那么在内电层的属性对话框中直接选择连接到网络就可以了，不再需要
内电层分割工具。
11.5 多层板设计原则汇总
在本章及前面几章的介绍中，我们已经强调了一些关于PCB设计所需要遵循的原则，在这里我们将这些
原则做一汇总，以供读者在设计时参考，也可以作为设计完成后检查时参考的依据。
1．PCB元器件库的要求
（1）PCB板上所使用的元器件的封装必须正确，包括元器件引脚的大小尺寸、引脚的间距、引脚的编
号、边框的大小和方向表示等。
（2）极性元器件（电解电容、二极管、三极管等）正负极或引脚编号应该在PCB元器件库中和PCB板上
标出。
（3）PCB库中元器件的引脚编号和原理图元器件的引脚编号应当一致，例如在前面章节中介绍了二极
管PCB库元器件中的引脚编号和原理图库中引脚编号不一致的问题。
（4）需要使用散热片的元器件在绘制元器件封装时应当将散热片尺寸考虑在内，可以将元器件和散热
片一并绘制成为整体封装的形式。
（5）元器件的引脚和焊盘的内径要匹配，焊盘的内径要略大于元器件的引脚尺寸，以便安装
。
2．PCB元件布局的要求
（1）元器件布置均匀，同一功能模块的元器件应该尽量靠近布置。
（2）使用同一类型电源和地网络的元器件尽量布置在一起，有利于通过内电层完成相互之间的电气连
接。
（3）接口元器件应该靠边放置，并用字符串注明接口类型，接线引出的方向通常应该离开电路板。
（4）电源变换元器件（如变压器、DC/DC变换器、三端稳压管等）应该留有足够的散热空间。
（5）元器件的引脚或参考点应放置在格点上，有利于布线和美观。
（6）滤波电容可以放置在芯片的背面，靠近芯片的电源和地引脚。
（7）元器件的第一引脚或者标识方向的标志应该在PCB上标明，不能被元器件覆盖。
（8）元器件的标号应该紧靠元器件边框，大小统一，方向整齐，不与焊盘和过孔重叠，不能放置在元
器件安装后被覆盖的区域。
3．PCB布线要求
（1）不同电压等级电源应该隔离，电源走线不应交叉。
（2）走线采用45°拐角或圆弧拐角，不允许有尖角形式的拐角。
（3）PCB走线直接连接到焊盘的中心，与焊盘连接的导线宽度不允许超过焊盘外径的大小。
（4）高频信号线的线宽不小于20mil，外部用地线环绕，与其他地线隔离。
（5）干扰源（DC/DC变换器、晶振、变压器等）底部不要布线，以免干扰。
（6）尽可能加粗电源线和地线，在空间允许的情况下，电源线的宽度不小于50mil。
（7）低电压、低电流信号线宽9～30mil，空间允许的情况下尽可能加粗。
（8）信号线之间的间距应该大于10mil，电源线之间间距应该大于20mil。
（9）大电流信号线线宽应该大于40mil，间距应该大于30mil。
（10）过孔最小尺寸优选外径40mil，内径28mil。在顶层和底层之间用导线连接时，优选焊盘。
（11）不允许在内电层上布置信号线。
（12）内电层不同区域之间的间隔宽度不小于40mil。
（13）在绘制边界时，尽量不要让边界线通过所要连接到的区域的焊盘。
（14）在顶层和底层铺设敷铜，建议设置线宽值大于网格宽度，完全覆盖空余空间，且不留有死铜，同
时与其他线路保持30mil（0.762mm）以上间距（可以在敷铜前设置安全间距，敷铜完毕后改回原有安
全间距值）。
（15）在布线完毕后对焊盘作泪滴处理。
（16）金属壳器件和模块外部接地。
（17）放置安装用和焊接用焊盘。
（18）DRC检查无误。
4．PCB分层的要求
（1）电源平面应该靠近地平面，与地平面有紧密耦合，并且安排在地平面之下。
（2）信号层应该与内电层相邻，不应直接与其他信号层相邻。
（3）将数字电路和模拟电路隔离。如果条件允许，将模拟信号线和数字信号线分层布置，并采用屏蔽
措施；如果需要在同一信号层布置，则需要采用隔离带、地线条的方式减小干扰；模拟电路和数字电路
的电源和地应该相互隔离，不能混用。
（4）高频电路对外干扰较大，最好单独安排，使用上下都有内电层直接相邻的中间信号层来传输，以
便利用内电层的铜膜减少对外干扰。
11.6 本章 小 结
本章主要介绍了多层电路板的设计步骤，包括多层板层数的选择、层叠结构的选择；多层板布局布线与
普通双层板布局布线的相同和不同；多层板特有的中间层的创建和设置，以及内电层设计。根据本章所
罗列的步骤，读者已经能够完成多层PCB的初步设计工作。在接下来的章节中，我们将介绍PCB的电磁
兼容和信号完整性的相关内容，以便更好地完成PCB设计。
