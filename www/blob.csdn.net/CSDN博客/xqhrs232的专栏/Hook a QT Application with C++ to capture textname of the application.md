# Hook a QT Application with C++ to capture textname of the application - xqhrs232的专栏 - CSDN博客
2017年01月18日 11:37:33[xqhrs232](https://me.csdn.net/xqhrs232)阅读数：319
原文地址::[http://stackoverflow.com/questions/3278415/hook-a-qt-application-with-c-to-capture-textname-of-the-application](http://stackoverflow.com/questions/3278415/hook-a-qt-application-with-c-to-capture-textname-of-the-application)
相关文章
1、[Is
 it possible to use Win32 Hooks in Qt applications](http://stackoverflow.com/questions/2167876/is-it-possible-to-use-win32-hooks-in-qt-applications)----[http://stackoverflow.com/questions/2167876/is-it-possible-to-use-win32-hooks-in-qt-applications](http://stackoverflow.com/questions/2167876/is-it-possible-to-use-win32-hooks-in-qt-applications)
|3down vote[favorite](http://stackoverflow.com/questions/3278415/hook-a-qt-application-with-c-to-capture-textname-of-the-application#)1|I have a simple QT application running on Win32 platform. I need to write a C++ program described as: the input is the windows handle of that QT application, which is already available, the output is the text name ( AKA caption ) of the application. I hope someone will show me the way to do this right. Thanks a lot. Smile[c++](http://stackoverflow.com/questions/tagged/c%2B%2B)[qt](http://stackoverflow.com/questions/tagged/qt)[winapi](http://stackoverflow.com/questions/tagged/winapi)[hook](http://stackoverflow.com/questions/tagged/hook)|[share](http://stackoverflow.com/q/3278415/3236701)[edit](http://stackoverflow.com/posts/3278415/edit)|[edited Jul 19 '10 at 4:27](http://stackoverflow.com/posts/3278415/revisions)|asked Jul 19 '10 at 4:14[](http://stackoverflow.com/users/395483/victor)![](https://www.gravatar.com/avatar/789219078d82abfc09e69fa50451c5f7?s=32&d=identicon&r=PG)[Victor](http://stackoverflow.com/users/395483/victor)162||[share](http://stackoverflow.com/q/3278415/3236701)[edit](http://stackoverflow.com/posts/3278415/edit)|[edited Jul 19 '10 at 4:27](http://stackoverflow.com/posts/3278415/revisions)|asked Jul 19 '10 at 4:14[](http://stackoverflow.com/users/395483/victor)![](https://www.gravatar.com/avatar/789219078d82abfc09e69fa50451c5f7?s=32&d=identicon&r=PG)[Victor](http://stackoverflow.com/users/395483/victor)162|
|----|----|----|----|----|
|[share](http://stackoverflow.com/q/3278415/3236701)[edit](http://stackoverflow.com/posts/3278415/edit)|[edited Jul 19 '10 at 4:27](http://stackoverflow.com/posts/3278415/revisions)|asked Jul 19 '10 at 4:14[](http://stackoverflow.com/users/395483/victor)![](https://www.gravatar.com/avatar/789219078d82abfc09e69fa50451c5f7?s=32&d=identicon&r=PG)[Victor](http://stackoverflow.com/users/395483/victor)162| | |
||add a comment| | | |
## 2 Answers
[active](http://stackoverflow.com/questions/3278415/hook-a-qt-application-with-c-to-capture-textname-of-the-application?answertab=active#tab-top)[oldest](http://stackoverflow.com/questions/3278415/hook-a-qt-application-with-c-to-capture-textname-of-the-application?answertab=oldest#tab-top)[votes](http://stackoverflow.com/questions/3278415/hook-a-qt-application-with-c-to-capture-textname-of-the-application?answertab=votes#tab-top)
|up vote1down vote|I don't know if I completely understand your question, but you could simply use the [`GetWindowText`](http://msdn.microsoft.com/en-us/library/ms633520%28VS.85%29.aspx)function (part of the Windows API) to obtain the title of a window. You must of course pass a native window handle (`HWND`) to this function, [`QWidget::winID()`](http://doc.qt.nokia.com/4.6/qwidget.html#winId) is the Qt way to retrieve it.|[share](http://stackoverflow.com/a/3278854/3236701)[edit](http://stackoverflow.com/posts/3278854/edit)|answered Jul 19 '10 at 6:24[](http://stackoverflow.com/users/366471/greg-s)![](https://www.gravatar.com/avatar/73049693d7082bca35a10627582cb0ae?s=32&d=identicon&r=PG)[Greg S](http://stackoverflow.com/users/366471/greg-s)8,21122742||[share](http://stackoverflow.com/a/3278854/3236701)[edit](http://stackoverflow.com/posts/3278854/edit)|answered Jul 19 '10 at 6:24[](http://stackoverflow.com/users/366471/greg-s)![](https://www.gravatar.com/avatar/73049693d7082bca35a10627582cb0ae?s=32&d=identicon&r=PG)[Greg S](http://stackoverflow.com/users/366471/greg-s)8,21122742|
|----|----|----|----|
|[share](http://stackoverflow.com/a/3278854/3236701)[edit](http://stackoverflow.com/posts/3278854/edit)|answered Jul 19 '10 at 6:24[](http://stackoverflow.com/users/366471/greg-s)![](https://www.gravatar.com/avatar/73049693d7082bca35a10627582cb0ae?s=32&d=identicon&r=PG)[Greg S](http://stackoverflow.com/users/366471/greg-s)8,21122742| | |
||add a comment| | |
|up vote0down vote|[http://doc.trolltech.com/4.6/qwidget.html#windowTitle-prop](http://doc.trolltech.com/4.6/qwidget.html#windowTitle-prop)```cpp```This property holds the window title (caption).This property only makes sense for top-level widgets, such as windowsand dialogs. If no caption has been set, the title is based of the windowFilePath. If neither of these is set, then the title is an empty string.``````so, just ask the QMainWindow you are using about the `windowTitle()`.[share](http://stackoverflow.com/a/3303588/3236701)[edit](http://stackoverflow.com/posts/3303588/edit)|[share](http://stackoverflow.com/a/3303588/3236701)[edit](http://stackoverflow.com/posts/3303588/edit)|
|----|----|----|
|[share](http://stackoverflow.com/a/3303588/3236701)[edit](http://stackoverflow.com/posts/3303588/edit)| | |
|3down vote[favorite](http://stackoverflow.com/questions/3278415/hook-a-qt-application-with-c-to-capture-textname-of-the-application#)1|I have a simple QT application running on Win32 platform. I need to write a C++ program described as: the input is the windows handle of that QT application, which is already available, the output is the text name ( AKA caption ) of the application. I hope someone will show me the way to do this right. Thanks a lot. Smile[c++](http://stackoverflow.com/questions/tagged/c%2B%2B)[qt](http://stackoverflow.com/questions/tagged/qt)[winapi](http://stackoverflow.com/questions/tagged/winapi)[hook](http://stackoverflow.com/questions/tagged/hook)|[share](http://stackoverflow.com/q/3278415/3236701)[edit](http://stackoverflow.com/posts/3278415/edit)|[edited Jul 19 '10 at 4:27](http://stackoverflow.com/posts/3278415/revisions)|asked Jul 19 '10 at 4:14[](http://stackoverflow.com/users/395483/victor)![](https://www.gravatar.com/avatar/789219078d82abfc09e69fa50451c5f7?s=32&d=identicon&r=PG)[Victor](http://stackoverflow.com/users/395483/victor)162||[share](http://stackoverflow.com/q/3278415/3236701)[edit](http://stackoverflow.com/posts/3278415/edit)|[edited Jul 19 '10 at 4:27](http://stackoverflow.com/posts/3278415/revisions)|asked Jul 19 '10 at 4:14[](http://stackoverflow.com/users/395483/victor)![](https://www.gravatar.com/avatar/789219078d82abfc09e69fa50451c5f7?s=32&d=identicon&r=PG)[Victor](http://stackoverflow.com/users/395483/victor)162|
|----|----|----|----|----|
|[share](http://stackoverflow.com/q/3278415/3236701)[edit](http://stackoverflow.com/posts/3278415/edit)|[edited Jul 19 '10 at 4:27](http://stackoverflow.com/posts/3278415/revisions)|asked Jul 19 '10 at 4:14[](http://stackoverflow.com/users/395483/victor)![](https://www.gravatar.com/avatar/789219078d82abfc09e69fa50451c5f7?s=32&d=identicon&r=PG)[Victor](http://stackoverflow.com/users/395483/victor)162| | |
||add a comment| | | |
## 2 Answers
[active](http://stackoverflow.com/questions/3278415/hook-a-qt-application-with-c-to-capture-textname-of-the-application?answertab=active#tab-top)[oldest](http://stackoverflow.com/questions/3278415/hook-a-qt-application-with-c-to-capture-textname-of-the-application?answertab=oldest#tab-top)[votes](http://stackoverflow.com/questions/3278415/hook-a-qt-application-with-c-to-capture-textname-of-the-application?answertab=votes#tab-top)
|up vote1down vote|I don't know if I completely understand your question, but you could simply use the [`GetWindowText`](http://msdn.microsoft.com/en-us/library/ms633520%28VS.85%29.aspx)function (part of the Windows API) to obtain the title of a window. You must of course pass a native window handle (`HWND`) to this function, [`QWidget::winID()`](http://doc.qt.nokia.com/4.6/qwidget.html#winId) is the Qt way to retrieve it.|[share](http://stackoverflow.com/a/3278854/3236701)[edit](http://stackoverflow.com/posts/3278854/edit)|answered Jul 19 '10 at 6:24[](http://stackoverflow.com/users/366471/greg-s)![](https://www.gravatar.com/avatar/73049693d7082bca35a10627582cb0ae?s=32&d=identicon&r=PG)[Greg S](http://stackoverflow.com/users/366471/greg-s)8,21122742||[share](http://stackoverflow.com/a/3278854/3236701)[edit](http://stackoverflow.com/posts/3278854/edit)|answered Jul 19 '10 at 6:24[](http://stackoverflow.com/users/366471/greg-s)![](https://www.gravatar.com/avatar/73049693d7082bca35a10627582cb0ae?s=32&d=identicon&r=PG)[Greg S](http://stackoverflow.com/users/366471/greg-s)8,21122742|
|----|----|----|----|
|[share](http://stackoverflow.com/a/3278854/3236701)[edit](http://stackoverflow.com/posts/3278854/edit)|answered Jul 19 '10 at 6:24[](http://stackoverflow.com/users/366471/greg-s)![](https://www.gravatar.com/avatar/73049693d7082bca35a10627582cb0ae?s=32&d=identicon&r=PG)[Greg S](http://stackoverflow.com/users/366471/greg-s)8,21122742| | |
||add a comment| | |
|up vote0down vote|[http://doc.trolltech.com/4.6/qwidget.html#windowTitle-prop](http://doc.trolltech.com/4.6/qwidget.html#windowTitle-prop)```cpp```This property holds the window title (caption).This property only makes sense for top-level widgets, such as windowsand dialogs. If no caption has been set, the title is based of the windowFilePath. If neither of these is set, then the title is an empty string.``````so, just ask the QMainWindow you are using about the `windowTitle()`.[share](http://stackoverflow.com/a/3303588/3236701)[edit](http://stackoverflow.com/posts/3303588/edit)|[share](http://stackoverflow.com/a/3303588/3236701)[edit](http://stackoverflow.com/posts/3303588/edit)|
|----|----|----|
|[share](http://stackoverflow.com/a/3303588/3236701)[edit](http://stackoverflow.com/posts/3303588/edit)| | |
