# 函数参数中带省略号的用法 - xqhrs232的专栏 - CSDN博客
2016年08月29日 14:16:13[xqhrs232](https://me.csdn.net/xqhrs232)阅读数：382
原文地址::[http://blog.chinaunix.net/uid-20617446-id-79371.html](http://blog.chinaunix.net/uid-20617446-id-79371.html)

前言： 
本文在很大程度上改编自网友kevintz的“C语言中可变参数的用法”一文，在行文之前先向这位前辈表示真诚的敬意和感谢。 
一、什么是可变参数 
我们在C语言编程中有时会遇到一些参数个数可变的函数,例如printf()函数,其函数原型为: 
int printf( const char* format, ...); 
它除了有一个参数format固定以外,后面跟的参数的个数和类型是可变的（用三个点“…”做参数占位符）,实际调用时可以有以下的形式: 
printf("%d",i); 
printf("%s",s); 
printf("the number is %d ,string is:%s", i, s); 
以上这些东西已为大家所熟悉。但是究竟如何写可变参数的C函数以及这些可变参数的函数编译器是如何实现，这个问题却一直困扰了我好久。本文就这个问题进行一些探讨,希望能对大家有些帮助. 
二、写一个简单的可变参数的C函数 
先看例子程序。该函数至少有一个整数参数,其后是占位符…，表示后面参数的个数不定. 在这个例子里，所有的输入参数必须都是整数，函数的功能是打印所有参数的值. 
函数代码如下： 
//示例代码1：可变参数函数的使用 
#include "stdio.h" 
#include "stdarg.h" 
void simple_va_fun(int start, ...) 
{ 
va_list arg_ptr; 
int nArgValue =start; 
int nArgCout=0; //可变参数的数目 
va_start(arg_ptr,start); //以固定参数的地址为起点确定变参的内存起始地址。 
do 
{ 
++nArgCout; 
printf("the %d th arg: %d\n",nArgCout,nArgValue); //输出各参数的值 
nArgValue = va_arg(arg_ptr,int); //得到下一个可变参数的值 
} while(nArgValue != -1); 
return; 
} 
int main(int argc, char* argv[]) 
{ 
simple_va_fun(100,-1); 
simple_va_fun(100,200,-1); 
