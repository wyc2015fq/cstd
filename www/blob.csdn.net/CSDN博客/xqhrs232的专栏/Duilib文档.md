# Duilib文档 - xqhrs232的专栏 - CSDN博客
2012年09月22日 21:08:52[xqhrs232](https://me.csdn.net/xqhrs232)阅读数：1481
原文地址::[http://www.xn--xkrx74l.com/?p=804](http://www.xn--xkrx74l.com/?p=804)
`UPDATE 2012.07.27 BY 土豆烧牛肉<bigxxs@gmail.com>`
## 简介
`...`
## 一、入门
- 
下载、编译Duilib
- 
Hello world!
- 
用xml布置界面
- 
换肤
- 
响应消息
- 
如何去掉窗体的标题栏和边框
- 
如何拖动无标题栏窗体
- 
允许改变窗体大小
- 
让窗体显示圆角
## 二、界面配置
### 配置文件结构
```
```xml
<?
```
```xml
xml
```
```xml
version
```
```xml
=
```
```xml
"1.0"
```
```xml
encoding
```
```xml
=
```
```xml
"utf-8"
```
```xml
?>
 ... xml声明
```
```xml
<
```
```xml
Window
```
```xml
>
 .................. 窗体，根元素
```
```xml
```
```xml
<
```
```xml
Font
```
```xml
/>
 ............... 字体,0~N个
```
```xml
```
```xml
<
```
```xml
Default
```
```xml
/>
 ............ 全局设置，如滚动条
```
```xml
```
```xml
<[Container|...]>
 ..... 容器，可以是Container极其子类，如VerticalLayout、HorizontalLayout、TileLayout或TabLayout
```
```xml
```
```xml
<[Control|...]/>...
 控件，可以是Control极其子类，包括容器
```
```xml
```
```xml
</
```
```xml
Container
```
```xml
>
```
```xml
</
```
```xml
Window
```
```xml
>
```
```
### 固定布局
`sadfasdfasdfasfd`- 
**窗体**
**大小** 通过`size`属性设置窗体大小，单位是像素。
`size = "width,height"`
**标题栏** 通过`caption`属性设置标题栏区域，该区域可以响应`NCHITTEST`消息，用来拖动窗体，其中`left`、`top`、`right`是边距，`bottom`是距离上边框的距离。
`caption="left,top,right,bottom"`
**圆角** 通过`roundcorner`属性设置窗体圆角半径。
`roundcorner="x,y"`
**字体** 预定义窗体内要使用的字体，控件通过`font`属性引用预定义的字体索引（从0开始）,只能有一个字体的`defautl`属性可以设为`true`。
`<Font name="字体名称" size="字体大小" default="是否默认" />`
**全局设置**
- 
**容器**
**边框** 通过bordercolor属性设置边框颜色（默认值为黑色#000000），颜色值为ARGB格式,头两个16进制字符表示透明度，后面6个字符表示RGB；通过bordersize属性设置边框线宽（默认值为0）；通过borderround设置边框圆角半径。
`bordercolor="ARGB" bordersize="线宽" borderround="x,y"`
**背景色**
**背景图片**
- 
**控件**
**位置**
**大小**
**边框**
**背景色**
**图片**
**文字**
**Example**:
`<Windows>      ...  </Windows>`
### 自适应布局
- 
**窗体**
允许修改大小
对Resize进行限制
- 
**容器**
外边距
内边距
滚动栏
- 
**控件**
相对定位
大小
- 
**布局案例**
**自动拉伸** 只要float属性为false（默认值为false，非绝对定位，不设置也可以），pos、width、height属性均为0（默认值就是0，不设置也可以），则容器会随着窗体自动改变大小，而控件会随着容器自动改变大小。（测试以下布局文件并拖动改变窗体大小查看效果）
```
```xml
<
```
```xml
Window
```
```xml
size
```
```xml
=
```
```xml
"300,300"
```
```xml
sizebox
```
```xml
=
```
```xml
"5,5,5,5"
```
```xml
>
```
```xml
```
```xml
<
```
```xml
Container
```
```xml
bordersize
```
```xml
=
```
```xml
"1"
```
```xml
inset
```
```xml
=
```
```xml
"1,1,1,1"
```
```xml
>
```
```xml
```
```xml
<
```
```xml
Control
```
```xml
bkcolor
```
```xml
=
```
```xml
"#FFFFFF00"
```
```xml
/>
```
```xml
```
```xml
</
```
```xml
Container
```
```xml
>
```
```xml
</
```
```xml
Window
```
```xml
>
```
```
- 
**水平布局** 用HorizontalLayout容器，子控件设定好width，则子控件会按照从左到右的顺序排列。
```
```xml
<
```
```xml
Window
```
```xml
size
```
```xml
=
```
```xml
"300,300"
```
```xml
sizebox
```
```xml
=
```
```xml
"5,5,5,5"
```
```xml
>
```
```xml
```
```xml
<
```
```xml
HorizontalLayout
```
```xml
bkcolor
```
```xml
=
```
```xml
"#FFFFFFFF"
```
```xml
bordersize
```
```xml
=
```
```xml
"1"
```
```xml
inset
```
```xml
=
```
```xml
"1,1,1,1"
```
```xml
>
```
```xml
```
```xml
<
```
```xml
Control
```
```xml
width
```
```xml
=
```
```xml
"50"
```
```xml
bkcolor
```
```xml
=
```
```xml
"#FFFFFF00"
```
```xml
/>
```
```xml
```
```xml
<
```
```xml
Control
```
```xml
width
```
```xml
=
```
```xml
"50"
```
```xml
bkcolor
```
```xml
=
```
```xml
"#FFFF00FF"
```
```xml
/>
```
```xml
```
```xml
<
```
```xml
Control
```
```xml
width
```
```xml
=
```
```xml
"50"
```
```xml
bkcolor
```
```xml
=
```
```xml
"#FF00FFFF"
```
```xml
/>
```
```xml
```
```xml
</
```
```xml
HorizontalLayout
```
```xml
>
```
```xml
</
```
```xml
Window
```
```xml
>
```
```
**垂直布局** 用VerticalLayout容器，子控件设定好height，则子控件会按照从上到下的顺序排列。
```
```xml
<
```
```xml
Window
```
```xml
size
```
```xml
=
```
```xml
"300,300"
```
```xml
sizebox
```
```xml
=
```
```xml
"5,5,5,5"
```
```xml
>
```
```xml
```
```xml
<
```
```xml
VerticalLayout
```
```xml
bkcolor
```
```xml
=
```
```xml
"#FFFFFFFF"
```
```xml
bordersize
```
```xml
=
```
```xml
"1"
```
```xml
inset
```
```xml
=
```
```xml
"1,1,1,1"
```
```xml
>
```
```xml
```
```xml
<
```
```xml
Control
```
```xml
height
```
```xml
=
```
```xml
"50"
```
```xml
bkcolor
```
```xml
=
```
```xml
"#FFFFFF00"
```
```xml
/>
```
```xml
```
```xml
<
```
```xml
Control
```
```xml
height
```
```xml
=
```
```xml
"50"
```
```xml
bkcolor
```
```xml
=
```
```xml
"#FFFF00FF"
```
```xml
/>
```
```xml
```
```xml
<
```
```xml
Control
```
```xml
height
```
```xml
=
```
```xml
"50"
```
```xml
bkcolor
```
```xml
=
```
```xml
"#FF00FFFF"
```
```xml
/>
```
```xml
```
```xml
</
```
```xml
VerticalLayout
```
```xml
>
```
```xml
</
```
```xml
Window
```
```xml
>
```
```
**间隔** 在两个控件之间放置一个Control元素，要保持水平间隔就设置width，要保持垂直间距就设置height。
``
```
```xml
<
```
```xml
Window
```
```xml
size
```
```xml
=
```
```xml
"300,300"
```
```xml
sizebox
```
```xml
=
```
```xml
"5,5,5,5"
```
```xml
>
```
```xml
```
```xml
<
```
```xml
HorizontalLayout
```
```xml
bkcolor
```
```xml
=
```
```xml
"#FFFFFFFF"
```
```xml
bordersize
```
```xml
=
```
```xml
"1"
```
```xml
inset
```
```xml
=
```
```xml
"1,1,1,1"
```
```xml
>
```
```xml
```
```xml
<
```
```xml
Button
```
```xml
width
```
```xml
=
```
```xml
"50"
```
```xml
bkcolor
```
```xml
=
```
```xml
"#FFFFFF00"
```
```xml
/>
```
```xml
```
```xml
<
```
```xml
Control
```
```xml
width
```
```xml
=
```
```xml
"10"
```
```xml
/>
```
```xml
```
```xml
<
```
```xml
Button
```
```xml
width
```
```xml
=
```
```xml
"50"
```
```xml
bkcolor
```
```xml
=
```
```xml
"#FFFF00FF"
```
```xml
/>
```
```xml
```
```xml
<
```
```xml
Control
```
```xml
width
```
```xml
=
```
```xml
"10"
```
```xml
/>
```
```xml
```
```xml
<
```
```xml
Button
```
```xml
width
```
```xml
=
```
```xml
"50"
```
```xml
bkcolor
```
```xml
=
```
```xml
"#FF00FFFF"
```
```xml
/>
```
```xml
```
```xml
</
```
```xml
HorizontalLayout
```
```xml
>
```
```xml
</
```
```xml
Window
```
```xml
>
```
```
``
**左右等分** 在HorizontalLayout容器中放置多个控件，不设置width，则它们会自动平分宽度。
``
```
```xml
<
```
```xml
Window
```
```xml
size
```
```xml
=
```
```xml
"300,300"
```
```xml
sizebox
```
```xml
=
```
```xml
"5,5,5,5"
```
```xml
>
```
```xml
```
```xml
<
```
```xml
HorizontalLayout
```
```xml
bkcolor
```
```xml
=
```
```xml
"#FFFFFFFF"
```
```xml
bordersize
```
```xml
=
```
```xml
"1"
```
```xml
inset
```
```xml
=
```
```xml
"1,1,1,1"
```
```xml
>
```
```xml
```
```xml
<
```
```xml
Button
```
```xml
bkcolor
```
```xml
=
```
```xml
"#FFFFFF00"
```
```xml
/>
```
```xml
```
```xml
<
```
```xml
Button
```
```xml
bkcolor
```
```xml
=
```
```xml
"#FFFF00FF"
```
```xml
/>
```
```xml
```
```xml
<
```
```xml
Button
```
```xml
bkcolor
```
```xml
=
```
```xml
"#FF00FFFF"
```
```xml
/>
```
```xml
```
```xml
</
```
```xml
HorizontalLayout
```
```xml
>
```
```xml
</
```
```xml
Window
```
```xml
>
```
```
``
**上下等分** 在VerticalLayout容器中放置多个控件，不设置width，则它们会自动平分高度。!!注意!!，从Label继承的控件会根据字体自动计算height，所以这种布局对其无效。
``
```
```xml
<
```
```xml
Window
```
```xml
size
```
```xml
=
```
```xml
"300,300"
```
```xml
sizebox
```
```xml
=
```
```xml
"5,5,5,5"
```
```xml
>
```
```xml
```
```xml
<
```
```xml
VerticalLayout
```
```xml
bkcolor
```
```xml
=
```
```xml
"#FFFFFFFF"
```
```xml
bordersize
```
```xml
=
```
```xml
"1"
```
```xml
inset
```
```xml
=
```
```xml
"1,1,1,1"
```
```xml
>
```
```xml
```
```xml
<
```
```xml
Control
```
```xml
bkcolor
```
```xml
=
```
```xml
"#FFFFFF00"
```
```xml
/>
```
```xml
```
```xml
<
```
```xml
Control
```
```xml
bkcolor
```
```xml
=
```
```xml
"#FFFF00FF"
```
```xml
/>
```
```xml
```
```xml
<
```
```xml
Control
```
```xml
bkcolor
```
```xml
=
```
```xml
"#FF00FFFF"
```
```xml
/>
```
```xml
```
```xml
</
```
```xml
VerticalLayout
```
```xml
>
```
```xml
</
```
```xml
Window
```
```xml
>
```
```
``
**锚定在右边** 在HorizontalLayout容器中先放置一个Control但不设置width，再放置要锚定的控件，设定好width。
```
```xml
<
```
```xml
Window
```
```xml
size
```
```xml
=
```
```xml
"300,300"
```
```xml
sizebox
```
```xml
=
```
```xml
"5,5,5,5"
```
```xml
>
```
```xml
```
```xml
<
```
```xml
HorizontalLayout
```
```xml
bkcolor
```
```xml
=
```
```xml
"#FFFFFFFF"
```
```xml
bordersize
```
```xml
=
```
```xml
"1"
```
```xml
inset
```
```xml
=
```
```xml
"1,1,1,1"
```
```xml
>
```
```xml
```
```xml
<
```
```xml
Control
```
```xml
/>
```
```xml
```
```xml
<
```
```xml
Control
```
```xml
width
```
```xml
=
```
```xml
"50"
```
```xml
bkcolor
```
```xml
=
```
```xml
"#FFFF00FF"
```
```xml
/>
```
```xml
```
```xml
</
```
```xml
HorizontalLayout
```
```xml
>
```
```xml
</
```
```xml
Window
```
```xml
>
```
```
**锚定在下方** 在VerticalLayout容器中先放置一个Control但不设置height，再放置要锚定的控件，设定好height。
``
```
```xml
<
```
```xml
Window
```
```xml
size
```
```xml
=
```
```xml
"300,300"
```
```xml
sizebox
```
```xml
=
```
```xml
"5,5,5,5"
```
```xml
>
```
```xml
```
```xml
<
```
```xml
VerticalLayout
```
```xml
bkcolor
```
```xml
=
```
```xml
"#FFFFFFFF"
```
```xml
bordersize
```
```xml
=
```
```xml
"1"
```
```xml
inset
```
```xml
=
```
```xml
"1,1,1,1"
```
```xml
>
```
```xml
```
```xml
<
```
```xml
Control
```
```xml
/>
```
```xml
```
```xml
<
```
```xml
Control
```
```xml
height
```
```xml
=
```
```xml
"50"
```
```xml
bkcolor
```
```xml
=
```
```xml
"#FFFF00FF"
```
```xml
/>
```
```xml
```
```xml
</
```
```xml
VerticalLayout
```
```xml
>
```
```xml
</
```
```xml
Window
```
```xml
>
```
```
``
**左右不动，中间拉伸** 在HorizontalLayout容器中放置3个控件，左右控件固定width，中间的控件不设置width。
``
```
```xml
<
```
```xml
Window
```
```xml
size
```
```xml
=
```
```xml
"300,300"
```
```xml
sizebox
```
```xml
=
```
```xml
"5,5,5,5"
```
```xml
>
```
```xml
```
```xml
<
```
```xml
HorizontalLayout
```
```xml
bkcolor
```
```xml
=
```
```xml
"#FFFFFFFF"
```
```xml
bordersize
```
```xml
=
```
```xml
"1"
```
```xml
inset
```
```xml
=
```
```xml
"1,1,1,1"
```
```xml
>
```
```xml
```
```xml
<
```
```xml
Control
```
```xml
width
```
```xml
=
```
```xml
"50"
```
```xml
bkcolor
```
```xml
=
```
```xml
"#FFFFFF00"
```
```xml
/>
```
```xml
```
```xml
<
```
```xml
Control
```
```xml
/>
```
```xml
```
```xml
<
```
```xml
Control
```
```xml
width
```
```xml
=
```
```xml
"50"
```
```xml
bkcolor
```
```xml
=
```
```xml
"#FFFF00FF"
```
```xml
/>
```
```xml
```
```xml
</
```
```xml
HorizontalLayout
```
```xml
>
```
```xml
</
```
```xml
Window
```
```xml
>
```
```
``
**上下不动，中间拉伸** 在VerticalLayout容器中放置3个控件，上下控件固定height，中间的控件不设置height。
``
```
```xml
<
```
```xml
Window
```
```xml
size
```
```xml
=
```
```xml
"300,300"
```
```xml
sizebox
```
```xml
=
```
```xml
"5,5,5,5"
```
```xml
>
```
```xml
```
```xml
<
```
```xml
VerticalLayout
```
```xml
bkcolor
```
```xml
=
```
```xml
"#FFFFFFFF"
```
```xml
bordersize
```
```xml
=
```
```xml
"1"
```
```xml
inset
```
```xml
=
```
```xml
"1,1,1,1"
```
```xml
>
```
```xml
```
```xml
<
```
```xml
Control
```
```xml
height
```
```xml
=
```
```xml
"50"
```
```xml
bkcolor
```
```xml
=
```
```xml
"#FFFFFF00"
```
```xml
/>
```
```xml
```
```xml
<
```
```xml
Control
```
```xml
/>
```
```xml
```
```xml
<
```
```xml
Control
```
```xml
height
```
```xml
=
```
```xml
"50"
```
```xml
bkcolor
```
```xml
=
```
```xml
"#FFFF00FF"
```
```xml
/>
```
```xml
```
```xml
</
```
```xml
VerticalLayout
```
```xml
>
```
```xml
</
```
```xml
Window
```
```xml
>
```
```
``
**九宫格布局** 在VerticalLayout容器中放置三个VerticalLayout容器，上下固定height；然后在每个VerticalLayout容器里再防止三个VerticalLayout容器，左右固定width即可。当然也可以先水平布局再垂直布局。
``
```
```xml
<
```
```xml
Window
```
```xml
size
```
```xml
=
```
```xml
"300,300"
```
```xml
sizebox
```
```xml
=
```
```xml
"5,5,5,5"
```
```xml
>
```
```xml
```
```xml
<
```
```xml
VerticalLayout
```
```xml
name
```
```xml
=
```
```xml
"九宫格"
```
```xml
bkcolor
```
```xml
=
```
```xml
"#FFFFFFFF"
```
```xml
>
```
```xml
```
```xml
<
```
```xml
HorizontalLayout
```
```xml
name
```
```xml
=
```
```xml
"上"
```
```xml
height
```
```xml
=
```
```xml
"50"
```
```xml
>
```
```xml
```
```xml
<
```
```xml
VerticalLayout
```
```xml
name
```
```xml
=
```
```xml
"左上"
```
```xml
bkcolor
```
```xml
=
```
```xml
"#FFFF0000"
```
```xml
width
```
```xml
=
```
```xml
"50"
```
```xml
>
```
```xml
```
```xml
</
```
```xml
VerticalLayout
```
```xml
>
```
```xml
```
```xml
<
```
```xml
VerticalLayout
```
```xml
name
```
```xml
=
```
```xml
"中上"
```
```xml
bkcolor
```
```xml
=
```
```xml
"#FF00FF00"
```
```xml
>
```
```xml
```
```xml
</
```
```xml
VerticalLayout
```
```xml
>
```
```xml
```
```xml
<
```
```xml
VerticalLayout
```
```xml
name
```
```xml
=
```
```xml
"右上"
```
```xml
bkcolor
```
```xml
=
```
```xml
"#FFFF0000"
```
```xml
width
```
```xml
=
```
```xml
"50"
```
```xml
>
```
```xml
```
```xml
</
```
```xml
VerticalLayout
```
```xml
>
```
```xml
```
```xml
</
```
```xml
HorizontalLayout
```
```xml
>
```
```xml
```
```xml
<
```
```xml
HorizontalLayout
```
```xml
name
```
```xml
=
```
```xml
"中"
```
```xml
>
```
```xml
```
```xml
<
```
```xml
VerticalLayout
```
```xml
name
```
```xml
=
```
```xml
"左中"
```
```xml
bkcolor
```
```xml
=
```
```xml
"#FF00FF00"
```
```xml
width
```
```xml
=
```
```xml
"50"
```
```xml
>
```
```xml
```
```xml
</
```
```xml
VerticalLayout
```
```xml
>
```
```xml
```
```xml
<
```
```xml
VerticalLayout
```
```xml
name
```
```xml
=
```
```xml
"中中"
```
```xml
>
```
```xml
```
```xml
</
```
```xml
VerticalLayout
```
```xml
>
```
```xml
```
```xml
<
```
```xml
VerticalLayout
```
```xml
name
```
```xml
=
```
```xml
"右中"
```
```xml
bkcolor
```
```xml
=
```
```xml
"#FF00FF00"
```
```xml
width
```
```xml
=
```
```xml
"50"
```
```xml
>
```
```xml
```
```xml
</
```
```xml
VerticalLayout
```
```xml
>
```
```xml
```
```xml
</
```
```xml
HorizontalLayout
```
```xml
>
```
```xml
```
```xml
<
```
```xml
HorizontalLayout
```
```xml
name
```
```xml
=
```
```xml
"下"
```
```xml
height
```
```xml
=
```
```xml
"50"
```
```xml
>
```
```xml
```
```xml
<
```
```xml
VerticalLayout
```
```xml
name
```
```xml
=
```
```xml
"左下"
```
```xml
bkcolor
```
```xml
=
```
```xml
"#FFFF0000"
```
```xml
width
```
```xml
=
```
```xml
"50"
```
```xml
>
```
```xml
```
```xml
</
```
```xml
VerticalLayout
```
```xml
>
```
```xml
```
```xml
<
```
```xml
VerticalLayout
```
```xml
name
```
```xml
=
```
```xml
"中下"
```
```xml
bkcolor
```
```xml
=
```
```xml
"#FF00FF00"
```
```xml
>
```
```xml
```
```xml
</
```
```xml
VerticalLayout
```
```xml
>
```
```xml
```
```xml
<
```
```xml
VerticalLayout
```
```xml
name
```
```xml
=
```
```xml
"右下"
```
```xml
bkcolor
```
```xml
=
```
```xml
"#FFFF0000"
```
```xml
width
```
```xml
=
```
```xml
"50"
```
```xml
>
```
```xml
```
```xml
</
```
```xml
VerticalLayout
```
```xml
>
```
```xml
```
```xml
</
```
```xml
HorizontalLayout
```
```xml
>
```
```xml
```
```xml
</
```
```xml
VerticalLayout
```
```xml
>
```
```xml
</
```
```xml
Window
```
```xml
>
```
```
``
**Split**
**Tab布局**
## API
### 窗体
### 控件
### 消息处理
### 绘图引擎
## 参考
Duilib官网 [http://duilib.com](http://duilib.com/)
项目主页 [http://code.google.com/p/duilib/](http://code.google.com/p/duilib/)
## 资源
Duilib官方交流群3：1507570
