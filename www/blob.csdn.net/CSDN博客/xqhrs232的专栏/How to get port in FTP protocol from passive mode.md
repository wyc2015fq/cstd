# How to get port in FTP protocol from passive mode? - xqhrs232的专栏 - CSDN博客
2017年01月20日 18:12:16[xqhrs232](https://me.csdn.net/xqhrs232)阅读数：364
个人分类：[Linux/Ubuntu/Fedora](https://blog.csdn.net/xqhrs232/article/category/906931)
原文地址::[http://stackoverflow.com/questions/9966993/how-to-get-port-in-ftp-protocol-from-passive-mode](http://stackoverflow.com/questions/9966993/how-to-get-port-in-ftp-protocol-from-passive-mode)
|14down vote[favorite](http://stackoverflow.com/questions/9966993/how-to-get-port-in-ftp-protocol-from-passive-mode#)6|When I entered passive mode in FTP, I have got:227 Entering Passive Mode (213,180,204,183,230,205).First 4 numbers are the IP addresses, but what are the two last?Are they two ports?[ftp](http://stackoverflow.com/questions/tagged/ftp)[port](http://stackoverflow.com/questions/tagged/port)[passive-mode](http://stackoverflow.com/questions/tagged/passive-mode)|[share](http://stackoverflow.com/q/9966993/3236701)[edit](http://stackoverflow.com/posts/9966993/edit)|[edited Apr 1 '12 at 19:34](http://stackoverflow.com/posts/9966993/revisions)user1131997|asked Apr 1 '12 at 18:23[](http://stackoverflow.com/users/894862/oleg-orlov)![](https://www.gravatar.com/avatar/25a8da3c2cdd47cd12a0cddd16169a8f?s=32&d=identicon&r=PG)[Oleg Orlov](http://stackoverflow.com/users/894862/oleg-orlov)2092614||[share](http://stackoverflow.com/q/9966993/3236701)[edit](http://stackoverflow.com/posts/9966993/edit)|[edited Apr 1 '12 at 19:34](http://stackoverflow.com/posts/9966993/revisions)user1131997|asked Apr 1 '12 at 18:23[](http://stackoverflow.com/users/894862/oleg-orlov)![](https://www.gravatar.com/avatar/25a8da3c2cdd47cd12a0cddd16169a8f?s=32&d=identicon&r=PG)[Oleg Orlov](http://stackoverflow.com/users/894862/oleg-orlov)2092614|
|----|----|----|----|----|
|[share](http://stackoverflow.com/q/9966993/3236701)[edit](http://stackoverflow.com/posts/9966993/edit)|[edited Apr 1 '12 at 19:34](http://stackoverflow.com/posts/9966993/revisions)user1131997|asked Apr 1 '12 at 18:23[](http://stackoverflow.com/users/894862/oleg-orlov)![](https://www.gravatar.com/avatar/25a8da3c2cdd47cd12a0cddd16169a8f?s=32&d=identicon&r=PG)[Oleg Orlov](http://stackoverflow.com/users/894862/oleg-orlov)2092614| | |
||add a comment| | | |
## 2 Answers
[active](http://stackoverflow.com/questions/9966993/how-to-get-port-in-ftp-protocol-from-passive-mode?answertab=active#tab-top)[oldest](http://stackoverflow.com/questions/9966993/how-to-get-port-in-ftp-protocol-from-passive-mode?answertab=oldest#tab-top)[votes](http://stackoverflow.com/questions/9966993/how-to-get-port-in-ftp-protocol-from-passive-mode?answertab=votes#tab-top)
|up vote22down voteaccepted|the last two are: p1 and p2 from RFC of ftp: [http://www.faqs.org/rfcs/rfc959.html](http://www.faqs.org/rfcs/rfc959.html)to get port, use:p1 * 256 + p2, then connect to this port|[share](http://stackoverflow.com/a/9967002/3236701)[edit](http://stackoverflow.com/posts/9967002/edit)|answered Apr 1 '12 at 18:24user1131997||[share](http://stackoverflow.com/a/9967002/3236701)[edit](http://stackoverflow.com/posts/9967002/edit)|answered Apr 1 '12 at 18:24user1131997| | |
|----|----|----|----|----|----|
|[share](http://stackoverflow.com/a/9967002/3236701)[edit](http://stackoverflow.com/posts/9967002/edit)|answered Apr 1 '12 at 18:24user1131997| | | | |
|||||||||Thank you! You helped me to solve my job's problem this night :) – [Oleg Orlov](http://stackoverflow.com/users/894862/oleg-orlov)[Apr 1 '12 at 18:28](http://stackoverflow.com/questions/9966993/how-to-get-port-in-ftp-protocol-from-passive-mode#comment12732008_9967002)||----|----|----|----|||| | |Thank you! You helped me to solve my job's problem this night :) – [Oleg Orlov](http://stackoverflow.com/users/894862/oleg-orlov)[Apr 1 '12 at 18:28](http://stackoverflow.com/questions/9966993/how-to-get-port-in-ftp-protocol-from-passive-mode#comment12732008_9967002)add a comment|||||||Thank you! You helped me to solve my job's problem this night :) – [Oleg Orlov](http://stackoverflow.com/users/894862/oleg-orlov)[Apr 1 '12 at 18:28](http://stackoverflow.com/questions/9966993/how-to-get-port-in-ftp-protocol-from-passive-mode#comment12732008_9967002)|
|||||||Thank you! You helped me to solve my job's problem this night :) – [Oleg Orlov](http://stackoverflow.com/users/894862/oleg-orlov)[Apr 1 '12 at 18:28](http://stackoverflow.com/questions/9966993/how-to-get-port-in-ftp-protocol-from-passive-mode#comment12732008_9967002)| | |
||| | | | |
Thank you! You helped me to solve my job's problem this night :) – [Oleg
 Orlov](http://stackoverflow.com/users/894862/oleg-orlov)[Apr
 1 '12 at 18:28](http://stackoverflow.com/questions/9966993/how-to-get-port-in-ftp-protocol-from-passive-mode#comment12732008_9967002)
add
 a comment
![](http://static.adzerk.net/Advertisers/c6eb02709d7d40c48ae0ff1632e88956.png)
![](http://engine.adzerk.net/i.gif?e=eyJhdiI6NDE0LCJhdCI6NCwiYnQiOjAsImNtIjo0NzE0OTMsImNoIjoxMTc4LCJjayI6e30sImNyIjoxNjI3NzY0LCJkaSI6ImJkNGYzNmZlYmI4NjQzY2RiMzY5Yjc2Y2U2NzY0NmUyIiwiZG0iOjEsImZjIjoxOTI0NDQzLCJmbCI6MjE0MjMxMiwiaXAiOiIxMjEuMzQuMTI4LjIxMyIsImt3IjoiZnRwLHBvcnQscGFzc2l2ZS1tb2RlLHgtdXNlci1yZWdpc3RlcmVkIiwibnciOjIyLCJwYyI6MCwiZWMiOjAsInByIjoxNjA0LCJydCI6MSwicmYiOiJodHRwczovL3d3dy5iYWlkdS5jb20vbGluaz91cmw9VDU4US0xWk9PQXEya3FWMmJKOXA2b1FrRlI4UHlHbXljUmM4SDl1UVFnRTZfV3F3enV0VDN3Q1pDcUlBVkcyUzR4QzdFZ1BVd3Z4TWdyc1h0aEVPNjlxS2s5VHdSbkZtdmJyS2RQVWRXbjR5TEgyNlpyN1I5TEdEMGI5OUpqeGJ2SDBaeWxyYWVwYWs3SGtCUVlZbnJLJndkPSZlcWlkPWQ1YzUwZTY2MDAwNTQ2NGYwMDAwMDAwMzU4ODFkZTczIiwic3QiOjgyNzcsInVrIjoidWUxLTQ3NGFjYjMxMmRhMTRhMDliYjc0YWM1ZGY1ZTQyZWM0Iiwiem4iOjQ0LCJ0cyI6MTQ4NDkwNjk5Mjg3NiwiYmYiOnRydWUsInBuIjoiYWR6ZXJrMTI4MDgzNDgwNiIsImZxIjowfQ&s=L4VOGRYLaS--B7KJtV-ZRFwRdlk)
|up vote8down vote|the port number is a 16-bit value between 0 and 65535 due to some constraints the authors have decided that all numbers between commas should be 8-bit (between 0 and 255). Thus, the 16-bit port number is represented with 2 8-bit numbers.In your case the port number will be 230 * 256 + 205 = 59085|[share](http://stackoverflow.com/a/9967027/3236701)[edit](http://stackoverflow.com/posts/9967027/edit)|answered Apr 1 '12 at 18:27[](http://stackoverflow.com/users/1306670/ivan-shcherbakov)![](https://www.gravatar.com/avatar/402ac0f6c4975533442ff81627394453?s=32&d=identicon&r=PG)[Ivan Shcherbakov](http://stackoverflow.com/users/1306670/ivan-shcherbakov)1,253619||[share](http://stackoverflow.com/a/9967027/3236701)[edit](http://stackoverflow.com/posts/9967027/edit)|answered Apr 1 '12 at 18:27[](http://stackoverflow.com/users/1306670/ivan-shcherbakov)![](https://www.gravatar.com/avatar/402ac0f6c4975533442ff81627394453?s=32&d=identicon&r=PG)[Ivan Shcherbakov](http://stackoverflow.com/users/1306670/ivan-shcherbakov)1,253619| | | | | | |
|----|----|----|----|----|----|----|----|----|----|
|[share](http://stackoverflow.com/a/9967027/3236701)[edit](http://stackoverflow.com/posts/9967027/edit)|answered Apr 1 '12 at 18:27[](http://stackoverflow.com/users/1306670/ivan-shcherbakov)![](https://www.gravatar.com/avatar/402ac0f6c4975533442ff81627394453?s=32&d=identicon&r=PG)[Ivan Shcherbakov](http://stackoverflow.com/users/1306670/ivan-shcherbakov)1,253619| | | | | | | | |
|||||||||thank you too! :) – [Oleg Orlov](http://stackoverflow.com/users/894862/oleg-orlov)[Apr 1 '12 at 18:30](http://stackoverflow.com/questions/9966993/how-to-get-port-in-ftp-protocol-from-passive-mode#comment12732023_9967027)||----|----|----|----|||| | ||||||||@bazis well-advanced answer :) – user1131997[Apr 1 '12 at 18:37](http://stackoverflow.com/questions/9966993/how-to-get-port-in-ftp-protocol-from-passive-mode#comment12732139_9967027)|||| | |@bazis well-advanced answer :) – user1131997[Apr 1 '12 at 18:37](http://stackoverflow.com/questions/9966993/how-to-get-port-in-ftp-protocol-from-passive-mode#comment12732139_9967027)add a comment|||||||thank you too! :) – [Oleg Orlov](http://stackoverflow.com/users/894862/oleg-orlov)[Apr 1 '12 at 18:30](http://stackoverflow.com/questions/9966993/how-to-get-port-in-ftp-protocol-from-passive-mode#comment12732023_9967027)|||||||@bazis well-advanced answer :) – user1131997[Apr 1 '12 at 18:37](http://stackoverflow.com/questions/9966993/how-to-get-port-in-ftp-protocol-from-passive-mode#comment12732139_9967027)|
|||||||thank you too! :) – [Oleg Orlov](http://stackoverflow.com/users/894862/oleg-orlov)[Apr 1 '12 at 18:30](http://stackoverflow.com/questions/9966993/how-to-get-port-in-ftp-protocol-from-passive-mode#comment12732023_9967027)| | | | | | |
||| | | | | | | | |
|||||||@bazis well-advanced answer :) – user1131997[Apr 1 '12 at 18:37](http://stackoverflow.com/questions/9966993/how-to-get-port-in-ftp-protocol-from-passive-mode#comment12732139_9967027)| | | | | | |
||| | | | | | | | |
@bazis well-advanced answer :) – user1131997[Apr
 1 '12 at 18:37](http://stackoverflow.com/questions/9966993/how-to-get-port-in-ftp-protocol-from-passive-mode#comment12732139_9967027)
add
 a comment
|14down vote[favorite](http://stackoverflow.com/questions/9966993/how-to-get-port-in-ftp-protocol-from-passive-mode#)6|When I entered passive mode in FTP, I have got:**227 Entering Passive Mode (213,180,204,183,230,205).**First 4 numbers are the IP addresses, but what are the two last?*Are they two ports?*[ftp](http://stackoverflow.com/questions/tagged/ftp)[port](http://stackoverflow.com/questions/tagged/port)[passive-mode](http://stackoverflow.com/questions/tagged/passive-mode)|[share](http://stackoverflow.com/q/9966993/3236701)[edit](http://stackoverflow.com/posts/9966993/edit)|[edited Apr 1 '12 at 19:34](http://stackoverflow.com/posts/9966993/revisions)user1131997|asked Apr 1 '12 at 18:23[](http://stackoverflow.com/users/894862/oleg-orlov)![](https://www.gravatar.com/avatar/25a8da3c2cdd47cd12a0cddd16169a8f?s=32&d=identicon&r=PG)[Oleg Orlov](http://stackoverflow.com/users/894862/oleg-orlov)2092614||[share](http://stackoverflow.com/q/9966993/3236701)[edit](http://stackoverflow.com/posts/9966993/edit)|[edited Apr 1 '12 at 19:34](http://stackoverflow.com/posts/9966993/revisions)user1131997|asked Apr 1 '12 at 18:23[](http://stackoverflow.com/users/894862/oleg-orlov)![](https://www.gravatar.com/avatar/25a8da3c2cdd47cd12a0cddd16169a8f?s=32&d=identicon&r=PG)[Oleg Orlov](http://stackoverflow.com/users/894862/oleg-orlov)2092614|
|----|----|----|----|----|
|[share](http://stackoverflow.com/q/9966993/3236701)[edit](http://stackoverflow.com/posts/9966993/edit)|[edited Apr 1 '12 at 19:34](http://stackoverflow.com/posts/9966993/revisions)user1131997|asked Apr 1 '12 at 18:23[](http://stackoverflow.com/users/894862/oleg-orlov)![](https://www.gravatar.com/avatar/25a8da3c2cdd47cd12a0cddd16169a8f?s=32&d=identicon&r=PG)[Oleg Orlov](http://stackoverflow.com/users/894862/oleg-orlov)2092614| | |
||add a comment| | | |
## 2 Answers
[active](http://stackoverflow.com/questions/9966993/how-to-get-port-in-ftp-protocol-from-passive-mode?answertab=active#tab-top)[oldest](http://stackoverflow.com/questions/9966993/how-to-get-port-in-ftp-protocol-from-passive-mode?answertab=oldest#tab-top)[votes](http://stackoverflow.com/questions/9966993/how-to-get-port-in-ftp-protocol-from-passive-mode?answertab=votes#tab-top)
|up vote22down voteaccepted|the last two are: p1 and p2 from RFC of ftp: [http://www.faqs.org/rfcs/rfc959.html](http://www.faqs.org/rfcs/rfc959.html)to get port, use:p1 * 256 + p2, then connect to this port|[share](http://stackoverflow.com/a/9967002/3236701)[edit](http://stackoverflow.com/posts/9967002/edit)|answered Apr 1 '12 at 18:24user1131997||[share](http://stackoverflow.com/a/9967002/3236701)[edit](http://stackoverflow.com/posts/9967002/edit)|answered Apr 1 '12 at 18:24user1131997| | |
|----|----|----|----|----|----|
|[share](http://stackoverflow.com/a/9967002/3236701)[edit](http://stackoverflow.com/posts/9967002/edit)|answered Apr 1 '12 at 18:24user1131997| | | | |
|||||||||Thank you! You helped me to solve my job's problem this night :) – [Oleg Orlov](http://stackoverflow.com/users/894862/oleg-orlov)[Apr 1 '12 at 18:28](http://stackoverflow.com/questions/9966993/how-to-get-port-in-ftp-protocol-from-passive-mode#comment12732008_9967002)||----|----|----|----|||| | |Thank you! You helped me to solve my job's problem this night :) – [Oleg Orlov](http://stackoverflow.com/users/894862/oleg-orlov)[Apr 1 '12 at 18:28](http://stackoverflow.com/questions/9966993/how-to-get-port-in-ftp-protocol-from-passive-mode#comment12732008_9967002)add a comment|||||||Thank you! You helped me to solve my job's problem this night :) – [Oleg Orlov](http://stackoverflow.com/users/894862/oleg-orlov)[Apr 1 '12 at 18:28](http://stackoverflow.com/questions/9966993/how-to-get-port-in-ftp-protocol-from-passive-mode#comment12732008_9967002)|
|||||||Thank you! You helped me to solve my job's problem this night :) – [Oleg Orlov](http://stackoverflow.com/users/894862/oleg-orlov)[Apr 1 '12 at 18:28](http://stackoverflow.com/questions/9966993/how-to-get-port-in-ftp-protocol-from-passive-mode#comment12732008_9967002)| | |
||| | | | |
Thank you! You helped me to solve my job's problem this night :) – [Oleg
 Orlov](http://stackoverflow.com/users/894862/oleg-orlov)[Apr
 1 '12 at 18:28](http://stackoverflow.com/questions/9966993/how-to-get-port-in-ftp-protocol-from-passive-mode#comment12732008_9967002)
add
 a comment
![](http://static.adzerk.net/Advertisers/c6eb02709d7d40c48ae0ff1632e88956.png)
![](http://engine.adzerk.net/i.gif?e=eyJhdiI6NDE0LCJhdCI6NCwiYnQiOjAsImNtIjo0NzE0OTMsImNoIjoxMTc4LCJjayI6e30sImNyIjoxNjI3NzY0LCJkaSI6ImJkNGYzNmZlYmI4NjQzY2RiMzY5Yjc2Y2U2NzY0NmUyIiwiZG0iOjEsImZjIjoxOTI0NDQzLCJmbCI6MjE0MjMxMiwiaXAiOiIxMjEuMzQuMTI4LjIxMyIsImt3IjoiZnRwLHBvcnQscGFzc2l2ZS1tb2RlLHgtdXNlci1yZWdpc3RlcmVkIiwibnciOjIyLCJwYyI6MCwiZWMiOjAsInByIjoxNjA0LCJydCI6MSwicmYiOiJodHRwczovL3d3dy5iYWlkdS5jb20vbGluaz91cmw9VDU4US0xWk9PQXEya3FWMmJKOXA2b1FrRlI4UHlHbXljUmM4SDl1UVFnRTZfV3F3enV0VDN3Q1pDcUlBVkcyUzR4QzdFZ1BVd3Z4TWdyc1h0aEVPNjlxS2s5VHdSbkZtdmJyS2RQVWRXbjR5TEgyNlpyN1I5TEdEMGI5OUpqeGJ2SDBaeWxyYWVwYWs3SGtCUVlZbnJLJndkPSZlcWlkPWQ1YzUwZTY2MDAwNTQ2NGYwMDAwMDAwMzU4ODFkZTczIiwic3QiOjgyNzcsInVrIjoidWUxLTQ3NGFjYjMxMmRhMTRhMDliYjc0YWM1ZGY1ZTQyZWM0Iiwiem4iOjQ0LCJ0cyI6MTQ4NDkwNjk5Mjg3NiwiYmYiOnRydWUsInBuIjoiYWR6ZXJrMTI4MDgzNDgwNiIsImZxIjowfQ&s=L4VOGRYLaS--B7KJtV-ZRFwRdlk)
|up vote8down vote|the port number is a 16-bit value between 0 and 65535 due to some constraints the authors have decided that all numbers between commas should be 8-bit (between 0 and 255). Thus, the 16-bit port number is represented with 2 8-bit numbers.In your case the port number will be 230 * 256 + 205 = 59085|[share](http://stackoverflow.com/a/9967027/3236701)[edit](http://stackoverflow.com/posts/9967027/edit)|answered Apr 1 '12 at 18:27[](http://stackoverflow.com/users/1306670/ivan-shcherbakov)![](https://www.gravatar.com/avatar/402ac0f6c4975533442ff81627394453?s=32&d=identicon&r=PG)[Ivan Shcherbakov](http://stackoverflow.com/users/1306670/ivan-shcherbakov)1,253619||[share](http://stackoverflow.com/a/9967027/3236701)[edit](http://stackoverflow.com/posts/9967027/edit)|answered Apr 1 '12 at 18:27[](http://stackoverflow.com/users/1306670/ivan-shcherbakov)![](https://www.gravatar.com/avatar/402ac0f6c4975533442ff81627394453?s=32&d=identicon&r=PG)[Ivan Shcherbakov](http://stackoverflow.com/users/1306670/ivan-shcherbakov)1,253619| | | | | | |
|----|----|----|----|----|----|----|----|----|----|
|[share](http://stackoverflow.com/a/9967027/3236701)[edit](http://stackoverflow.com/posts/9967027/edit)|answered Apr 1 '12 at 18:27[](http://stackoverflow.com/users/1306670/ivan-shcherbakov)![](https://www.gravatar.com/avatar/402ac0f6c4975533442ff81627394453?s=32&d=identicon&r=PG)[Ivan Shcherbakov](http://stackoverflow.com/users/1306670/ivan-shcherbakov)1,253619| | | | | | | | |
|||||||||thank you too! :) – [Oleg Orlov](http://stackoverflow.com/users/894862/oleg-orlov)[Apr 1 '12 at 18:30](http://stackoverflow.com/questions/9966993/how-to-get-port-in-ftp-protocol-from-passive-mode#comment12732023_9967027)||----|----|----|----|||| | ||||||||@bazis well-advanced answer :) – user1131997[Apr 1 '12 at 18:37](http://stackoverflow.com/questions/9966993/how-to-get-port-in-ftp-protocol-from-passive-mode#comment12732139_9967027)|||| | |@bazis well-advanced answer :) – user1131997[Apr 1 '12 at 18:37](http://stackoverflow.com/questions/9966993/how-to-get-port-in-ftp-protocol-from-passive-mode#comment12732139_9967027)add a comment|||||||thank you too! :) – [Oleg Orlov](http://stackoverflow.com/users/894862/oleg-orlov)[Apr 1 '12 at 18:30](http://stackoverflow.com/questions/9966993/how-to-get-port-in-ftp-protocol-from-passive-mode#comment12732023_9967027)|||||||@bazis well-advanced answer :) – user1131997[Apr 1 '12 at 18:37](http://stackoverflow.com/questions/9966993/how-to-get-port-in-ftp-protocol-from-passive-mode#comment12732139_9967027)|
|||||||thank you too! :) – [Oleg Orlov](http://stackoverflow.com/users/894862/oleg-orlov)[Apr 1 '12 at 18:30](http://stackoverflow.com/questions/9966993/how-to-get-port-in-ftp-protocol-from-passive-mode#comment12732023_9967027)| | | | | | |
||| | | | | | | | |
|||||||@bazis well-advanced answer :) – user1131997[Apr 1 '12 at 18:37](http://stackoverflow.com/questions/9966993/how-to-get-port-in-ftp-protocol-from-passive-mode#comment12732139_9967027)| | | | | | |
||| | | | | | | | |
@bazis well-advanced answer :) – user1131997[Apr
 1 '12 at 18:37](http://stackoverflow.com/questions/9966993/how-to-get-port-in-ftp-protocol-from-passive-mode#comment12732139_9967027)
add
 a comment
