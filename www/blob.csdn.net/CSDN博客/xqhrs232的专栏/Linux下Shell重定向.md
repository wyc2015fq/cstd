# Linux下Shell重定向 - xqhrs232的专栏 - CSDN博客
2017年06月30日 14:12:28[xqhrs232](https://me.csdn.net/xqhrs232)阅读数：181
个人分类：[Linux/Ubuntu/Fedora](https://blog.csdn.net/xqhrs232/article/category/906931)
原文地址::[http://blog.csdn.net/jfkidear/article/details/7823486](http://blog.csdn.net/jfkidear/article/details/7823486)
1. 标准输入，标准输出与标准错误输出
[Linux](http://lib.csdn.net/base/linux)下系统打开3个文件，标准输入，标准输出，标准错误输出。
标准输入:从键盘输入数据，即从键盘读入数据。
标准输出:把数据输出到终端上。
标准错误输出:把标准错误输出到终端上。
默认的标准输入指的是键盘，默认的标准输出与标准错误输出指的是屏幕或者是终端。
系统为这三个文件分配了文件标识符fd(file descripter).
在[linux](http://lib.csdn.net/base/linux)系统下，一切皆是文件，对文件的操作，一般要用到文件标识符。它们的文件标识符，分别为0,1,2.
2. 重定向
重定向分为输入重定向与输出重定向。
所谓的输入重定向即输入不从键盘读入，而是从文件输入或其它。
所谓的输出重定向即不输出到终端上，而是输出到文件中去或其它。
""<"表示输入重定向运算符,">"表示输出重定向t运算符。
"<<"这种输入告诉Shell，当前标准输入来自命令行的一对分隔号的中间内容。
">>",用">"输出时，如果文件不存在会自动建立一个文件，如果第二次输入时，会覆盖前一次的输入内容，而">>"表示把第二次的输出内容追加到文件中去，而不是覆盖。
3. 下面看一下几个例子
(1)输入重定向
 [root@localhost ~]# wc</etc/inittab
53 229 1666
wc统计行数，单词数， 字符数
其中wc的输入来自 /etc/inittab
[root@localhost ~]# wc <<aa
> 1
> 11
> 111
> aa
3 3 9
wc统计分隔符aa之间的内容。
(2)输出重定向
 [root@localhost ~]# ps -ef >a.txt   //把进程的信息输出重定向到a.txt文件中去
 [root@localhost ~]# ps -ef> >a.txt //进程信息追加到a.txt的文件中去
其实，所谓的输入输出重定向就是不从键盘输入和屏输出。
4. Linux下输出重定向的典型分析
(1) a.out > outfile 2>&1
(2) a.out 2> &1 >outfile
分析:
0代表标准输入，1代表标准输出，2代表标准错误输出。其中1(即>=1>)可以省略，默认为标准输出。
(1)首先把a.out重定向到outfile文件中去。然后把 2>&1把标准错误输出重定向到标准输出中去。此时的标准输出已经重定向了，相当于把标准输出与标准错误输出都一起重定向到outfile中去。 &1代表的是标准输出的文件描述符。1一般放在左边表示标准输出重定向到什么位置，而1放在右边是重定向到标准输出中，所以用&区分一下，表示标准输出的文件描述符。2＞1表示把标准错误重定向到文件1中去，2＞&1则表示标准错误重定向到标准输出中去。
(2)首先把标准错误输出重定向到标准输出中，此时标准输出还在终端。因此标准错误也在终端。然后标准输出到outfile中去了。而标准错误还是在终端。
因此，(1)表示标准输出与标准错误都到outfile中去了。
         (2)表示标准输出到outfile，但标准错误输出仍然在终端。
ls 1>/dev/null 2>/dev/null
ls >/dev/null  2>&1
/dev/null是一个垃圾箱，是一个无底洞，表示的含义为不显示。
即标准输出与标准错误输出不显示。
以上两个命令表示的含义是相同的。
以上是关于Linux下的重定向问题，一定要深刻理解原理。

