# s5pv210烧写系统镜像步骤 - xqhrs232的专栏 - CSDN博客
2017年03月19日 00:16:38[xqhrs232](https://me.csdn.net/xqhrs232)阅读数：319
个人分类：[S5PV210_Linux_Wince](https://blog.csdn.net/xqhrs232/article/category/6798766)
原文地址::[http://blog.csdn.net/yiyueming/article/details/50523141](http://blog.csdn.net/yiyueming/article/details/50523141)
相关文章
1、[[经验]](http://bbs.elecfans.com/forum.php?mod=forumdisplay&fid=12&filter=typeid&typeid=109)自己移植的uboot和linux内核--基于s5pv210 ----[http://bbs.elecfans.com/jishu_488724_1_1.html](http://bbs.elecfans.com/jishu_488724_1_1.html)
用到的工具：DNW minicom
用到的文件：gec210_usb.bin gec210_uboot.bin fastboot.rar USB driver 
gec_android_driver 
Donwload Adresss说明：
 0xd0020010为gec210_usb.bin文件下载地址，该文件初始化210处理里的相关寄存器； 
 0x23e00000为uboot、内核、文件系统等文件烧写地址，具体操作后面文 档会说明。
步骤：
1. 安装Fastboot工具: 将210用户光盘下的工具软件里的fastboot.rar里面的内容解压到 D:\fastboot目录下（没有这个目录就在D盘或者其他盘新建一个）。 
2. 安装USB驱动: a）.首先将J2开关拨至SD-BOOT处，打开串口工具，设置好参数，然后开发板上电，提示安装USB下载驱动，这里注意不要选择自动安装软件，而是要选择选择从列表或指定位置安装，然后点击下一步. 
3. 通过USB烧写[Android](http://lib.csdn.net/base/android)系统的镜像文件：
1）打开串口工具，设置好相关参数，download adress设置为：0xd0020010，点击“Serial Port”，选择“connect”; 
2)“USB:OK”，表示驱动OK，USB线已经正常跟板子连接,然后点击“USB Port” 
3)选择Transmit”,打开fastboot文件夹内Android_image的gec210_usb.bin文件； 
4)文件下载后，DNW标题栏的USB状态会有“USB:0K”变为“USB:X”，然后再迅速变回“USB:OK”，即表示gec210_usb.bin下载成功，这时210的相关寄存器初始化完毕。然后设置DNW参数，Download adress修改为0x23e00000， 
5)接下来我们就可以下载gec210_uboot.bin，点击USB Port > Transmit, 
选择D盘的fastboot里images 中android_image文件下的gec210_uboot.bin文件； 
6)下载gec210_uboot.bin到内存运行之后，串口输出信息，
因为此时的uboot并没有固化到到nand flash里面，接下来我们将详细讲解用fastboot工具固化uboot到nand flash中。
7)首先在uboot进入启动倒计时的时候，按下任意按键，进入到uboot的命令菜单，当我们重新更新所有的镜像的时候，我们可以将整块flash格式化掉，按菜单的提示，我们输入f； 
8)在串口终端输入“Y”,然后按下回车键“Enter”； 
NADN FLASH格式化完毕。 
9)格式化完flash之后，我们可以使用fastboot来进行镜像的更新，按uboot第一级菜单提示，输入u是启动fastboot来进行烧写； 
10) 串口输出NAND FLASH的相关分区信息 
11）这时候PC提示发现新硬件，需要我们安装fastboot的驱动程序，选择从列表或指定位置安装（高级）。 
12）浏览选择光盘里的工具软件下的gec_android_driver文件夹，然后带驱动安装完毕 
13） 在windows点击开始，选择“运行”，然后输入“cmd”,按回车，如下图所示 
14） 在Windows命令行终端输入”D:”,按回车，然后输”cd fastboot”； 
15） 然后输入“fastboot devices”,查询当前设备 
16） 然后输入执行如下指令： 
fastboot flash uboot d:\fastboot\gec210_android\gec210_uboot.bin
此时，完成gec210_uboot.bin固化到nand flash里。然后关掉开发板电源，设置J2开关，把开关J2拨至Nand-boot位置，让板子从nand flash启动，然后输入u，进入到fastboot烧写模式
17） 烧写的时候，在windows命令行里面输入的命令格式如下： 
fastboot flash partitons image_file_location 
特别注意的是，烧写的分区名字partition要和uboot里面的分区名字对应起来，否则烧写会失败。
如下图所示，分别是烧写[Linux](http://lib.csdn.net/base/linux)内核、android内核、linux文件系统、android文件系统、android userdata的分区。 
fastboot flash uboot z:\uboot-gec210\u-boot.bin 
fastboot flash linux d:\share\s5pv210\GEC210\linux.img 
fastboot flash android d:\share\s5pv210\GEC210\android.img 
fastboot flash linux_sys d:\share\s5pv210\GEC210\linux_sys.img 
fastboot flash android_sys d:\share\s5pv210\GEC210\android_sys.img 
fastboot flash userdata d:\share\s5pv210\GEC210\userdata.img
当烧写完了，可以重启一下系统，在uboot进入倒计时的时候，按任意按键中断系统启动，进入到uboot菜单，可以看到有这样的一个菜单选项： 
[o] Select the boot OS 
这个选项是用于选择启动那个系统，默认是启动android系统，当输入o之后，进入到第二级菜单再进行启动系统的选择，按需进行选择即可。
