# 杨辉三角 - wsp_1138886114的博客 - CSDN博客





2018年07月31日 13:30:29[SongpingWang](https://me.csdn.net/wsp_1138886114)阅读数：122








#### 杨辉三角

```
杨辉三角定义如下：
           1
         1   1
       1   2   1
     1   3   3   1
   1   4   6   4   1
 1   5   10  10  5   1
```

把每一行看做一个list，试写一个generator(生成器)，不断输出下一行的list。  

generator函数与普通函数的差别：在执行过程中，遇到yield就中断，下次又继续执行

```python
def triangles():       #triangles:三角形
    N=[1]
    while True:
        yield N        
        N.append(0)
        N=[N[i-1] + N[i] for i in range(len(N))]  

def generators(X):     #generators:生成器
    n=0
    for t in triangles():
        print(t)
        n=n+1
        if n == X:
            break 
generators(5)   #生成5行杨辉三角

输出：
[1]
[1, 1]
[1, 2, 1]
[1, 3, 3, 1]
[1, 4, 6, 4, 1]
```

```
解析：
    函数triangle()生成的实际上是一个每个元素都为list的list  即list的嵌套
    由yield L可知，此生成器每次生成的是L 
    triangle的第0个元素是初始化的L=[1]
计算triangle的第1个元素时， 
    即第一次执行L = [1]+[L[i] + L[i+1] for i in range(len(L)-1)]+[1]，
    第一个和最后一个默认为[1]，中间是一个列表生成式 

    首先看列表生成式中的for循环，
    此时len(L)=1（因为此时L=[1],只有一个元素），
    所以range(len(L)-1)]=range(0),即空list，所以没有i
    所以中间的列表生成式为空  triangle的第1个元素为L=[1,1]

计算triangle的第2个元素时， 
    即第二次执行L = [1]+[L[i] + L[i+1] for i in range(len(L)-1)]+[1]， 
    第一个和最后一个默认为[1]，中间是一个列表生成式
    列表生成式中的for循环，此时len(L)=2（因为此时L=[1,1],2个元素）， 
    所以range(len(L)-1)]=range(1)=[0]

    i=0时，列表生成式生成L[0] + L[0+1]=1+1=2  
    所以L=[1,2,1]
    ……以此类推， 
计算triangle的第3个元素时， 
    range(len(L)-1)]=range(2)=[0,1]
    i=0时，列表生成式生成L[0] + L[0+1]=1+2=3 ； 
    i=1时，列表生成式生成L[1] + L[1+1]=2+1=3 
    所以L=[1,3,3,1]
```



