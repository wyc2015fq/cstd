# 详解char和varchar的区别 - bigfacesafdasgfewgf - CSDN博客





2015年05月11日 21:05:59[bigface1234fdfg](https://me.csdn.net/puqutogether)阅读数：5557











    MySQL中的字符串有两个常用的类型：char和varchar，二者各有优势，下面我们来详细分析一下。




# 1、char(n)类型

**char类型**时定长的类型，即当定义的是char(10)，输入的是"abc"这三个字符时，它们占的空间一样是10个字节，包括7个空字节。当输入的字符长度超过指定的数时，char会截取超出的字符。而且，当存储char值时，MySQL是自动删除输入字符串末尾的空格。

    char是适合存储很短的、一般固定长度的字符串。例如，char非常适合存储密码的MD5值，因为这是一个定长的值。对于非常短的列，char比varchar在存储空间上也更有效率。




# 2、varchar(n)类型

     varchar(n)类型用于存储可变长的，长度为n个字节的可变长度且非Unicode的字符数据。n必须是介于1和8000之间的数值，存储大小为输入数据的字节的实际长度+1/2. 比如varchar(10), 然后输入abc三个字符，那么实际存储大小为3个字节。除此之外，varchar还需要使用1或2个额外字节记录字符串的长度，如果列的最大长度小于等于255字节（是定义的最长长度，不是实际长度），则使用1个字节表示长度，否则使用2个字节来表示。




    所以，从空间上考虑，varcahr较合适；从效率上考虑，用char合适。二者之间需要权衡。







    除了char和varchar之外，还有一种**nchar、****nvarchar(n)**，包含n个字符的可变长度为unicode字符数据。n的值必须介于1~4000之间，直接的存储大小是说输入字符个数的两倍，所输入的数据字符长度可以为零。从名字上看，多了一个n，表示存储的是unicode数据类型的字符，这是为了存储汉字用的，1个英文字母或者数字占用的字符为1个，一个汉字占用2个字符，那么对于有中英文混合的字符串，我们需要定义nvarchar类型。Unicode字符集就是为了解决字符集这种不兼容的问题而产生的，它所有的字符都用两个字节表示，即英文字符也是用两个字节表示。nchar、nvarchar的长度是在1到4000之间。和char、varchar比较起来，nchar、nvarchar则最多存储4000个字符，不论是英文还是汉字；而char、varchar最多能存储8000个英文，4000个汉字。可以看出使用nchar、nvarchar数据类型时不用担心输入的字符是英文还是汉字，较为方便，但在存储英文时数量上有些损失。所以一般来说，如果含有中文字符，用nchar/nvarchar，如果纯英文和数字，用char/varchar。





    还有，**text类型**。其存储可变长度的非Unicode数据，最大长度为2^31-1(2,147,483,647)个字符。










