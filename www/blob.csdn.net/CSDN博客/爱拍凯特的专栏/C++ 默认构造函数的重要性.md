# C++ 默认构造函数的重要性 - 爱拍凯特的专栏 - CSDN博客
2016年06月12日 15:37:23[爱拍凯特](https://me.csdn.net/apacat)阅读数：2462
1、默认构造函数
C++ 默认构造函数是对类中的参数提供默认值的构造函数，一般情况下，是一个没有参数值的空函数，也可以提供一些的默认值的构造函数，如果用户没有定义构造函数，那么编译器会给类提供一个默认的构造函数，但是只要用户自定义了任意一个构造函数，那么编译器就不会提供默认的构造函数，这种情况下，容易编译报错，所以正确的写法就是用户在定义构造函数的时候，也需要添加一个默认的构造函数，这样就不会造成编译报错。
如：用户自定义的默认构造函数
class Test
{
public:
    Test(){} // default constructor
} ;
2、为什么要添加默认的构造函数
原因如下：
1、**当用户定义了数组，而数组的元素类型是类等对象1**，那么这个时候就会调用默认的构造函数，如果这个时候对象1没有定义默认的构造函数，就会报错。但是如果不是对象类型，是C++的内置数据类型，是不会报错的。
如：Object array[10];
2、当用户定义了数组，并用new来动态分配对象1，那么这个时候如果对象1 没有默认的构造函数，也会报错，因为new 会调用对象1 的无参默认的构造函数来初始化对象。
如：Object *temp = new Object[10];
3、当用户使用了标准库的容器的时候，容器中是类等对象时，这时候会调用对象的默认构造函数进行初始化，如果这个对象的类中没有定义默认的构造函数，那么就会报错。
如：vector<Object> vo;
4、一个类A以另外某个类B的对象为成员时，如果A提供了无参构造函数，而B未提供，那么A则无法使用自己的无参构造函数。
下面的代码将导致编译错误。
class B
{
    B(int i){}
};
class A
{
    A(){}
    B b;
};
int main(void) 
{ 
    A a(); // error C2512: 'B' : no appropriate default constructor available
    getchar() ; 
    return0 ; 
} 
5、若类A定义了拷贝构造函数，但是没有定义默认构造函数，那么若B 继承 A，B在初始化的时候会调用A的默认构造函数，这个时候会报错。
class A
{
    A(const A&){}
};
class B : public A
{
    
};
int main(void) 
{ 
    B b; //error C2512:'B': no appropriate default constructor available
    getchar() ; 
    return0 ; 
} 
