# 电子数字 - 李鑫o_O - CSDN博客

2016年03月19日 15:50:58[hustlx](https://me.csdn.net/HUSTLX)阅读数：242
个人分类：[c/c++](https://blog.csdn.net/HUSTLX/article/category/6122695)



```cpp
#include<iostream>
#include<vector>
#include<string.h>
#include<algorithm>
#include<map>
#include<set>
using namespace std;
int main()
{

    map<int, vector<int>*> dic;
    vector<int> v1 = { 2,3,5,6,7,8,9,0};
    vector<int> v2 = {4,5,6,8,9,0 };
    vector<int> v3 = { 1,2,3,4,7,8,9,0 };
    vector<int> v4 = {2,3,4,5,6,8,9};
    vector<int> v5 = { 2,6,8,0 };
    vector<int> v6 = { 1, 3, 4, 5, 6, 7,8,9,0 };
    vector<int> v7 = { 2, 3, 5, 6, 8, 9, 0 };
    dic[1] = &v1;
    dic[2] = &v2;
    dic[3] = &v3;
    dic[4] = &v4;
    dic[5] = &v5;
    dic[6] = &v6;
    dic[7] = &v7;

    int len;//测试点个数
    while (cin >> len && len != 0){
    //cin >> len;
        for (int i = 0; i < len; i++){
            int K, N;
            cin >> K >> N;
            vector<set<int>> back(K,set<int>());
            for (int j = 0; j < K; j++){//处理K行数据
                char str[100];
                vector<int> data;
                cin.get();
                cin.getline(str, 100, '\n');
                for (int i = 0; i < strlen(str); i++)//提取一行中的整数，保存到data当中，可以对其排序
                {
                    if (str[i] != ' '){
                        int num = str[i] - '0';
                        data.push_back(num);
                    }
                }
                sort(data.begin(), data.end());
                map<int, int> inter;
                for (int s1 = 0; s1 < 10; s1++){
                    inter[s1] = 0;
                }
                inter[0] = 0;
                for (int k = 0; k < data.size(); k++){//将该二极管对应的备选数字添加到back中去，已经自动去重
                    vector<int>* ptr = dic[data[k]];
                    for (auto it = (*ptr).begin(); it != (*ptr).end(); it++){
                        inter[*it]++;
                    }
                }
                for (int s1 = 0; s1 < 10; s1++){
                    if (inter[s1] >= data.size())
                        back[j].insert(s1);
                }
            }//已经得到一个测试点的备选数字
            vector<int> div;
            for (int count = 0; count < K; count++){
                int temp = N % 10;
                div.push_back(temp);//div最前面是个位数字,back最前面是最左边的二极管对应最高位数字
                N=N/10;
            }
            int count = 0;
            for (int tag = 0; tag < K; tag++){
                auto it = back[tag];
                int num = div[K - tag - 1];
                int count2 = 0;
                for (auto it2 = it.begin(); it2 != it.end(); it2++){
                    if (*it2 < num){
                        int sum = 1;
                        for (int s1 = tag + 1; s1 < K; s1++)
                            sum *= back[tag].size();
                        count += sum;
                    }                    
                }
            }
            cout <<"结果："<<count << endl;
        }
    }
    return 0;
}
```

