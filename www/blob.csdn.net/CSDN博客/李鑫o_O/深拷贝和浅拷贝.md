# 深拷贝和浅拷贝 - 李鑫o_O - CSDN博客





2016年05月11日 10:45:21[hustlx](https://me.csdn.net/HUSTLX)阅读数：420
个人分类：[c/c++](https://blog.csdn.net/HUSTLX/article/category/6122695)








拷贝有两种：深拷贝，浅拷贝

当出现类的等号赋值时，会调用拷贝函数

在未定义显示拷贝构造函数的情况下，系统会调用默认的拷贝函数——即浅拷贝，它能够完成成员的一一复制。当数据成员中没有指针时，浅拷贝是可行的。

但当数据成员中有指针时，如果采用简单的浅拷贝，则两类中的两个指针将指向同一个地址，当对象快结束时，会调用两次析构函数，而导致指针悬挂现象。

所以，这时，必须采用深拷贝。

深拷贝与浅拷贝的区别就在于深拷贝会在堆内存中另外申请空间来储存数据，从而也就解决了指针悬挂的问题。

简而言之，当数据成员中有指针时，必须要用深拷贝。


