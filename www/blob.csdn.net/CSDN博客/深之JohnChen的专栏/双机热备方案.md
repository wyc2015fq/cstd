# 双机热备方案 - 深之JohnChen的专栏 - CSDN博客

2005年09月01日 14:26:00[byxdaz](https://me.csdn.net/byxdaz)阅读数：2717



4. 在完成后，计算机管理窗口外观应该如图6所示。现在，关闭计算机管理窗口。 
检验磁盘访问和功能 
1. 单击开始，单击程序，单击附件，并选择记事本。 
2. 在记事本中输入一些词，并使用文件/保存为命令，将它保存为名为test.txt的测试文件。关闭记事本。 
3. 双击我的文档图标。 
4. 右键单击test.txt，并单击拷贝。 
5. 关闭窗口。 
6. 双击我的电脑。 
7. 双击共享驱动器分区。 
8. 单击编辑并单击粘贴。 
9. 现在，在共享磁盘中有一个该文件的拷贝。 
10. 在共享磁盘中，双击test.txt。关闭该文件。 
11. 加亮显示该文件，并按删除键，将它从群集磁盘中删除。 
对所有的群集磁盘重复该过程，检验是否可以从首节点处访问它们。 
这时，对首节点断电，对第二个节点上电，重复上面的检验磁盘访问和功能的步骤。对其它节点作再次重复。当完成检验过程，确定所有节点都可对磁盘读写，则关闭除首节点外的所有节点，并继续该指南。 
4. 安装群集服务软件 
配置首节点 
注：在首节点上进行群集服务的安装过程中，所有的其它节点都应关闭，或在Windows 2000重启前关闭。应该对所有的共享存储设备加电。 
在安装的第一个阶段，必须提供所有的初始配置信息，以创建群集。这可以通过群集服务配置向导来完成。 
1. 单击开始，单击设置，并单击控制面板。 
2. 双击添加/删除程序。 
3. 双击添加/删除Windows组件。 
4. 选择群集服务。单击下一步。 
5. 群集服务文件位于Windows 2000 Advanced Server或Windows 2000 DataCenter ServerCD-ROM里。输入：x:/i386（这里的x是你的CD-ROM的驱动器字母标识）。如果Windows 2000是从网络上安装的，则输入适当的网络路径。（如果显示Windows 2000安装屏幕，关闭它。）单击确定。 
6. 单击下一步。 
7. 将显示下面图7所示窗口。单击我理解，接受安装条件-所用硬件在硬件兼容列表中都可找到，它们都支持群集服务。

8. 由于这是该群集中的首节点，所以必须创建群集本身。选择群集中的首节点，如下面图8所示，然后单击下一步。 

9. 输入群集名称（最多15个字符），并单击下一步。（在我们的例子里，该群集被命名为MyCluster。） 
键入群集服务帐号的用户名，它是在安装前创建的。（在我们的例子里，该用户名是cluster。）不输入口令，键入域名，并单击下一步。 
注：通常要为该用户帐号提供安全口令。 
在这里，群集服务配置向导将会使用户帐号和口令生效。 
10. 单击下一步。 
配置群集磁盘。 
注：缺省情况下，所有的SCSI磁盘都不是位于同一总线，系统磁盘将会出现在被管理磁盘列表中。因此，如果有某节点有多个SCSI总线，被列出的一些磁盘将不是被用于共享存储（如，作为内部SCSI驱动器）。这些磁盘应该从被管理磁盘列表中删除。 
11. 添加/删除被管理的磁盘列表对话框如图9所示，它指定了哪个共享SCSI总线可用于群集服务。根据需要添加/删除磁盘，然后单击下一步。 

请注意，由于逻辑驱动器F：和G：都位于一个硬盘上，群集服务将它们看作是一个资源。缺省情况下，第一个磁盘的第一个分区是作为定额资源。改变它，将先前所创建的小分区作为定额磁盘（在我们的例子里，是驱动器Q）。单击下一步。 
注：在生成群集场景时，必须为群集通信使用两个以上（含两个）的内部网，避免单点故障。群集服务可在群集状态信号和群集管理方面，使用内部网。跟使用公众网相比，这有更高的安全性。也可以使用公众网进行群集管理，或者可以同时使用内部和公众通信。在任何情况下，确保至少有两个网络用于群集通信，因为使用单个网络进行点对点的通信，可能会存在着单点失效的故障。我们建议：使用多个网络，在节点间配置至少一个内部网，其它连接通过公众网。如果使用两个以上（含两个）的内部网，确保它们分别使用不同的子网，这是因为群集服务对于每个子网，只能识别一个网络接口。 
本文档是基于这样的假设：只使用了两个网络。这将向你说明如何配置这些网络为一个混合的、内部的网络。 
群集服务配置向导里给出的网络顺序是可变的。在本例里，首先给出公众网。 
12. 在配置群集网络对话框中，单击下一步。 
13. 确保网络名称和IP地址跟公众网里的网络接口一致。 
14. 选中该网络可用于群集复选框。 
15. 选中所有的通信（混合网络）选项，如下面图10所示。 
16. 单击下一步。 

