# TCP/IP协议详解卷1学习笔记_多播和广播  - 深之JohnChen的专栏 - CSDN博客

2006年04月13日 10:08:00[byxdaz](https://me.csdn.net/byxdaz)阅读数：2183标签：[网络																[路由器																[unix																[tcp](https://so.csdn.net/so/search/s.do?q=tcp&t=blog)](https://so.csdn.net/so/search/s.do?q=unix&t=blog)](https://so.csdn.net/so/search/s.do?q=路由器&t=blog)](https://so.csdn.net/so/search/s.do?q=网络&t=blog)
个人分类：[网络编程](https://blog.csdn.net/byxdaz/article/category/166215)


* 多播和广播仅用于UDP（TCP是面向连接的）

　　* 多播：将数据帧传给同一网络上的多播组内的多个主机；
　　　广播：将数据帧传给同一网络上的所有主机。

　　* 网卡判断目的地址为网卡物理地址或广播、多播地址的帧，发送给驱动程序；

　　* 多播地址：最高字节的最低位置１的地址（以太网）：01:00:00:00:00:00
　　　广播地址：可以看成是多播地址的特例（以太网）: ff:ff:ff:ff:ff:ff

　　* 多播的出现减少了对应用不感兴趣主机的处理负荷。

==> 广播 

　　* 受限的广播地址：255.255.255.255,该地址用于主机配置过程中IP数据报的目的地址；

　　* 指向整个网络的广播：主机号全为1的IP地址。

　　* 指向子网的广播：主机号全为1且有特定子网的地址。

　　* 指向全部子网的广播：子网号和主机号全为1的地址。

==> 应用对广播的支持情况：

　　* ping : 设计上的缘故不能支持对网络的广播（返回未知主机），但支持子网广播（仅指UNIX的实现，它使用低级插口）
　　　如果发送主机的arp缓存是空的，则广播的相应方（包括它自己）在相应之前会向它发送arp请求。

    * tftp : 不支持广播（不允许向广播地址发送信息） 

　　* 广播是否被转发：由路由器进行设置（或在充当的路由器的计算机的操作系统内核中进行设置）

==> 多播

　　* D类地址为多播地址（１１０＋２８为多播组号），能够接收发往一个多播组地址的主机的集合称为主机组，一个主机组可以跨越多个网络。

　　* 多播地址与以太网地址的转换：IANA将其拥有的以太网地址块的一半分配给多播地址(00:00:5e:00:00:00 - 00:00:5e:7f:ff:ff)，为了指明多播地址将首字节定位01，所以IP多播相对应的以太网地址范围从01:00:5e:00:00:00 到 01:00:5e:7f:ff:ff。将IP多播组地址的低23位影射到以太网地址的低23位即可实现转换。

　　* 多播地址（D类IP）到以太网地址的转换不是一一对应的，所以还需要网卡或驱动程序进行过滤。

　　* 单个物理网络的多播比较简单：多播进程将目的IP 指定为多播地址，设备驱动程序将它转换为以太网地址然后发送出去；接收方主机中的相关的接收进程必须"加入一个多播组"（即通知IP层，它们想接收发往某个多播地址的数据报），该主机在收到一个多播数据报时，就会向属于那个多播组的进程发送一个复制。一个主机中可以有多个进程同属一个多播组。


