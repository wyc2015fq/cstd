# Linux 线程间通信方式+进程通信方式 总结 - 深之JohnChen的专栏 - CSDN博客

2019年03月05日 11:50:27[byxdaz](https://me.csdn.net/byxdaz)阅读数：100


**一、linux下进程间通信的几种主要手段简介：**
- 
**管道（Pipe）及有名管道（named pipe）**：管道可用于具有亲缘关系进程间的通信，有名管道克服了管道没有名字的限制，因此，除具有管道所具有的功能外，它还允许无亲缘关系进程间的通信；

- 
**信号（Signal）**：信号是比较复杂的通信方式，用于通知接受进程有某种事件发生，除了用于进程间通信外，进程还可以发送信号给进程本身；linux除了支持Unix早期信号语义函数sigal外，还支持语义符合Posix.1标准的信号函数sigaction（实际上，该函数是基于BSD的，BSD为了实现可靠信号机制，又能够统一对外接口，用sigaction函数重新实现了signal函数）；

- 
**报文（Message）队列（消息队列）**：消息队列是消息的链接表，包括Posix消息队列system V消息队列。有足够权限的进程可以向队列中添加消息，被赋予读权限的进程则可以读走队列中的消息。消息队列克服了信号承载信息量少，管道只能承载无格式字节流以及缓冲区大小受限等缺点。

- 
**共享内存**：使得多个进程可以访问同一块内存空间，是最快的可用IPC形式。是针对其他通信机制运行效率较低而设计的。往往与其它通信机制，如信号量结合使用，来达到进程间的同步及互斥。

- 
**信号量（semaphore）**：主要作为进程间以及同一进程不同线程之间的同步手段。

- 
**套接口（Socket）**：更为一般的进程间通信机制，可用于不同机器之间的进程间通信。起初是由Unix系统的BSD分支开发出来的，但现在一般可以移植到其它[类Unix系统](https://www.baidu.com/s?wd=%E7%B1%BBUnix%E7%B3%BB%E7%BB%9F&tn=24004469_oem_dg&rsv_dl=gh_pl_sl_csd)上：Linux和System V的变种都支持套接字。

一般来说，linux下的进程包含以下几个关键要素：
- 
有一段可执行程序；

- 
有专用的系统堆栈空间；

- 
内核中有它的控制块（进程控制块），描述进程所占用的资源，这样，进程才能接受内核的调度；

- 
具有独立的存储空间

另外附上一个很好的博文——进程间的五种通信方式介绍 - wh_sjc的博客 - CSDN博客 [https://blog.csdn.net/wh_sjc/article/details/70283843](https://blog.csdn.net/wh_sjc/article/details/70283843)

线程间的通信、同步方式与进程间通信方式 - 星仔的“韵” - CSDN博客
[https://blog.csdn.net/liu5320102/article/details/50764645](https://blog.csdn.net/liu5320102/article/details/50764645)

**线程间的通信目的主要是用于线程同步，所以线程没有像进程通信中的用于数据交换的通信机制。**

**二、Linux系统中的线程间通信方式主要以下几种:**

*  **锁机制**：包括互斥锁、条件变量、[读写锁](https://www.baidu.com/s?wd=%E8%AF%BB%E5%86%99%E9%94%81&tn=24004469_oem_dg&rsv_dl=gh_pl_sl_csd)和[自旋锁](https://www.baidu.com/s?wd=%E8%87%AA%E6%97%8B%E9%94%81&tn=24004469_oem_dg&rsv_dl=gh_pl_sl_csd)。

**互斥锁**确保同一时间只能有一个线程访问共享资源。当锁被占用时试图对其加锁的线程都进入阻塞状态(释放CPU资源使其由运行状态进入等待状态)。当锁释放时哪个等待线程能获得该锁取决于内核的调度。

**读写锁**当以写模式加锁而处于写状态时任何试图加锁的线程(不论是读或写)都阻塞，当以读状态模式加锁而处于读状态时“读”线程不阻塞，“写”线程阻塞。读模式共享，写模式互斥。

**条件变量**可以以原子的方式阻塞进程，直到某个特定条件为真为止。对条件的测试是在互斥锁的保护下进行的。条件变量始终与互斥锁一起使用。

**自旋锁**上锁受阻时线程不阻塞而是在循环中轮询查看能否获得该锁，没有线程的切换因而没有切换开销，不过对CPU的霸占会导致CPU资源的浪费。 所以自旋锁适用于并行结构(多个处理器)或者适用于锁被持有时间短而不希望在线程切换产生开销的情况。

*  **信号量机制(Semaphore)**：包括无名线程信号量和命名线程信号量

*  **信号机制(Signal)**：类似进程间的信号处理

linux基础——linux线程间通信及同步机制总结 - 千里之行，始于足下 - CSDN博客 [https://blog.csdn.net/a987073381/article/details/52029070](https://blog.csdn.net/a987073381/article/details/52029070)

