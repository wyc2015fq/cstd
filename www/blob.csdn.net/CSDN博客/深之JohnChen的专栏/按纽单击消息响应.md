# 按纽单击消息响应 - 深之JohnChen的专栏 - CSDN博客

2006年11月30日 11:44:00[byxdaz](https://me.csdn.net/byxdaz)阅读数：3066


按纽单击消息响应
有以下几种方式：
1、SendMessage
LRESULT SendMessage( UINT message, WPARAM wParam = 0, LPARAM lParam = 0 );
参数说明：
在32位系统中 lParam 中存在的是句柄 HWND hwnd=(HWND)lParam; 
wParam 中低位是命令ID 高位是代码， 
UINT ID=HIWORD（wParam); 
int code=LOWORD(wParam); // 消息代码，比如BN_CLICK

MSDN 中按纽单击消息的说明如下：
BN_CLICKED
The BN_CLICKED notification message is sent when the user clicks a button. The parent window of the button receives this 

notification message through the WM_COMMAND message. 

BN_CLICKED 
idButton = (int) LOWORD(wParam);    // identifier of button 
hwndButton = (HWND) lParam;         // handle to button 
说明：可以根据消息得到wParam，lParam得到参数，也就是得到ID，消息代码等。也可以通过设置参数wParam，lParam来响应消息，wParam参数是低位是命令ID 高位是代码的MAKEWPARAM/MAKELPARAM/MAKELONG生成WPARAM的结构，lParam参数是句柄。

实例：SendMessage(WM_COMMAND,MAKEWPARAM(IDOK,BN_CLICKED),(LPARAM)(GetDlgItem(IDOK)->GetSafeHwnd()));这里的IDOK表示控件的ID
2、SendDlgItemMessage  
LRESULT SendDlgItemMessage( int nID, UINT message, WPARAM wParam = 0, LPARAM lParam = 0 );
message, 表示消息，按纽单击消息是BM_CLICK。
实例：SendDlgItemMessage(IDOK,BM_CLICK,0,0);这里的IDOK表示控件的ID

常见的Window 宏定义：
GET_X_LPARAM  
GET_Y_LPARAM  
HIBYTE  
HIWORD  
LOBYTE  
LOWORD  
MAKELONG  
MAKELPARAM  
MAKELRESULT  
MAKEWORD  
MAKEWPARAM 
其中MAKEWPARAM ，MAKELPARAM ，MAKELRESULT 都是通过MAKELONG来实现的，生成相应的结构。

