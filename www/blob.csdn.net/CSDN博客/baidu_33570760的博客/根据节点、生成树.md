# 根据节点、生成树 - baidu_33570760的博客 - CSDN博客
2016年09月30日 11:42:38[carman_风](https://me.csdn.net/baidu_33570760)阅读数：1227
转自https://q.cnblogs.com/q/16598/  
在程序里写，分以下3步：
1、查询所有没有父节点的类别，并生成treenode，
2、遍历已生成的父节点，根据父节点查询所有属于这个父节点的子节点并生成treenode，此处需要递归，在生成完treenode后判断是否还含有子节点，如有则递归，否则返回
3、最终绑定到treeview中
//绑定所有父节点
publicvoid BindAllParent()
{
//此处需要获取所有父节点，我这边仅仅是模拟数据，实际上应该从数据库中获取
List<string> list
=new List<string>();
list.Add("P1");
list.Add("P2");
//遍历父节点，如父节点下有子节点则调用绑定方法
foreach (var item
in list)
{
TreeNode node =new TreeNode();
node.Text = item;
if (HasChild(item))
{
BindChildByParent(node, item);
}
tv.Nodes.Add(node);
}
}
//判断是否有子节点
publicbool HasChild(string parent)
{
returntrue;
}
//根据父节点查询子节点
public List<string>
 SelectChildByParent(string parent)
{
returnnew List<string>();
}
//递归绑定子节点
publicvoid BindChildByParent(TreeNode parentNode,string parent)
{
List<string> list
=new List<string>();
list = SelectChildByParent(parent);
foreach (var item
in list)
{
TreeNode node =new TreeNode();
node.Text = item;
if (HasChild(item))
{
BindChildByParent(node, item);
}
parentNode.ChildNodes.Add(node);
}
}
