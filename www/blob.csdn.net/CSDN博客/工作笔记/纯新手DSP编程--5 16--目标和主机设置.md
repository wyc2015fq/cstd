# 纯新手DSP编程--5.16--目标和主机设置 - 工作笔记 - CSDN博客





2012年05月17日 09:09:20[Eason.wxd](https://me.csdn.net/App_12062011)阅读数：5817标签：[编程																[properties																[system																[debugging																[ide																[keyboard](https://so.csdn.net/so/search/s.do?q=keyboard&t=blog)
个人分类：[移动开发](https://blog.csdn.net/App_12062011/article/category/1146520)





这一部分介绍了如何定义和设置单处理器或多处理器的目标计算机的特性,如何根据客户的需求定制集成开发环境备几个通用选项。 

## 1 设置目标主机 

### 1.1 CCS 设置工具 (CCS Setup Utility) 

这一部分介绍了如何定义和设置单处理器或多处理器的目标计算机的特性,如何根据客户的需求定

制集成开发环境的几个通用选项。 

 1.1.1 加入一个存在的配置



设置工具允许你配置软件，使得 CCS 软件能够在不同的硬件或软件仿真环境下工作。 打开 CCS IDE 集成环境前，你必须选择一个合适的环境配置。 

用户可以用软件提供的标准配置文件产生一个配置，也可以用自己的配置文件产生一个客户化的配置（参考在线帮助或者例程）。这个例子使用标准配置文件。 



使用标准配置文件产生一个系统配置： 

1. 双击桌面上的 Setup Code Composer Sutdio 图标，出现系统配置配置对话框。 

2. 从 available factory board 中选择与系统匹配的标准设置。确定可用配置中是否存在与系统匹

配的配置，如果不存在，你可以创建一个自定义的配置（参考在线帮助或者例程）。 

 3. 单击选择的配置，然后单击 ADD 按钮将选择的配置添加到 system configuration 中。这样选

择的配置就出现在系统配置方框中 My System 图标下面。 



如果你的配置包含多于一个的目标板，重复以上步骤直到你为每一个目标板选择了一个配置。 

4. 单击Save & Quit 按钮保存配置。 

5. 单击Yes 按钮，启动配置好的 CCS 集成开发环境。现在可以打开一个工程。关于打开一个工

程，请参考这本书的第四章，或者是在线帮助和例程。 



1.1.2 创建一个新的系统配置 



要建立一个新的系统配置你可以从 Setup CCStudio 对话框开始。 

你可以选择文件菜单中的 Remove All ，从而打开一个空白配置的工作环境。（你也可以打开一

个与目标配置相近的标准配置的环境，在这种情况下，加载了启动配置后从以下第三个步骤开始改动

配置） 

1. 在系统配置框（System Configuration）中选择 My System 图标。 

2. 在 Available Factory Boards 方框中，选择一个目标板或软件仿真器，代表你的系统，用鼠标

拖动选择的目标板到 My System 下面，或者是按 Add 按钮。你可以通过Family，Platform 和 

Endianness 过滤属性，选择正确的目标板。你也可以拖动一个 

以上的目标板到 My System 下面。 

3. 如果 Available factory board 中不存在你想要使用的目标板，你必须安装一个合适的设备驱动

程序。（例如，第三方厂商提供的驱动程序或者你想使用 CCS 以前版本的驱动程序）进入安装/卸载设

备驱动程序（选择 Help－>Contents—>Code ComposerStudio Setup—>How To 

Start—>Installing/Uninstalling Device Drivers）继续完成你的 

系统配置。 

4. 单击你刚刚加入的处理器类型，按照下列步骤打开 Connection Properties 对话框： 

― 右 击 system configuration 方 框 中 的 处 理 器 类 型 ， 从 context menu中 选 

择properties。如果你选择了现在的处理器，选择的属性会出现在处理器属性对话框中。 

― 选择系统 system configuration 方框中处理器类型，然后选择最右边的 Modify 

Properies 按钮。 

5. 编辑 connection properties 对话框中的信息，包括 connection name 和 data file，和the 

connection properties。 

6. 开始执行的 Gel 文件，处理器属性对话框中包含 Master/Slave 值、初始执行模式、BYPASS 

名和比特数等信息。右击目标处理器，从列表中选择属性，这样就打开了处理器属性对话框。其

它一些属性可能会有用，这取决于你的处理器。当配置软件仿真器时，许多属性已经有对应的默认值。 

要获得更多的关于配置连接和处理器属性对话框，请参考在线帮助（Help－>Contents—>Code 

Composer Studio Setup—>custom setup）。 



1.1.3 创建多处理器配置 



最常见的配置包含一个软件仿真器或者是有单个 CPU 的单目标板。但是，你可以按照下列方法创

建更加复杂的配置： 

. 连接多个硬件仿真器到你的电脑，每个硬件仿真器都有自己的目标板。连接多个目标板到一

个单独的硬件仿真器，用特殊电路连接板上的扫描路径。在单独的板上建立多个CPU，CPU可以是同

一类型也可以是不同类型（例如,DSPs 和微处理器）。尽管一个CCS配置环境可以对应一系列的目标

板，事实上，每个目标板要么是单个CPU仿真器，要么是单个硬件仿真扫描链，它们能连接到一个或

者多个带多个处理器的目标板上。与目标板联系的设备驱动程序必须能够驱动扫描链上的所有CPU。 

更多的信息可以参考在线帮助（Help－>Contents—>Code Composer Studio Setup—>how to 

start—>configuring ccstudio for heterogeneous debugging） 



1.1.4 启动 GEL 文件



通用扩展语言 GEL 是一种解释语言，就像 C 语言一样，GEL 函数能够配置 CCS 集成环境。也

可以初始化目标 CPU。很多 GEL 函数应用广泛，用户也可以自定义 GEL 函数。设置 Processor 

properties 对话框中的 GEL 属性，可以把 GEL 文件与处理器相关联。选中处理器，打开 processor 

properties 对话框，在下拉菜单中选择属性。  

当启动 CCS 的时候，CCS 会扫描启动 GEL 文件，自动加载 GEL 文件中的 GEL 函数。如果 

GEL 文件中有 Startup 函数，这个函数就会被执行。例如，GEL Mapping 函数能够创建内存与调试器

地址映射。函 数 Startup （ ） {/*Everything in this function will be executed on startup*/

gel_mapon();gel_mapadd(0,0,0xf000,1,1);gel_mapadd(0,1,0xf000,1,1);}GEL 文件是异步执行的，换句话

说，GEL 中前一个指令执行完毕才执行后一条指令。 

更多信息请查看 CCS 在线帮助。选择 Help－>Contents—>Creating Code and Building Your Project－>Automating Task with General Extension Language）。



1.1.5 设备驱动器 



设备驱动器是一个专门用来和主机通信的软件模块。每个驱动文件定义了一个特定的目标配置：一

个目标板和硬件仿真器或者软件仿真器。设备驱动程序由德州仪器 TI 或者由第三方提供。Available 

factory boards pane 中列出的每个目标板或者是软件仿真都有对应的设备驱动程序。CCS 集成环境不支

持自己创造设备驱动程序，但是 TI 公司或者其第三方会将设备驱动程序分发在预安装程序中。 



### 1.2 并行调试管理器（PDM+） 

在多处理器配置中，CCS 便启动一个专用的控制器即并行调试管理器（PDM+）。 



并行调试管理器允许分别为每一个目标设备打开一个 CCS 集成环境。PDM 控制能够实现设备的

并行控制。 

PDM 与以前的版本几点不同： 

右击界面右边面板中的处理器，用户可以连接正在工作中的目标板或断开连接。 

界面能够展开处理器的浏览图The interface allows an expanded view of processors, 

用户可以通过group，cpu，board分类过滤属性。 

处理器图标显示红色（在左边的面板中）表示处理器未连接到系统或着它已经更新了状态信息。 

. 你可以将处理器放入一个松散—联系（loosely-coupled）组中，（例如，处理器不全在同一个物

理扫描链中）。选择工具栏中的第二个下拉列表组视图 （Group view）和PDM左边面板中的system显

示哪些组是同步的。 



注意： 

当处理器工作在同一个物理扫描链（physical scan chain）上时全局断点才起作用。 



如果您需要更多关于并行调试管理器的信息，请查看在线帮助Help－>Contents—>Debugging—>Parallel Debug Manager. 



### 1.3 连接/断开连接（Connect/Disconnect） 

CCS 集成环境使用功能 Connection/Disconnect,使连接目标，断开与主机的连接变得容易。



Connection/Disconnect 允许你断开与硬件目标的连接，甚至重新连接硬件目标时可以装载前一次的 

Debug 状态。 

在默认状态下，当控制窗口（Control window）打开时，CCS 集成环境不会试图连接目标。 

单击菜单中的 Debug－>connect，就可以连接目标。在 Options－>customize－>debug properties 中

可以更改连接的默认属性。 

当目标板的状态发生改变，状态条会显示一个帮助图标。当目标板断开连接时，状态条会显示断开

连接和目标板最后的执行状态（例如： halted,running,free running or condition）. 

当目标板在连接状态，状态条会显示目标板 stepping（into，over，or out）和引起暂停（软件或硬

件）的断点的类型。 

当连接到目标板时（除了第一次连接），Debug 菜单中 restore debug state 的选项是可用的。选择这

个选项可以使每个无效断点断开连接。你也可以按 F9 或者在右击下拉菜单中选择 Toggle Breakpoint 

使它们复位。CTool jobs 和 Emu analysis 中的断点不被激活。 

如果并行调试管理是开启状态，你可以右击 Name 列下的相应的目标设备，从而连接到目标设备。 

如 果 您 需 要 更 多 关 于Connection/Disconnect 的 信 息 ， 请 查 看CCS在 线 帮 助

Debugging->Connection/Disconnect。 



### 2 主机 IDE 用户化定制（Host IDE Customization） 



当 CCS 配置好并启动后，你可以根据客户需求配置几个通用的 IDE选项。 

2.1 默认的颜色与字体（Default Colors and Faults） 

选择菜单 Option－>Customize - >Font->Editor Font 以及 Option->Customize->Editor Color 。允

许客户修改编辑器（CodeWright text editor）的外观。 

选择菜单 Option－>Customize - >Font->Tools Font 以及 Option->Customize->Tools Color 。允

许客户修改 IED 工具窗口的外观。 

2.2 默认键盘快捷键（Default Keyboard Shortcuts） 

默认的 ide 中有预先设定的键盘快捷键超过 80 个，这些快捷键可以被修改。也可以创建新的键盘

快捷键，用来从文件窗口中调用编辑或者调试命令。分配键盘捷径过程如下： 

1. 选择 Option—>Customize。 

2. 在 Customize 对话框中，选择 Keyboard 标签查看下列选项： 

－ Filename 文件名 在默认状态，显示标准的键盘快捷键文件。要加载先前的键盘配置文件（*.key）,

键入路径和文件名，或者浏览文件。 

－Commands 命令 选择你想分配给键盘快捷键的命令。 

－Assigned keys 已分配的快捷键 显示已被分配了命令的键盘快捷键。 

－Add 添加 点击 Add 按钮，给一个新的键序列赋值，调用选中的命令。在 Assign Shorcut 

对话框中，键入新的键序列，然后单击 OK. 

－Remove 清除 为了清除某一个命令的特殊的键序列，选择 Assigned keys list 中的键序列，然后单

击 Remove 按钮。 

－Default keys 默认快捷键 马上转到默认的键盘快捷键。 

－Save as 另存为 单击 Save as 按钮保存你的键盘配置方案。在 Save as 对话框中，打开本

地浏览，打开你想保存的位置，为配置文件命名，单击 Save。 

3. 单击 Ok，退出对话框。 

2.3 其它 IDE 用户化定制（Other IDE Customizations） 

通过选择 Option—>Customize—>File Access。可以配置 File 菜单中最新打开过的 File或 Project 的

个数 

选择 Option—>Customize—>File Acess，可以记录工程的当前路径。当你打开其它工 

程时，你能指定 IDE 打开当前工程的路径或是上一次打开的工程的路径。 

选择 Option—>Customize—>Control Windows Display。可以设定标题栏中的信息的类型（处理器类型，

工程名字，路径等等） 

选择 Option—>Customize—>Control Windows Display。可以设定关闭选项。你可以指定当你关闭一个



工程时，IDE 自动关闭所有窗口。或者当你关闭一个控制窗口时，关闭所有工程。用 Codewright 定

制代码窗口（详见章节 4.2.2）](https://so.csdn.net/so/search/s.do?q=ide&t=blog)](https://so.csdn.net/so/search/s.do?q=debugging&t=blog)](https://so.csdn.net/so/search/s.do?q=system&t=blog)](https://so.csdn.net/so/search/s.do?q=properties&t=blog)](https://so.csdn.net/so/search/s.do?q=编程&t=blog)




