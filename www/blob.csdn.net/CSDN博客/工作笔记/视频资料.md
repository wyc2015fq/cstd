# 视频资料 - 工作笔记 - CSDN博客





2014年02月18日 09:18:32[Eason.wxd](https://me.csdn.net/App_12062011)阅读数：6877
个人分类：[图像处理](https://blog.csdn.net/App_12062011/article/category/1868431)

所属专栏：[机器视觉](https://blog.csdn.net/column/details/33959.html)









﻿﻿

电视的实现，不仅扩大和延伸了人们的视野，而且以其形象、生动、及时的优点提高了信息传播的质量和效率。在当今社会，信息与电视是不可分割的。多媒体的概念虽然与电视的概念不同，但在其综合文、图、声、像等作为信息传播媒体这一点上是完全相同的。不同的是电视中没有交互性，传播的信号是模拟信号而不是数字信号。利用多媒体计算机和网络的数字化、大容量、交互性以及快速处理能力，对视频信号进行采集、处理、传播和存储是多媒体技术正在不断追求的目标。可以说视频是多媒体的一种重要媒体。与视频有关的名词如下：


视像（visual image）：电视信号或录像带（videotape）上记录的连续的图像。

伴音（audio）：伴随视像的声音信号。

数字视频（digital video）：包括运动图像（visual）和伴音（audio）两部分。


　　一般说来，视频包括可视的图像和可闻的声音，然而由于伴音是处于辅助的地位，并且在技术上视像和伴音是同步合成在一起的，因此具体讨论时有时把视频（video）与视像（visual）等同，而声音或伴音则总是用audio表示。所以，在用到“视频”这个概念时，它是否包含伴音要视具体情况而定。


　　本章首先介绍模拟视频信号的基本概念，然后介绍视频信号的数字化标准，数字视频的几种主要格式MPEG、AVI和MOV，以及格式间的转换。


模拟电视制式及信号


　　电视系统是采用电子学的方法来传送和显示活动景物或静止图像的设备。在电视系统中，可以说视频信号是连接系统中各部分的纽带，其标准和要求也就是系统各部分的技术目标和要求。电视的发展前景是数字彩色电视，数字视频系统的基础是模拟视频系统，而彩色电视又是在黑白电视的基础上发展起来的。



黑白电视信号


一、电视原理：电视同样也是采用动画的视觉原理构造而成的，其基本原理为顺序扫描和传输图像信号，然后在接收端同步再现。电视图像扫描是由隔行扫描组成场，由场组成帧，一帧为一幅图像。定义每秒钟扫多少帧为帧频；每秒钟扫描多少场为场频；每秒钟扫描多少行为行频。


二、场频和帧频：我国的电视画面传输率是每秒25帧、50场。25Hz的帧频能以最少的信号容量有效地满足人眼的视觉残留特性；50Hz的场频隔行扫描，把一帧分成奇、偶两场，奇偶的交错扫描相当于有遮挡板的作用。这样，在其它行还在高速扫描时，人眼不易觉察出闪烁，同时也解决了信号带宽的问题。由于我国的电网频率是50Hz，采用50Hz的场刷新率可以有效地去掉电网信号的干扰。


三、全电视信号：电视信号中除了图像信号以外，还包括同步信号。所谓同步是指摄像端（发送端）的行、场扫描步调要与显像端（接收端）扫描步调完全一致，即要求同频率、同相位才能得到一幅稳定的画面。一帧电视信号称为一个全电视信号，它又由奇数场行信号和偶数场行信号顺序构成。


四、分解率：电视的清晰度一般用垂直方向和水平方向的分解率来表示。垂直分解率与扫描行数密切相关。扫描行数越多越清晰、分解率越高。我国电视图像的垂直分解率为575行或称575线。这是一个理论值，实际分解率与扫描的有效区间有关，根据统计，电视接收机实际垂直分解率约400线。

　　水平方向的分解率或像素数决定电视信号的上限频率。最复杂的电视图像莫过于黑白方块交错排列的图案，而方块的大小由分解率决定。根据这种图案，可以计算出电视信号逐行扫描时的信号带宽约为10MHz；而隔行扫描时的信号带宽约为5MHz。我国目前规定的电视图像信号的标称频带宽度为6MHz，根据带宽，可以反推出理论上电视信号的水平分解率约630线。


五、伴音：音频信号的频率范围一般为20Hz－20KHz，其频带比图像信号窄得多。电视的伴音要求与图像同步，而且不能混迭。因此一般把伴音信号放置在图像频带以外，放置的频率点称为声音载频，我国电视信号的声音载频为6.5MHz，伴音质量为单声道调频广播



彩色电视信号


一、彩色与黑白电视信号的兼容：黑白电视只传送一个反映景物亮度的电信号就行了，而彩色电视除了传送亮度信号以外还要传送色度信号。所谓黑白电视与彩色电视的兼容是指黑白电视机接收彩色电视信号时能够产生相应的黑白图像；而彩色电视机在接收黑白电视信号时也能产生相应的黑白电视图像。也即电视台发射一种彩色电视信号，黑白和彩色电视都能正常工作。


二、兼容的实现： 


　　1. **在彩色电视信号中首先必须使亮度和色度信号分开传送，以便使黑白电视和彩色电视能够分别重现黑白和彩色图像。**用YUV空间表示法就能解决这个问题。采用YUV空间还可以充分利用人眼对亮度细节敏感而对彩色细节迟钝的视觉特性，大大压缩色度信号的带宽。我国规定的亮度信号带宽为6MHz，而色度信号U、V的带宽分别仅为1.3MHz。色度信号的高频分量几乎都被压缩掉了，如果仅靠两个1.3MHz的色信号来反映图像细节将会使图像模糊，界限不清楚。实际上由于亮度信号具有6MHz的带宽，其细节是很清晰的，用它完全可以补偿色度信号缺少高频分量的缺陷。这种用亮度信号来补偿色度信号高频不足的方法称为高频混合法，
 它类似于大面积着色原理，图像细节完全依靠黑白细节来满足。


　　2. 尽量压缩彩色电视信号的频带宽度，使其与黑白电视信号的带宽相同。为了解决信号频带的兼容问题，采用频谱交错的方法，把两个1.3MHz的色度信号频谱间插在亮度信号频谱的高端，这是因为亮度信号的频谱高端信号较弱，而且间隔较大。这样既不增加6MHz的带宽，又不会引起亮度和色度信号的混乱，而且也不会与伴音信号混叠。


　　3. 除了新设置的色同步信号以外，应采用与黑白电视信号完全一致的行、场扫描以及消隐、同步等控制信号。色度的同步信号是叠加在行消隐脉冲之上，这样可以保证彩色电视与黑白电视的扫描和同步完全一致。黑白电视在接收到彩色全电视信号以后，可从中获取黑白电视信号，实现彩色电视与黑白电视的兼容。



数字视频的基本概念（二） 


--------------------------------------------------------------------------------


彩色电视的制式 

电视信号的标准也称为电视的制式。目前各国的电视制式不尽相同，制式的区分主要在于其帧频（场频）的不同、分解率的不同、信号带宽以及载频的不同、色彩空间的转换关系不同等等。世界上现行的彩色电视制式有三种：NTSC（National Television System Committee）制（简称N制）、PAL（Phase Alternation Line）制和SECAM制。


彩色电视国际制式


TV制式

NTSC－M

PAL－D

SECAM


帧频（Hz）

30

25

25


行 / 帧

525

625

625


亮度带宽（MHz）

4.2

6.0

6.0


彩色幅载波（MHz）

3.58

4.43

4.25


色度带宽（MHz）

1.3(I)，0.6(Q)

1.3(U)，1.3(V)

>1.0(U)，>1.0(V)


声音载波（MHz）

4.5

6.5

6.5



一、NTSC制式：它是1952年由美国国家电视标准委员会指定的彩色电视广播标准，它采用正交平衡调幅的技术方式，故也称为正交平衡调幅制。美国、加拿大等大部分西半球国家以及中国的台湾、日本、韩国、菲律宾等均采用这种制式。


二、PAL制式：它是西德在1962年指定的彩色电视广播标准，它采用逐行倒相正交平衡调幅的技术方法，克服了NTSC制相位敏感造成色彩失真的缺点。西德、英国等一些西欧国家，新加坡、中国大陆及香港，澳大利亚、新西兰等国家采用这种制式。PAL制式中根据不同的参数细节，又可以进一步划分为G、I、D等制式，其中PAL－D制是我国大陆采用的制式。


三、SECAM制式：SECAM是法文的缩写，意为顺序传送彩色信号与存储恢复彩色信号制，是由法国在1956年提出，1966年制定的一种新的彩色电视制式。它也克服了NTSC制式相位失真的缺点，但采用时间分隔法来传送两个色差信号。使用SECAM制的国家主要集中在法国、东欧和中东一带。

为了接收和处理不同制式的电视信号，也就发展了不同制式的电视接收机和录像机。



电视接收机的输入输出信号


　　电视频道传送的电视信号主要包括五种成分：亮度信号、色度信号、色同步信号、复合同步信号和伴音信号，这些信号或者可通过频率域，或者可通过时间域相互分离出来。电视接收机是能够将所接收到的高频电视信号还原成视频信号和低频伴音信号，并能够在其荧光屏上重现图像，在其扬声器上重现伴音的电子设备。根据不同的信号源，电视接收机的输入、输出信号有三种类型：


一、高频或射频信号

　　为了能够在空中传播电视信号，必须把视频全电视信号调制成高频或射频（RF－Radio Frequency）信号，每个信号占用一个频道，这样才能在空中同时传播多路电视节目而不会导致混乱。我国采样PAL制，每个频道占用8MHz的带宽；美国采用NTSC制，电视从2频道至69频道，每个频道的带宽为4MHz，电视信号频带共占用54 MHz至806 MHz的信道。有线电视CATV（Cable Television）的工作方式类似，只是它通过电缆而不是通过空中传播电视信号。

　　电视机在接收受到某一频道的高频信号后，要把全电视信号从高频信号中解调出来，才能在屏幕上重现视频图像。


二、复合视频信号
**复合视频（Composite Video）信号定义为包括亮度和色度的单路模拟信号，也即从全电视信号中分离出伴音后的视频信号，这时的色度信号还是间插在亮度信号的高端**。由于复合视频的亮度和色度是间插在一起的，在信号重放时很难恢复完全一致的色彩。这种信号一般可通过电缆输入或输出到家用录像机上，其信号带宽较窄，一般只有水平240线左右的分解率。早期的电视机都只有天线输入端口，较新型的电视机才备有复合视频输入和输出端（Video
 In，Video Out），也即可以直接输入和输出解调后的视频信号。视频信号已不包含高频分量，处理起来相对简单一些，因此计算机的视频卡一般都采用视频输入端获取视频信号。由于视频信号中已不包含伴音，故一般与视频输入、输出端口配套的还有音频输入、输出端口（Audio－In、Audio－Out），以便同步传输伴音。因此，有时复合式视频接口也称为AV（Audio Video）口。


三、S－Video信号

　　目前有的电视机还备有**两分量视频输入端口（S－Video In）**，S－Video 是一种两分量的视频信号，它把亮度和色度信号分成两路独立的模拟信号，用两路导线分别传输并可以分别记录在模拟磁带的两路磁迹上。这种信号不仅其亮度和色度都具有较宽的带宽，而且由于亮度和色度分开传输，可以减少其互相干扰，水平分解率可达420线。与复合视频信号相比，S－Video可以更好地重现色彩。

　　两分量视频可来自于高档摄像机，它采用两分量视频的方式记录和传输视频信号。其它如高档录像机、激光视盘LD机的输出也可按分量视频的格式，其清晰度比从家用录像机获得的电视节目的清晰度要高得多。

　　不同制式的电视机只能接收和处理其对应制式的电视信号。当然，目前也发展了多制式或全制式的电视机，这为处理和转换不同制式的电视信号提供了极大的方便。全制式电视机可在各国各地区使用，而多制式电视机一般为指定范围的国家生产。如Panasonic TC-2188M多制式电视机，适用于PAL－D，I制和NTSC（3.58）制，也即它可以在中国大陆（PAL－D）、香港（PAL－I）和日本（NTSC 3.58）使用。



录像机分类及输入输出信号


　　录像机是利用磁记录原理把视频信号及其伴音信号记录在磁带上的设备，故也称为磁带录像机（VTR－－Video Tape Recorder 或VCR－－Video Cassette Recorder）。与电视机类似，不同的录像机对应于不同制式的电视信号。录像机除了包含电子部件来进行电视信号的变换和处理以外，还主要包括精密机械部分来控制磁带的运动和读写等操作。机械部分的精密程度不同、磁带尺寸及磁记录的方式不同，导致了记录信号的精度不同以及磁带的不通用性。目前世界范围内使用的录像机种类繁多，指标各异，分类方法也很多。按用途分主要有以下三种：


一、家用录像机

　　1975年SONY公司开发了家用β－max型录像机，1976年日本的JVC、National等公司推出了家用VHS型录像机。β和VHS是两种不同的磁记录格式，完全不兼容，因此即使磁带的尺寸相同也不能互换使用，目前国内使用的基本上是VHS型。VHS型录像机是采用复合视频的格式来记录视频信号。根据不同的制式，同一种型号的家用录像机还有单制式、多制式和全制式之分。

　　家用录像机可处理和记录的视频带宽不够，因此采用将全电视信号中的色度信号降频到1MHz以下进行记录，重放时再将其升至色度副载波的方式。这样一降一升，信号质量自然下降。视频信号水平分解率只能达到230－240线，一般具有射频、复合视频以及音频的输入输出端口，可以与电视机的相应端口连接，进行节目的录制和重放。家用录像带是目前数字视频的主要信号源。


二、专业用录像机

　　这一般指工业、文教、卫生等方面使用的录像机，其视频信号的水平分解率可达250以上。除了具有信号的记录和重放功能以外，它还具有编辑等功能，价格是家用录像机的十倍左右。这是目前制作电视或录像节目时大量使用的机种。如JVC公司推出的Super-VHS录像机，其磁带的格式为S－VHS，水平分解率高达400线，它采用两分量视频（S－Video）的格式进行记录和输入输出。 实际上，S－Video接口的产生最早来自于S－VHS型的录像机。由于S－VHS采用亮、色分离的方式记录视频信号，它具有较高的分解率，可以直接送到电视机的扫描电路前，较好地保证视频的质量。


三、广播级录像机

　　这是最高质量的录像机，其技术指标是以视频信号的频带宽度来衡量的，一般视频带宽可高达5MHz，相当于400多线的水平分解率（每1MHz带宽相当于水平分解率约80线），基本上可以无失真记录和重放视频信号。广播级录像机采用分量视频信号（component video）的记录方式，分量视频指的是亮度Y，色差U和V分别是三路模拟信号，他们通过三路导线传送并记录在模拟磁带的三路磁迹上。分量视频由于其具有很宽的频带，可以提供最高质量及最精确的色彩重放。


　　由于磁带上记录的是模拟视频信号，因此信噪比也是衡量信号质量的一个重要指标之一。一般地说，信噪比高于45dB就能达到较满意的图像质量。如果从天线接收到的电视信号较强，则直接从电视上观看的效果要比先录制到家用录像带上再重放的效果好。而且重放的次数越多或拷贝次数越多，信噪比越低。磁带信号拷贝一次，其信噪比降低一倍（减少3dB）。



数字视频的基本概念（三） 


--------------------------------------------------------------------------------


数字视频的采样格式及数字化标准


　　模拟视频的数字化包括不少技术问题，如电视信号具有不同的制式而且采用复合的YUV信号方式，而计算机工作在RGB空间；电视机是隔行扫描，计算机显示器大多逐行扫描；电视图像的分辨率与显示器的分辨率也不尽相同等等。因此，模拟视频的数字化主要包括色彩空间的转换、光栅扫描的转换以及分辨率的统一。

　　模拟视频一般采用分量数字化方式，先把复合视频信号中的亮度和色度分离，得到YUV或YIQ分量，然后用三个模／数转换器对三个分量分别进行数字化，最后再转换成RGB空间。


一、数字视频的采样格式

根据电视信号的特征，亮度信号的带宽是色度信号带宽的两倍。因此其数字化时可采用幅色采样法，即对信号的色差分量的采样率低于对亮度分量的采样率。用Y：U：V来表示YUV三分量的采样比例，则数字视频的采样格式分别有4：1：1、4：2：2和4：4：4三种。电视图像既是空间的函数，也是时间的函数，而且又是隔行扫描式，所以其采样方式比扫描仪扫描图像的方式要复杂得多。分量采样时采到的是隔行样本点，要把隔行样本组合成逐行样本，然后进行样本点的量化，YUV到RGB色彩空间的转换等等，最后才能得到数字视频数据。




二、数字视频标准

为了在PAL、NTSC和 SECAM电视制式之间确定共同的数字化参数，国家无线电咨询委员会（CCIR）制定了广播级质量的数字电视编码标准，称为CCIR 601标准。在该标准中，对采样频率、采样结构、色彩空间转换等都作了严格的规定，主要有：

1、采样频率为f s＝13.5MHz

2、分辨率与帧率


电视制式 分辨率 帧 率

NTSC 640×480 30

PAL、SECAM 768×576 25


3、根据f s的采样率，在不同的采样格式下计算出数字视频的数据量：

采样格式（Y：U：V） 数据量（Mbyte / s） 

4：2：2 27

4：4：4 40


这种未压缩的数字视频数据量对于目前的计算机和网络来说无论是存储或传输都是不现实的，因此在多媒体中应用数字视频的关键问题是数字视频的压缩技术。


三、视频序列的SMPTE表示单位

通常用时间码来识别和记录视频数据流中的每一帧，从一段视频的起始帧到终止帧，其间的每一帧都有一个唯一的时间码地址。根据动画和电视工程师协会SMPTE（Society of Motion Picture and Television Engineers）使用的时间码标准，其格式是：小时：分钟：秒：帧，或 hours：minutes：seconds：frames。 一段长度为00：02：31：15的视频片段的播放时间为2分钟31秒15帧，如果以每秒30帧的速率播放，则播放时间为2分钟31.5秒。

根据电影、录像和电视工业中使用的帧率的不同，各有其对应的SMPTE标准。由于技术的原因NTSC制式实际使用的帧率是29.97fps而不是30fps，因此在时间码与实际播放时间之间有0.1%的误差。为了解决这个误差问题，设计出丢帧（drop-frame）格式，也即在播放时每分钟要丢2帧（实际上是有两帧不显示而不是从文件中删除），这样可以保证时间码与实际播放时间的一致。与丢帧格式对应的是不丢帧（nondrop-frame）格式，它忽略时间码与实际播放帧之间的误差。




视频压缩编码的基本概念


　　视频压缩的目标是在尽可能保证视觉效果的前提下减少视频数据率。视频压缩比一般指压缩后的数据量与压缩前的数据量之比。由于视频是连续的静态图像，因此其压缩编码算法与静态图像的压缩编码算法有某些共同之处，但是运动的视频还有其自身的特性，因此在压缩时还应考虑其运动特性才能达到高压缩的目标。在视频压缩中常需用到以下的一些基本概念：


一、有损和无损压缩：在视频压缩中有损（Lossy ）和无损（Lossless）的概念与静态图像中基本类似。无损压缩也即压缩前和解压缩后的数据完全一致。多数的无损压缩都采用RLE行程编码算法。有损压缩意味着解压缩后的数据与压缩前的数据不一致。在压缩的过程中要丢失一些人眼和人耳所不敏感的图像或音频信息，而且丢失的信息不可恢复。几乎所有高压缩的算法都采用有损压缩，这样才能达到低数据率的目标。丢失的数据率与压缩比有关，压缩比越小，丢失的数据越多，解压缩后的效果一般越差。此外，某些有损压缩算法采用多次重复压缩的方式，这样还会引起额外的数据丢失。


二、帧内和帧间压缩：帧内（Intraframe）压缩也称为空间压缩（Spatial compression）。当压缩一帧图像时，仅考虑本帧的数据而不考虑相邻帧之间的冗余信息，这实际上与静态图像压缩类似。帧内一般采用有损压缩算法，由于帧内压缩时各个帧之间没有相互关系，所以压缩后的视频数据仍可以以帧为单位进行编辑。帧内压缩一般达不到很高的压缩。

　　采用帧间（Interframe）压缩是基于许多视频或动画的连续前后两帧具有很大的相关性，或者说前后两帧信息变化很小的特点。也即连续的视频其相邻帧之间具有冗余信息，根据这一特性，压缩相邻帧之间的冗余量就可以进一步提高压缩量，减小压缩比。帧间压缩也称为时间压缩（Temporal compression），它通过比较时间轴上不同帧之间的数据进行压缩。帧间压缩一般是无损的。帧差值（Frame differencing）算法是一种典型的时间压缩法，它通过比较本帧与相邻帧之间的差异，仅记录本帧与其相邻帧的差值，这样可以大大减少数据量。


三、对称和不对称编码：对称性（symmetric）是压缩编码的一个关键特征。对称意味着压缩和解压缩占用相同的计算处理能力和时间，对称算法适合于实时压缩和传送视频，如视频会议应用就以采用对称的压缩编码算法为好。而在电子出版和其它多媒体应用中，一般是把视频预先压缩处理好，尔后再播放，因此可以采用不对称（asymmetric）编码。不对称或非对称意味着压缩时需要花费大量的处理能力和时间，而解压缩时则能较好地实时回放，也即以不同的速度进行压缩和解压缩。一般地说，压缩一段视频的时间比回放（解压缩）该视频的时间要多得多。例如，压缩一段三分钟的视频片断可能需要10多分钟的时间，而该片断实时回放时间只有三分钟。



　　目前有多种视频压缩编码方法，但其中最有代表性的是MPEG数字视频格式和AVI数字视频格式。



MPEG数字视频


　　MPEG（Moving Picture Experts Group）是1988年成立的一个专家组。这个专家组在1991年制定了一个MPEG－1国际标准，其标准名称为“动态图像和伴音的编码－－用于速率小于每秒约1.5兆比特的数字存储媒体（Coding of moving picture and associated audio－－for digital storage media at up to about 1.5Mbit / s）”。这里的数字存储媒体指一般的数字存储设备如CD－ROM、硬盘和可擦写光盘等。MPEG的最大压缩可达约1：200，其目标是要把目前的广播视频信号压缩到能够记录在CD光盘上并能够用单速的光盘驱动器来播放，并具有VHS的显示质量和高保真立体伴音效果。MPEG采用的编码算法简称为MPEG算法，用该算法压缩的数据称为MPEG数据，由该数据产生的文件称MPEG文件，它以MPG为文件后缀。


MPEG数字视频格式


　　MPEG采用有损和不对称的压缩编码算法。MPEG标准详细地说明了视频图像的压缩和解压缩方法，以及播放MPEG数据所需的图像与声音的同步。MPEG标准包括三个部分：MPEG视频（Video）、MPEG音频（Audio）和MPEG系统（System）。


一、MPEG视频：MPEG视频是标准的核心。MPEG－1是为了适应在数字存储媒体如CD－ROM上有效地存取视频图像而制定的标准。CD－ROM驱动器的数据传输率不会低于150KB/s＝1.2Mb/s（单倍速），而容量不会低于650MB，MPEG－1算法就是针对这个速率开发的。MPEG－1的的视窗尺寸为CCIR 601定义分辨率的二分之一，可达到30fps或25fps的帧率，它采用多种压缩算法，压缩后的数据率为1.2－3MB/s。因此可以实时播放存储在光盘上的数字视频图像。


二、MPEG音频：MPEG－1标准支持高压缩的音频数据流，其采样率为44、22和11KHz，16位量化。还原后声音质量接近于原来的声音质量，如CD－DA的音质。CA－DA音质的音频数据率为每分钟约10兆字节（10MB/min），等价于每秒约1.4兆位（1.4Mb/s），这是单速CD－ROM的整个带宽！采用MPEG-1音频压缩算法可以把单声道位速率降到0.192Mb/s，甚至更低，而声音的质量又无明显的下降。MPEG－1支持两个声道，可设置成单声道（mono）、双声道（dual）、立体声（stereo）等。

　　目前在网络上广泛使用的MP3音频文件，就是利用 MPEG-3的音频技术, 实现了1:10 甚至 1:12 的压缩率，而且失真很小。


三、MPEG系统：这部分是有关同步和多路复合技术，用来把数字电视图像和伴音复合成单一的、位速率为1.5Mb/s的数据位流。MPEG的数据位流分成内外两层，外层为系统层，内层为压缩层。系统层提供在一个系统中使用MPEG数据位流所必须的功能，包括定时、复合和分离视频图像和伴音，以及在播放期间图像和伴音的同步。压缩层包含压缩的视频和伴音数据位流。

　　在多种视频压缩算法中，MPEG是可提供低数据率和高质量的最好算法。MPEG-1已经为广大用户所采用，如VCD或小影碟的发行等。其播放质量可以达到家用录像机的水平。采用不同的编码参数，得到的MPEG-1数据的质量也是不同的。同时，MPEG专家组在1993年又制定了MPEG－2标准，DVD 就是采用的这种标准。



MPEG-1数据的回放


　　由于MPEG采用非对称的压缩算法，在PC机上用软件来进行MPEG压缩编码是很费机时的，即使编码几个视频片断也要花费好几小时。因此，一般用专门的MPEG编码卡，用硬件实现MPEG压缩编码。要回放压缩的MPEG数据，首先要对其进行解码，然后把解压缩后的大量数字视频数据送往显示缓存进行屏幕显示。因此，影响回放效果的因素主要有两点：一是解码的速率，二是显示的速率。解码的速度比编码的速度快得多，因此在不同的MPC硬件基础上可以采用软件解码和硬件解码两种方式。


一、MPEG-1软件解码：软件解码即采用软件算法的方式读取MPEG压缩数据，对其进行解压缩并把解压缩后的大量数字视频数据送往显示缓存进行屏幕显示。所以MPEG解压缩软件也称为MPEG播放软件。采用软件解码的优点是它无需额外硬件的支持，在MPC机上就可以播放MPEG数字视频，使用方便；其缺点是解码的速度和解码后的视频质量完全取决于MPC的处理能力。

　　如果MPC的处理速度和显示速度不够快，采用软件解码播放MPEG数据时可能出现帧率不够、图像和伴音不同步或者图像的“马赛克”现象（图像呈块状）。因此，在一定的硬件条件下，尽可能地利用MPC的系统资源是达到较好回放效果的关键。


二、MPEG-1硬解压卡：MPEG硬解压卡（简称解压卡）是专用于MPEG数据的解压和回放的硬件设备，解压卡的核心是一块解压芯片。采用硬件解压的优点是其解压和回放的速率不受MPC主机速率的影响，达到全屏实时回放，播放VCD时其稳定性和色彩效果也较好。但其缺点是需额外的硬件设备，并且其安装调试也较麻烦。因此，硬件解压卡一般用于处理速度不够高的MPC中。

　　解压卡需插入MPC主机的扩展槽中，把端口与MPC相应的端口相连，设置好系统参数，利用解压卡自带的播放软件就可以进行MPEG-1的回放了。

　　虽然MPEG－1具有标准化、高压缩、视频质量好的特点，但是它生成的MPEG文件需要用专门的解压软件或硬件来回放，解压软件的回放效果取决于系统的处理能力，而解压硬件又需额外的设备，不利于用户在自己开发的软件中应用。此外，为了获得高压缩，MPEG采用帧间压缩算法，由于帧间压缩时每一帧仅存储与前一帧信息的差值，对帧进行编辑时就非常困难。MPEG文件只能用解压软件或硬件解压后回放，而不能用绝大多数的视频编辑软件进行编辑。因此，除了MPEG数字视频以外，目前较为流行的还有AVI数字视频。



数字视频的基本概念（四） 


--------------------------------------------------------------------------------


AVI数字视频


AVI数字视频的格式


　　AVI（Audio Video Interleave）是一种音频视像交插记录的数字视频文件格式。1992年初Microsoft公司推出了AVI技术及其应用软件VFW（Video for Windows）。在AVI文件中，运动图像和伴音数据是以交织的方式存储，并独立于硬件设备。这种按交替方式组织音频和视像数据的方式可使得读取视频数据流时能更有效地从存储媒介得到连续的信息。构成一个AVI文件的主要参数包括视像参数、伴音参数和压缩参数等：


一、视像参数

1、视窗尺寸（Video size）：根据不同的应用要求，AVI的视窗大小或分辨率可　 按4：3的比例或随意调整：大到全屏640×480，小到160×120甚至更低。

　 窗口越大，视频文件的数据量越大。

2、帧率（Frames per second）：帧率也可以调整，而且与数据量成正比。不同的帧率会产生不同的画面连续效果。


二、伴音参数：在AVI文件中，视像和伴音是分别存储的，因此可以把一段视频中的视像与另一段视频中的伴音组合在一起。AVI 文件与WAV文件密切相关，因为WAV文件是AVI文件中伴音信号的来源。伴音的基本参数也即WAV文件格式的参数，除此以外，AVI文件还包括与音频有关的其他参数：

1、视像与伴音的交织参数（Interlace Audio Every X Frames）

　 AVI格式中每X帧交织存储的音频信号，也即伴音和视像交替的频率X是可调参　 数，X的最小值是一帧，即每个视频帧与音频数据交织组织，这是CD－ROM上使用的默认值。交织参数越小，回放AVI文件时读到内存中的数据流越少，回放越容易连续。因此，如果AVI文件的存储平台的数据传输率较大，则交错参数可设置得高一些。当AVI文件存储在硬盘上时，也即从硬盘上读AVI文件进行播放时，可以使用大一些的交织频率，如几帧，甚至1秒。

2、同步控制（Synchronization）

　 在AVI文件中，视像和伴音是同步得很好的。但在MPC中回放AVI文件时则有可能出现视像和伴音不同步的现象。


三、压缩参数：在采集原始模拟视频时可以用不压缩的方式，这样可以获得最优秀的图像质量。编辑后应根据应用环境环择合适的压缩参数。 



AVI数字视频的特点 


AVI及其播放器VFW已成为了PC机上最常用的视频数据格式，是由于其具有如下的一些显著特点：


一、提供无硬件视频回放功能：AVI格式和VFW软件虽然是为当前的MPC设计的，但它也可以不断提高以适应MPC的发展。根据AVI格式的参数，其视窗的大小和帧率可以根据播放环境的硬件能力和处理速度进行调整。在低档MPC机上或在网络上播放时，VFW的视窗可以很小，色彩数和帧率可以很低；而在Pentium级系统上，对于64K色、320×240的压缩视频数据可实现每秒25帧的回放速率。这样，VFW就可以适用于不同的硬件平台，使用户可以在普通的MPC上进行数字视频信息的编辑和重放，而不需要昂贵的专门硬件设备。


二、实现同步控制和实时播放：通过同步控制参数，AVI可以通过自调整来适应重放环境，如果MPC的处理能力不够高，而AVI文件的数据率又较大，在WINDOWS环境下播放该AVI文件时，播放器可以通过丢掉某些帧，调整AVI的实际播放数据率来达到视频、音频同步的效果。


三、可以高效地播放存储在硬盘和光盘上的AVI文件：由于AVI数据的交叉存储，VFW播放AVI数据时只需占用有限的内存空间，因为播放程序可以一边读取硬盘或光盘上的视频数据一边播放，而无需预先把容量很大的视频数据加载到内存中。在播放AVI视频数据时，只需在指定的时间内访问少量的视频图像和部分音频数据。这种方式不仅可以提高系统的工作效率，同时也可以实现迅速地加载和快速地启动播放程序，减少播放AVI视频数据时用户的等待时间。


四、提供了开放的AVI数字视频文件结构：AVI文件结构不仅解决了音频和视频的同步问题，而且具有通用和开放的特点。它可以在任何Windows环境下工作，而且还具有扩展环境的功能。用户可以开发自己的AVI视频文件，在Windows环境下可随时调用。


五、AVI文件可以再编辑：AVI一般采用帧内有损压缩，可以用一般的视频编辑软件如Adobe Premiere或MediaStudio进行再编辑和处理。



AVI采用的压缩算法 AVI通过对视频数据的压缩可以减少其在MPC内存储和传输时的数据量，提高视频播放的质量。与MPEG标准不同的是，AVI采用的压缩算法并无统一的标准。也就是说，同样是以AVI为后缀的视频文件，其采用的压缩算法可能不同，需要相应的解压缩软件才能识别和回放该AVI文件。Microsoft公司推出AVI文件格式和VFW软件时，同时也推出了一种压缩算法，由于AVI和VFW的开放性，其它的公司也相应推出了其它压缩算法，只要把该算法的驱动加到Windows系统中，用VFW就可以播放用该算法压缩的AVI文件。


视窗软件VFW及媒体播放器


一、VFW的功能：Microsoft公司开发的Windows环境下视频服务软件或视窗软件VFW（Video for Windows），是目前在MPC中较为流行的视频处理软件。它使MPC具有播放和处理数字视频的能力，而无需增加专门的硬件设备。VFW是一个功能齐全的视频、图像和音频数据的采集、编辑、控制和处理的工具软件组。由于音频、图像、视频的采集和编辑都有其专门的软件，因此，VFW程序组中使用最广的是媒体播放器（MediaPlayer）。


二、媒体播放器的功能：其主要功能是用于播放音频、视频序列，并可以在用户的各种应用程序，如电子表格、演示、字处理器和电子文挡等中加入音频、视频信号等。MediaPlayer可以播放的媒体包括WAV格式、MIDI格式和各种数字视频格式如AVI、MOV等文件。MediaPlayer可以作为单独的应用程序来运行，或作为一个复合文档中的一个嵌入对象。在作为嵌入对象时，它可使电子表格，多媒体演示和字处理器文档增加音乐、语音、视频信息。MediaP1ayer使用对象连接和嵌入（OLE）技术，使它成为其它应用程序的一部分。


三、媒体播放器的使用：启动位于 Windows的Accessories程序组中的MediaPlayer，就会显示MediaPlayer窗口，由此操作指定待播放的媒体设备、装载媒体文件、控制标尺显示和播放等功能。

　　当播放AVI视频文件时，通过设备菜单中的属性选项可以控制实际播放窗口的大小。可按文件的实际尺寸或放大、缩小播放，注意改变播放窗口大小并不会改变文件参数。 VFW还具有播放AVI文件的简化形式，其窗口只包括数据轨（Track bar）、播放/暂停（Play／Pause）和停止（Stop）按钮，把数据轨上的滑块拖动到某处，就可从该处所在的帧开始播放。

　　由于AVI是Windows指定的视频格式，双击AVI文件名可以用简化窗口预览、在文件属性（选中文件，点击鼠标右键，从弹出式菜单中选择属性项）中有该文件的详细资料包括媒体长度、音频视频格式、文件容量等，并提供可控制的简化预览播放窗口。

　　当AVI文件作为媒体对象嵌入到其他程序中运行时，通过调整MediaPlayer编辑菜单中的选项参数，可以控制视频媒体对象在其他应用程序中的播放参数。



MOV数字视频格式及格式的转换 


一、MOV视频格式：AVI文件格式和VFW软件是Microsoft为PC机设计的数字视频格式和应用软件。对于目前世界上的另一大类微机－－Apple公司的Macintosh机，Apple公司也推出了相应的视频格式，即MOV（Movie digital video technology）的文件格式，其文件以MOV为后缀，相应的视频应用软件为Apple's QuickTime for Macintosh。该软件的功能与VFW类似，只不过用于Macintosh机。同时Apple公司也推出了适用于PC机的视频应用软件Apple's
 QuickTime for Windows，因此在MPC机上也可以播放MOV视频文件。

MOV格式的视频文件也可以采用不压缩或压缩的方式，其压缩算法包括Cinepak、Intel Indeo Video R3.2 和Video编码。其中Cinepak和Intel Indeo Video R3.2算法的应用和效果与AVI格式中的应用和效果类似。而Video格式编码适合于采集和压缩模拟视频，并可从硬盘平台上高质量回放，从光盘平台上回放质量可调。这种算法支持16位图像深度的帧内压缩和帧间压缩，帧率可达每秒10帧以上。


二、数字视频格式的转换：三种数字视频文件MPG文件、AVI文件和MOV文件，它们具有不同的格式，不同的压缩编码算法和不同的特性。必须要有相应的播放软件才能播放对应格式的视频文件，播放软件首先能够识别视频文件的格式，通过解压来回放数据。因此，播放软件只要包含某种格式的解释和解压功能，就能够播放该种格式的视频文件。如VFW中的MediaPlayer就能播放MOV和AVI等多种格式的文件。

通过软件或硬件也可以把这三种视频文件的格式进行转换。如Broadway采集卡提供了采集模拟视频，并可用AVI格式（MPEG I帧算法）和MPEG格式存储成数字视频文件的功能。如果直接按MPEG格式采集，则该文件不能被编辑。如果按AVI格式采集，则采集以后可以对其进一步编辑并把编辑以后的视频数据按AVI格式或MPEG格式存储。通过该采集软件，也可读取已有的AVI文件，然后按MPEG格式存储，以实现两种格式的转换。







对水平解析度的补充：

水平解析度　　用摄像机拍摄的影音信号需要在电视上播放时，需要换算成与电视画质相同的单位。而电视的画面清晰度是以水平清晰度作为单位。通俗地说，我们可以把电视上的画面以水平方向分割成很多很多“条”，分得越细，这些画面就越清楚，而水平线数的数码就越多。这个单位是“电视行（TVLine）”也称线。然而，数码摄像机以数码磁带记录的信号，在电视上播放，也换作线来计算。![搜索](http://img.baidu.com/img/iknow/qb/select-search.png)

　　市面上一般的数码摄像机都标明了水平清晰度的大小，普遍等于或者高于500行线数。而我们看到一些佳能的数码摄像机，标着PAL制电视机625行是标称垂直分解力，其实除去逆程的50行外，实际的有效垂直分解力为575线。水平分解力最高可达575x4/3=766线。但是限制线数的主要因素之一还有带宽。经验数据表明可用80线/MHz来计算能再现的电视行（线数）。如6MHz带宽可通过水平分解力为480线的图像质量。低档家用录像机，如VHS，最多能有240线的清晰度，高档家用摄录机，如S-V而数码摄录机的记录方式是数码信号的格式，清晰度在500线以上。

　　数码摄像机（DV）记录信号的彩色带宽为1.5MHz，是模拟记录方式的3倍。它采用1：5压缩比的MPEG-2（MPEG——Moving Pictures Experts Group）数字视频编码来记录现行的视频信号，水平解像力达到500线以上，与DVD 的影像质量相当，而VCD的清晰度是230线，两者相差一倍还要多。

　　购买数码摄相机的时候，水平清晰度是一个很重要的参考标准。一台数码摄像机的成像质量，由它的CCD像素、CCD尺寸、感光器件个数和水平清晰度决定。如果有一天，DV带上的内容会作为电视广播媒体别播放，那么这个水平清晰度就起到了决定性的作用了。

　　水平清晰度

　　水平清晰度是用与画面高度相等宽度的黑白相间的垂直平行线作被摄物时，在水平方向上屏幕中间所能够再现的线数。而黑白条图形都是一定频率的方波信号，所以根据行扫描速度和传送带宽也可确定水平清晰度的值。

　　水平清晰度用RH表示，如果一条扫描线上能够再现m个象素，则可用下式来表示水平清晰度：


　　式中，m为水平方向的象素数，V是画面的垂直高度，H为水平长度，V / H也叫做光栅高宽比。一般V/H=3/4=0.75，所以（7）式可写成

　　RH = 0.75m （8）

　　因此，对象素数为500（H）×582（V）的摄像机来说，其水平清晰度RH = 0.75×500 = 375TVL，所以对分辩率无特殊优化处理等功能的一般摄像机来说，不可能有420TVL（当前市场没有规范，应统一）。

﻿﻿



