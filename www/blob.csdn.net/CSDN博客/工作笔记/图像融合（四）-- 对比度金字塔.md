# 图像融合（四）-- 对比度金字塔 - 工作笔记 - CSDN博客





2016年09月08日 14:38:42[Eason.wxd](https://me.csdn.net/App_12062011)阅读数：5917
所属专栏：[机器视觉](https://blog.csdn.net/column/details/33959.html)









﻿﻿原文:[http://www.cnblogs.com/silence-hust/p/4193398.html](http://www.cnblogs.com/silence-hust/p/4193398.html)

# 对比度金字塔融合

在考虑人类视觉系统对局部对比度敏感这一视觉特性的基础上，提出了基于对比度金字塔(Contrast Pyramid，CP)分解的图像融合算法。CP 分解类似于 LP 分解，但它的每一层图像是高斯金字塔相邻两层图像的比率。 CP 融合算法应用于合成孔径雷达和前视红外图像融合。

## 1、原理阐述

###     ​   （1）得到高斯金字塔（如上篇）

### （2）对比度金字塔

　　用高斯金字塔得到上采样并高斯卷积之后的预测图像*Gl，*Gl的尺寸和Cl-1相同，即经过放大算子的处理（pyrup）。图像的对比度通常定义为：C = (g -gb)/gb= g/gb-I，这里g为图象某位置处的灰度值、gb为该位置处的背景灰度值、I表示单位灰度值图像。因窗口函数w(m，n)具低通滤波特性，所以G*l+1可以看作是Gl的背景，故可定义图像的对比度金字塔为：

![](http://7te8s4.com1.z0.glb.clouddn.com/merge-cp1.1.jpg)

　　就是0层的G0除以G1上采样的得到的*G1再减去1，得到的就是对比度金字塔。

### （3）重构

![](http://7te8s4.com1.z0.glb.clouddn.com/merge-cp1.2.png)

    ​   从对比度金字塔(CN、CN-1、、、C0)的顶层CN开始、依次令l = N、N-1、、、0逐层由上到下、可依次得到高斯金字塔的各层GN、GN-1、G0。最终精确重构原始图像（高斯金字塔的最底层G0即为原始图象）。

## 2、融合应用

　　这里的应用和上面不同的就是融合规则的不同。

　　设A、B为两幅原始图像，F为融合后的图像。其融合的基本步骤如下：

　　1）对每一源图像分别进行对比度塔形分解，建立各图像的对比度金字塔；

　　2）对图像金字塔的各分解层分别进行融合处理，不同的分解层采用不同的融合算子进行融合处理，最终得到融合后图像的对比度金字塔；

　　3）对融合后所得对比度金字塔进行逆塔形变换（图像重构），所得到的重构图像即为融合图像。

*其中一种融合规则为*：采用像素取大的原则。因为对比度大的像素是图像中相对突出和比较重要的像素。即获得两个图像的对比度金字塔后，差值越大就代表处变化越大，存在明显的信息，那么对应的就取该处变化大的值，保留重要的变化信息。

*另一种融合规则*：基于区域特性量测的加权平均融合算子，该融合规则及融合算子的确定方法如下：

　　1)分别计算两幅图像相应分解层上对应局部区域的能量：ElA及ElB：

![](http://7te8s4.com1.z0.glb.clouddn.com/merge-cp1.3.png)

　　式中El(n,m)表示对比度金字塔第l层上，以(n,m)为中心位置的局部区域能量；Ll表示对比度金字塔的第l层图像；wl(n’ ,m’ )为与Ll对应的权系数；j、k定义了局部区域的大小(例如3*3、5*5或7*7等)；n’、m’的变化范围在j、k内。这里不知道w是怎么取值的。

*这个算法有点麻烦，具体的见：http://www.docin.com/p-735309332.html*



**基于对比度塔形分解的图像融合方法的物理意义**在于：

1）对比度塔形分解将原始图像分别分解到具有不同分辨率、不同空间频率的一系列分解层上（从底层到顶层，空间频率依次降低），同时，每一分解层均反映了相应空间频率上图像的对比度信息。

2）融合过程是在各空间频率层上分别进行的，这样就可能针对不同分解层的不同频带上的特征与细节，采用不同的融合算子，以达到突出特定频带上特征与细节的目的。基于对比度塔形分解的图像融合恰恰是在不同的空间频带上进行融合处理的，因而可能获得与人的视觉特性更为接近的融合效果



