# vs配置lib库的三种方式 - L_Andy的专栏 - CSDN博客

2018年12月09日 11:28:38[卡哥](https://me.csdn.net/L_Andy)阅读数：142


**注意：**

**1****、每种方法也要复制相应的DLL文件到相应目录，或者设定DLL目录的位置，具体方法为："Properties" -> "Configuration Properties" -> "Debugging"，在"Working Directory"设置dll的路径就可以了**

**2****、无论是设置DLL目录，或者是Lib目录，亦或是头文件的目录，都有release版本和debug版本的区分，每种版本的设置都是独立的，要分别设置。**

**------------------------------------------------------------------------------------------------------------------------------------------**

**方法1:  通过设置工程配置来添加lib库.**

A、添加工程的头文件目录：工程---属性---配置属性---c/c++---常规---附加包含目录：加上头文件存放目录。

B、添加文件引用的lib静态库路径：工程---属性---配置属性---链接器---常规---附加库目录：加上lib文件存放目录。

C  然后添加工程引用的lib文件名：工程---属性---配置属性---链接器---输入---附加依赖项：加上lib文件名。

这种方法比较繁琐,且不直观,而且还可能要争对debug版本和release版本作不同的配置,因为我们生成的两个版本的库可能放在不同的目录中的.

**方法2: 使用编译语句:**

#ifdef _DEBUG

#pragma comment(lib,"..\\debug\\LedCtrlBoard.lib")

#else

#pragma comment(lib,"..\\release\\LedCtrlBoard.lib")

#endif

这种方法直观,方便,且可以按如上直接区分出Debug版本和Release版本的不同目录.当然,通过宏,还可以区分更多版本.

但是在指定目录时,不小心容易出错.

**方法3: 直接添加库文件到工程中.**

就像你添加.h和.cpp文件一样,把lib文件添加到工程文件列表中去.

VC中,切换到"解决方案视图",--->选中要添加lib的工程-->点击右键-->"添加"-->"现有项"-->选择lib文件-->确定.

就是这么简单,搞定.

这个方法适用于在我的工程的debug版本和Release版本中都使用同一个lib库文件时.这样就省去了你1方法配置环境的繁琐,也省去了方法2种语句的可能性错误发生.

![](https://img-blog.csdnimg.cn/20181209112750995.png)

