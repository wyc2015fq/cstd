# 性能优化之性能分析简介 - L_Andy的专栏 - CSDN博客

2018年12月10日 14:20:16[卡哥](https://me.csdn.net/L_Andy)阅读数：49


 性能优化是几乎所有软件开发过程都要考虑的事情。通常性能消耗符合二八定律，即20%的代码消耗了80%的性能，所以性能优化需要排查哪些地方最消耗性能。解决了最消耗性能的几个关键点，就能使性能得到大幅度的提升。

        因此性能优化第一步就是性能分析，需要找到那些地方消耗多少性能，比如运行时间、 cpu、内存、网络、IO占用等。通常有个土办法就是打日志。在不同地方打日志可以收集这些信息，不过这个方法比较费劲。比如说启动速度优化，需要找到启动的代码，在代码不同阶段打日志，直到启动结束。然后最后收集日志分析。而且这种日志通常是临时代码，不好提交版本库，下次代码变更 这些日志都不能用了。

       下面介绍一个性能分析的方法 就是VS2013自带的性能分析工具。

       在菜单上找到 分析--性能和诊断：

![](https://img-blog.csdnimg.cn/2018120912471587.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L0xfQW5keQ==,size_16,color_FFFFFF,t_70)

       分析启动时间可以选择CPU使用率，然后点击开始![](https://img-blog.csdnimg.cn/20181209124753450.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L0xfQW5keQ==,size_16,color_FFFFFF,t_70)

       开始后就开始编译和分析了， 它会将程序运行起来，然后程序关闭后得出分析报告。点击创建详细的报告。

![](https://img-blog.csdnimg.cn/20181209124816162.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L0xfQW5keQ==,size_16,color_FFFFFF,t_70)

       稍等片刻，详细的报告就出来了。

       很多地方都可以点击查看。

![](https://img-blog.csdnimg.cn/20181209124840574.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L0xfQW5keQ==,size_16,color_FFFFFF,t_70)

       点击中部的具体函数名，可以得到对应函数调用情况。

![](https://img-blog.csdnimg.cn/20181209124918854.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L0xfQW5keQ==,size_16,color_FFFFFF,t_70)

       点击上面蓝色的方块，可以找到调用末端的性能消耗点：

![](https://img-blog.csdnimg.cn/20181209124941455.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L0xfQW5keQ==,size_16,color_FFFFFF,t_70)

       找到性能消耗点，抓大头就可以开始具体的优化啦，是不是很方便。

