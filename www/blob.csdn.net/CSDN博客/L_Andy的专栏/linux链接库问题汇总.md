# linux链接库问题汇总 - L_Andy的专栏 - CSDN博客

2017年06月04日 09:59:45[卡哥](https://me.csdn.net/L_Andy)阅读数：313


**linux 动态链接库名称里的数字代表什么？**
如

libpinyin.so.0

libpinyin.so.1.2.3

Linux操作系统也提供了一种更为方便的动态库调用方式，也方便了其它程序调用，这种方式与Windows系统的隐式链接类似。其动态库命名方式为"lib*.so.*"。在这个命名方式中，第一个*表示动态链接库的库名，第二个*通常表示该动态库的版本号，也可以没有版本号。在这种调用方式中，需要维护动态链接库的配置文件/etc/ld.so.conf来让动态链接库为系统所使用，通常将动态链接库所在目录名。追加到动态链接库配置文件中。如具有X window窗口系统发行版该文件中都具有/usr/X11R6/lib，它指向X
 window窗口系统的动态链接库所在目录。为了使动态链接库能为系统所共享，还需运行动态链接库的管理命令./sbin/ldconfig。在编译所引用的动态库时，可以在gcc采用 ?l或-L选项或直接引用所需的动态链接库方式进行编译。在Linux里面，可以采用ldd命令来检查程序依赖共享库。

基本上如同楼上所言，我再补充一下，通常的当一个较新版本的库存在时，有些较老的软件需要老版本的库， 

这时候如果新版本自动兼容于老版本的话，安装的时候将自动创建若干个softlink 将老库名字链接到新库

这样就出现了。

lib*.so.0和

lib*.so.1.2.3这样的形势

////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

Linux下的.o,.so,.a,.la文件的整理?

Linux下文件的类型是不依赖于其后缀名的，但一般来讲：

    .o,是目标文件,相当于windows中的.obj文件

    .so 为共享库,是shared object,用于动态连接和dll差不多

    .a为静态库,是好多个.o合在一起,用于静态连接

    .la为libtool自动生成的一些共享库，vi编辑查看，主要记录了一些配置信息。

////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

linux的c、c++库是不是都不分debug、release?

最近从windows转到linux上开发，突然发现好像链接的时候所有的库都是不区分debug和release版的。真的是这样吗？还是有什么特殊机制？因为windows上用vc链接的时候是必须要选择用debug还是release得运行库，对此很疑惑。如果linux上库真的是不区分的话，是不是意味着自己写的库可以debug和release混用?

解答：

-g  -O2 是用来看的？

-g是添加调试信息，-O2是优化程度，应该是在编译阶段起作用，但是这两个选项难道会影响到链接的库的结果吗？

debug模式下一般添加了-g -DDEBUG选项，release模式下一般去掉了这些选项，增加了-O2 -O3这样的优化选项

没有这种分别，通常你安装的软件包都是release版本的，大部分都是经过strip过的，去掉了调试信息，

如果需要调试，需要安装额外的调试信息补充包，当你调试的时候，通常linux会提示你怎样去安装这些调试信息。

比如 debuginfo-install命令等。

自己找到了，只要在编译的时候定义_GLIBCXX_DEBUG宏就可以使用调试版的c++运行库了。gnu官网说得很清楚。

libstdc++使用了特别的技术使得debug和release版是在同一个库里的，而且大部分情况可以混合链接，部分特殊情况不可以。具体信息可以参考gnu官网

https://gcc.gnu.org/onlinedocs/libstdc++/manual/debug_mode.html


