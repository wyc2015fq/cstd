# VS2013 +QT5.7+QGIS2.18 - L_Andy的专栏 - CSDN博客

2017年11月30日 22:27:09[卡哥](https://me.csdn.net/L_Andy)阅读数：1262



![](https://img-blog.csdn.net/20171130163236062?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvTF9BbmR5/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/Center)![](https://img-blog.csdn.net/20171130163241070?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvTF9BbmR5/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/Center)![](https://img-blog.csdn.net/20171130163244834?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvTF9BbmR5/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/Center)![](https://img-blog.csdn.net/20171130163249214?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvTF9BbmR5/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/Center)![](https://img-blog.csdn.net/20171130163253771?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvTF9BbmR5/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/Center)![](https://img-blog.csdn.net/20171130163258315?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvTF9BbmR5/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/Center)![](https://img-blog.csdn.net/20171130163303937?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvTF9BbmR5/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/Center)![](https://img-blog.csdn.net/20171130163308928?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvTF9BbmR5/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/Center)

完全编译

设置：

解决方法是：选中该项目 然后 右键 -> 属性 -> 链接器->高级 -> 入口点 加入 mainCRTStartup，

需要修改的工程包括：qgis，qgis_bench，qbrowser，qgis_help，qgis_maptopixeltest , qgis_pallabelingtest , qgis_pointlocationtest

最后再次生解决方案，完美生成整个项目

如果只是简单的编译qgis

![](https://img-blog.csdn.net/20171228143134326?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvTF9BbmR5/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/Center)

qgis依赖的几个工程如下：
|名称|说明||
|----|----|----|
|qgis|QGIS可执行程序||
|qgis_app|QGIS架构主程序||
|qgis_analysis|依赖项||
|qgis_core|依赖项，QGIS核心库||
|qgis_gui|依赖项，QGIS界面库||
|ui|QGIS所有的界面||
|gdalprovider|读取栅格数据驱动||
|ogrprovider|读取矢量数据驱动||

问题！

WIN下

配置完成后，编译出现这样的问题

qgsexpressionlexer.ll line 22: unrecognized %option: reentrant

qgsexpressionlexer.ll line 24: unrecognized %option: bison-bridge

error MSB6006

其实这是由于使用的 bison 版本太低了，但是找了很多地方都是

bison-2.4.1-setup.exe

这个版本，没有更高的了

后来找了这个

win_flex_bison-latest.zip

http://sourceforge.net/projects/winflexbison/   

这里下载的就是Bison version 3.0

解压就可以，不需要安装


