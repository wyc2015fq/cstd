# 由启动页面向显示页面跳转异常 - DEVELOPER - CSDN博客





2014年03月24日 14:40:16[学术袁](https://me.csdn.net/u012827205)阅读数：1239标签：[android																[跳转异常  Activity管理																[不同点击 跳转不同																[栈](https://so.csdn.net/so/search/s.do?q=栈&t=blog)




太奇葩了，大姑娘上花轿头一回啊！

之前做了那么多都没有出现过这样的问题，这会竟然碰到了。那碰到了就要解决，真的很有趣。

出现的问题异常：做了一个应用，应用效果是仿照一般的应用。举个例子，像腾讯微博。当你第一次安装的时候，会有引导页面，当引导页面划过之后才进入应用的主页面。这是应用效果的其一；其二，在平常的使用过程中。打开新浪微博，有时候会先看到一个写着新浪微博大字的页面，然后会有一个动画导出主页面的显示。而这个问题就出在了效果二上。当我对应用进行测试的时候，**不能从写着大字的动画页面跳转到应用的主页面，但是我在主页面进行测试所打印的文字和数据却打印了**。说明程序已经运行到主页面了，就是不显示而已。然后我就把那个动画给关掉测试，结果还是不行。然后，就在网上查了查。结果更是可恶，什么养的解释都有。

最后我就顺着我开发的思路重头顺了一遍。费了好大劲儿，终于被我找到了。

**解决方式：****在我写的程序中，由启动的动画页面<Activity>跳转到主页面<Activity>，当跳转到主页面的时候把之前的跳转页面 finish();掉就好了。**




**在这里，我贴一下管理应用程序中的Activity的程序代码：**



```java
public class AppManagerTool {
	private static Stack<Activity> activityStack;
	private static AppManagerTool appManager;

	/**
	 * 单一实例
	 */
	public static AppManagerTool getInstance() {
		if (appManager == null) {
			appManager = new AppManagerTool();
		}
		return appManager;
	}

	/**
	 * 添加Activity到堆栈
	 */
	public void addActivity(Activity activity) {
		if (activityStack == null) {
			activityStack = new Stack<Activity>();
		}
		activityStack.add(activity);
	}

	/**
	 * 获取当前Activity（堆栈中最后一个压入的）
	 */
	public Activity currentActivity() {
		Activity activity = activityStack.lastElement();
		return activity;
	}

	/**
	 * 结束指定的Activity
	 */
	public void finishActivity(Activity activity) {
		if (activity != null) {
			activityStack.remove(activity);
			activity.finish();
			activity = null;
		}
	}

	/**
	 * 结束所有Activity
	 */
	public void finishAllActivity() {
		for (int i = 0, size = activityStack.size(); i < size; i++) {
			if (null != activityStack.get(i)) {
				activityStack.get(i).finish();
			}
		}
		activityStack.clear();
	}

	/**
	 * 退出应用程序
	 */
	@SuppressWarnings("deprecation")
	public void exit(Context context) {
		try {
			finishAllActivity();
			ActivityManager activityMgr = (ActivityManager) context
					.getSystemService(Context.ACTIVITY_SERVICE);
			activityMgr.restartPackage(context.getPackageName());
			System.exit(0);
		} catch (Exception e) {
			e.printStackTrace();
		}
	}
```](https://so.csdn.net/so/search/s.do?q=不同点击 跳转不同&t=blog)](https://so.csdn.net/so/search/s.do?q=跳转异常  Activity管理&t=blog)](https://so.csdn.net/so/search/s.do?q=android&t=blog)




