# 【面经笔记】范围搜索/最近邻搜索 - xiaxzhou的博客 - CSDN博客





2017年07月24日 16:15:31[xiaxzhou](https://me.csdn.net/xiaxzhou)阅读数：989







- 
例1：平面上百万个点，设计数据结构求每个点最近的k个点

- 
例2：游戏中打怪时已经各个小怪的坐标，你放一个技能是圆形范围，快速求能打到的小怪


#### KD树：[http://www.cnblogs.com/v-July-v/archive/2012/11/20/3125419.html](http://www.cnblogs.com/v-July-v/archive/2012/11/20/3125419.html)
- 
最近邻搜索： 
![这里写图片描述](https://img-blog.csdn.net/20170724161248812?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQveGlheHpob3U=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast)- 
k近邻搜索：


参考： 
[http://blog.csdn.net/dark_scope/article/details/15809445](http://blog.csdn.net/dark_scope/article/details/15809445)

上文中一直在讲最近邻问题，也就是说只找最近的那唯一一个邻居，但如果现实中需要我们找到k个最近的邻居。该如何做呢？对的，之前blog内曾相近阐述过寻找最小的k个数的问题，显然，寻找k个最近邻与寻找最小的k个数的问题如出一辙。

**用大根堆保持K个最小的距离，然后用根的距离(也就是其中最大的一个)来作为判断的依据是否有更近的点不在结果中**，这一点很重要！
- 范围搜索：

**以圆心点作为近邻搜索的目标点，以圆的半径作为判断的依据：是否有范围内的点不在结果中。**

### R树

R树中的R应该代表的是**Rectangle**

详见：

> 
[http://blog.csdn.net/v_july_v/article/details/6530142](http://blog.csdn.net/v_july_v/article/details/6530142)


例2：搜索小怪： 

先对地图上所有小怪建立R树，小怪的最小外接矩形为叶节点 

然后搜索以英雄为中心，大招半径*2为边长的正方形 

计算所有搜索到的小怪与英雄的距离，若距离小于大招半径则判为中招。





