# 【算法题】预定酒店 - xiaxzhou的博客 - CSDN博客





2017年06月27日 10:10:08[xiaxzhou](https://me.csdn.net/xiaxzhou)阅读数：383








> 
题目描述 

                                     你要出去旅游，有N元的预算住酒店，有M家酒店供你挑选，这些酒店都有价格X。  需要你正好花完这N元住酒店（不能多，也不能少）最少能住几晚？返回最少住的天数，没有匹配的返回-1 

  比如你有1000元，所有酒店都是大于1000的，则返回-1 

   比如你有1000元，有1家1000元的，有1家300，有1家700。则最少能住1晚，最多住2晚（300+700）。返回1 

  比如你有1000元，有1家387元，有1家2元，有一家611，则返回3（3家各住1天） 

  比如你有1000元，有1家1元的，有一家2元的，有一家1001元的，则返回500（1元的1000天，2元的500天）
**输入**

   n个int，最后一个int为你拥有的钱，[0, n-2]为酒店的价格  
**样例输入** 1001 1002 1003 2001 1000  
**输出**

   返回最少住的天数，没有匹配的返回-1  
**样例输出**

  -1
分析： 
$BFS$问题

使用$dp[i]$表示预算为i时最少住的天数 
$price[j]$表示酒店价格

> 
实质是求**最短路径**：从dp[0]出发，每对dp[i]与dp[i+price[j]]之间存在路径，求到达dp[预算]的最短路径值


**状态方程**： 


$dp[i]=min\begin{cases}dp[i]\\dp[i-price[0]]+1\\dp[i-price[2]]+1\\...\\dp[i-price[n]]+1\\\end{cases}$

不断迭代，直到dp[]不再更新，输出dp[预算]

```cpp
#include <iostream>
#include <string>
#include <algorithm>
#include <vector>
#include <utility>
#include <set>
#include <numeric>
#include <queue>

using namespace std;
//#define debug_

int money;
vector<int> price;

void func()
{
    vector<int> dp(money + 1, 999);
    queue<int> queu;
    queu.push(0);
    dp[0] = 0;
    while (!queu.empty())
    {
        int index = queu.front();
        queu.pop();
        for (auto i = 0; i < price.size();++i)
        {
            if (index + price[i] <= money )
            {
                if (dp[index] + 1 < dp[index+price[i]])
                {
                    queu.push(index+price[i]);
                    dp[index + price[i]] = dp[index] + 1;
                }
            }
        }
    }
    if (dp[money]==999)
    {
        cout << -1 << endl;
        return;
    }
    cout << dp[money]<<endl;
    return;
}

int main()
{
#ifdef debug_
    money = 1000;
    price.push_back(800);
    price.push_back(200);

    price.push_back(250);
    price.push_back(500);
#else
    int tmp(0);
    while (cin>>tmp)
    {
        price.push_back(tmp);
    }
    money = price.back();
    price.pop_back();
#endif
    func();
    return 0;

}
```






