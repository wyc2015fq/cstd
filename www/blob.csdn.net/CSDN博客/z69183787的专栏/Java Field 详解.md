# Java Field 详解 - z69183787的专栏 - CSDN博客
2014年09月17日 15:20:02[OkidoGreen](https://me.csdn.net/z69183787)阅读数：26049
# 一.主要方法
getType()： 获取属性声明时类型对象（返回class对象）
getGenericType() ： 返回属性声的Type类型
getName() ： 获取属性声明时名字
getAnnotations() ： 获得这个属性上所有的注释
getModifiers() ： 获取属性的修饰
isEnumConstant() ： 判断这个属性是否是枚举类
isSynthetic() ： 判断这个属性是否是 复合类
get(Object obj) ： 取得obj对象这个Field上的值
set(Object obj, Object value) ： 向obj对象的这个Field设置新值value
Field类中最常用的是get(Object obj)和set(Object
 obj, Object value)这两个方法，所以这两个方法是最重要的。
getType() 和 getGenericType()的区别
 ：
1.首先是返回的类型不一样，一个是Class对象一个是Type接口
2.如果属性是一个泛型，从getType（）只能得到这个属性的接口类型。但从getGenericType（）还能得到这个泛型的参数类型。
isEnumConstant()和isSynthetic() ：
对象中如果有属性是枚举类或复合类，用这两个方法返回的值并不是我们想象的true而是false。其实这两个方法是对编译生成的才有效。
# 二.试验代码
[?](http://my.oschina.net/u/1583086/blog/268139#)
```
```java
package
```
```java
test.fortest;
```
```java
import
```
```java
static
```
```java
java.lang.System.out;
```
```java
import
```
```java
java.lang.reflect.Field;
```
```java
import
```
```java
javassist.Modifier;
```
```java
import
```
```java
test.model.Role;
```
```java
public
```
```java
class
```
```java
FieldTest {
```
```java
```
```java
enum
```
```java
Color {
```
```java
```
```java
Blue,
```
```java
```
```java
Red
```
```java
```
```java
}
```
```java
```
```java
```
```java
class
```
```java
Inner {
```
```java
```
```java
}
```
```java
```
```java
```
```java
public
```
```java
static
```
```java
void
```
```java
main(String args[]) {
```
```java
```
```java
Role
 role =
```
```java
new
```
```java
Role();
```
```java
```
```java
role.setId(
```
```java
"role1"
```
```java
);
```
```java
```
```java
role.setUserId(
```
```java
"user1"
```
```java
);
```
```java
```
```java
role.setRoleName(
```
```java
"Role
 1"
```
```java
);
```
```java
```
```java
```
```java
Field
 idField =  getDeclaredField(role.getClass(),
```
```java
"id"
```
```java
);
```
```java
```
```java
Field
 childrenField =  getDeclaredField(role.getClass(),
```
```java
"children"
```
```java
);
```
```java
```
```java
Field
 roleTypeField =  getDeclaredField(role.getClass(),
```
```java
"roleType"
```
```java
);
```
```java
```
```java
Field
 userField =  getDeclaredField(role.getClass(),
```
```java
"user"
```
```java
);
```
```java
```
```java
```
```java
//获取属性声明时类型对象（返回class对象）
```
```java
```
```java
System.out.println(idField.getType());
```
```java
```
```java
//返回属性声的Type类型
```
```java
```
```java
System.out.println(idField.getGenericType());
```
```java
```
```java
//如果属性是一个泛型，从getType只能得到这个属性的接口类型
```
```java
```
```java
System.out.println(childrenField.getType());
```
```java
```
```java
//如果属性是一个参数化类型，从getGenericType还能得到这个泛型的参数类型
```
```java
```
```java
System.out.println(childrenField.getGenericType());
```
```java
```
```java
//获取属性声明时名字
```
```java
```
```java
System.out.println(idField.getName());
```
```java
```
```java
//获得这个属性上所有的注释
```
```java
```
```java
System.out.println(idField.getAnnotations().length);
```
```java
```
```java
//获取属性的修饰
```
```java
```
```java
System.out.println(Modifier.toString(idField.getModifiers()));
```
```java
```
```java
```
```java
//判断这个属性是否是枚举类
```
```java
```
```java
System.out.println(roleTypeField.isEnumConstant());
```
```java
```
```java
//判断这个属性是否是
 复合类
```
```java
```
```java
System.out.println(userField.isSynthetic());
```
```java
```
```java
//FieldTest$Color是Color枚举类编译后的名字。
```
```java
```
```java
isSyntheticOrEnumConstant(
```
```java
"test.fortest.FieldTest$Color"
```
```java
);
```
```java
```
```java
//FieldTest$Inner是Inner类编译后的名字。
```
```java
```
```java
isSyntheticOrEnumConstant(
```
```java
"test.fortest.FieldTest$Inner"
```
```java
);
```
```java
```
```java
try
```
```java
{
```
```java
```
```java
//取得对象这个Field上的值
```
```java
```
```java
System.out.println(idField.get(role));
```
```java
```
```java
//向对象的这个Field重新设置值
```
```java
```
```java
idField.set(role,
```
```java
"role2"
```
```java
);
```
```java
```
```java
System.out.println(idField.get(role));
```
```java
```
```java
}
```
```java
catch
```
```java
(IllegalArgumentException e) {
```
```java
```
```java
e.printStackTrace();
```
```java
```
```java
}
```
```java
catch
```
```java
(IllegalAccessException e) {
```
```java
```
```java
e.printStackTrace();
```
```java
```
```java
}
```
```java
```
```java
```
```java
}
```
```java
```
```java
```
```java
public
```
```java
static
```
```java
Field getDeclaredField(
```
```java
final
```
```java
Class cla,
```
```java
final
```
```java
String fieldName) {
```
```java
```
```java
for
```
```java
(Class superClass = cla; superClass !=
```
```java
null
```
```java
;
 superClass = superClass.getSuperclass()) {
```
```java
```
```java
try
```
```java
{
```
```java
```
```java
return
```
```java
superClass.getDeclaredField(fieldName);
```
```java
```
```java
}
```
```java
catch
```
```java
(NoSuchFieldException e) {
```
```java
//             
 e.printStackTrace();
```
```java
```
```java
}
```
```java
```
```java
}
```
```java
```
```java
return
```
```java
null
```
```java
;
```
```java
```
```java
}
```
```java
```
```java
```
```java
public
```
```java
static
```
```java
void
```
```java
isSyntheticOrEnumConstant (String completePackageName) {
```
```java
```
```java
try
```
```java
{
```
```java
```
```java
Class<?>
 c = Class.forName(completePackageName);
```
```java
```
```java
Field[]
 flds = c.getDeclaredFields();
```
```java
```
```java
for
```
```java
(Field f : flds) {
```
```java
```
```java
out.format(
```
```java
"%-8s
 [ synthetic=%-5b enum_constant=%-5b ]%n"
```
```java
,
```
```java
```
```java
c.getName()
 +
```
```java
":"
```
```java
+ f.getName(), f.isSynthetic(), f.isEnumConstant());
```
```java
```
```java
}
```
```java
```
```java
}
```
```java
catch
```
```java
(ClassNotFoundException e) {
```
```java
```
```java
e.printStackTrace();
```
```java
```
```java
}
```
```java
```
```java
}
```
```java
}
```
```
结果：
[?](http://my.oschina.net/u/1583086/blog/268139#)
```
```java
<strong>
```
```java
class
```
```java
java.lang.String
```
```java
class
```
```java
java.lang.String
```
```java
interface
```
```java
java.util.List
```
```java
java.util.List<test.model.User>
```
```java
id
```
```java
5
```
```java
public
```
```java
false
```
```java
false
```
```java
test.fortest.FieldTest$Color:Blue
 [ synthetic=
```
```java
false
```
```java
enum_constant=
```
```java
true
```
```java
]
```
```java
test.fortest.FieldTest$Color:Red
 [ synthetic=
```
```java
false
```
```java
enum_constant=
```
```java
true
```
```java
]
```
```java
test.fortest.FieldTest$Color:ENUM$VALUES
 [ synthetic=
```
```java
true
```
```java
enum_constant=
```
```java
false
```
```java
]
```
```java
test.fortest.FieldTest$Inner:
```
```java
this
```
```java
$
```
```java
0
```
```java
[ synthetic=
```
```java
true
```
```java
enum_constant=
```
```java
false
```
```java
]
```
```java
role1
```
```java
role2</strong>
```
```
# 三.用到的类
[?](http://my.oschina.net/u/1583086/blog/268139#)
```
```java
<strong>
```
```java
package
```
```java
test.model;
```
```java
import
```
```java
java.util.List;
```
```java
import
```
```java
javax.persistence.Entity;
```
```java
import
```
```java
javax.persistence.Table;
```
```java
import
```
```java
test.enu.RoleType;
```
```java
@Entity
```
```java
@Table
```
```java
(schema
 =
```
```java
"public"
```
```java
)
```
```java
public
```
```java
class
```
```java
Role
```
```java
extends
```
```java
AbsEntity
```
```java
implements
```
```java
IEntity{
```
```java
```
```java
public
```
```java
String roleName;
```
```java
```
```java
```
```java
public
```
```java
String userId;
```
```java
```
```java
public
```
```java
List<User> children;
```
```java
```
```java
```
```java
private
```
```java
RoleType roleType = RoleType.Manager;
```
```java
```
```java
```
```java
private
```
```java
User user;
```
```java
```
```java
```
```java
public
```
```java
Role() {}
```
```java
```
```java
```
```java
private
```
```java
Role(String roleName) {
```
```java
```
```java
this
```
```java
.roleName
 = roleName;
```
```java
```
```java
}
```
```java
```
```java
public
```
```java
String getRoleName() {
```
```java
```
```java
return
```
```java
roleName;
```
```java
```
```java
}
```
```java
```
```java
public
```
```java
void
```
```java
setRoleName(String roleName) {
```
```java
```
```java
this
```
```java
.roleName
 = roleName;
```
```java
```
```java
}
```
```java
```
```java
public
```
```java
String getUserId() {
```
```java
```
```java
return
```
```java
userId;
```
```java
```
```java
}
```
```java
```
```java
public
```
```java
void
```
```java
setUserId(String userId) {
```
```java
```
```java
this
```
```java
.userId
 = userId;
```
```java
```
```java
}
```
```java
```
```java
public
```
```java
String getDisplayString() {
```
```java
```
```java
System.out.println(
```
```java
"I
 am a Role"
```
```java
);
```
```java
```
```java
return
```
```java
"Role"
```
```java
;
```
```java
```
```java
}
```
```java
```
```java
}
 </strong>
```
```
[?](http://my.oschina.net/u/1583086/blog/268139#)
```
```java
package
```
```java
test.enu;
```
```java
public
```
```java
enum
```
```java
RoleType{
```
```java
```
```java
Manager,Employee;
```
```java
}
```
```
[?](http://my.oschina.net/u/1583086/blog/268139#)
```
```java
package
```
```java
test.model;
```
```java
import
```
```java
javax.persistence.Column;
```
```java
import
```
```java
javax.persistence.Entity;
```
```java
import
```
```java
javax.persistence.GeneratedValue;
```
```java
import
```
```java
javax.persistence.Id;
```
```java
import
```
```java
javax.persistence.ManyToOne;
```
```java
import
```
```java
javax.persistence.Table;
```
```java
import
```
```java
org.hibernate.annotations.AccessType;
```
```java
import
```
```java
org.hibernate.annotations.GenericGenerator;
```
```java
@Entity
```
```java
@Table
```
```java
(name
 =
```
```java
"users"
```
```java
,
 schema =
```
```java
"public"
```
```java
)
```
```java
public
```
```java
class
```
```java
User {
```
```java
```
```java
@Id
```
```java
```
```java
@GeneratedValue
```
```java
(generator
 =
```
```java
"system-uuid"
```
```java
)
```
```java
```
```java
@GenericGenerator
```
```java
(name
 =
```
```java
"system-uuid"
```
```java
,
 strategy =
```
```java
"uuid.hex"
```
```java
)
```
```java
```
```java
@Column
```
```java
(length
 =
```
```java
40
```
```java
)
```
```java
```
```java
@AccessType
```
```java
(
```
```java
"property"
```
```java
)
```
```java
```
```java
private
```
```java
String id;
```
```java
```
```java
```
```java
private
```
```java
String loginName;
```
```java
```
```java
```
```java
private
```
```java
String password;
```
```java
```
```java
```
```java
private
```
```java
String address;
```
```java
```
```java
```
```java
@ManyToOne
```
```java
```
```java
private
```
```java
Role role;
```
```java
```
```java
public
```
```java
String getId() {
```
```java
```
```java
return
```
```java
id;
```
```java
```
```java
}
```
```java
```
```java
protected
```
```java
void
```
```java
setId(String id) {
```
```java
```
```java
this
```
```java
.id
 = id;
```
```java
```
```java
}
```
```java
```
```java
public
```
```java
String getLoginName() {
```
```java
```
```java
return
```
```java
loginName;
```
```java
```
```java
}
```
```java
```
```java
public
```
```java
void
```
```java
setLoginName(String loginName) {
```
```java
```
```java
this
```
```java
.loginName
 = loginName;
```
```java
```
```java
}
```
```java
```
```java
public
```
```java
String getPassword() {
```
```java
```
```java
return
```
```java
password;
```
```java
```
```java
}
```
```java
```
```java
public
```
```java
void
```
```java
setPassword(String password) {
```
```java
```
```java
this
```
```java
.password
 = password;
```
```java
```
```java
}
```
```java
```
```java
public
```
```java
String getAddress() {
```
```java
```
```java
return
```
```java
address;
```
```java
```
```java
}
```
```java
```
```java
public
```
```java
void
```
```java
setAddress(String address) {
```
```java
```
```java
this
```
```java
.address
 = address;
```
```java
```
```java
}
```
```java
```
```java
public
```
```java
Role getRole() {
```
```java
```
```java
return
```
```java
role;
```
```java
```
```java
}
```
```java
```
```java
public
```
```java
void
```
```java
setRole(Role role) {
```
```java
```
```java
this
```
```java
.role
 = role;
```
```java
```
```java
}
```
```java
}
```
```java
```
```
