# Slf4j Logger 的封装——Log - z69183787的专栏 - CSDN博客
2015年10月07日 14:19:52[OkidoGreen](https://me.csdn.net/z69183787)阅读数：9693
很多时候我们为了在类中加日志不得不写一行，而且还要去手动改XXX这个类名
[?](http://my.oschina.net/looly/blog/173576#)
```
```java
private
```
```java
static
```
```java
Logger log = LoggerFactory.getLogger(XXX.
```
```java
class
```
```java
);
```
```
第二个问题，我特别喜欢这种形式： 
[?](http://my.oschina.net/looly/blog/173576#)
```
```java
log.info(
```
```java
"我在XXX
 改了 {} 变量"
```
```java
,
```
```java
"name"
```
```java
);
```
```
既省去了可恶的isInfoEnabled()的判断，还避免了拼接字符串，但是呀
[?](http://my.oschina.net/looly/blog/173576#)
```
```java
log.error(
```
```java
"错误消息"
```
```java
,
 e);
```
```
这样就不支持了，烦躁……
写多了就觉得这种厌烦的工作实在让人无法忍受，于是就封装了下。
[?](http://my.oschina.net/looly/blog/173576#)
```
```java
import
```
```java
org.slf4j.Logger;
```
```java
import
```
```java
org.slf4j.LoggerFactory;
```
```java
public
```
```java
class
```
```java
Log {
```
```java
```
```java
/**
```
```java
```
```java
*
 获得Logger
```
```java
```
```java
*
 @param clazz 日志发出的类
```
```java
```
```java
*
 @return Logger
```
```java
```
```java
*/
```
```java
```
```java
public
```
```java
static
```
```java
Logger get(Class<?> clazz) {
```
```java
```
```java
return
```
```java
LoggerFactory.getLogger(clazz);
```
```java
```
```java
}
```
```java
```
```java
/**
```
```java
```
```java
*
 获得Logger
```
```java
```
```java
*
 @param name 自定义的日志发出者名称
```
```java
```
```java
*
 @return Logger
```
```java
```
```java
*/
```
```java
```
```java
public
```
```java
static
```
```java
Logger get(String name) {
```
```java
```
```java
return
```
```java
LoggerFactory.getLogger(name);
```
```java
```
```java
}
```
```java
```
```java
```
```java
/**
```
```java
```
```java
*
 @return 获得日志，自动判定日志发出者
```
```java
```
```java
*/
```
```java
```
```java
public
```
```java
static
```
```java
Logger get() {
```
```java
```
```java
StackTraceElement[]
 stackTrace = Thread.currentThread().getStackTrace();
```
```java
```
```java
return
```
```java
LoggerFactory.getLogger(stackTrace[
```
```java
2
```
```java
].getClassName());
```
```java
```
```java
}
```
```java
```
```java
```
```java
//-----------------------------------------------------------
 Logger method start
```
```java
```
```java
//------------------------
 Trace
```
```java
```
```java
/**
```
```java
```
```java
*
 Trace等级日志，小于debug<br>
```
```java
```
```java
*
 由于动态获取Logger，效率较低，建议在非频繁调用的情况下使用！！
```
```java
```
```java
*
 @param format 格式文本，{} 代表变量
```
```java
```
```java
*
 @param arguments 变量对应的参数
```
```java
```
```java
*/
```
```java
```
```java
public
```
```java
static
```
```java
void
```
```java
trace(String format, Object... arguments) {
```
```java
```
```java
trace(innerGet(),
 format, arguments);
```
```java
```
```java
}
```
```java
```
```java
```
```java
/**
```
```java
```
```java
*
 Trace等级日志，小于Debug
```
```java
```
```java
*
 @param log 日志对象
```
```java
```
```java
*
 @param format 格式文本，{} 代表变量
```
```java
```
```java
*
 @param arguments 变量对应的参数
```
```java
```
```java
*/
```
```java
```
```java
public
```
```java
static
```
```java
void
```
```java
trace(Logger log, String format, Object... arguments) {
```
```java
```
```java
log.trace(format,
 arguments);
```
```java
```
```java
}
```
```java
```
```java
```
```java
//------------------------
 debug
```
```java
```
```java
/**
```
```java
```
```java
*
 Debug等级日志，小于Info<br>
```
```java
```
```java
*
 由于动态获取Logger，效率较低，建议在非频繁调用的情况下使用！！
```
```java
```
```java
*
 @param format 格式文本，{} 代表变量
```
```java
```
```java
*
 @param arguments 变量对应的参数
```
```java
```
```java
*/
```
```java
```
```java
public
```
```java
static
```
```java
void
```
```java
debug(String format, Object... arguments) {
```
```java
```
```java
debug(innerGet(),
 format, arguments);
```
```java
```
```java
}
```
```java
```
```java
```
```java
/**
```
```java
```
```java
*
 Debug等级日志，小于Info
```
```java
```
```java
*
 @param log 日志对象
```
```java
```
```java
*
 @param format 格式文本，{} 代表变量
```
```java
```
```java
*
 @param arguments 变量对应的参数
```
```java
```
```java
*/
```
```java
```
```java
public
```
```java
static
```
```java
void
```
```java
debug(Logger log, String format, Object... arguments) {
```
```java
```
```java
log.debug(format,
 arguments);
```
```java
```
```java
}
```
```java
```
```java
```
```java
//------------------------
 info
```
```java
```
```java
/**
```
```java
```
```java
*
 Info等级日志，小于Warn<br>
```
```java
```
```java
*
 由于动态获取Logger，效率较低，建议在非频繁调用的情况下使用！！
```
```java
```
```java
*
 @param format 格式文本，{} 代表变量
```
```java
```
```java
*
 @param arguments 变量对应的参数
```
```java
```
```java
*/
```
```java
```
```java
public
```
```java
static
```
```java
void
```
```java
info(String format, Object... arguments) {
```
```java
```
```java
info(innerGet(),
 format, arguments);
```
```java
```
```java
}
```
```java
```
```java
```
```java
/**
```
```java
```
```java
*
 Info等级日志，小于Warn
```
```java
```
```java
*
 @param log 日志对象
```
```java
```
```java
*
 @param format 格式文本，{} 代表变量
```
```java
```
```java
*
 @param arguments 变量对应的参数
```
```java
```
```java
*/
```
```java
```
```java
public
```
```java
static
```
```java
void
```
```java
info(Logger log, String format, Object... arguments) {
```
```java
```
```java
log.info(format,
 arguments);
```
```java
```
```java
}
```
```java
```
```java
```
```java
//------------------------
 warn
```
```java
```
```java
/**
```
```java
```
```java
*
 Warn等级日志，小于Error<br>
```
```java
```
```java
*
 由于动态获取Logger，效率较低，建议在非频繁调用的情况下使用！！
```
```java
```
```java
*
 @param format 格式文本，{} 代表变量
```
```java
```
```java
*
 @param arguments 变量对应的参数
```
```java
```
```java
*/
```
```java
```
```java
public
```
```java
static
```
```java
void
```
```java
warn(String format, Object... arguments) {
```
```java
```
```java
warn(innerGet(),
 format, arguments);
```
```java
```
```java
}
```
```java
```
```java
```
```java
/**
```
```java
```
```java
*
 Warn等级日志，小于Error
```
```java
```
```java
*
 @param log 日志对象
```
```java
```
```java
*
 @param format 格式文本，{} 代表变量
```
```java
```
```java
*
 @param arguments 变量对应的参数
```
```java
```
```java
*/
```
```java
```
```java
public
```
```java
static
```
```java
void
```
```java
warn(Logger log, String format, Object... arguments) {
```
```java
```
```java
log.warn(format,
 arguments);
```
```java
```
```java
}
```
```java
```
```java
```
```java
/**
```
```java
```
```java
*
 Warn等级日志，小于Error<br>
```
```java
```
```java
*
 由于动态获取Logger，效率较低，建议在非频繁调用的情况下使用！！
```
```java
```
```java
*
 @param e 需在日志中堆栈打印的异常
```
```java
```
```java
*
 @param format 格式文本，{} 代表变量
```
```java
```
```java
*
 @param arguments 变量对应的参数
```
```java
```
```java
*/
```
```java
```
```java
public
```
```java
static
```
```java
void
```
```java
warn(Throwable e, String format, Object... arguments) {
```
```java
```
```java
warn(innerGet(),
 e, format(format, arguments));
```
```java
```
```java
}
```
```java
```
```java
```
```java
/**
```
```java
```
```java
*
 Warn等级日志，小于Error
```
```java
```
```java
*
 @param log 日志对象
```
```java
```
```java
*
 @param e 需在日志中堆栈打印的异常
```
```java
```
```java
*
 @param format 格式文本，{} 代表变量
```
```java
```
```java
*
 @param arguments 变量对应的参数
```
```java
```
```java
*/
```
```java
```
```java
public
```
```java
static
```
```java
void
```
```java
warn(Logger log, Throwable e, String format, Object... arguments) {
```
```java
```
```java
log.warn(format(format,
 arguments), e);
```
```java
```
```java
}
```
```java
```
```java
```
```java
//------------------------
 error
```
```java
```
```java
/**
```
```java
```
```java
*
 Error等级日志<br>
```
```java
```
```java
*
 由于动态获取Logger，效率较低，建议在非频繁调用的情况下使用！！
```
```java
```
```java
*
 @param format 格式文本，{} 代表变量
```
```java
```
```java
*
 @param arguments 变量对应的参数
```
```java
```
```java
*/
```
```java
```
```java
public
```
```java
static
```
```java
void
```
```java
error(String format, Object... arguments) {
```
```java
```
```java
error(innerGet(),
 format, arguments);
```
```java
```
```java
}
```
```java
```
```java
```
```java
/**
```
```java
```
```java
*
 Error等级日志<br>
```
```java
```
```java
*
 @param log 日志对象
```
```java
```
```java
*
 @param format 格式文本，{} 代表变量
```
```java
```
```java
*
 @param arguments 变量对应的参数
```
```java
```
```java
*/
```
```java
```
```java
public
```
```java
static
```
```java
void
```
```java
error(Logger log, String format, Object... arguments) {
```
```java
```
```java
log.error(format,
 arguments);
```
```java
```
```java
}
```
```java
```
```java
```
```java
/**
```
```java
```
```java
*
 Error等级日志<br>
```
```java
```
```java
*
 由于动态获取Logger，效率较低，建议在非频繁调用的情况下使用！！
```
```java
```
```java
*
 @param e 需在日志中堆栈打印的异常
```
```java
```
```java
*
 @param format 格式文本，{} 代表变量
```
```java
```
```java
*
 @param arguments 变量对应的参数
```
```java
```
```java
*/
```
```java
```
```java
public
```
```java
static
```
```java
void
```
```java
error(Throwable e, String format, Object... arguments) {
```
```java
```
```java
error(innerGet(),
 e, format(format, arguments));
```
```java
```
```java
}
```
```java
```
```java
```
```java
/**
```
```java
```
```java
*
 Error等级日志<br>
```
```java
```
```java
*
 由于动态获取Logger，效率较低，建议在非频繁调用的情况下使用！！
```
```java
```
```java
*
 @param log 日志对象
```
```java
```
```java
*
 @param e 需在日志中堆栈打印的异常
```
```java
```
```java
*
 @param format 格式文本，{} 代表变量
```
```java
```
```java
*
 @param arguments 变量对应的参数
```
```java
```
```java
*/
```
```java
```
```java
public
```
```java
static
```
```java
void
```
```java
error(Logger log, Throwable e, String format, Object... arguments) {
```
```java
```
```java
log.error(format(format,
 arguments), e);
```
```java
```
```java
}
```
```java
```
```java
//-----------------------------------------------------------
 Logger method end
```
```java
```
```java
```
```java
//-----------------------------------------------------------
 Private method start
```
```java
```
```java
/**
```
```java
```
```java
*
 格式化文本
```
```java
```
```java
*
 @param template 文本模板，被替换的部分用 {} 表示
```
```java
```
```java
*
 @param values 参数值
```
```java
```
```java
*
 @return 格式化后的文本
```
```java
```
```java
*/
```
```java
```
```java
private
```
```java
static
```
```java
String format(String template, Object... values) {
```
```java
```
```java
return
```
```java
String.format(template.replace(
```
```java
"{}"
```
```java
,
```
```java
"%s"
```
```java
),
 values);
```
```java
```
```java
}
```
```java
```
```java
```
```java
/**
```
```java
```
```java
*
 @return 获得日志，自动判定日志发出者
```
```java
```
```java
*/
```
```java
```
```java
private
```
```java
static
```
```java
Logger innerGet() {
```
```java
```
```java
StackTraceElement[]
 stackTrace = Thread.currentThread().getStackTrace();
```
```java
```
```java
return
```
```java
LoggerFactory.getLogger(stackTrace[
```
```java
3
```
```java
].getClassName());
```
```java
```
```java
}
```
```java
```
```java
//-----------------------------------------------------------
 Private method end
```
```java
}
```
```
Demo：
[?](http://my.oschina.net/looly/blog/173576#)
```
```java
import
```
```java
org.slf4j.Logger;
```
```java
import
```
```java
xxx.Log;
```
```java
public
```
```java
class
```
```java
Test {
```
```java
```
```java
private
```
```java
static
```
```java
Logger log = Log.get();
```
```java
```
```java
```
```java
public
```
```java
static
```
```java
void
```
```java
main(String[] args) {
```
```java
```
```java
//第一种使用方法（效率低）
```
```java
```
```java
Log.debug(
```
```java
"我是一条debug消息"
```
```java
);
```
```java
```
```java
```
```java
//第二种使用方法
```
```java
```
```java
Log.debug(log,
```
```java
"我是一条debug消息
 {} {}"
```
```java
,
```
```java
"参数1"
```
```java
,
```
```java
"参数2"
```
```java
);
```
```java
```
```java
```
```java
RuntimeException
 e =
```
```java
new
```
```java
RuntimeException(
```
```java
"错误"
```
```java
);
```
```java
```
```java
```
```java
//第一种使用方法（效率低）
```
```java
```
```java
Log.error(
```
```java
"我是一条error消息"
```
```java
);
```
```java
```
```java
```
```java
//第二种使用方法
```
```java
```
```java
Log.error(log,
 e,
```
```java
"<-异常对象放前面,
 我是一条带参数的error消息 {} {}"
```
```java
,
```
```java
"参数1"
```
```java
,
```
```java
"参数2"
```
```java
);
```
```java
```
```java
}
```
```java
}
```
```
总结下来如果日志比较少，可以直接使用静态方法Log.xxx，如果日志量很大，那么首先要构建好Logger，使用：
[?](http://my.oschina.net/looly/blog/173576#)
```
```java
private
```
```java
static
```
```java
Logger log = Log.get();
```
```
 比之前简短了很多，而且随便复制。 
调用Logger.xxx(log, "消息");
 对于不能使用format的情况，我把Throwable放在前面了，这样就可以使用动态参数了 Object... argument
好吧，就到这里，欢迎批评指正以及提供意见~~~ 
