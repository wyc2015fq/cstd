# 本地调试微信接口方法 - z69183787的专栏 - CSDN博客
2015年11月28日 11:41:48[OkidoGreen](https://me.csdn.net/z69183787)阅读数：2738
使用国内的www.ngrok.cc并且有详细的视频使用教程
调试微信接口，例如调试微信消息收发接口，我们需要提供一个公网访问url，正常情况下，我们需要建立web工程，然后打包，不部署服务器，提供服务器外网访问url。但是想要将自己本地电脑上运行的项目发布到公网，让所有人都可以访问，显然是很麻烦的一件事情。这里介绍三种方式，将本地运行代码发布到互联网，提供映射域名，实现本地调试微信接口：
**1、使用ngrok：详见http://blog.csdn.net/liuxiyangyang/article/details/22922265**
        首先，下载ngrok，然后填写注册信息，得到授权码token。（由于ngrok每次映射的公网域名都是随机的，这样每次重启都会发生变化，给本地调试造成麻烦，所以需要这个授权码，使我们的域名固定）
![](https://img-blog.csdn.net/20150331102448458?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvcDc5MzA0OTQ4OA==/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/Center)
第二步：打开cmd窗口，进入ngrok目录，输入ngrok 80，就可以得到本机127.0.0.1:80已经随机分配一个公网域名。
![](https://img-blog.csdn.net/20150331102835342?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvcDc5MzA0OTQ4OA==/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/Center)
此时就需要我们的授权码，打开我们的cmd，进入到ngrok目录，输入ngrok -authtoken ... 80（此处的省略号为我们得到的授权码token）：
![](https://img-blog.csdn.net/20150331103628709?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvcDc5MzA0OTQ4OA==/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/Center)
输入ngrok -subdomain testngrok 80 可以将域名换成简单便于记忆的域名：
此时的映射域名为 http://testngrok.ngrok.com
**2、花生壳，详见http://www.cnblogs.com/freeliver54/p/3725599.html**
首先，下载[https://console.oray.com/passport/register.html 注册一个花生壳的帐号。在这里：http://hsk.oray.com/download/下载“新花生壳客户端”，安装后使用注册号的帐号登录。](https://console.oray.com/passport/register.html)[](https://console.oray.com/passport/register.html)
![](https://img-blog.csdn.net/20150331103844261?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvcDc5MzA0OTQ4OA==/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/Center)
第二步：登录后，马上就可以看到花生壳帮我们分配的免费2级域名了，我的是：walkingman123.vicp.cc。
![](https://img-blog.csdn.net/20150331104019122?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvcDc5MzA0OTQ4OA==/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/Center)
第三步：点击红圈处的图标进行域名诊断，结果出现“成功”字样则表示域名映射成功了。
![](https://img-blog.csdn.net/20150331104038216?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvcDc5MzA0OTQ4OA==/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/Center)
**3、nat123，详见http://www.imooc.com/wenda/detail/241318**
**值得注意的一点是，nat123虽然提供免费的域名，但是使用nat123的免费域名虽然在浏览器上能正常访问，但是在微信里就会提示，该域名被举报，而不能正常访问。所以最好还是自己准备个域名，随便到百度一搜，都能搜到好多出售域名的网站。捡个便宜的注册下来就行了。**
首先，下载nat123，注册账号：
![](https://img-blog.csdn.net/20150331104310647?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvcDc5MzA0OTQ4OA==/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/Center)
第二步：配置内网端口跟内网域名。建议这边修改后便不用经常去修改配置，因为这里修改需要n币（1块钱好像是100个），所以不大建议这里更改内网端口。
![](https://img-blog.csdn.net/20150331104325108?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvcDc5MzA0OTQ4OA==/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/Center)
     请注意下面的提示，使用自己的域名时，域名的dns或ns必须设置为：dns1.dns123.net/dns3.dns123.net
