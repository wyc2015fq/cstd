# varchar和Nvarchar区别 - z69183787的专栏 - CSDN博客
2017年01月19日 12:18:07[OkidoGreen](https://me.csdn.net/z69183787)阅读数：1256
**Unicode字符集就是为了解决字符集这种不兼容的问题而产生的，它所有的字符都用两个字节表示，即英文字符也是用两个字节表示**
如果还为了这个纠结，就直接看看后面的解说，做决定吧。
一般如果用到中文或者其它特殊字符，我就会使用n开头的类型，否则的话直接使用var开头的。 
sql server中的varchar和Nvarchar有什么区别？
答：
varchar(n)
长度为 n 个字节的可变长度且非 Unicode 的字符数据。n 必须是一个介于 1 和 8,000 之间的数值。存储大小为输入数据的字节的实际长度，而不是 n 个字节。
nvarchar(n)
包含 n 个字符的可变长度 Unicode 字符数据。n 的值必须介于 1 与 4,000 之间。字节的存储大小是所输入字符个数的两倍。
**两字段分别有字段值：我和coffee那么varchar字段占2×2+6=10个字节的存储空间，而nvarchar字段占8×2=16个字节的存储空间。如字段值只是英文可选择varchar，而字段值存在较多的双字节（中文、韩文等）字符时用nvarchar**
联机帮助上的：
|**类型**|**长度**|**使用说明**|**长度说明**|
|----|----|----|----|
|**char(n) **|定长|索引效率高 程序里面使用trim去除多余的空白|n必须是一个介于 1 和 8,000 之间的数值,存储大小为 n 个字节|
|**varchar(n)**|变长|效率没char高 灵活|n必须是一个介于 1 和 8,000 之间的数值。存储大小为输入数据的字节的实际长度，而不是 n 个字节|
|**text(n)**|变长|非Unicode数据|不用指定长度|
|**nchar(n)**|定长|处理unicode数据类型(所有的字符使用两个字节表示)|n的值必须介于 1 与 4,000 之间。存储大小为 n 字节的两倍|
|**nvarchar(n)**|变长|处理unicode数据类型(所有的字符使用两个字节表示)|n的值必须介于 1 与 4,000 之间。字节的存储大小是所输入字符个数的两倍。所输入的数据字符长度可以为零|
|**ntext(n) **|变长|处理unicode数据类型(所有的字符使用两个字节表示)|不用指定长度|
出处：[http://blog.sina.com.cn/s/blog_44e571d70100cagf.html](http://blog.sina.com.cn/s/blog_44e571d70100cagf.html)
一般来说，如果含有中文字符，用nchar/nvarchar，如果纯英文和数字，用char/varchar
这里总结的不错
[http://www.cnblogs.com/ebaidu/archive/2007/08/14/854778.html](http://www.cnblogs.com/ebaidu/archive/2007/08/14/854778.html)
很多开发者进行数据库设计的时候往往并没有太多的考虑char， varchar类型，有的是根本就没注意，因为存储价格变得越来越便宜了，忘记了最开始的一些基本设计理论和原则，这点让我想到了现在的年轻人，大手一挥一把人民币就从他手里溜走了，其实我想不管是做人也好，做开发也好，细节的把握直接决定很多东西。当然还有一部分人是根本就没弄清楚他们的区别，也就随便选一个。在这里我想对他们做个简单的分析，当然如果有不对的地方希望大家指教。
**1、CHAR**。CHAR存储定长数据很方便，CHAR字段上的索引效率级高，比如定义char(10)，那么不论你存储的数据是否达到了10个字节，都要占去10个字节的空间,不足的自动用空格填充，所以在读取的时候可能要多次用到trim（）。
**2、VARCHAR**。存储变长数据，但存储效率没有CHAR高。如果一个字段可能的值是不固定长度的，我们只知道它不可能超过10个字符，把它定义为
 VARCHAR(10)是最合算的。VARCHAR类型的实际长度是它的值的实际长度+1。为什么“+1”呢？这一个字节用于保存实际使用了多大的长度。从空间上考虑，用varchar合适；从效率上考虑，用char合适，关键是根据实际情况找到权衡点。
**3、TEXT**。text存储可变长度的非Unicode数据，最大长度为2^31-1(2,147,483,647)个字符。
**4、NCHAR、NVARCHAR、NTEXT**。这三种从名字上看比前面三种多了个“N”。它表示存储的是Unicode数据类型的字符。我们知道字符中，英文字符只需要一个字节存储就足够了，但汉字众多，需要两个字节存储，英文与汉字同时存在时容易造成混乱，Unicode字符集就是为了解决字符集这种不兼容的问题而产生的，它所有的字符都用两个字节表示，即英文字符也是用两个字节表示。nchar、nvarchar的长度是在1到4000之间。和char、varchar比较起来，nchar、nvarchar则最多存储4000个字符，不论是英文还是汉字；而char、varchar最多能存储8000个英文，4000个汉字。可以看出使用nchar、nvarchar数据类型时不用担心输入的字符是英文还是汉字，较为方便，但在存储英文时数量上有些损失。
所以一般来说，如果含有中文字符，用nchar/nvarchar，如果纯英文和数字，用char/varchar
**它们的区别概括成：**
CHAR，NCHAR 定长，速度快，占空间大，需处理
VARCHAR，NVARCHAR，TEXT 不定长，空间小，速度慢，无需处理
NCHAR、NVARCHAR、NTEXT处理Unicode码
下面找到一段资料，来源[http://wenku.baidu.com/view/eee97bf5f61fb7360b4c652b.html](http://wenku.baidu.com/view/eee97bf5f61fb7360b4c652b.html)
**varchar**在SQL Server中是采用单字节来存储数据的，**nvarchar**是使用Unicode来存储数据的．中文字符存储到SQL Server中会保存为两个字节（一般采用Unico编码），英文字符保存到数据库中，如果字段的类型为**varchar**，则只会占用**一个字节**，而如果字段的类型为**nvarchar**，则会占用**两个字节**． 
　　正常情况下，我们使用varchar**也可以存储中文字符**，但是如果遇到操作系统是英文操作系统并且对中文字体的**支持不全面时**,
 在SQL Server存储中文字符为**varchar**就会出现乱码(显示为??)．而且正常情况下，主机都会支持中文的环境，所以如果使用**varchar**来存储数据，在开发阶段是发现不了的．多数情况下，在**布署**
当然，使用**nvarchar**存储英文字符会增大一倍的存储空间．但是在存储代价已经很低廉的情况下，优先考虑兼容性会给你带来更多好处的．
**所以在Design的时候应该尽量使用nvarchar来存储数据．只有在你确保该字段不会保存中文的时候，才采用varchar来存储．****的时候也不会有问题．**　　但是！如果布署的主机是英文操作系统，并且不支持中文环境，那问题就出来了．所有的varchar字段在存储中文的时候都会变成乱码（显示为??）．而且一般情况下你不会知道这是因为你采用了错误的数据类型来存储所造成的，你会试着去装中文字体，试着去设置操作系统的语言环境．．．这些都不能解决问题，唯一能解决问题的是把数据库字段的类型个性为**nvarchar**（或者nchar）．对项目管理比较熟悉的朋友应该都知道，到布署阶段再来修改数据库是一个很恐怖的事情．
**使用nvarchar的另一个非常好处就是在判断字符串的时候可以不需要考虑中英文两种字符的差别．**
作者： [火地晋](http://yelaiju.cnblogs.com/)
出处： [http://yelaiju.cnblogs.com](http://yelaiju.cnblogs.com/)
本文版权归作者和博客园共有，欢迎转载，但未经作者同意必须保留此段声明，且在文章页面明显位置给出原文连接，否则保留追究法律责任的权利。
