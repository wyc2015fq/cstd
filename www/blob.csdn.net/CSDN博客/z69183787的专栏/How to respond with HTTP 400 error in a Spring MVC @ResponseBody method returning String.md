# How to respond with HTTP 400 error in a Spring MVC @ResponseBody method returning String? - z69183787的专栏 - CSDN博客
2017年09月15日 16:10:35[OkidoGreen](https://me.csdn.net/z69183787)阅读数：513
个人分类：[SpringMvc-Demo实践																[SpringMvc-异常处理](https://blog.csdn.net/z69183787/article/category/6689566)](https://blog.csdn.net/z69183787/article/category/6690105)
[https://stackoverflow.com/questions/16232833/how-to-respond-with-http-400-error-in-a-spring-mvc-responsebody-method-returnin](https://stackoverflow.com/questions/16232833/how-to-respond-with-http-400-error-in-a-spring-mvc-responsebody-method-returnin)
|220down vote[favorite](https://stackoverflow.com/questions/16232833/how-to-respond-with-http-400-error-in-a-spring-mvc-responsebody-method-returnin#)58|I'm using Spring MVC for a simple JSON API, with `@ResponseBody` based approach like the following. (I already have a service layer producing JSON directly.)```java```@RequestMapping(value = "/matches/{matchId}", produces = "application/json")@ResponseBodypublic String match(@PathVariable String matchId) {    String json = matchService.getMatchJson(matchId);    if (json == null) {        // TODO: how to respond with e.g. 400 "bad request"?    }    return json;}``````Question is, in the given scenario, what is the simplest, cleanest way to respond with a HTTP 400 error?I did come across approaches like:```java`return new ResponseEntity(HttpStatus.BAD_REQUEST);````...but I can't use it here since my method's return type is String, not ResponseEntity.|
|383down voteaccepted|change your return type to `ResponseEntity<>`, then you can use below for 400```java`return new ResponseEntity<>(HttpStatus.BAD_REQUEST);````and for correct request```java`return new ResponseEntity<>(json,HttpStatus.OK);````UPDATE 1after spring 4.1 there are helper methods in ResponseEntity could be used as```java`return ResponseEntity.status(HttpStatus.BAD_REQUEST).body(null);````and```java`return ResponseEntity.ok(json);````|
|220down vote[favorite](https://stackoverflow.com/questions/16232833/how-to-respond-with-http-400-error-in-a-spring-mvc-responsebody-method-returnin#)58|I'm using Spring MVC for a simple JSON API, with `@ResponseBody` based approach like the following. (I already have a service layer producing JSON directly.)```java```@RequestMapping(value = "/matches/{matchId}", produces = "application/json")@ResponseBodypublic String match(@PathVariable String matchId) {    String json = matchService.getMatchJson(matchId);    if (json == null) {        // TODO: how to respond with e.g. 400 "bad request"?    }    return json;}``````Question is, in the given scenario, **what is the simplest, cleanest way to respond with a HTTP 400 error**?I did come across approaches like:```java`return new ResponseEntity(HttpStatus.BAD_REQUEST);````...but I can't use it here since my method's return type is String, not ResponseEntity.|
|383down voteaccepted|change your return type to `ResponseEntity<>`, then you can use below for 400```java`return new ResponseEntity<>(HttpStatus.BAD_REQUEST);````and for correct request```java`return new ResponseEntity<>(json,HttpStatus.OK);````**UPDATE 1**after spring 4.1 there are helper methods in ResponseEntity could be used as```java`return ResponseEntity.status(HttpStatus.BAD_REQUEST).body(null);````and```java`return ResponseEntity.ok(json);````|
