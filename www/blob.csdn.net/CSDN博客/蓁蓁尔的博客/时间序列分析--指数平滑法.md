# 时间序列分析--指数平滑法 - 蓁蓁尔的博客 - CSDN博客





2016年10月15日 14:02:41[蓁蓁尔](https://me.csdn.net/u013527419)阅读数：9916








## 一. 基础知识：

**1. 概念：**时间序列是指一个数据序列，特别是之由一段时间内采集的信号组成的序列，序列前面的信号表示采集的时间较早。 
**2. 前提假设：**时间序列分析一般假设我们获得的数据在时域上具有一定的相互依赖关系，例如股票价格在t时刻很高，那么在t+1时刻价格也会比较高（跌停才10%）；如果股票价格在一段时间内获得稳定的上升，那么在接下来的一段时间内延续上升趋势的概率也会比较大。 
**3. 目标：**（1）发现这种隐含的依赖关系，并增加我们对此类时间序列的理解；（2）对未观测到的或者尚未发生的时间序列进行预测。 
**我们认为时间序列由两部分组成：有规律的时间序列（即有依赖关系）+噪声（无规律，无依赖）。所以，，接下来要做的就是过滤噪声—最简单的过滤噪声的方法是   取平均。**
## 二.简单滑动平均（rolling mean）
- 当窗口取得越长，噪声被去除的就越多，我们得到的信号就越平稳；但同时，信号的有用部分丢失原有特性的可能性就越大，而我们希望发现的规律丢失的可能性就越大。 
**2. 缺点：**（1）我们要等到至少获得T个信号才能进行平均，那么得到的新的信号要比原始信号短；（2）在得到S_t的时候，我们只有到了距离t最近的T个原始信号。但在原始信号中，可能信号之间的相互依赖关系会跨越非常长的时间长度，比如X_1可能会对X_100会产生影响，这样滑动平均就会削弱甚至隐藏这种依赖关系。

## 三.指数平均(EXPMA)

接下来我们介绍一种稍微复杂但能克服以上缺点并且在现实中应用也更加广泛的方法：指数平均 （exponential smoothing，也叫exponential weighted moving average ），这种平均方法的一个重要特征就是，S_t与之前产生的所有信号有关，并且距离越近的信号所占权重越大。 
**（一）一阶指数平滑**
**一阶指数平滑实际就是对历史数据的加权平均，它可以用于任何一种没有明显函数规律但确实存在某种前后关联的时间序列的短期预测。**- 其预测公式为：yt+1’=ayt+(1-a)yt’  式中，yt+1’–为t+1期的预测值，即本期（t期）的平滑值S_t ； 

　yt–为t期的实际值； yt’–为t期的预测值，即上期的平滑值S_t-1 。 该公式又可以写作：yt+1’=yt’+a(yt- 

yt’)。 可见，下期预测值又是本期预测值与以a为折扣的本期实际值与预测值误差之和。- **它最突出的优点是**方法非常简单，甚至只要样本末期的平滑值，就可以得到预测结果。
- **一次指数平滑的特点**是：能够跟踪数据变化。这一特点所有指数都具有。预测过程中添加最新的样本数据后，新数据应取代老数据的地位，老数据会逐渐居于次要的地位，直至被淘汰。这样，预测值总是反映最新的数据结构。
- **一次指数平滑有局限性**。第一，预测值不能反映趋势变动、季节波动等有规律的变动；第二，这种方法多适用于短期预测，而不适合作中长期的预测；第三，由于预测值是历史数据的均值，因此与实际序列的变化相比有滞后现象。
- **平滑系数**，指数平滑预测是否理想，很大程度上取决于平滑系数。EViews提供两种确定指数平滑系数的方法：**自动给定和人工确定**。**选择自动给定**，系统将**按照预测误差平方和最小原则自动确定系数**。如果系数接近1，说明该序列近似纯随机序列，这时最新的观测值就是最理想的预测值。出于预测的考虑，有时系统给定的系数不是很理想，**用户需要自己指定平滑系数值**。一般来说，如果序列变化比较平缓，平滑系数值应该比较小，比如小于0.l；如果序列变化比较剧烈，平滑系数值可以取得大一些，如0.3～0.5。若平滑系数值大于0.5才能跟上序列的变化，表明序列有很强的趋势，不能采用一次指数平滑进行预测。

**（二）二次指数平滑**
**二次指数平滑是对一次指数平滑的再平滑。它适用于具线性趋势的时间数列。**
- 我们可以看到，虽然一次指数平均在产生新的数列的时候考虑了所有的历史数据，但是仅仅考虑其静态值，即没有考虑时间序列当前的变化趋势。如果当前的股票处于上升趋势，那么当我们对明天的股票进行预测的时候，好的预测值不仅仅是对历史数据进行”平均“，而且要考虑到当前数据变化的上升趋势。同时考虑历史平均和变化趋势，这边是二阶指数平均：
- 公式：yt+m=(2+am/(1-a))yt’-(1+am/(1-a))yt=(2yt’-yt)+m(yt’-yt) 

a/(1-a)式中，yt= ayt-1’+(1-a)yt-1 

　显然，二次指数平滑是一直线方程，其截距为：(2yt’-yt)，斜率为：(yt’-yt) a/(1-a),自变量为预测天数。- 二次指数平滑基本公式 St=αSt+(1-α)St-1 Yt+T=at+btT at=2St-St bt=(α/1-α)(St-St) 

式中 St–第t期的一次指数平滑值 St–第t期的二次指数平滑值 α–平滑系数 Yt+T–第t+T期预测值，T–由t期向后推移期数。

**（三）三次指数平滑预测**

1. 与前两种相比，我们多考虑一个因素：季节性效应（ 

    Seasonality）这种平均模型考虑的季节性效应在股票或者期货价格中都会比较常见，比如在过年前A股市场通常会交易比较频繁，在小麦成熟的时候小麦期货价格也会有比较明显的波动。但是，模型本身的复杂度也增加了其使用难度，我们需要一定的经验才能比较合理地设置其中复杂的参数。 

 2. 三次指数平滑预测是二次平滑基础上的再平滑。 

    其预测公式是：yt+m=(3yt’-3yt+yt)+[(6-5a)yt’-(10-8a)yt+(4-3a)yt]*am/2(1-a)2+ 

    (yt’-2yt+yt’)*a2m2/2(1-a)2 式中，yt=ayt-1+(1-a)yt-1
***它们的基本思想都是：预测值是以前观测值的加权和，且对不同的数据给予不同的权，新数据给较大的权，旧数据给较小的权。***








