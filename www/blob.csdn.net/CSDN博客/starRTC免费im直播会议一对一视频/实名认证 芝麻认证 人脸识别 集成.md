# 实名认证 芝麻认证 人脸识别 集成 - starRTC免费im直播会议一对一视频 - CSDN博客
2017年05月04日 18:39:59[starRTC免费IM直播会议一对一视频](https://me.csdn.net/elesos)阅读数：14341
[https://b.zmxy.com.cn/product/productDetail.htm?productId=w1010100000000002978&scene=shop](https://b.zmxy.com.cn/product/productDetail.htm?productId=w1010100000000002978&scene=shop)
移动端sdk
[https://b.zmxy.com.cn/technology/openDoc.htm?relType=OPEN_COMMON_DOC&relInfo=WEB_SDK_DOCUMENT&type=OPN_INFO_DOC](https://b.zmxy.com.cn/technology/openDoc.htm?relType=OPEN_COMMON_DOC&relInfo=WEB_SDK_DOCUMENT&type=OPN_INFO_DOC)
[https://b.zmxy.com.cn/technology/openDoc.htm?id=96](https://b.zmxy.com.cn/technology/openDoc.htm?id=96) 有DEMO
[https://zmmcportal.zmxy.com.cn/technology/openDoc.htm?id=97](https://zmmcportal.zmxy.com.cn/technology/openDoc.htm?id=97)

接口名称zhima.auth.info.authorize
[**https://zmopenapi.zmxy.com.cn/openapi.do**](https://zmopenapi.zmxy.com.cn/openapi.do)
php示例：
芝麻认证查询 
[https://b.zmxy.com.cn/technology/openDoc.htm?relInfo=zhima.customer.certification.query@1.0@1.2&relType=API_DOC&LEFT_MENU_MODE=null#Seq_3](https://b.zmxy.com.cn/technology/openDoc.htm?relInfo=zhima.customer.certification.query@1.0@1.2&relType=API_DOC&LEFT_MENU_MODE=null#Seq_3)
芝麻信用评分 
[https://b.zmxy.com.cn/technology/openDoc.htm?relInfo=zhima.credit.score.get@1.0@1.4&relType=API_DOC&type=API_INFO_DOC&LEFT_MENU_MODEnull#Seq_9](https://b.zmxy.com.cn/technology/openDoc.htm?relInfo=zhima.credit.score.get@1.0@1.4&relType=API_DOC&type=API_INFO_DOC&LEFT_MENU_MODEnull#Seq_9)
openssl 进入OpenSSL程序
OpenSSL> genrsa -out rsa_private_key.pem 1024 生成私钥
OpenSSL> rsa -in rsa_private_key.pem -pubout -out rsa_public_key.pem 生成公钥
OpenSSL> exit  退出OpenSSL程序
主要流程：
业务参数通过系统参数params发送
[http://www.yaomaolei.com/doc/2913](http://www.yaomaolei.com/doc/2913) 坑！！！
[http://www.website-tech.com/155.html](http://www.website-tech.com/155.html)
[https://b.zmxy.com.cn/technology/openDoc.htm?id=67](https://b.zmxy.com.cn/technology/openDoc.htm?id=67)
- include('./ZmopClient.php');
- classTestZhimaAuthInfoAuthorize{
- //芝麻信用网关地址
- public $gatewayUrl
="https://zmopenapi.zmxy.com.cn/openapi.do";
- //商户私钥文件
- public $privateKeyFile
="d:\\keys\\private_key.pem";
- //芝麻公钥文件
- public $zmPublicKeyFile
="d:\\keys\\public_key.pem";
- //数据编码格式
- public $charset
="UTF-8";
- //芝麻分配给商户的 appId
- public $appId
="501";
- 
- publicfunction testZhimaAuthInfoAuthorize(){
- $client =newZmopClient($this->gatewayUrl,$this->appId,$this->charset,$this->privateKeyFile,$this->zmPublicKeyFile);
- $request =newZhimaAuthInfoAuthorizeRequest();
- $request->setChannel("apppc");
- $request->setPlatform("zmop");
- $request->setIdentityType("2");//
 必要参数 
- $request->setIdentityParam("{\"name\":\"张三\",\"certType\":\"IDENTITY_CARD\",\"certNo\":\"330100xxxxxxxxxxxx\"}");//
 必要参数 
- $request->setBizParams("{\"auth_code\":\"M_H5\",\"channelType\":\"app\",\"state\":\"商户自定义\"}");//
- $url = $client->generatePageRedirectInvokeUrl($request);
- echo $url;
- }
- }
报“芝麻私钥解密错误”   
     请使用芝麻公钥对数据加密
[https://b.zmxy.com.cn/hall/knowledgeDetail.htm?knowledgeId=438](https://b.zmxy.com.cn/hall/knowledgeDetail.htm?knowledgeId=438)
1）检查商户的公私钥是否匹配
2） 检查商户是否用芝麻公钥和商户私钥入参，芝麻公钥在后台应用可点击复制，商户私钥自己生成；
3）SDK客户端授权，检查服务端生成的params和sign是否有%，如果有%，需在客户端进行urldecode
芝麻认证（人脸）需要授权吗？        
芝麻认证是通过人脸识别、银行卡验证等手段，对用户进行实人验证的产品，验证时需要用户同意芝麻认证授权委托协议，不需要再单独接授权接口。
技术遇到问题找谁咨询？        
请联系旺旺（账号类型选择淘宝）：芝麻信用技术支持
芝麻认证的三个接口有什么关系？如何运用芝麻认证的接口？     
快速接入：
[https://b.zmxy.com.cn/technology/openDoc.htm?LEFT_MENU_MODE=LEFT_BLANK&id=566](https://b.zmxy.com.cn/technology/openDoc.htm?LEFT_MENU_MODE=LEFT_BLANK&id=566)
SDK授权，客户端如何从服务端获取params和sign参数？        
服务端调用页面授权接口，通过调用芝麻SDK中的DefaultZhimaClient类的generatePageRedirectInvokeUrl方法生成URL，客户端获取URL中的params和sign参数，如果这两个参数中有%，需进行urldecode, 再唤起SDK中的授权方法

目前移动端SDK只适用于授权
认证是扫脸查是否实人，没有提供移动端SDK，只能通过服务端生成链接移动端唤起支付宝钱包扫脸认证
您要明白你们签约的是哪个产品h
[https://b.zmxy.com.cn/product/productDetail.htm?productId=w1010100000000002978](https://b.zmxy.com.cn/product/productDetail.htm?productId=w1010100000000002978)
芝麻信用技术支持 2017-03-15 15:30:10
这个是认证
芝麻信用技术支持 2017-03-15 15:30:15
没有移动端SDK
移动sdk授权干嘛用的？
授权是接口，为接授权产品如芝麻分和行业关注名单作准备的
你后台没有签约芝麻信用评分和行业关注名单吧，如果没有，就不用移动sdk
生成的url需要在手机里面打开
应用里面就一个回调地址，如果有android和ios，是不是要新建2个应用？
是的，在开始认证接口，return_url参数传入里，可以传你们app的协议地址
目前不支持删除应用
另企业别称最好填app名字，会在认证页面显示。不能修改，需要打客服电话，下载材料盖章后上传才能修改。

