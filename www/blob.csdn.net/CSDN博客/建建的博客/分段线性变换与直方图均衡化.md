# 分段线性变换与直方图均衡化 - 建建的博客 - CSDN博客
2017年02月12日 21:15:50[纪建](https://me.csdn.net/u013898698)阅读数：3725
- 分段线性变换
- 两种实用的直方图修正技术:直方图均衡化和直方图规定化
- 本章的典型案例分析 
- 基于直方图均衡化的图像灰度归一化
- 直方图匹配
- 分段线性变换
- 
分段线性变换有很多种， 包括灰度拉伸、 灰度窗口变换等， 本节仅讲述最为常用的灰度拉伸．
利用分段线性变换函数来增强图像对比度的方法实际是增强原图各部分的反差，即增强输入图像中感兴趣的灰度区域，相对抑制那些不感兴趣的灰度区域。分段线性函数的主要优势在于它的形式可任意合成，而其缺点是需要更多的用户输入．
![](https://raw.githubusercontent.com/whuhan2013/myImage/master/dataImage/chapter32/p1.png)
![](https://raw.githubusercontent.com/whuhan2013/myImage/master/dataImage/chapter32/p2.png)
分段的灰度拉伸可以更加灵活地控制输出灰度直方图的分布，可以有选择的拉伸某段灰 
度区间以改善输出图像。如果一幅图像灰度集中在较暗的区域而导致图像偏暗，我们可以用 
灰度拉伸功能来扩展（斜率＞1）物体灰度区间以改善图像：同样，如果图像灰度集中在较亮 
的区域而导致图像偏亮，也可以用灰度拉伸功能来压缩〈斜率＜1)物体灰度区间以改善图像 
质量。
灰度拉伸是通过控制输出图像中灰度级的展开程度来达到控制对比度的效果。一般情况 
下都限制，从而保证函数单调递增，以避免造成处理过的图像中灰度级发生颠倒．
#### 直方图均衡化
直方图均衡化又称灰度均衡化．是指通过某种灰度映射使输入图像转换为在每一灰度级 上都有近似相同的像素点数的输出图像（即输出的直方图是均匀的〉。在经过均衡化处理后的图像中，像素将占有尽可能多的灰度级并且分布均匀．因此，这样的图像将具有较高的对比度和较大的动态范围。
为了便于分析，首先考虑灰度范围为0～1且连续的情况。此时图像的归一化直方图即为概率密度函数
![](https://raw.githubusercontent.com/whuhan2013/myImage/master/dataImage/chapter32/p4.png)
- ![](https://raw.githubusercontent.com/whuhan2013/myImage/master/dataImage/chapter32/p7.png)
- 
#### 直方图规定化
直方图均衡化[算法](http://lib.csdn.net/base/datastructure)可以自动确定灰度变换函数， 从而获得具有均匀直方图的输出图像。它主要用于增强动态范围偏小的图像对比度， 丰富图像的灰度级。
 这种方法的优点是操作简单， 且结果可以预知， 当图像需要自动增强时是一种不错的选择。
但有时用户也希望可以对变换过程加以控制， 如能够人为地修正直方图的形状， 或者说获得具有指定直方图的输出图像．．这样就可以有选择地增强某个灰度范围内的对比度或使图 
像灰度值满足某种特定的分布 这种用于产生具有特定直方图图像的方法叫做直方图规定化，或直方图匹配．
直方图规定化是在运用均衡化原理的基础上，通过建立原始图像和期望图像〈待匹配直方图的图像〉之间的关系，使原始图像的直方图匹配特定的形状，从而弥补直方图均衡不具备交互作用的特性。
直方图规定化增强处理的步骤如下： 
1，其增强原理是先对原始的直方图均衡化：S = T(r) 
2，同时对规定的直方图均衡化：v = G(z) 
3，由于都是均衡化，故令 S = v，则： 。
当然，在实际计算中我们利用的是上述公式的离散形式，这样就不必去关心函数只f(r），g(z) 
以及反变换函数g的具体解析形式， 而可以直接将它们作为映射表处理。其中， f(r）为输入 
图像均衡化的离散灰度级映射关系， g(z）为标准图像均衡化的离散灰度级映射关系， 而g 
则是标准图像均衡化的逆映射关系， 它给出了从经过均衡化处理的标准化图像到原标准图像 
的离散灰度映射， 相当于均衡化处理的逆过程。
![](https://raw.githubusercontent.com/whuhan2013/myImage/master/dataImage/chapter32/p8.png)
matlab实现
histeq函数不仅可以用于直方图均衡化， 也可以用于直方图规定化， 此时需要提供可选 
参数hgram. 调用语法为: 
[J, T]=histeq(I, hgram)
函数会将原始图像I处理成一幅以用户指定向量hgram作为直方图的图像。 
参数hgram的分量数目即为直方图的收集箱数目。对于double型图像，hgram的元素取 
值范围是［O, 1）：对于uint8型图像为［O, 255）：对于uint16型图像则为（0, 65535）。 
其他参数的意义与在直方圈均衡化中的相同。
![](https://raw.githubusercontent.com/whuhan2013/myImage/master/dataImage/chapter32/p9.png)
- 
[转载地址](http://blog.csdn.net/whuhan2013/article/details/53782127)
