# rtp协议解析 - 建建的博客 - CSDN博客
2017年01月22日 16:25:50[纪建](https://me.csdn.net/u013898698)阅读数：216
RTP简要介绍
实时传送协议（Real-time Transport Protocol或简写RTP，也可以写成RTTP）是一个网络传输协议，它是由[IETF](http://baike.baidu.com/view/155093.htm)的多媒体传输工作小组1996年在RFC
 1889中公布的。
RTP协议详细说明了在互联网上传递音频和视频的标准数据包格式。它一开始被设计为一个多播协议，但后来被用在很多单播应用中。RTP协议常用于流媒体系统（配合RTCP协议或者[RTSP协议](http://www.cnblogs.com/qingquan/archive/2011/07/14/2106834.html)）。
RTP协议格式：
    0                   1                   2                   3
    0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   |V=2|P|X|  CC   |M|     PT      |       sequence number         |
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   |                           timestamp                           |
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   |           synchronization source (SSRC) identifier            |
   +=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+
   |            contributing source (CSRC) identifiers             |
   |                             ....                              |
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+从百度百科上粘过来的图V 是版本号P 填充标志位，如果p=1，尾部有一个或者多个额外的八位填充X 扩展填充 如果X=1，rtp包头后面有一个额外扩展报头
CC：CSRC计数器，占4位，指示CSRC 标识符的个数。
M：标记，占1位，不同的有效载荷有不同的含义，对于视频，标记一帧的结束；对于音频，标记会话的开始。
PT：区分荷载类型视频流 音频流 ，如GSM音频和H264视频。
sequence number:序列号，每个包增加1
这个字段当下层的承载协议用UDP的时候，网络状况不好的时候可以用来检查丢包。同时出现网络抖动的情况可以用来对数据进行重新排序，在helix服务器中这个字段是从0开始的，同时音频包和视频包的sequence是分别记数的。
timestamp：时间戳 时戳反映了该RTP报文的第一个八位组的采样时刻。接收者使用时戳来计算延迟和延迟抖动，并进行同步控制由于目前一直在看rtsp服务器的东西，想把看到的记录下来。不完善的地方希望大神指出来

