# 武汉市公交站点区域性分析 - 小平子的专栏 - CSDN博客





2015年04月30日 09:53:33[阿拉丁吃米粉](https://me.csdn.net/jinping_shi)阅读数：1533








![版權聲明](https://img-blog.csdn.net/20160117172627181)

有段时间没有骑车上下班，坐公交的时候就时常想武汉一共有多少条公交线路，一共有多少个公交站点，哪些公交站点比较好转车之类的问题。刚好那时候看了一篇分析北京地铁站区域性优劣分析的帖子，于是想武汉是不是也可以顺带做一下分析呢。武汉地铁不多，可以做公交的分析。
先利用百度地图API获取武汉市的公交信息，主要包括公交线路名称和坐标，公交站点名称和坐标。其实除了这两项还可以获取其他很多信息，比如运营公司，运营时间等。获取信息后可以在GIS软件中展示，武汉公交的分布是这样子的。汉口很密，武昌比较稀。整个武汉295条公交线路，2052个公交站，公交站点重复率约为72.58％。

![这里写图片描述](https://img-blog.csdn.net/20150430100401796)

之后就是整理分析数据。那篇帖子里每个地铁站有三个指标，分别是Closeness，Betweeness和大名鼎鼎的Page Rank。研究了一下，原理似乎很简单，但过程好繁复的样子，没那么多业余时间做，于是我就自己意淫了两个指标来判断公交站点的优劣。

第一个指标与Closeness相似，即A站点有多少条公交线路，记做n（n从0开始），相当于网络中一个节点的边数。如果A站点n很大，表示这个公交站有很多条公交线路可以坐，转车会很方便。

第二个指标与公交线路有关，稍微用到点Page Rank的思想。假设A站点有两条公交线路B和C，如果B线路沿途停靠的站点都是n很大的站点，而C线路沿途停靠的站点都是n很小的站点，那么通常来说肯定是B线路比较好，因为乘坐B线路比C线路能到达更多的地方。B和C都在站点A交会，因此B和C的质量对站点A的质量也是有影响的。这个指标记做m，可以看成是途经A的公交线路的质量高低的一个指标。因此站点A的好坏可以用n和m来综合评价，即从数量和质量两方面评价。如果一个车站n很小但是m很大，表示虽然这个站点可供选择的线路不多，但是仍然可以乘坐这些公交方便地到达其它地方。如果n和m都很小，那就悲剧了，很不方便！

可以想到，如果某个站点n为0表示这个车站只有一条公交线路经过。而m是对整条公交线路进行计算的，如果m为0表示这条公交线路不与任何其他公交线路交会，如果坐上了m为0的公交车，那么你始终无法到达除这条线路途经站点外的任何其它站点（理论上是这样的）。意淫这个指标的时候就想应该不会有这种奇葩的公交线路吧，后来分析一看，有一条。

n很好计算，m怎么计算？m可以对公交线路途经的每个站点的n求和，再除以这条公交线路的站点总数，表示该条公交线路的平均站点重复数。因为只要坐上了一辆公交车，就可以到达这辆公交车途经的任何站点，所以如果某条线路的m确定，它经过的所有站点的都是m。一个站点可能会有多个m，取最大的那个。如果一个车站的m很大，表示这个站点有一条公交线路的质量很高，即坐上这路公交车你可以到达很多地方。都说有了求和符号或积分符号可以使文章变得更高级，那就写一下m的公示： 


$	m_1 = \dfrac{\sum_{j}^{n}n_j}{N} $

其中mi为第i条公交线路的m指标，N表示线路i的站点数，nj表示线路i中第j个站点的n指标。

为了方便计算，对n和m归一化。计算n和m后简单求和得到最终的评价指标M，即M=n+m。则指标取值范围是[0, 2]，最后计算出的M值的标准差为0.342。好的车站和人们的认识也相符合，都是些商业区或者车站附近，例如下面排名前十的公交站，光谷广场和洪山都是所谓的公交枢纽。其中丁字桥和洪山M值居然是2，住在这附近应该有很多公交可以任君选择。看了下我家门口的公交站，M值为0.819，排到了300多名，但是对于2000多个站点来讲，应该很好了。公司门口我经常坐的公交站M值为1.105，方便各位上班族。1.105是什么概念呢，这个站有5趟车可以到我家里，所以我平常看到哪辆车空就坐哪辆，可以挑挑拣拣，这就是站点的区位优势。

```
站点名称           值
武珞路丁字桥        2
武珞路洪山          2
武珞路街道口        1.970588235
珞喻路广埠屯        1.882352941
鹦鹉大道古琴台      1.823529412
解放大道宗关        1.690896247
武珞路阅马场        1.676470588
珞喻路光谷广场      1.647058824
解放大道太平洋      1.632072718
```

下图是m和n的散点图，越靠近右上角的公交站越好，就是坐车越方便。

![这里写图片描述](https://img-blog.csdn.net/20150430094203389)

上图中橘红色的三角形表示M大于1的站点，这样的站点不多，如果住在这样的站点附近，应该很方便，买房时可以用来参考呵。M大于1的站点分布如下图，做了600m的缓冲区分析。这个范围大致能覆盖我住的地方。

![这里写图片描述](https://img-blog.csdn.net/20150430095013513)

那小于M值小于0.2的公交站都是些什么屌丝站点？这些站点大部分分布在三环外，如下图。

![这里写图片描述](https://img-blog.csdn.net/20150430095045103)

那有没有M值等于0的站点？就是n和m都等于0的奇葩站点。有的，这些站点就是918路途经的站点。

其实公交站点的分布受很多因素影响，对个人而言，坐哪一路公交跟工作、娱乐等相关，有很强的个人生活特征，所以这种全局的指标计算是很坑爹的，它假定每个人什么时候坐公交，在哪个站点坐公交，去什么地方都是随机的。

虽然坑爹，但我就是无聊做着玩一下。

那篇评价北京地铁站重要性的文章：[http://www.bjt.name/2013/01/Beijing-subway/](http://www.bjt.name/2013/01/Beijing-subway/)




