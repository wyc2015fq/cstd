# FPGA的ip核之概念和分类 - maopig的专栏 - CSDN博客
2012年12月22日 14:42:31[maopig](https://me.csdn.net/maopig)阅读数：13570
                
ip核之概念和分类
IP（Intellectual Property）内核模块是一种预先设计好的甚至已经过验证的具有某种确定功能的集成电路、器件或部件。它有几种不同形式。IP内核模块有行为（behavior）、结构（structure）和物理（physical）3级不同程度的设计，对应有主要描述功能行为的“软IP内核(soft IP core)”、完成结构描述的“固IP内核(firm IP core)”和基于物理描述并经过工艺验证的“硬IP内核(hard IP core)”3个层次。这相当于集成电路（器件或部件）的毛坯、半成品和成品的设计技术。
用更加便于理解的话来来说如下：
**软核**是用VHDL等硬件描述语言描述的功能块，但是并不涉及用什么具体电路元件实现这些功能。软IP通常是以硬件描述语言HDL源文件的形势出现，应用开发过程与普通的HDL设计也十分相似，只是所需的开发硬软件环境比较昂贵。软IP的设计周期短，设计投入少。由于不涉及物理实现，为后续设计留有很大的发挥空间，增大了IP的灵活性和适应性。其主要缺点是在一定程度上使后续工序无法适应整体设计，从而需要一定程度的软IP修正，在性能上也不可能获得全面的优化。由于软核是以源代码的形式提供，尽管源代码可以采用加密方法，但其知识产权保护问题不容忽视。
**硬核**提供设计阶段最终阶段产品：掩模。以经过完全的布局布线的网表形式提供，这种硬核既具有可预见性，同时还可以针对特定工艺或购买商进行功耗和尺寸上的优化。尽管硬核由于缺乏灵活性而可移植性差，但由于无须提供寄存器转移级(RTL)文件，因而更易于实现IP保护。
**固核**则是软核和硬核的折衷。大多数应用于FPGA的IP内核均为软核，软核有助于用户调节参数并增强可复用性。软核通常以加密形式提供，这样实际的 RTL对用户是不可见的，但布局和布线灵活。在这些加密的软核中，如果对内核进行了参数化，那么用户就可通过头文件或图形用户接口(GUI)方便地对参数进行操作。对于那些对时序要求严格的内核(如PCI接口内核)，可预布线特定信号或分配特定的布线资源，以满足时序要求。这些内核可归类为固核，由于内核是预先设计的代码模块，因此这有可能影响包含该内核的整体设计。由于内核的建立(setup)、保持时间和握手信号都可能是固定的，因此其它电路的设计时都必须考虑与该内核进行正确地接口。如果内核具有固定布局或部分固定的布局，那么这还将影响其它电路的布局。
      软IP内核通常是用某种HDL（硬件描述语言HDL(Hardware Description Language)）文本提交用户，它已经过行为级设计优化和功能验证，但其中不含有任何具体的物理信息。据此，用户可以综合出正确的门电路级网表，并可以进行后续结构设计，具有最大的灵活性，可以很容易地借助于EDA综合工具与其他外部逻辑电路结合成一体，根据各种不同的半导体工艺，设计成具有不同性能的器件。可以商品化的软IP内核一般电路结构总门数都在5000门以上。但是，如果后续设计不当，有可能导致整个结果失败。软IP内核又称作虚拟器件。
>> arm是硬核还是软核
      半导体知识产权（IP）授权这种新兴的商业模式近两年吸引了越来越多公司的参与。最早进入[市场](http://article.ednchina.com/word/46324.aspx)的[ARM](http://article.ednchina.com/word/46322.aspx)、MIPS在挖到第一桶黄金之后，IBM、Tensilica、AMD也纷纷走上[IP授权](http://article.ednchina.com/word/46323.aspx)之路。IBM公司已经将其在业内影响非常大、但一直专用的Power
 PC系列微处理器架构开放；强调可配置性的Tensilica其市场宣传力度也是有增无减；而全球两大x86 CPU芯片供应商之一的AMD也一改过去只卖芯片的业务模式，将其一款用于嵌入式应用的CPU 核拿出来进行IP授权。
　　市场的需求、更快的上市时间的压力、设计复杂度的日益提升，以及产业越来越细化的分工，共同促进了IP产业的快速发展。市场调研公司Semico Research指出，IP是刺激半导体产业增长的下一个“杀手应用”催化剂。该公司预测，半导体IP市场2009年将超过41亿美元，复合年增长率为23.2%。
　　在IP授权市场上，到目前为止最值得提及的应该还是最早的进入者ARM，除了其产品本身的优点以外，ARM构建了一个强大的生态系统。据介绍，目前ARM 共有600多家合作伙伴，这其中包括系统和物理IP提供商、工具提供商，以及操作系统和应用软件
提供商。尽管ARM不断有新产品推出，但在ARM的所有产品中，ARM 7仍然是主流，ARM中国总裁谭军博士介绍，2004年授权的13亿个ARM芯片中，大约有四分之三是ARM 7。他表示：“我们估计，2005年这个数字约是16亿，而到2010年，这个数字有望达到45亿。我们希望ARM的增长速度能保持在半导体行业增长速度的两倍。”
　　面对中国市场，一些IP提供商已经在逐渐开放其软核，而ARM还是主推硬核，对于这一点，谭军解释：“我们认为，在中国市场80%以上的客户不需要软核。首先，用软核进行开发，面市时间（time-to-market）通常是12个月，而硬核仅需要3个月；此外，在客户把软核做成硬核的过程中，同时还要保证性能和硬核一样好。对于这一点，只有那些具有完善的流程和人力保证的公司才可以做到；而且软核的授权费用比硬核高，因为硬核相对来说是通用的，其支持和维护的费用由多家公司平摊，而软核因为用户少，因而每个公司需要负担的费用相对较高。”
　　而对于目前市场上的可配置IP核，谭军认为，由于采用可配置IP的系统，需要自己写软件，这对客户的要求很高。而由于ARM核的不可配置性，不用担心软件的兼容性问题。目前， Windows Mobile、Palm、Symbian等主流的操作系统都支持ARM核。
　　ARM始终关注那些消费产品相关的应用，如数字家庭、手机和汽车电子，这些应用也最能体现ARM核低功耗的优势。谭军介绍：“目前国内已经有20多家公司从ARM 获得授权，分别用于多媒体手机、数字电视、PMP等消费电子产品的设计。”在ARM中国2005技术研讨会上，谭军向与会听众展示了国内一家本土厂商采用ARM 9完全自主设计的多媒体手机，该手机具有卡拉OK、看电影、摄像等众多功能。
      唉，复杂，搞不明白。
