# 静态链接库LIB和动态链接库DLL的区别 创建和示例 - maopig的专栏 - CSDN博客
2011年08月09日 15:14:51[maopig](https://me.csdn.net/maopig)阅读数：1105标签：[dll																[exe																[c](https://so.csdn.net/so/search/s.do?q=c&t=blog)](https://so.csdn.net/so/search/s.do?q=exe&t=blog)](https://so.csdn.net/so/search/s.do?q=dll&t=blog)
个人分类：[c/C++](https://blog.csdn.net/maopig/article/category/847675)
1.什么是静态连接库，什么是动态链接库
  静态链接库与动态链接库都是共享代码的方式，如果采用静态链接库，则无论你愿不愿意，lib 中的指令都全部被直接包含在最终生成的 EXE 文件中了。但是若使用 DLL，该 DLL 不必被包含在最终 EXE 文件中，EXE 文件执行时可以“动态”地引用和卸载这个与 EXE 独立的 DLL 文件。静态链接库和动态链接库的另外一个区别在于静态链接库中不能再包含其他的动态链接库或者静态库，而在动态链接库中还可以再包含其他的动态或静态链接
 库。静态链接库与静态链接库调用规则总体比较如下。  
对于静态链接库(比较简单)：
首先，静态链接库的使用需要库的开发者提供生成库的.h头文件和.lib文件。
生成库的.h头文件中的声明格式如下：
extern "C" 函数返回类型 函数名(参数表);
在调用程序的.cpp源代码文件中如下：
#include "..\lib.h"
#pragma comment(lib,"..\\debug\\libTest.lib")  
//指定与静态库一起链接
第二，因为静态链接库是将全部指令都包含入调用程序生成的EXE文件中。因此如果用的是静态链接库，那么也就不存在“导出某个函数提供给用户使用”的情况，要想用就得全要！要不就都别要！:)
对于动态链接库：
动态链接库的使用需要库的开发者提供生成的.lib文件和.dll文件。或者只提供dll文件。
首先我们必须先注意到DLL内的函数分为两种：  
(1)DLL 导出函数，可供应用程序调用；  
(2)DLL 内部函数，只能在 DLL 程序使用，应用程序无法调用它们。
因此调用程序若想调用DLL中的某个函数就要以某种形式或方式指明它到底想调用哪一个函数
静态库与导入库的区别：
导入库和静态库的区别很大，他们实质是不一样的东西。静态库本身就包含了实际执行代码、符号表等等，而对于导入库而言，其实际的执行代码位于动态库中，导入库只包含了
地址符号表等，确保程序找到对应函数的一些基本地址信息。
静态链接与动态链接：
静态链接方法：#pragma comment(lib, "test.lib") ，静态链接的时候，载入代码就会把程序会用到的动态代码或动态代码的地址确定下来
静态库的链接可以使用静态链接，动态链接库也可以使用这种方法链接导入库
动态链接方法：LoadLibrary()/GetProcessAddress()和FreeLibrary()，使用这种方式的程序并不在一开始就完成动态链接，而是直到真正调用动态库代码时，载入程序才计算(被调用的那部分)动态代码的逻辑地址，然后等到某个时候，程序又需要调用另外某块动态代码时，载入程序又去计算这部分代码的逻辑地址，所以，这种方式使程序初始化时间较短，但运行期间的性能比不上静态链接的程序。
