# 嵌入式NVR发展浅析 - maopig的专栏 - CSDN博客
2013年11月13日 18:29:34[maopig](https://me.csdn.net/maopig)阅读数：1651
随着视频监控的高速发展，视频监控对硬盘录像机的要求也在不断提高，在以往“看得见”的基础上，要求视频画面看的更为清晰、准确。相对于传统硬盘录像机，NVR最主要的特征就是“网络化”、“高清化”，在视频监控“高清化”的进程中，NVR的市场应用正逐渐增多，已经广泛辐射到政府、公安、金融、教育、交通等领域，近三年内发展十分迅速。
但我们仍需认识到，国内视频监控还处于一个发展阶段，存在缺乏统一的规范，网络设备之间的兼容性差、高清存储网络的局限性等问题。NVR作为连接网络高清设备的主力军，在后续较长的一段时间内将和DVR、混合DVR等设备共存，对视频监控的发展和应用做出相应的贡献。
**嵌入式NVR将是主力军**
 NVR具有不同的产品形态，但其主要核心功能都是网络视音频图像的获取、存储及转发，并提供相应的管理功能。目前市场上主要有软件式和硬件式两大类NVR产品，软件式NVR厂商以软件的形式提供给用户，用户可自行安装到相应的PC机或服务器上；硬件式又可以分为PC-Based
 NVR和嵌入式NVR。PC-Based NVR采用通用PC，厂商进行一定的结构改善，为用户提供一套软硬件一体的方案；嵌入式NVR是专用的硬件设备和嵌入式操作系统的结合产物，可根据用户需求进行结构和外观设计，提供丰富的软硬件接口，更贴近用户实际需求。此外，嵌入式NVR继承了传统DVR便捷的UI操作界面和操作习惯，支持本地化的图像预览和回放操作，而且嵌入式操作系统不会因病毒等原因导致设备无法使用或者异常关机重启，确保系统高可靠性和稳定性，所以嵌入式NVR今后将会是NVR产品中的主力军。
**网络设备的兼容性**
嵌入式NVR支持网络视频服务器、网络摄像机和网络球机的接入，接入的方式主要有厂家私有协议、RTSP、ONVIF和PSIA协议等几种方式，尤其是这两年标准ONVIF和PSIA协议的普遍应用，在一定程度上很好的解决了以往各厂商协议不同，接入困难的难题。但目前标准协议定义相对还不够完善，只能满足一些基本功能的实现，而且各厂商开发人员对协议的理解也不尽相同，在实际应用中还是会出现很多兼容性的问题。另外，各厂商网络编码设备的编码格式、封装格式可能都不相同，在一定程度也给兼容性增加了困难。所以如何更好地实现不同厂商网络编码设备的兼容，给设备厂商提出更高的要求。
**网络设备的大容量接入**
随着嵌入式NVR本身硬件和网卡的性能不断提升和网络摄像机的编码性能的不断提升，以往720p分辨率编码需要3-4Mbps码率，而现在只需要2Mbps。这两方面都在不断促进嵌入式NVR接入路数的提升，很多厂商都已生产出了64路甚至更高路数的产品，网络吞吐量也可以达到400Mbps以上，在保证网络编码设备接入和本地实时预览的同时，可以连入平台实现远程预览、回放和管理。
**存储安全性**
网络视频监控设备，保证实时监控的同时录像存储也占据非常重要的地位。嵌入式NVR延续了传统DVR磁盘预分配技术、硬盘SMART预警技术、硬盘分组管理、通道配额设置，冗余录像、重要录像文件保护等机制，在提高数据安全性的同时，可针对实际应用提供更加灵活的配置和管理机制。另外，根据嵌入式NVR通过网络采集音视频图像的特点，对其数据存储安全性提出了更高的要求，此时RAID、ANR和N+1热备等技术应用到了嵌入式NVR设备上。
      RAID（Redundant Array of Independent Disks的缩写）是一种把多块独立的物理硬盘按不同方式组合起来形成一个逻辑硬盘，可配置RAID 0/1/5/10等多种类型阵列冗余，支持阵列重建、阵列一键配置等功能，提升本地存储可靠性。以往RAID技术在嵌入式NVR上更多的是通过扩展RAID卡的硬RAID方式来实现，这种方式不但增加了设备的硬件成本，且RAID卡通常由第三方厂商提供，势必影响了嵌入式NVR和RAID卡之间的兼容性和稳定性，所以现在设备厂商基于嵌入式NVR的原有系统基于软件开发实现了RAID功能，俗称软RAID，它不但解决了硬RAID在嵌入式NVR上应用的不足，而且可以提供更便捷的操作和维护方式，将逐步替代硬RAID在嵌入式NVR上的应用。
      ANR（Automatic Network Replenishment Technology的缩写）是一种结合网络编码设备本地存储和NVR网络存储的技术。NVR的工作基础是网络，但网络承载业务的复杂性都比较高，难免会出现一些不稳定的状况，导致NVR与IPC之间出现短暂的网络断连，此时支持ANR技术的NVR和前端网络编码设备会自动将录像存储在前端设备中，待网络恢复后，
 NVR恢复录像并将前端设备存储的录像数据迁移到NVR中，保证NVR录像的完整性，提升网络存储的安全性。
      N+1热备系统是指在NVR存储网络中安置热备NVR设备，当一台工作NVR出现异常下线时，热备NVR自动接管异常设备的IP通道进行录像，当工作NVR故障恢复后，热备NVR将录像回迁到原工作NVR，回迁完成后热备NVR恢复空闲状态，可继续为网络内的其他NVR提供热备，时刻保证网络存储的稳定性与安全性。
随着目前高清网络摄像机的普及，价格与模拟摄像机的差距逐渐缩小，高清网络存储的需求也逐年扩大，如果可以更好提升嵌入式NVR网络设备的接入兼容性，并将软RAID、ANR和N+1热备技术应用在嵌入式NVR上，解决目前大家对其网络存储稳定性和安全性的后顾之忧，那很有可能迎来嵌入式NVR发展的热潮。
