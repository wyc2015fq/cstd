# 数学小记 - tkokof1的专栏 - CSDN博客

2017年12月19日 10:14:25[tkokof1](https://me.csdn.net/tkokof1)阅读数：371


近来看到的一个小小的数学问题，简单一记~

## 问题

**给定任一奇数a,求平方数b,使其与a的和等于另一平方数c**

初一看该问题没想到直接的构造方法,首先使用穷举法来看下小范围数值的结果:

```
function is_square_num(n)
    local sqrt = math.floor(math.sqrt(n))
    return sqrt * sqrt == n
end

function calc_square_sum(n)
    local begin = 1
    while true do
        local b = begin * begin
        if is_square_num(b + n) then
            return b
        else
            begin = begin + 1
        end
    end
end

function print_square_sum(n)
    local b = calc_square_sum(n)
    print(n .. " + " .. b .. " = " .. (n + b))
end
```

测试一些小范围数值:

```
print_square_sum(3)
print_square_sum(5)
print_square_sum(7)
```

结果如下:

```
3 + 1 = 4
5 + 4 = 9
7 + 9 = 16
```

观察到程序搜索到的b和c都可以写成n和n+1的形式:

![](https://img-blog.csdn.net/20171219101123801?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvdGtva29mMQ==/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast)

我们简单来计算一下 (n+1)^2 - (n)^2:

![](https://img-blog.csdn.net/20171219101200650?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvdGtva29mMQ==/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast)

结果为 2n + 1, 考虑到任一奇数都可以表示成这种形式,所以使用以下构造方法即可立即得到上述的b和c:

![](https://img-blog.csdn.net/20171219101223450?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvdGtva29mMQ==/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast)

改写的代码如下:

```
function is_square_num(n)
    local sqrt = math.floor(math.sqrt(n))
    return sqrt * sqrt == n
end

function calc_square_sum(n)
    local b = (n - 1) / 2
    return math.floor(b * b)
end

function print_square_sum(n)
    local b = calc_square_sum(n)
    print(n .. " + " .. b .. " = " .. (n + b))
end
```

## 引申问题

**证明给定任一奇平方数a,都存在偶平方数b,使其与a的和等于另一平方数c**

首先奇平方数也是奇数,所以根据第一个问题的结论方法,我们可以找到符合条件的平方数b和c,其中:

![](https://img-blog.csdn.net/20171219101241413?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvdGtva29mMQ==/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast)

剩下的问题便是证明b是偶数,结合a是奇平方数的前提,我们可以得到:

![](https://img-blog.csdn.net/20171219101300310?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvdGtva29mMQ==/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast)

综上,问题得证~

