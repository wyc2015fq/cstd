# mysql分区分表 - LC900730的博客 - CSDN博客
2017年10月19日 22:06:26[lc900730](https://me.csdn.net/LC900730)阅读数：202
## 分表
分表是将一个大表按照一定的规则分解成多张具有独立存储空间的实体表。
行锁是加在索引上的，不是加在数据记录上的，如果sql没有用到索引依然会锁表
分区表的请求，会通过句柄对象转化成对存储引擎的接口调用，所以分区对于SQL来说是一个完全封装层实现的黑盒子，对应用是透明的。但是底层文件可以看出，每一个分区表都有一个使用#分隔命名的表文件。
创建分区表使用Partition by，在执行查询的时候，优化器会根据分区定义过滤那些没有我们需要数据的分区，这样查询就不会扫描所有的分区。
分区目的：将数据按照一个较粗的粒度分在不同的表中，这样可以将相关数据存放在一起。
select：当查询一个分区的时候，分区层先打开并锁住所有底层表，优化器判断是否可以过滤部分分区，然后在调用对应的存储引擎接口访问各个分区的数据。 
Insert：先锁住所有，然后确定哪个分区接收这条记录，在写入对应表。 
update:先锁住，然后判断需要 更新的在哪个分区，更新后的在哪个分区。
