# 电灯小游戏 - Soul Joy Hub - CSDN博客

2016年06月13日 09:58:21[卓寿杰_SoulJoy](https://me.csdn.net/u011239443)阅读数：230


  1unit Unit6;
  2  3interface
  4  5uses
  6  Windows, Messages, SysUtils, Variants, Classes, Graphics, Controls, Forms,
  7  Dialogs, bsSkinData, BusinessSkinForm, bsSkinCtrls, ImgList, ExtCtrls,
  8  StdCtrls, bsSkinBoxCtrls, GIFImg, bsSkinExCtrls;
  9 10type 11   TForm6 = class(TForm)
 12    bsBusinessSkinForm1: TbsBusinessSkinForm;
 13    bsSkinData1: TbsSkinData;
 14    bsCompressedStoredSkin1: TbsCompressedStoredSkin;
 15    Panel: TPanel;
 16    Panel1: TPanel;
 17    Panel2: TPanel;
 18    Panel3: TPanel;
 19    Panel4: TPanel;
 20    Panel5: TPanel;
 21    Panel6: TPanel;
 22    Panel7: TPanel;
 23    Panel8: TPanel;
 24    Panel9: TPanel;
 25    Panel10: TPanel;
 26    Panel11: TPanel;
 27    Panel12: TPanel;
 28    Panel13: TPanel;
 29    Panel14: TPanel;
 30    Panel15: TPanel;
 31    Panel16: TPanel;
 32    Panel17: TPanel;
 33    Panel18: TPanel;
 34    Panel19: TPanel;
 35    Panel20: TPanel;
 36    Panel21: TPanel;
 37    Panel22: TPanel;
 38    Panel23: TPanel;
 39    Panel24: TPanel;
 40    Panel25: TPanel;
 41    bsSkinButton1: TbsSkinButton;
 42    bsSkinMemo1: TbsSkinMemo;
 43    bsSkinComboBox1: TbsSkinComboBox;
 44    Label1: TLabel;
 45    bsSkinButton2: TbsSkinButton;
 46    Image1: TImage;
 47procedure FormCreate(Sender: TObject);
 48procedure Panel1Click(Sender: TObject);
 49procedure bsSkinButton1Click(Sender: TObject);
 50procedure bsSkinComboBox1Click(Sender: TObject);
 51procedure bsSkinButton2Click(Sender: TObject);
 52  private
 53{ Private declarations } 54  public
 55{ Public declarations } 56end;
 57 58var 59  Form6: TForm6;
 60     p:array[1..25] of TPanel;
 61     c:array[1..25] of Boolean;
 62    cl:Tcolor;
 63implementation
 64 65{$R *.dfm} 66 67 68 69procedure TForm6.bsSkinButton1Click(Sender: TObject);
 70var i:integer;
 71begin 72for I := 1to25do 73begin 74         p[i].Tag:=i;
 75         c[i]:=false;
 76         p[i].Color:=clBlack;
 77end;
 78end;
 79 80procedure TForm6.bsSkinButton2Click(Sender: TObject);
 81begin 82 application.MessageBox('卓寿杰 1312070327','关于',1) ;
 83end;
 84 85procedure TForm6.bsSkinComboBox1Click(Sender: TObject);
 86begin 87if bsSkinComboBox1.ItemIndex=0then 88 cl:=clRed;
 89if bsSkinComboBox1.ItemIndex=1then 90 cl:=clYellow;
 91if bsSkinComboBox1.ItemIndex=2then 92 cl:=clBlue;
 93 94end;
 95 96procedure TForm6.FormCreate(Sender: TObject);
 97var i:integer;
 98begin 99     p[1]:=Panel1;
100     p[2]:=Panel2;
101     p[3]:=Panel3;
102     p[4]:=Panel4;
103     p[5]:=Panel5;
104     p[6]:=Panel6;
105     p[7]:=Panel7;
106     p[8]:=Panel8;
107     p[9]:=Panel9;
108     p[10]:=Panel10;
109     p[11]:=Panel11;
110     p[12]:=Panel12;
111     p[13]:=Panel13;
112     p[14]:=Panel14;
113     p[15]:=Panel15;
114     p[16]:=Panel16;
115     p[17]:=Panel17;
116     p[18]:=Panel18;
117     p[19]:=Panel19;
118     p[20]:=Panel20;
119     p[21]:=Panel21;
120     p[22]:=Panel22;
121     p[23]:=Panel23;
122     p[24]:=Panel24;
123     p[25]:=Panel25;
124for I := 1to25do125begin126         p[i].Tag:=i;
127         c[i]:=false;
128         p[i].Color:=clBlack;
129end;
130     bsskincombobox1.Items.Add('红');
131     bsskincombobox1.Items.Add('黄');
132     bsskincombobox1.Items.Add('蓝');
133     bsskinComboBox1.ItemIndex:=0;
134135136     Image1.AutoSize := True;
137     Form6.Autosize := True; Image1.Picture.LoadFromFile('E:\微云\delphi\电灯游戏\a.gif');
138     TGIFImage(Image1.Picture.Graphic).AnimationSpeed := 100;
139      TGIFImage(Image1.Picture.Graphic).Animate := True;
140end;
141142143procedure Change(i:integer);
144begin145146     c[i]:= not c[i];
147if c[i] then148     p[i].Color:=cl
149else150     p[i].Color:=clBlack;
151end;
152153154function CheckWin:Boolean;
155var i:integer;
156begin157      result:=True;
158for I := 1to25do159ifnot c[i] then160begin161           result:=false;
162          exit;
163end;
164end;
165166167168procedure TForm6.Panel1Click(Sender: TObject);
169170var i,j:integer;
171begin172     i:=TPanel(Sender).Tag;
173    change(i);
174if i>5then change(i-5);
175if i<21then  change(i+5);
176if (i mod5)<>0then change(i+1);
177if (i mod5)<>1then change(i-1)  ;
178if CheckWin then Application.MessageBox('你赢了','提示信息',64);
179end;
180181end.

