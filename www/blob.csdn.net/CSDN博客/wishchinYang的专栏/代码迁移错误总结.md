# 代码迁移错误总结 - wishchinYang的专栏 - CSDN博客
2013年10月25日 16:24:31[wishchin](https://me.csdn.net/wishchin)阅读数：1553
详细描述链接：[http://blog.csdn.net/zhouxicai/article/details/8365338](http://blog.csdn.net/zhouxicai/article/details/8365338)
（1）：32位操作系统里将32工程编译成64位出错
原文链接：[http://www.myexception.cn/vc-mfc/316661.html](http://www.myexception.cn/vc-mfc/316661.html)
错误提示：error C2440: “static_cast”: 无法从“void (__cdecl CMy163regDlg::* )(UINT)”转换为“void (__cdecl CWnd::* )(UINT_PTR)”
  从基类型到派生类型的强制转换需要 dynamic_cast 或 static_cast
出错的地方是 ON_WM_TIMER()；
我这个是定时器，定义如下
C/C++ code
```cpp
void CMy163regDlg::OnTimer(UINT nIDEvent) 
{
    if(1 == nIDEvent) //这里的nIDEvent == 1，在SetTimer的第一个参数中用到
{   
       KillTimer(nIDEvent);   
       keybd_event(VK_RETURN,0,0,0);//按键下去   
       keybd_event(VK_RETURN,0,KEYEVENTF_KEYUP,0);//，按键上来，模拟"回车"命令   
}
    CDialog::OnTimer(nIDEvent);
}
    afx_msg void OnTimer(UINT nIDEvent);
```
------解决方案--------------------
afx_msg void OnTimer(UINT_PTR nIDEvent);
-
我的修改：在定位的地方 ON_WM_TIMER() 不用修改
修改在 ontimer函数处，把UNIT 修改为UINT_PTR。
（2）：fatal error LNK1123: 转换到 COFF 期间失败: 文件无效或损坏
我也遇到同样的问题，只要建立wtl工程就会出错
**fatal error LNK1123: 转换到 COFF 期间失败**: 文件无效或损坏
项目\属性\配置属性\清单工具\输入和输出\嵌入清单：原来是“是”，改成“否”。
（3）：error MSB6006: “rc.exe”已退出，代码为 -1073741819。
   原因：版本混乱，安装了VS2010之后，安装2012，造成rc.exe不能运行！
（4）：关于opencv去掉cvcam的问题
果断移除，usbcam模块
