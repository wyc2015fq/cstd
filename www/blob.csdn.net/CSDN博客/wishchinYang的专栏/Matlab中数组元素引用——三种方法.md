# Matlab中数组元素引用——三种方法 - wishchinYang的专栏 - CSDN博客
2015年08月21日 16:40:20[wishchin](https://me.csdn.net/wishchin)阅读数：642
#          参考链接：[http://www.cnblogs.com/haore147/p/3633032.html](http://www.cnblogs.com/haore147/p/3633032.html)
1.**Matlab中数组元素引用有三种方法**
```
```java
1
```
```java
.下标法(subscripts)
```
```java
2
```
```java
.索引法(index)
```
```java
3
```
```java
.布尔法(Boolean)
```
```
注意：在使用这三种方法之前，大家头脑一定要清晰的记住，Matlab中数组元素是按列存储(与Fortran一样)，比如说下面的二维数组
```cpp
A=
     8    1     6
     3    5     7
     4    9     2
```
Matlab的存储顺序是8,3,4,1,5,9,6,7,2，也就是说先行后列，对于3维数组呢，就是先行后列再页对应个元素的索引和下标分别为
```cpp
Element Index Subscripts
8        1      (1,1)
3        2      (2,1)
4        3      (3,1)
1        4      (1,2)
5        5      (2,2)
9        6      (3,2)
6        7      (1,3)
7        8      (2,3)
2        9      (3,3)
```
*　从上面的例子中已经很清晰的说明了下标和索引的区别了，也就是说Matlab为每个元素分配了一个唯一识别的ID(即index)*
**2.下标法引用***A(ii,jj)：其中ii和jj可以是一维向量、标量、“:”号或者“end”*大家对下标估计比较熟悉，由于在C语言中接触过，但是我这里需要强调的是，**Matlab的下标是可以多行多列同时引用的**，而像C语言等一次只能引用一个，比如
```
```java
A(
```
```java
2
```
```java
:
```
```java
3
```
```java
,
```
```java
3
```
```java
:-
```
```java
1
```
```java
:
```
```java
1
```
```java
)表示引用数组中的
```
```java
2
```
```java
~
```
```java
3
```
```java
行，
```
```java
3
```
```java
~
```
```java
1
```
```java
列对应的元素
```
```java
A(:,end)表示引用最后一列元素，“:”表示所有列或行，“end”表示最后一列或列，“end-n”表示倒数第n行或列
```
```java
A(
```
```java
1
```
```java
,end-
```
```java
1
```
```java
)表示引用第
```
```java
1
```
```java
行倒数第
```
```java
2
```
```java
个元素
```
```java
A([
```
```java
2
```
```java
1
```
```java
3
```
```java
3
```
```java
],[
```
```java
1
```
```java
1
```
```java
2
```
```java
2
```
```java
1
```
```java
])表示引用按两个向量引用指定的元素，即A中的第
```
```java
2
```
```java
,
```
```java
1
```
```java
,
```
```java
3
```
```java
,
```
```java
3
```
```java
行和第
```
```java
1
```
```java
,
```
```java
1
```
```java
,
```
```java
2
```
```java
,
```
```java
2
```
```java
,
```
```java
1
```
```java
列对应的元素
```
```
**举几个例子：**
```cpp
>>A=magic(3)
A =
     8    1     6
     3    5     7
     4    9     2
>>A(2:3,3:-1:1)
ans =
     7    5     3
     2    9     4
>>A(:,end)
ans =
     6
     7
     2
>>A(1,end-1)
ans =
     1
>>A([21 3 3],[1 1 2 2 1])
ans =
     3    3     5     5     3
     8    8     1     1     8
     4    4     9     9     4
     4    4     9     9     4
```
**2.索引法引用(说白了索引就是存储顺序)**
A(index)：index可以是任意的数组，index的元素必须是正整数，且不大于numel(A)，返回的是一个尺寸与index一样的数组
下标和索引之间可以通过ind2sub和sub2ind函数相互转换，具体可以看帮助，很简单
[I,J] = ind2sub(siz,IND)
IND = sub2ind(siz,I,J)
还有使用A(:)就可以将数组A转换为列向量
A(8)：表示引用A的第8个元素
B=A([1 10 5 2 2 1 3])：表示依次引用A的第1,10,5,2,2,1,3个元素，返回与index尺寸相同的数组，也就是说size(B)=size(index)
A([2 5 9;1 1 1;8 5 6])：返回的时侯是一个3*3的矩阵
```cpp
>>A=magic(5)%括号中为索引值
A =
    17(1)    24 (6)    1 (11)    8 (16)   15 (21)
    23(2)     5 (7)    7 (12)   14 (17)   16 (22)
     4(3)     6 (8)   13 (13)   20 (18)   22 (23)
    10(4)    12 (9)   19 (14)   21 (19)    3 (24)
    11(5)   18 (10)   25 (15)    2 (20)    9 (25)
>>A(8)
ans =
     6
>>A([110 5 2 2 1 3])
ans =
    17   18    11    23    23    17    4
>>A([25 9;11 1;85 6])
ans =
    23   11    12
    17   17    17
     6   11    24
```
**3.布尔法引用**
A(X)：X是一个有0和1组成布尔型数据，且size(A)=size(X)，对应位置为1则留下该数据，0则去掉，最后按A中的存储顺序，返回一个列向量
假如说A是3*3的数组
A(logical([1 0 0;0 1 0;0 0 1]))：表示引用了数组A的对角线元素，注意必须使用logical将0/1数组转换为布尔型
```cpp
>>A=magic(3)%生成一个3*3的数组
A=
     8    1     6
     3    5     7
     4    9     2
>>x=logical([11 0;01 1;10 1])%将double转化为boolean型数据
x =
     1    1     0
     0    1     1
     1    0     1
>>A(x)%引用对应位置为1的数据，返回列向量
ans =
     8
     4
     1
     5
     7
     2
>>x=A>5%是有了比较语句，返回布尔型数据，对应位置数据大于5的为1，否则为0
x =
     1    0     1
     0    0     1
     0    1     0
 
>>A(x)%返回大于A中大于5的元素，其实该命令可以一次性执行A(A>5)或者find(A>5)，前者返回具体元素，后者返回大于5的数据的索引值
ans =
     8
     9
     6
     7
>>A(A>5)%一次性执行上面的命令
ans =
     8
     9
     6
     7
>>indx=find(A>5)%查找A中对于5的元素，返回它们的索引(index)值，此时我们可以通过A(index)返回具体的元素
index =
     1
     6
     7
     8
```
**4.Matlab下标的引用方式**
对于mat型M(m,n)：
M(x),x的最大范围可取到m*n;
M(x,y)中，x、y的最大范围可取到m,n;即x<m,y<n;
```cpp
K>> im(34)
ans =
    11
K>> im([2309,2163,2315,2084])
ans =
   144    62   141    95
K>> im([2309,2163,2315,3400])
Index exceeds matrix dimensions.
K>> im(7,6)
ans =
     4
K>> im(50,50)
Index exceeds matrix dimensions.
```

```cpp
```
