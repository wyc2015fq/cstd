# 关于对象不能直接访问私有成员的超级大误区~ - qq_37385726的博客 - CSDN博客





2017年04月29日 17:08:42[啧啧啧biubiu](https://me.csdn.net/qq_37385726)阅读数：826








先贴代码：




```cpp
#include
using namespace std;
class CPoint
{
public:
	CPoint(int xx, int yy)
	{
		x = xx;
		y = yy;
	}
	CPoint(const CPoint &p)
	{
		x = p.x;
		y = p.y;
	}
private:
	int x, y;
};
```





如果你在想为什么拷贝构造函数的参数可以直接去访问它自己的私有成员的话，你就需要好好的看完这篇文章。如果你没有在想，那么很好，这篇文章就随它去吧~




===============================================================================================================================

进入正文：

之所以会有上面的那个疑问，无疑的就是进入了一个认识误区——对象是不可以直接访问私有成员的。

但是这个真的是个超级大的误区。

我们先来看，私有，公有，受保护的，是针对什么东西来谈的：不是针对对象来说的，是针对于类来说的。是用来限定类外的东西访问类内的东西是有限制的。从来不是对对象而言的。

----------------------------------------------------------------------------------------------------------------------------------------------------------

如果还不是很清楚上面的表述，我们举几个例子来看：                                                                                                                                                        
                                                                                                                                

1.为什么类中的成员函数可以访问到私有的数据成员？                                                                                                                              

你可能认为它就是可以访问，没有为什么。不对，又为什么，就是因为它在类内。                                                                               

2.为什么主函数中定义的对象不能访问它的私有成员？                                                                                                                                

你可能认为因为它是对象，对象是不能访问到私有成员的。不对，是因为它在类外，与对象不能访问一点关系都没有。               

----------------------------------------------------------------------------------------------------------------------------------------------------------




对象能否访问到私有成员与其定义的位置有关：在类内定义，可以访问，在类外定义，不能访问。




到这里我们也就理解了最开始贴的那个代码了~




再贴一个代码：




```cpp
#include
using namespace std;
#include
class CPoint
{
public:
	CPoint(int xx, int yy)
	{
		x = xx;
		y = yy;
	}
	friend class distance;
private:
	int x, y;
};
class distance
{
public:
	double point_to_oralpoint(CPoint p1)
	{
		return sqrt(p1.x*p1.x + p1.y*p1.y);
	}
};
```





好啦，我们现在又发现了一个和上面说的貌似有点违背的东西：为什么在类外定义的函数竟然可以访问到上面类的私有成员？




因为：

在类CPoint里面声明了distance为它的朋友类，CPoint把distance当朋友（distance未必把CPoint当朋友哦~，所以CPoint并不能访问到distance的成员）。

CPoint把distance当朋友，distance可以通过他定义的函数中的参数表去访问到CPoint里面的私有成员，这个私有数据成员是对其公开的，就相当于是在distance的类中，但是要通过参数（CPoint的对象）去指明这是那个对象的数据成员而已。





而这个就是最普遍的需要被了解的类外如何访问类内的私有成员的知识点了。






