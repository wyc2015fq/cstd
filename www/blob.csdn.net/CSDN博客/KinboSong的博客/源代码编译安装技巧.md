# 源代码编译安装技巧 - KinboSong的博客 - CSDN博客
2018年03月20日 14:10:45[songjinbo3](https://me.csdn.net/KinboSong)阅读数：121
源代码的用处无非是以下两点；
1、软件根据用户的需要加以定制；
2、二次开发；注：要根据软件的许可证书约定为准，开发者许可二次开发才行；
LINUX本是开源的，看大家的倔劲有多大了，呵呵，好了，下面正文开始吧，我发完就睡觉了！
1、源码包的打包格式；
源代码一般以file.tar.gz file.tar.bz2或file.src.rpm 打包；file.tar.gz和file.tar.bz2格式的解包命令如下；
[root@localhost beinan]# tar jxvf file.tar.bz2
[root@localhost beinan]# tar zxvf file.tar.gz
我们解开一个包后，进入解压包，一般都能发现README（或reame)和INSTALL( 或install)；或doc（或DOC)目录；看名字就知道个差不多； 
比如我们下载一个比较新的fcitx 的软件包，比如是 fcitx-3.2-050827.tar.bz2
我们在解开这个软件包会会发现如下的文件；
[root@localhost fcitx]# tar jxvf fcitx-3.2-050827.tar.bz2
[root@localhost fcitx]#cd fcitx
[root@localhost fcitx]# ls
aclocal.m4 config.guess configure debian INSTALL Makefile.in src xpm
AUTHORS config.h.in configure.in depcomp install-sh missing THANKS
autogen.sh config.rpath COPYING doc lib mkinstalldirs TODO
ChangeLog config.sub data fcitx.spec.in Makefile.am README tools
所以我们就可以看fcitx的INSTALL 和doc目录的[安装](http://www.jb51.net)文档了；里面都告诉我们如何[安装](http://www.jb51.net)；
有时[安装](http://www.jb51.net)文档也会在开发者的主页上有详细的说明，及常见问题的处理等；比如 LumaQQ
2）编译[安装](http://www.jb51.net)软件的条件；
首先我们在Linux[系统](http://www.jb51.net)中至少得把开发工具[安装](http://www.jb51.net)上，比如 gcc ;perl;python;glibc;gtk;make ;automake 等开发工具或基础包；还要[安装](http://www.jb51.net)一些相应的开发包，一般是文件名包括dev的，比如kernel-devel；还有一些开发库，比如以lib开头的；如果您在编译软件时，有时提示缺少什么东西之类的，大多少的是这些开发工具和开发库等；从光盘中找出[安装](http://www.jb51.net)就是了；有时光盘没有提供，请用google搜索相应的软件包，有时可能也会用到源码包编译[安装](http://www.jb51.net)所依赖的包；
有时本来[系统](http://www.jb51.net)中已经[安装](http://www.jb51.net)了所依赖的包，但[系统](http://www.jb51.net)提示找不到应该怎么办？这时需要我们[设置](http://www.jb51.net)一下PKG_CONFIG_PATH的环境变量就行了；
#export PKG_CONFIG_PATH=/usr/lib/pkgconfig
或
#export PKG_CONFIG_PATH=/usr/local/lib/pkgconfig
然后我们再来运行编译的./configure ;make ;make install ，尝试着来吧；
以java开发的工具开发的程序，要用到 jre或者jdk ；jdk已经包括jre了，所以如果我们只是要求有一个java程序运行的环境，只需要[安装](http://www.jb51.net)jre就行了；[安装](http://www.jb51.net)好jre，配置一下java的环境变量就可以用了。如果是图形界面的程序，点点鼠标就OK了；
用perl 开发的程序，是需要perl环境的，所以必须得把perl的包[安装](http://www.jb51.net)上，python 也同理；
3）编译[安装](http://www.jb51.net)软件的[方法](http://www.jb51.net)；
大多以tar.gz 和tar.bz2打包软件，大多是通过 ./configure ;make ;make install 来[安装](http://www.jb51.net)的；有的软件是直接make;make install ；
我们可以通过./configure –help 来查看配置软件的功能；大多软件是提供./configure 配置软件的功能的；少数的也没有，如果没有的就不用./configure ;直接make;make install 就行了；
./configure 比较重要的一个参数是 –prefix ，用–prefix 参数，我们可以指定软件[安装](http://www.jb51.net)目录；当我们不需要这个软件时，直接删除软件的目录就行了；
比如我们可以指定fcitx [安装](http://www.jb51.net)到 /opt/fcitx 目录中；
[root@localhost fcitx]#./configure –prefix=/opt/fcitx
如果我们不需要fcitx 时，可以直接删除 /opt/fcitx 目录；
所以我们举这个例子中，fcitx如果定制[安装](http://www.jb51.net)到 /opt/fcitx目录中，完整的[安装](http://www.jb51.net)[方法](http://www.jb51.net)应该是：
[root@localhost fcitx]# tar jxvf fcitx-3.2-050827.tar.bz2
[root@localhost fcitx]#cd fcitx
[root@localhost fcitx]# ./configure –prefix=/opt/fcitx
[root@localhost fcitx]# make
[root@localhost fcitx]# make install
调用fcitx ，应该是
[beinan@localhost ~]#/opt/fcitx/bin/fcitx
如果您想要让fcitx 只要执行fcitx ，就能调用，请配置环境变量，或者在/usr/bin 中做一个fcitx 的链接；
[root@localhost beinan]# ln -s /opt/fcitx/bin/fcitx /usr/bin/fcitx
一般的情况下都有说，但大多软件没有提供源码包的卸载[方法](http://www.jb51.net)；我们可以找到软件的[安装](http://www.jb51.net)点删除。主要看你把它[安装](http://www.jb51.net)在哪了。
[设置](http://www.jb51.net)环境变量PATH，这个我就不多废话了，大家应该都会吧
您的PATH可以[设置](http://www.jb51.net)成这样的；
export PATH=”.:/bin:/usr/bin:/usr/local/bin:/usr/sbin:/usr/X11R6/bin:/sbin:/opt/fcitx/bin”
举一个例子，比如我想[安装](http://www.jb51.net)mlterm ；并指定[安装](http://www.jb51.net)目录为/opt/mlterm中； http://mlterm.sourceforge.net
#./configure –prefix=/opt/mlterm
#make
#make install
把源码包[安装](http://www.jb51.net)的软件，都指定[安装](http://www.jb51.net)在 /opt目录中，这样不就知道了软件[安装](http://www.jb51.net)在哪里了；也方便卸载；            
