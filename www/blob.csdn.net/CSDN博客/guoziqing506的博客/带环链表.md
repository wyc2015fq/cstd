# 带环链表 - guoziqing506的博客 - CSDN博客





2016年05月02日 14:04:29[guoziqing506](https://me.csdn.net/guoziqing506)阅读数：465标签：[链表](https://so.csdn.net/so/search/s.do?q=链表&t=blog)
个人分类：[lintcode](https://blog.csdn.net/guoziqing506/article/category/6289140)

所属专栏：[LintCode-Python题解](https://blog.csdn.net/column/details/guoziqing-blog.html)









题目描述：给定一个链表，判断它是否有环。

样例：给出 -21->10->4->5, tail connects to node index 1，返回 true

带环链表，只可能长成以下两种样子：

![](https://img-blog.csdn.net/20160502135341845?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQv/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/Center)


因为一个节点，不可能有两个地址。

所以，我们不妨先把这两种情况看做是两个跑道，那你想啊，如果有个比你跑得快的人，和你一起出发在跑道上跑，他迟早会套你的圈，左边这个图就不多说了，就是我们小时候上体育课的跑道，右边的图呢，你俩迟早会都进入圆圈，然后一直跑圈，相当于左图。

所以，解题的思路是这样的，可以设置快慢指针，只要快指针能在，除初始时刻之外的某一时刻，套慢指针的圈（指向同一节点），就证明有环。如果无环，是不可能发生指向同一节点这种事的，快指针只会离慢指针越来越远。

在求链表中间值的时候，我们就采用了这种快慢指针法（详见：[点击打开链接](http://blog.csdn.net/guoziqing506/article/details/51212234)），此处，同样，可以设置快指针是慢指针移动速度的两倍。

代码如下：



```python
"""
Definition of ListNode
class ListNode(object):

    def __init__(self, val, next=None):
        self.val = val
        self.next = next
"""
class Solution:
    """
    @param head: The first node of the linked list.
    @return: True if it has a cycle, or false
    """
    def hasCycle(self, head):
        slow = head
        fast = head
        while fast and fast.next:
            fast = fast.next.next
            slow = slow.next
            if fast == slow:
                return True
        return False
        # write your code here
```







