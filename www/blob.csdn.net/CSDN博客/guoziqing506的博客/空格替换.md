# 空格替换 - guoziqing506的博客 - CSDN博客





2016年05月28日 23:26:41[guoziqing506](https://me.csdn.net/guoziqing506)阅读数：630
所属专栏：[LintCode-Python题解](https://blog.csdn.net/column/details/guoziqing-blog.html)









题目描述：设计一种方法，将一个字符串中的所有空格替换成 %20 。你可以假设该字符串有足够的空间来加入新的字符，且你得到的是“真实的”字符长度。你的程序还需要返回被替换后的字符串的长度。

样例：对于字符串"Mr John Smith", 长度为 13，替换空格之后，参数中的字符串需要变为"Mr%20John%20Smith"，并且把新长度 17 作为结果返回。

可以这样来考虑，因为数组足够长，所以，可以先遍历一遍字符串，求出空格的个数（记为count），这个个数乘以2，再加上原先字符串的长度，很显然，就是现在需要生成的，新字符串的长度。

知道了这个长度之后，就可以设置两个指针，一个依次从后往前遍历字符串，另外一个从后往前遍历数组（此时，数组的长度就是我们刚才求出来的所谓新字符串的长度），若遍历到空格，则生成“%20”放在数组最后，若遍历到字符，则将字符放在现在遍历到的数组的位置（需要注意一下，这里并没有用额外空间，字符串是用字符数组表示的，我说的“数组”和“字符串”其实都是字符数组）

代码如下：




```python
class Solution:
    # @param {char[]} string: An array of Char
    # @param {int} length: The true length of the string
    # @return {int} The true length of new string
    def replaceBlank(self, string, length):
        count = 0
        if string is None:
            return None
        for i in string:
            if i == " ":
                count += 1
        # index此时表示的是新生的字符串的长度
        index = length + count * 2 - 1

        # cur用于遍历原始字符串
        cur = length - 1
        while cur >= 0:
            if string[cur] == " ":
                string[index] = "0"
                string[index - 1] = "2"
                string[index - 2] = "%"
                index -= 3
                cur -= 1
            else:
                string[cur], string[index] = string[index], string[cur]
                index -= 1
                cur -= 1
        return len(string)
        # Write your code here
```









