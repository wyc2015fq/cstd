# 寻找峰值 - guoziqing506的博客 - CSDN博客





2016年04月07日 15:37:55[guoziqing506](https://me.csdn.net/guoziqing506)阅读数：1042标签：[二分查找](https://so.csdn.net/so/search/s.do?q=二分查找&t=blog)
个人分类：[lintcode](https://blog.csdn.net/guoziqing506/article/category/6289140)

所属专栏：[LintCode-Python题解](https://blog.csdn.net/column/details/guoziqing-blog.html)








题目描述：你给出一个整数数组(size为n)，其具有以下特点：相邻位置的数字是不同的，A[0] < A[1] 并且 A[n - 2] > A[n - 1]，假定P是峰值的位置则满足A[P] > A[P-1]且A[P] > A[P+1]，返回数组中任意一个峰值的位置。
样例：

给出数组[1, 2, 1, 3, 4, 5, 7, 6]返回1, 即数值 2 所在位置, 或者6, 即数值 7 所在位置。

最简单的想法可以通过遍历数组，直接模拟就可以求解了。比如，可以写出C++的代码如下：



```cpp
class Solution {
public:
    /**
     * @param A: An integers array.
     * @return: return any of peek positions.
     */
    int findPeak(vector<int> A) {
        int n = A.size();
        for(int i = 1; i < n - 2; ++i) {
            if(A[i - 1] < A[i] && A[i] > A[i + 1]) return i; 
        }
        // write your code here
    }
};
```


为什么突然写C++了呢，因为以前我在lintcode上也是这么写的，懒得改成Python了，这样写是能够AC的，但是不是最佳的答案。

在讲解二分法的阶段提到这个题目，当然应该想到用二分法，因为效率更高。这里，需要大家养成一个习惯，就是写算法的时候尽量考虑效率最好的情况，不论是时间上还是空间上。

怎么用二分法呢？猛地想不到，就先想想left和right求取中值mid嘛，这是二分法的通用套路。然后，此时mid所指向的元素的值就分为三种情况了：

1. A[mid] > A[mid + 1] && A[mid] > A[mid - 1]，那么，根据定义，mid指向的就是一个峰值

2. A[mid] < A[mid + 1]，因为A[n - 2] > A[n - 1]，那么，一定有一个峰值存在于[mid + 1, n - 2]

3. A[mid] < A[mid - 1]，因为A[0] < A[1]，那么，一定有一个峰值存在于[1, mid - 1]


也就是说，我们每次求得mid所指的值，都可以缩减峰值存在的范围。

按二分法的基本套路（[点击打开链接](http://blog.csdn.net/guoziqing506/article/details/50957775)），写出代码：



```python
class Solution:
    #@param A: An integers list.
    #@return: return any of peek positions.
    def findPeak(self, A):
        left, right = 0, len(A) - 1
        mid = (left + right) // 2
        while left <= right and (A[mid] < A[mid - 1] or A[mid] < A[mid + 1]):
            # mid 左侧存在峰值
            if A[mid] < A[mid - 1]:
                right = mid - 1
            # mid 右侧存在峰值
            elif A[mid] < A[mid + 1]:
                left = mid + 1
            mid = (left + right) // 2
        return mid
        # write your code here
```





