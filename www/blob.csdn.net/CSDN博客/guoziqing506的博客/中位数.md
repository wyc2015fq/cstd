# 中位数 - guoziqing506的博客 - CSDN博客





2016年04月26日 22:32:39[guoziqing506](https://me.csdn.net/guoziqing506)阅读数：1201
所属专栏：[LintCode-Python题解](https://blog.csdn.net/column/details/guoziqing-blog.html)









题目描述：给定一个未排序的整数数组，找到其中位数。中位数是排序后数组的中间值，如果数组的个数是偶数个，则返回排序后数组的第N/2个数。

样例：给出数组[4, 5, 1, 2, 3]， 返回 3；给出数组[7, 9, 4, 5]，返回 5


目的是要找到排在最中间的那个数。这不由使人回想起快速排序，快排每次都是令枢轴排在它该排在的位置。而其他位置的元素未必是排好序的。

那么我们可以这样来思考，如果说现在将任意元素作为枢轴，执行快排中的分割程序（关于快排，详见：[点击打开链接](http://blog.csdn.net/guoziqing506/article/details/50952002)），如果枢轴所在的位置恰好是中间，那么枢轴就是中位数了，同理，如果枢轴在中间位置之前，则说明中位数一定比枢轴大，在枢轴后面的数组中出现，而如果枢轴在中间位置之后，则说明中位数一定比枢轴小，在枢轴前面的数组中出现。这是什么思想，二分法。所以这道题就是快排的技术，结合了一点点“二分”的思想。

所以，可以这样来设计，先设计一个函数，和快排中的分割函数的作用一样，取数组第一个元素作为枢轴，使得大于枢轴的元素排在枢轴后面，小于的排枢轴前面。不同的是，还要返回一个枢轴所在的位置信息，我们才能比较这个位置和中间位置的前后关系。

1. 如果就是中间位置，返回枢轴即可

2. 在中间位置前，用分割函数运行枢轴后面的数组，得到一个位置，再和中间位置比较

3. 在中间位置后，用分割函数运行枢轴前面的数组，得到一个位置，再和中间位置比较

代码如下：



```python
class Solution:
    """
    @param nums: A list of integers.
    @return: An integer denotes the middle number of the array.
    """
    def median(self, nums):
        n = len(nums)
        if n <= 1:
            return nums[0]
        begin, end = 0, n - 1
        index = self.partition(nums, begin, end)
        while index != (n - 1) // 2:
            if index < (n - 1) // 2:
                begin = index + 1
                index = self.partition(nums, begin, end)
            else:
                end = index - 1
                index = self.partition(nums, begin, end)
        return nums[index]
        

    def partition(self, nums, begin, end):
        if begin >= end:
            return begin
        pivot = nums[begin]
        index = begin
        for i in range(begin + 1, end + 1):
            if nums[i] < pivot:
                index += 1
                nums[i], nums[index] = nums[index], nums[i]
        nums[begin], nums[index] = nums[index], nums[begin]
        return index
        # write your code here
```



partition为分割函数，之前讲过太多遍了。需要注意这种begin和end的应用






