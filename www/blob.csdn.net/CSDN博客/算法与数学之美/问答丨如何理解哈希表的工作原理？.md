# 问答丨如何理解哈希表的工作原理？ - 算法与数学之美 - CSDN博客
2018年12月07日 21:00:00[算法与数学之美](https://me.csdn.net/FnqTyr45)阅读数：449
**#我头新条闻#**
哈希来自英文hash的翻译。其实恰如其分应该叫散列。散列的目的就是找到一个函数能够将一堆数字均匀分布在一维数组里。理想状态大家存储的位置是不同的，否则哈希函数比较糟糕。但是当两个数字经过一次哈希发现存在同一个数组里，还会二次哈希把他存在另外一个不同地方，这就是所谓双哈希。但是影响哈希存储的最关键因素是数组大小，当足够大大家发生碰撞机会比较少，这就是为什么内存数据库，key值达到内存70%就要扩容。刚才看到楼上说的太简单而且概念有些错误忍不住发表两句。我们很少会用到数组加链表方式，因为查询不稳定。基本通过空间换时间才能达到大o常数效率
**#ICMLL实验室 #**
*科研工作者、科学达人*
哈希表是根据关键值(key)来直接访问目标值(value)的一种数据结构。其特点就在于能够快捷的实现信息的查询和检索。
比如我们在手机中存放的通讯录就是用哈希表来实现的，即我们输入一个联系人的姓名，就能返回相应的电话号码。用哈希表实现的过程就是，将联系人姓名的字符通过一个哈希函数，映射成一个整数（哈希码），然后根据哈希码来索引出电话号码。比如哈希码为5，就表示是在存储位置为5，因此我们就能直接取出该位置的值，并返回结果。
![640?wx_fmt=jpeg](https://ss.csdn.net/p?https://mmbiz.qpic.cn/mmbiz_jpg/951TjTgiabkya8z7IMHeJV8e2Ufs0XW03aBxP6oBmzGkicw3YY9CWfcOVicQATV5libegmvcZ9DKoia9xaDUp7UgxSw/640?wx_fmt=jpeg)
那么实现哈希表的关键就在于哈希函数的构建，也就是如何建立一个合适的索引来满足如下条件：
1）同一个键每次输入到哈希函数中，其对应的哈希码也必须相同；
2）不同键对应的哈希码不能相同。
第一个条件意味着哈希函数必须是确定性的；第二个条件则要求不能出现哈希冲突。当两个或更多个键产生相同的哈希码时就会发生冲突（hash collisions）。
比如我们现在考虑建立一个简单的哈希表来查询年龄,{Jim：5, Davis：7, Taylor:12, Bob:3}，如果我们选择哈希函数为输入键值的字符个数。那么在建立哈希表时，就讲Jim存放在位置3处，Jack存放在位置4处。而这样的话Jim和Bob的存储位置就会发生冲突，不符合哈希函数的要求。但是如果我们将哈希函数替换为首字母顺序存放，在这个数据中就没有哈希冲突了。
![640?wx_fmt=jpeg](https://ss.csdn.net/p?https://mmbiz.qpic.cn/mmbiz_jpg/951TjTgiabkya8z7IMHeJV8e2Ufs0XW03qVmicTr64cxsRLAH4mPJc9XXqlxEoP40j00oHOVnqNXrmP3zbolxnXA/640?wx_fmt=jpeg)
然而万一无法避免哈希冲突的话，我们可以用链接和线性探测的方法来避免哈希值发生碰撞。
链接就是将发生冲突的键值直接链接在链表的尾部；线性探测则是，如果在位置i处发生冲突，那么就检查i+1处是否为空，为空的话就将冲突键值放入其中，否则继续检查下一个。
**#杨沐白 #**
*互联网算法工程师*
谢邀。这个问题很有趣，哈希（Hashing）是一种用于从一组相似对象中唯一标识特定对象的技术。
# **一个简单的例子**
我们生活中如何使用哈希的一些例子包括：
在大学中，每个学生都会被分配一个唯一的卷号，可用于检索有关它们的信息。
在图书馆中，每本书都被分配了一个唯一的编号，可用于确定有关图书的信息，例如图书馆中的确切位置或已发给图书的用户等。
在这两个例子中，学生和书籍都被分成了一个唯一的数字。
![640?wx_fmt=jpeg](https://ss.csdn.net/p?https://mmbiz.qpic.cn/mmbiz_jpg/951TjTgiabkya8z7IMHeJV8e2Ufs0XW03Bicx4FyNbOWPV0TFtPGXlEibmDcAvkJ1Ektxj3eicF2Ncx0AmOdeWzQ5Q/640?wx_fmt=jpeg)
假设您有一个对象，并且您想为其分配一个键以便于搜索。 要存储键/值对，您可以使用一个简单的数组，如数据结构，其中键（整数）可以直接用作存储值的索引。 但是，如果密钥很大并且无法直接用作索引，则应使用哈希（Hashing）。
在哈希中，通过使用哈希函数将大键转换为小键。 然后将这些值存储在称为哈希表的数据结构中。 哈希的想法是在数组中统一分配条目（键/值对）。 为每个元素分配一个键（转换键）。 通过使用该键，您可以在O（1）时间内访问该元素。 使用密钥，算法会计算一个索引，该索引可以找到或插入条目的位置。
![640?wx_fmt=jpeg](https://ss.csdn.net/p?https://mmbiz.qpic.cn/mmbiz_jpg/951TjTgiabkya8z7IMHeJV8e2Ufs0XW03xxotmiauCDBq8hb3RvtyNwlRRhrLu4u2oxKUl85gmiccYc1YbmsEsaBg/640?wx_fmt=jpeg)
![640?wx_fmt=jpeg](https://ss.csdn.net/p?https://mmbiz.qpic.cn/mmbiz_jpg/951TjTgiabkya8z7IMHeJV8e2Ufs0XW03jaDoXpmtNXtysIibJAZwF7L5Pgog0lZxG1QRrBR9k3iaZvQfpibVpSE7g/640?wx_fmt=jpeg)
哈希一般分两步执行：
- 
通过使用哈希函数将元素转换为整数。 此元素可用作存储原始元素的索引，该元素属于哈希表。
- 
元素存储在哈希表中，可以使用哈希键快速检索它。
hash = hashfunc（key）
index = hash％array_size
在此方法中，哈希与数组大小无关，然后通过使用模运算符（％）将其缩减为索引（介于0和array_size - 1之间的数字）。
![640?wx_fmt=jpeg](https://ss.csdn.net/p?https://mmbiz.qpic.cn/mmbiz_jpg/951TjTgiabkya8z7IMHeJV8e2Ufs0XW03cCB9AficcoYgDiaDCK6UUEgm4DYxnhsyfgoAJZEyGIaGPG8JKYUWIr7g/640?wx_fmt=jpeg)
# **应用场景**
关联数组：哈希表通常用于实现许多类型的内存表。 它们用于实现关联数组（索引是任意字符串或其他复杂对象的数组）。
数据库索引：哈希表也可以用作基于磁盘的数据结构和数据库索引（例如在dbm中）。
高速缓存：哈希表可用于实现高速缓存，即用于加速对数据的访问的辅助数据表，其主要存储在较慢的介质中。
对象表示：一些动态语言（如Perl，Python，JavaScript和Ruby）使用哈希表来实现对象。
提升速度：哈希函数用于各种算法，以使其计算更快。
∑编辑 | Gemini
来源| 今日头条
**更多精彩：**
☞  [哈尔莫斯：怎样做数学研究](http://mp.weixin.qq.com/s?__biz=MzA5ODUxOTA5Mg==&mid=2652554187&idx=1&sn=35143b89b06fe4f5273f210b2d6a7c91&chksm=8b7e3290bc09bb86f7bb3f158d993df3f019a7e9ce3bc8897e164e35a2ebe5a4e0bdcc111089&scene=21#wechat_redirect)
☞  [扎克伯格2017年哈佛大学毕业演讲](http://mp.weixin.qq.com/s?__biz=MzA5ODUxOTA5Mg==&mid=2652554187&idx=2&sn=c75293463823e4d6769638e54b64f3ec&chksm=8b7e3290bc09bb86dc1e3f8e78d0b6de8811d75f3dcb092766fcb8ba0bab1cd9ba1ddfcef3b9&scene=21#wechat_redirect)
☞  [线性代数在组合数学中的应用](http://mp.weixin.qq.com/s?__biz=MzA5ODUxOTA5Mg==&mid=2652554141&idx=1&sn=74a74c4e4d08eba0dd734528aa0b08e7&chksm=8b7e32c6bc09bbd073b34c22004ac6e4d99c8a0caa64c7d3dbaa8fd55e6ef1fc87ed545b8b7e&scene=21#wechat_redirect)
☞  [你见过真的菲利普曲线吗？](http://mp.weixin.qq.com/s?__biz=MzA5ODUxOTA5Mg==&mid=2652554105&idx=1&sn=224ab0d38fb57facea70081385360d58&chksm=8b7e3222bc09bb34d3b6df665087e64b233778ed427598d08e809f96261e898c1c0de6188bbc&scene=21#wechat_redirect)
☞  [支持向量机(SVM)的故事是这样子的](http://mp.weixin.qq.com/s?__biz=MzA5ODUxOTA5Mg==&mid=2652554096&idx=1&sn=46783e6ace661a3ccbd8a6e00fb17bf9&chksm=8b7e322bbc09bb3d73dc240f2280bddf2ef8b7824a459a24bd7f6eeadd60edb96e690d467f6e&scene=21#wechat_redirect)
☞  [深度神经网络中的数学，对你来说会不会太难？](http://mp.weixin.qq.com/s?__biz=MzA5ODUxOTA5Mg==&mid=2652554077&idx=2&sn=3ecd63f2205fd59df8c360c97c943ef6&chksm=8b7e3206bc09bb10a36b09547efe0c54f41423b180622c1fdc7f14747ccc8f8fecee3a12e2cd&scene=21#wechat_redirect)
☞  [编程需要知道多少数学知识？](http://mp.weixin.qq.com/s?__biz=MzA5ODUxOTA5Mg==&mid=2652554062&idx=1&sn=17f0a88d5e15d1adfc29c690a0b1b89b&chksm=8b7e3215bc09bb038c6caa59d0f49cedd929f9be1104beea3411186cf4c81de69efc71a17883&scene=21#wechat_redirect)
☞  [陈省身——什么是几何学](http://mp.weixin.qq.com/s?__biz=MzA5ODUxOTA5Mg==&mid=2652553994&idx=2&sn=74f67a1a3ac5c705f51f2ba619b717f6&chksm=8b7e3251bc09bb47dce73319948780081efe0333ffae99ea04a9eeabbcfcb38a29b4b73fb7c1&scene=21#wechat_redirect)
☞  [模式识别研究的回顾与展望](http://mp.weixin.qq.com/s?__biz=MzA5ODUxOTA5Mg==&mid=2652553949&idx=2&sn=d171680964df774397efd9db81c00347&chksm=8b7e3386bc09ba90bf0f6e1cabf82ba86ff94630cb5ee2e0f14ff9455db52be32ddbc289d237&scene=21#wechat_redirect)
☞  [曲面论](http://mp.weixin.qq.com/s?__biz=MzA5ODUxOTA5Mg==&mid=2652553747&idx=1&sn=e25f866d510cf2338b6d9e1b32bafb62&chksm=8b7e3348bc09ba5ea1caaf2a7bfcd80a7e7559b1983e473eda2206e56df7f38ef3cecf2f77c7&scene=21#wechat_redirect)
☞  [自然底数e的意义是什么？](http://mp.weixin.qq.com/s?__biz=MzA5ODUxOTA5Mg==&mid=2652553811&idx=1&sn=000305074471c3d4c681c9cfd4e4bc93&chksm=8b7e3308bc09ba1e3043f5568a3a75a045285a1de97e4da36918bac68e7c6d579ad5d8cc25ab&scene=21#wechat_redirect)
☞  [如何向5岁小孩解释什么是支持向量机（SVM）？](http://mp.weixin.qq.com/s?__biz=MzA5ODUxOTA5Mg==&mid=2652553670&idx=1&sn=ea75a448c016f7229e4cb298f6017614&chksm=8b7e309dbc09b98bc622acdf1223c7c2f743609d0a577dd43c9e9d98ab4da4314be7c1002bd5&scene=21#wechat_redirect)
☞  [华裔天才数学家陶哲轩自述](http://mp.weixin.qq.com/s?__biz=MzA5ODUxOTA5Mg==&mid=2652553646&idx=2&sn=bbf8f1be1ca1c66ad3f3270babea6885&chksm=8b7e30f5bc09b9e3e1a4fa735412e2fcb20df9e78f2f346bf578018ceab77de6326095d1bf71&scene=21#wechat_redirect)
☞  [代数，分析，几何与拓扑，现代数学的三大方法论](http://mp.weixin.qq.com/s?__biz=MzA5ODUxOTA5Mg==&mid=2652553596&idx=1&sn=bc5064e871831f862db6d19c3de6327e&chksm=8b7e3027bc09b93194fa09b25e2df400421c062927bb9120912875f8aaf0bb25553fc8f51e3b&scene=21#wechat_redirect)
[](http://mp.weixin.qq.com/s?__biz=MzA5ODUxOTA5Mg==&mid=2652553596&idx=1&sn=bc5064e871831f862db6d19c3de6327e&chksm=8b7e3027bc09b93194fa09b25e2df400421c062927bb9120912875f8aaf0bb25553fc8f51e3b&scene=21#wechat_redirect)
![640?wx_fmt=jpeg](https://ss.csdn.net/p?https://mmbiz.qpic.cn/mmbiz_jpg/951TjTgiabkya8z7IMHeJV8e2Ufs0XW03v7WJiaD4sJY0lswS1S3ULC5nKlnTkvApk5r46vn20ALciaMe5ia81cNug/640?wx_fmt=jpeg)
算法数学之美微信公众号欢迎赐稿
稿件涉及数学、物理、算法、计算机、编程等相关领域，经采用我们将奉上稿酬。
投稿邮箱：math_alg@163.com
