# 【福利】囚犯抓绿豆，谁生谁死？ - 算法与数学之美 - CSDN博客
2018年08月29日 21:39:55[算法与数学之美](https://me.csdn.net/FnqTyr45)阅读数：128
**囚犯抓绿豆，谁生谁死？**
![640](https://ss.csdn.net/p?https://mmbiz.qpic.cn/mmbiz_jpg/951TjTgiabkwEKC2bibEuMAf6tKvaUEficvq7ia2JBmI4RFcTMU0uQL3XqEHFHThvxM896x0DMwW9p3prviaCOf7LVg/640)
五个囚犯先后从 100 颗绿豆中抓绿豆。抓得最多和最少的人将被处死，不能交流，可以摸出剩下绿豆的数量，谁的存活几率最大？
> 
**提示：**
1.他们都是很聪明的人；
2.他们的原则是先求保命，再去多杀人；
3.100 颗不必都分完，但要保证每人至少抓一颗；
4.若有重复的情况，则也算最大和最小，一并处死。
这道题怎么做，取决于我们如何从数学的角度理解题干中这句话：
「他们的原则是先求保命，再去多杀人」。
** 我的理解是： **
1. 每个人采取方案，使得剩下的人在采取最佳方案的时候，自己的存活概率最大；
2. 如果有多种方案使得自己的存活概率最大且相同，则采取杀死人最多的方案。
假设我的理解正确，那么，这道题将会有一个可怕的答案。
定义：![640](https://ss.csdn.net/p?https://mmbiz.qpic.cn/mmbiz_jpg/951TjTgiabkwEKC2bibEuMAf6tKvaUEficvZW5E52VNGXToY8OOg5OaCC649HFNUnibuNd6VSWtY7RfgoShNxVFdZw/640) 为第 ![640](https://ss.csdn.net/p?https://mmbiz.qpic.cn/mmbiz_jpg/951TjTgiabkwEKC2bibEuMAf6tKvaUEficv9zVBqnmdmc1r5ia7jmibH5BVmtChfu4T6I6eqvokBGia0hB5tfdSQFLCA/640) 个人取走的绿豆数，而 ![640](https://ss.csdn.net/p?https://mmbiz.qpic.cn/mmbiz_jpg/951TjTgiabkwEKC2bibEuMAf6tKvaUEficv2IVia2Zoic61VhzoFInbK5Duiaqp6diaqn54e9edbyyXAbdv5wf1EddAkQ/640) 为前 ![640](https://ss.csdn.net/p?https://mmbiz.qpic.cn/mmbiz_jpg/951TjTgiabkwEKC2bibEuMAf6tKvaUEficv9zVBqnmdmc1r5ia7jmibH5BVmtChfu4T6I6eqvokBGia0hB5tfdSQFLCA/640) 个人取走的总绿豆数
** 引理 1：**
当 ![640](https://ss.csdn.net/p?https://mmbiz.qpic.cn/mmbiz_jpg/951TjTgiabkwEKC2bibEuMAf6tKvaUEficv9zVBqnmdmc1r5ia7jmibH5BVmtChfu4T6I6eqvokBGia0hB5tfdSQFLCA/640) 个人 (![640](https://ss.csdn.net/p?https://mmbiz.qpic.cn/mmbiz_jpg/951TjTgiabkwEKC2bibEuMAf6tKvaUEficvDTheickBMuYDhdQ8mPYoCPetMG3k3HwUFFtp5nVk6bhRdKOM0xHuxlA/640)) 取过绿豆时，如果被取走的绿豆数满足![640?wx_fmt=png](https://ss.csdn.net/p?https://mmbiz.qpic.cn/mmbiz_png/951TjTgiabkwEKC2bibEuMAf6tKvaUEficvmDgpzn4v9GqIga3vaX49cwZapANjJYYr6TZibAwwqsz8ctn5m8DWCPA/640?wx_fmt=png)
则第 ![640](https://ss.csdn.net/p?https://mmbiz.qpic.cn/mmbiz_jpg/951TjTgiabkwEKC2bibEuMAf6tKvaUEficvak2CRaicNNcYuOqnvhiaJibkQ5Czhib6op58o8XiauLv6Y0NYjXE2PwHacw/640) 个人应该取 ![640](https://ss.csdn.net/p?https://mmbiz.qpic.cn/mmbiz_jpg/951TjTgiabkwEKC2bibEuMAf6tKvaUEficvpusXs1qXtibVgWblsxxYQFKwGNNia5qib58RJ7C87pAaguMf9uJNh08qw/640) 颗绿豆；
** 证明： **
这个方案，可以确保自己不死，同时剩下未取豆子的人死亡概率最大。
**其中：**
![640](https://ss.csdn.net/p?https://mmbiz.qpic.cn/mmbiz_jpg/951TjTgiabkwEKC2bibEuMAf6tKvaUEficv8o2SMQZP5IZ8ACibQCkHpvl4mOj9pmgmTGV3OE0sf6SxQvwCBd0apicQ/640) 是确保剩下的人至少有一颗绿豆可选，且自己至少取了 2 颗；
![640](https://ss.csdn.net/p?https://mmbiz.qpic.cn/mmbiz_jpg/951TjTgiabkwEKC2bibEuMAf6tKvaUEficvorUGicWqpiaGEKPFfpmDTjeLPztg87OBTAB54bfQfmuFWqKBUFgn5fmg/640) 是确保自己取的绿豆数至少比前面取的最多的人少 1 ；
由于 ![640](https://ss.csdn.net/p?https://mmbiz.qpic.cn/mmbiz_jpg/951TjTgiabkwEKC2bibEuMAf6tKvaUEficv04Zia4d18blCotlwQricVY49myExZ7XvBfCyxVaTBNCryL8icRsLoEbicQ/640), 有![640](https://ss.csdn.net/p?https://mmbiz.qpic.cn/mmbiz_jpg/951TjTgiabkwEKC2bibEuMAf6tKvaUEficvvz14whhKayshUiapibUHO7WzY2zBcAMyw78fXUWj5lUn0U4BxyuwtInA/640), 这不仅保证了自己取的豆子数不是最多的，并且其他人不可能都取到那么多，所以自己必然存活；
如果 ![640](https://ss.csdn.net/p?https://mmbiz.qpic.cn/mmbiz_jpg/951TjTgiabkwEKC2bibEuMAf6tKvaUEficveVZuibkwIXqJEqKjzx1RZfuiazXx8OIjsMTpqqwyaX8wuic36jPLc1UxQ/640)，他在确保自己存活的情况下，使得剩下的豆子数最少，这样可以杀更多的人；
如果![640](https://ss.csdn.net/p?https://mmbiz.qpic.cn/mmbiz_jpg/951TjTgiabkwEKC2bibEuMAf6tKvaUEficvdBUrBT60p0WNRiccjibgYlkjgM0JLsH7hygbsv0I8LOSSJr57816mHPA/640)，他在确保自己存活的情况下，剩下的人每个人只能取 1 颗豆子，确保杀死剩下的所有人；
** 推论 1：**如果第 1 个人想要存活，那么他取的豆子数不能超过 20 颗，否则，后面的人只要采取引理 1 的方案，将保证自己存活，且此时第 1 个人会因为取的绿豆数最多而死亡，而最后 1~3 个人（根据第 1 个人取的绿豆数）会因为自己取的豆子数最少而死亡；
** 引理 2：**当 ![640](https://ss.csdn.net/p?https://mmbiz.qpic.cn/mmbiz_jpg/951TjTgiabkwEKC2bibEuMAf6tKvaUEficv3Pat74dY162U1K6hfAFfbCWDeibdJdicsZblLAH2jNk2UkiazgMX7ydjw/640)时，若![640](https://ss.csdn.net/p?https://mmbiz.qpic.cn/mmbiz_jpg/951TjTgiabkwEKC2bibEuMAf6tKvaUEficvq3zy5N9PpUg094Zb0uY2Zf87njiceRX1y3ED9Im4PJ96V7xKH8qC85w/640)，
则第 ![640](https://ss.csdn.net/p?https://mmbiz.qpic.cn/mmbiz_jpg/951TjTgiabkwEKC2bibEuMAf6tKvaUEficvak2CRaicNNcYuOqnvhiaJibkQ5Czhib6op58o8XiauLv6Y0NYjXE2PwHacw/640) 个人应该取 ![640](https://ss.csdn.net/p?https://mmbiz.qpic.cn/mmbiz_jpg/951TjTgiabkwEKC2bibEuMAf6tKvaUEficvxibKt99EQ52aZwicchsDuw6A4pwIiaaeFOm8FVibhUpjGBkttQHOKumiaVA/640) 颗绿豆来确保自己的存活概率最高
（其中，![640](https://ss.csdn.net/p?https://mmbiz.qpic.cn/mmbiz_jpg/951TjTgiabkwEKC2bibEuMAf6tKvaUEficvicSnzzNAdpdNeL4eCUyeplX09tbXPGXsuX0KFlhkVZkZEWGcZ1wn08A/640) 是均值的四舍五入）
因为当且仅当在这种情况下，只要前面的人取的绿豆数的最大最小值之差不小于 2，自己就确保能存活（否则存活范围会变窄）
对于第 5 个人，这个条件可能不成立，比如见到前面四个人取了 62 颗，可能是 14+16+16+16，也可能是 15+15+15+17，所以他无论取 15 颗还是 16 颗都有机会但不能确保自己存活。
而所有人取绿豆的最大最小值的差不大于 1，所有人都得死；
引理 3：当大家都极度自私的情况下，前 2 个人没有存活的可能
这是因为由引理 2，如果第 3~5 个人都会采取对他们而言存活概率的方案，如果第 2 个人和第 1 个人取的绿豆数差超过 1 个，那前两个人就包揽了最大最小值，必须死，如果差不超过 1，则所有人都得死；
既然第 1 个人没有存活概率，那他的目标就很耐人寻味了：
如果自己没有存活概率——
> 
选择 1：杀死尽可能多的人
选择 2：尽可能拯救更多的人
按照我的假设，应该是前者。
既然第 1 个人没有存活概率，不妨让大家都死得干净些——取走 96 颗绿豆！
但如果，第 1 个人有点恻隐之心，做出了选择 2：
那，他会取走 21~33 的豆子数，根据引理 1，第 2~4 个人会存活；
所以，本题根据对题意的不同理解，有两解：
> 
·所有人都死亡；
·第 2~4 个人存活；
而对于第 1 个囚犯，他将面临一个哲学难题：
如果自己不可能活下去，你会选择让别人陪葬，还是让其他人好好活下去？
如果是你，会怎么选择呢？
### 数学妙啊！妙！
> 
***作者： 曾加 ***
*简介：数据分析师，毕业于清华大学，知乎数学话题优秀回答者*
∑编辑 | 裴奕霖
来源 | 知乎
![640?wx_fmt=gif](https://ss.csdn.net/p?https://mmbiz.qpic.cn/mmbiz_gif/951TjTgiabkxticOZ0wU6P1wUrXXVzVVUpiaOV3PWHITXENP3ELfOCQIO7Kia05kuIia0TFEuKbc60QZfuB2csicWe4w/640?wx_fmt=gif)
**粉丝福利**
**送书！**
![640?wx_fmt=jpeg](https://ss.csdn.net/p?https://mmbiz.qpic.cn/mmbiz_jpg/951TjTgiabkwA4Z82uVMgKDOoxXiclx3LeXRtE1CfA2sB228BcCXSMuHgxDTVKoJiagGlDdIBV49clhHEcKR3N4xA/640?wx_fmt=jpeg)
本书阐述了求解微积分的技巧，详细讲解了微积分基础、极限、连续、微分、导数的应用、积分、无穷级数、泰勒级数与幂级数等内容，旨在教会读者如何思考问题从而找到解题所需的知识点，着重训练大家自己解答问题的能力。
本书适用于大学低年级学生、高中高年级学生、想学习微积分的数学爱好者以及广大数 学教师。本书既可作为教材、习题集，也可作为学习指南，同时还有利于教师备课。
**想获得此书，**
**文章底部留言，**
**留言点赞前四名的粉丝（24小时计），**
**免费获得此书！**
![640?wx_fmt=gif](https://ss.csdn.net/p?https://mmbiz.qpic.cn/mmbiz_gif/951TjTgiabkxN5SJPzhu6icTXrIpMZqSdFzG0y6ib1c9enWGK3GxfHTRIN7ich2kzqepNvMHfktp4Ir88ibolsDBuhQ/640?wx_fmt=gif)
![640?wx_fmt=png](https://ss.csdn.net/p?https://mmbiz.qpic.cn/mmbiz_png/951TjTgiabky7x6u1VxMVMia4MLibNzC2nrumY3zDflTsCeoM04M1BrkvPny8tsw6hYkIicUr42iarLmadL2x6JwV6A/640?wx_fmt=png)
算法数学之美微信公众号欢迎赐稿
稿件涉及数学、物理、算法、计算机、编程等相关领域，经采用我们将奉上稿酬。
投稿邮箱：math_alg@163.com
