# 加加减减的奥秘——从数学到魔术的思考（三） - 算法与数学之美 - CSDN博客
2019年01月19日 21:00:00[算法与数学之美](https://me.csdn.net/FnqTyr45)阅读数：46
![640?wx_fmt=gif](https://ss.csdn.net/p?https://mmbiz.qpic.cn/mmbiz_gif/951TjTgiabkyYNr2mLLFgV8rAcf8TKrhVVxPz4sJSdjDum3ia43TqSj6sPicZVQ5XqpfDhulibnGRdeLqAhyHf8TWw/640?wx_fmt=gif)
> 
***爱学习，勤思考；学数学，玩魔术***
在前面两期的系列文章中，（见公众号历史消息或菜单）传送门：
[加加减减的奥秘——从数学到魔术的思考（一）](http://mp.weixin.qq.com/s?__biz=MzA5ODUxOTA5Mg==&mid=2652564400&idx=2&sn=921933c264fd004c9e9065a7efc787db&chksm=8b7e1aebbc0993fdf334a5d8de1194f5f2eac309aab853b2db556f1b869457a52880efbb6b71&scene=21#wechat_redirect)
[加加减减的奥秘——从数学到魔术的思考（二）](http://mp.weixin.qq.com/s?__biz=MzI2NjQwNzQxMQ==&mid=2247483776&idx=1&sn=ea4e1672547dc41e3e6e02e8c0b9778e&chksm=ea8fdd1cddf8540a52670df75ea953ef19406da85db6cf497727c559eed7f9e668532c1a0daa&scene=21#wechat_redirect)
我们已经从数学原理的发现到扑克牌魔术的映射过程分别做了详细的分析。相信大家对这个加减互为逆运算的原理以及设计成魔术的基本方案都略有了解。上一篇中我们也特意提到了扑克魔术中的两个基本手法：Dealing和Cut，且主要就Dealing手法进行了数学到魔术的创作，其中不少创意大家应该还觉得有所收获吧！那么，今天最后一篇，我们来讨论下Cut手法下，我们如何利用好这个加减逆运算的原理来设计精品。
我认为，Cut方式的执行会比Dealing来得干净，一方面执行迅速，观众来不及思考；另一方面，Cut也更符合人拿牌的基本习惯，没有人是一上来就要数张数的，Cut天然更加自然。所以用好了，会得到更好的效果。
这个魔术的基本版本，来自伦敦大学玛丽女王学院的公开课，可以称作是base版本吧。说实话哈，那个系列的数学原理都还不错，但魔术演得实在是……嗯嗯，也许他们还有所保留没有展示实力吧，但是同时深入这两个领域都有点建树没点天赋和特殊的成长体验还真办不到，这也是MatheMagician存在的理由啦~请看视频：
视频1 The Clever Joker
简单复盘一下魔术操作中的几个步骤对应的实际扑克牌变化过程，a, b为两张Joker的起始位置编号，x0, y0为两次分别选择扑克牌的位置编号，整付牌的张数为d，起始扑克牌编号为1: d：
1. 两次切牌看底牌，相当于整叠扑克牌上的两个断点：
[1, a - 1], a, [a + 1, x0 - 1], x0
[x0 + 1, b - 1], b, [b + 1, y0 - 1], y0
[y0 + 1, d];
2. 放回时候上面两叠换位置：
[x0 + 1, b - 1], b, [b + 1, y0 - 1], y0
[1, a - 1], a, [a + 1, x0 - 1], x0
[y0 + 1, d];
3. 合并起来以后，找到新的编号，而不是位置为x0, y0的两张joker，并以此划分牌叠：
[x0 + 1, b - 1]
b
[b + 1, y0 - 1], y0, [1, a - 1]
a
[a + 1, x0 - 1], x0, [y0 + 1, d]
4. 佯装找出并拿走两张joker，此时完成底部两叠置换：
[x0 + 1, b - 1]
[a + 1, x0 - 1], x0, [y0 + 1, d]
[b + 1, y0 - 1], y0, [1, a - 1]
因此，初始时候定位于x0, y0的两张牌，即编号为之的他们的最终位置公示为：
x = [(b - 1) - (x0 + 1) + 1] + [(x0 - 1) - (a + 1) + 1] + 1 = b - a - 1
y = (d + 1 - 2) - {[(a - 1) - 1 + 1] + 1} = d - a - 1
（好久没有写过这么多层括号了，写着真舒服）
x, y 为最后两张选牌的最终位置，可以看到与x，y原取值位置x0, y0没有任何关系，其恰巧作为加减逆运算抵消掉了，而这些操作都肉眼可见但无人关心，关键是有一个吸引人的故事去编排。原始流程取a = 10, b = 28, d = 54, 则x = 17, y = 43。这些取值主要是为了保证拿一半，1 / 3 这些操作不会越界，多一点少一点并无妨。看起来这套参数是比较安全的但不是唯一的。
这里注意一点，扑克牌的位置索引是随着切牌不断变化的，而其上的值是印刷在牌面上永远不变的，这是这些推导背后的本质规律。
看完这个魔术的效果和解析以后，感觉这确实是一个对于加减逆运算操作使用切牌方式实现的一个绝佳例子，动作足够隐蔽，丝毫没有给你去计算的可能。但是，从整体效果来看，少了点跌宕起伏和戏剧冲突，joker在耳边告诉魔术师位置这一设计有些牵强，明显可以推导出可能是固定位置，展示魔术的方式还是离秘密太近，哪怕真正的推理很难，也失去意义了。另外，观察公式发现，第一张终止位置x只和b - a有关，这个的物理意义其实就是夹在两张joker之间的牌的张数加1，而y也只和a有关，因此，利用这一点，我们可以只变这个魔术的一部分，把两张牌的位置预测变成简单的一张（事实证明，这并不会降低神奇度），但是给予了表演更多的自由度（x只需要控制a和b的差，y只需要控制b）。基于这样的想法，我改编了这一流程，见下面的视频，可以比较一下，基于同样的数学原理，到底好在哪里，或者哪里还不足，欢迎留言讨论。
视频2 The Clever Assistant
这个改进主要的魔术想法在于拉开效果与秘密的距离（Timing是拉开的方式之一，后面会讲，而这里是换了更丰富的展现形式做到的），把给定的位置信息用一连串紧张递进的过程来表现，使得秘密远在表演的内容之外，并且故事足够精彩的时候，观众也无暇去猜秘密了。具体执行的方案利用了关于Anti Faro shuffle（反完美洗牌）的一些二进制相关的性质。这两个思想在很多魔术设计中都有应用，后面我们还会有机会提到他们。
好了，本篇是《加加减减的奥秘——从数学到魔术的思考》的最后一篇，数学实在是太深邃，魔术实在是太奇妙，而他们关联出来的思想又是千丝万缕。我希望每个系列文章中都能从一个核心思想出发去触及知识的各个可能的角落，对大家的数学，魔术，以及思维方式的改进与提升有所裨益，让你爱上学习，爱上思考，这里是MatheMagician。
更多精彩内容欢迎扫描下方二维码关注我们，我们下期再见！
![640?wx_fmt=jpeg](https://ss.csdn.net/p?https://mmbiz.qpic.cn/mmbiz_jpg/951TjTgiabkzHGc89PPJKJjP7FBicCt9UyeWPCwNibriaIQEq46r8f58gCcR8fmWq4f4xye4MU9QZQJkccq8ySgsbA/640?wx_fmt=jpeg)
magic2728，现就职于腾讯。自幼以数学和魔术为最大爱好，从参加建模比赛到培训到一线互联网从业者，其建模经验遍历金融，生物，互联网；魔术表演从学校走向比赛和商演，又回归扑克牌魔术理论的研究。他通过建模来思考，参与和改造这个世界，也希望能同步把这些精彩分享给感兴趣的朋友们。
**————**
微信公众号“算法数学之美”，由算法与数学之美团队打造的另一个公众号，欢迎大家扫码关注！
![640?wx_fmt=jpeg](https://ss.csdn.net/p?https://mmbiz.qpic.cn/mmbiz_jpg/951TjTgiabkyjQVC3BFiaFKQ4DJqz2xhrwkzeCPbjQdnnG8678fRf1sxc2ZQtvtVib2dqWUkeopYtmgckINoOoGoQ/640?wx_fmt=jpeg)
**更多精彩：**
☞[如何向5岁小孩解释什么是支持向量机（SVM）？](http://mp.weixin.qq.com/s?__biz=MzI4NTY3OTU3MA==&mid=2247483726&idx=1&sn=e5e008fb68a7d837546d0ac5b5438042&chksm=ebe9cbf3dc9e42e5d625b2da6b9b3866dff9f08d442d8106f4cbf035d8602e1fdda86eec6476&scene=21#wechat_redirect)
☞[自然底数e的意义是什么？](http://mp.weixin.qq.com/s?__biz=MzI4NTY3OTU3MA==&mid=2247483726&idx=2&sn=18272b7eaa172794b51c30d0a2dd9c48&chksm=ebe9cbf3dc9e42e5ddf9a189822a2fa099543a631ad63a1d6ed0158b51c76212eb65ebbfe71b&scene=21#wechat_redirect)
[☞费马大定理，集惊险与武侠于一体](http://mp.weixin.qq.com/s?__biz=MzI4NTY3OTU3MA==&mid=2247483715&idx=1&sn=9069dadf4bbce2aa34bd64b85a69dcee&chksm=ebe9cbfedc9e42e81c27d72da15c0dbf848e505946f231051b8b4033d0941bc6f51cef32790e&scene=21#wechat_redirect)
☞[简单的解释，让你秒懂“最优化” 问题](http://mp.weixin.qq.com/s?__biz=MzI4NTY3OTU3MA==&mid=2247483715&idx=2&sn=55a16f37c89b27994b263e0dc9837561&chksm=ebe9cbfedc9e42e842deb581ea62b750cedd839abd58c2db3261bf9fbcd172a2cf18512e4d2d&scene=21#wechat_redirect)
[☞一分钟看懂一维空间到十维空间](http://mp.weixin.qq.com/s?__biz=MzI4NTY3OTU3MA==&mid=2247483676&idx=1&sn=2366a39bca3ef42a6e868e91ea718813&chksm=ebe9cba1dc9e42b70c7e147b9e43828c1a7c68401f442890471a06e5cf0704437f9813ca0e0f&scene=21#wechat_redirect)
☞ [本科、硕士和博士到底有什么区别？](http://mp.weixin.qq.com/s?__biz=MzI4NTY3OTU3MA==&mid=2247483661&idx=1&sn=d822666a054ba70b37dfb06d14c60f3a&chksm=ebe9cbb0dc9e42a6c476f7f81095b772aa45d960bf516f60c5b2e1155c9093696222cea0a83d&scene=21#wechat_redirect)
☞[小波变换通俗解释](http://mp.weixin.qq.com/s?__biz=MzI4NTY3OTU3MA==&mid=2247483654&idx=1&sn=7d0d05c78cd01df91495f1d14609cbce&chksm=ebe9cbbbdc9e42add13cfe99f3383745fa5c059df705a3a9e28644d073dff804569af94970e3&scene=21#wechat_redirect)
☞[微积分必背公式](http://mp.weixin.qq.com/s?__biz=MzI4NTY3OTU3MA==&mid=2247483654&idx=4&sn=ce88086b650c601bdbf57ecfe5a490a1&chksm=ebe9cbbbdc9e42adfaf0e4ee644d254835c830ef47663315b70a39a2b47e6a7cf10d0826b88d&scene=21#wechat_redirect)
☞[影响计算机算法世界的十位大师](http://mp.weixin.qq.com/s?__biz=MzI4NTY3OTU3MA==&mid=2247483654&idx=3&sn=ceaec6043bb0e8a851033482f8f572bf&chksm=ebe9cbbbdc9e42ad30fd38383cf1caa609ac6e81964da17277f8e2a7f17a933cd11e0f3840c8&scene=21#wechat_redirect)
☞[数据挖掘之七种常用的方法](http://mp.weixin.qq.com/s?__biz=MzI4NTY3OTU3MA==&mid=2247483654&idx=2&sn=bf439d56bc7d42083708fa76434a6025&chksm=ebe9cbbbdc9e42ad9e5f2b3c1952e620e0e3d4452aae25b611e7e54be8678b0d80e002e7be6d&scene=21#wechat_redirect)
算法数学之美微信公众号欢迎赐稿
稿件涉及数学、物理、算法、计算机、编程等相关领域，经采用我们将奉上稿酬。
投稿邮箱：math_alg@163.com
