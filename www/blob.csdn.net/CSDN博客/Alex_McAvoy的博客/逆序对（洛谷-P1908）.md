# 逆序对（洛谷-P1908） - Alex_McAvoy的博客 - CSDN博客





2018年07月05日 21:07:55[Alex_McAvoy](https://me.csdn.net/u011815404)阅读数：112








## 题目描述

猫猫TOM和小老鼠JERRY最近又较量上了，但是毕竟都是成年人，他们已经不喜欢再玩那种你追我赶的游戏，现在他们喜欢玩统计。最近，TOM老猫查阅到一个人类称之为“逆序对”的东西，这东西是这样定义的：对于给定的一段正整数序列，逆序对就是序列中ai>aj且i<j的有序对。知道这概念后，他们就比赛谁先算出给定的一段正整数序列中逆序对的数目。

## 输入输出格式

**输入格式：**

第一行，一个数n，表示序列中有n个数。

第二行n个数，表示给定的序列。

**输出格式：**

给定序列中逆序对的数目。

## 输入输出样例

**输入样例#1：**

```
6
5 4 2 6 3 1
```

**输出样例#1：**
`11`
———————————————————————————————————————————————————————

思路：

具体参见：

1）归并排序：[点击这里](https://blog.csdn.net/u011815404/article/details/79981844)

2）逆序对问题：[点击这里](https://blog.csdn.net/u011815404/article/details/80017241)



## 源代码

```cpp
#include<iostream>
#include<cstdio>
#include<cstring>
#include<cmath>
#include<algorithm>
#include<string>
#include<cstdlib>
#include<queue>
#include<set>
#include<map>
#include<stack>
#include<vector>
#define INF 0x3f3f3f3f
#define PI acos(-1.0)
#define N 100001
#define MOD 123
#define E 1e-6
using namespace std;
int n;
int a[N],b[N];
long long sum=0;
void msort(int left,int right)
{
    if(left>=right)
        return;

    int mid=(left+right)/2;

    msort(left,mid);
    msort(mid+1,right);

    int i=left,j=mid+1,k=left;
    while(i<=mid&&j<=right)
    {
        if(a[i]>a[j])
        {
            b[k++]=a[j++];
            sum+=mid-i+1;
        }
        else
            b[k++]=a[i++];
    }
    while(i<=mid)
        b[k++]=a[i++];
    while(j<=right)
        b[k++]=a[j++];
    for(i=left;i<=right;i++)
        a[i]=b[i];
}
int main()
{
    int i,j;
    cin>>n;
    for(i=1;i<=n;i++)
        cin>>a[i];
    msort(1,n);
    cout<<sum<<endl;
    return 0;
}
```





