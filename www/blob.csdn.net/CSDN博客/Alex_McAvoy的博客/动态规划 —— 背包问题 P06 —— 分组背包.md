# 动态规划 —— 背包问题 P06 —— 分组背包 - Alex_McAvoy的博客 - CSDN博客





2018年05月02日 21:14:27[Alex_McAvoy](https://me.csdn.net/u011815404)阅读数：79








# 【问题】

有N件物品和一个容量为V的背包。第i件物品的体积w[i]，价值是c[i]。这些物品被划分为若干组，每组中的物品互相冲突，最多选一件。

求：将哪些物品装入背包可使这些物品的费用总和不超过背包容量，且价值总和最大。

# 【算法】

这个问题变成了每组物品有若干种策略：是选择本组的某一件，还是一件都不选。

设f[k][v]表示前k组物品花费费用v能取得的最大权值，则有：**f[k][v]=max{f[k-1][v],f[k-1][v-w[i]]+c[i] | 物品i属于第k组}**

使用一维数组的伪代码如下：

```cpp
for 所有的组k
    for v=V..0
        for 所有的i属于组k
            f[v]=max{f[v],f[v-w[i]]+c[i]}
```

注意这里的三层循环的顺序，“for v=V..0”这一层循环必须在“for 所有的i属于组k”之外。这样才能保证每一组内的物品最多只有一个会被添加到背包中。

另外，可以对每组内的物品应用P02中“一个简单有效的优化”。





