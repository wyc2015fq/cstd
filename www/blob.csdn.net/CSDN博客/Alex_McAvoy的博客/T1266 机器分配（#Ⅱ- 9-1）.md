# T1266 机器分配（#Ⅱ- 9 - 1） - Alex_McAvoy的博客 - CSDN博客





2018年05月31日 21:20:08[Alex_McAvoy](https://me.csdn.net/u011815404)阅读数：372








### 【题目描述】



总公司拥有高效设备M台，准备分给下属的N个分公司。各分公司若获得这些设备，可以为国家提供一定的盈利。问：如何分配这M台设备才能使国家得到的盈利最大？求出最大盈利值。其中M≤15，N≤10。分配原则：每个公司有权获得任意数目的设备，但总台数不超过设备数M.

### 【输入】

第一行有两个数，第一个数是分公司数N，第二个数是设备台数M；

接下来是一个N*M的矩阵，表明了第 I个公司分配 J台机器的盈利。

### 【输出】

第一行输出最大盈利值；

接下N行，每行有2个数，即分公司编号和该分公司获得设备台数。

### 【输入样例】

```
3 3           //3个分公司分3台机器
30 40 50
20 30 50
20 25 30
```

### 【输出样例】

```
70                                         //最大盈利值为70
1 1                                        //第一分公司分1台
2 1                                        //第二分公司分1台
3 1                                        //第三分公司分1台
```

### 【源程序】

```cpp
#include<iostream>
#include<cstdio>
#include<cstring>
#include<cmath>
#include<algorithm>
#include<string>
#include<cstdlib>
#include<queue>
#include<vector>
#define INF 0x3f3f3f3f
#define PI acos(-1.0)
#define N 30
#define MOD 2520
#define E 1e-12
using namespace std;
int a[N][N],f[N][N],res[N][N];
void print(int x,int y)
{
    if(x==0)
        return;
    print(x-1,y-res[x][y]);
    printf("%d %d\n",x,res[x][y]);
}
int main()
{
    int n,m;
    cin>>n>>m;
    for(int i=1;i<=n;i++)
        for(int j=1;j<=m;j++)
            cin>>a[i][j];

    for(int i=1;i<=n;i++)
        for(int j=1;j<=m;j++)
            for(int k=0;k<=j;k++)
                if(f[i][j]<=f[i-1][j-k]+a[i][k])
                {
                    f[i][j]=f[i-1][j-k]+a[i][k];
                    res[i][j]=k;
                }

    cout<<f[n][m]<<endl;
    print(n,m);

    return 0;
}
```







