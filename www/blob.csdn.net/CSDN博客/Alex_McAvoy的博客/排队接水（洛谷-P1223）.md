# 排队接水（洛谷-P1223） - Alex_McAvoy的博客 - CSDN博客





2018年04月14日 23:16:30[Alex_McAvoy](https://me.csdn.net/u011815404)阅读数：112








## 题目描述

有n个人在一个水龙头前排队接水，假如每个人接水的时间为Ti，请编程找出这n个人排队的一种顺序，使得n个人的平均等待时间最小。

## 输入输出格式

**输入格式：**

输入共两行，第一行为n；第二行分别表示第1个人到第n个人每人的接水时间T1，T2，…，Tn，每个数据之间有1个空格。

**输出格式：**

输出有两行，第一行为一种排队顺序，即1到n的一种排列；第二行为这种排列方案下的平均等待时间(输出结果精确到小数点后两位)。

## 输入输出样例

**输入样例#1：**

```
10 
56 12 1 99 1000 234 33 55 99 812
```

**输出样例#1：**

```
3 2 7 8 1 4 9 6 10 5
291.90
```

———————————————————————————————————————————————

思路：对于每一个人，在场剩余每个人都要经历一次他的打水时间。故遍历整个数组求其他人在这个人打水时花费的总时间累加到sum上，最后sum除以n。

## 源代码

```cpp
#include<iostream>
#include<algorithm>
#include<iomanip>
using namespace std;
struct people{//结构体
    int num;
    int time;
}arr[5000];
bool cmp(people a,people b){//排序因子
    return a.time<b.time;//按时间升序
}
int main()
{
    int n;
    int i;
    double time_sum=0,time_average;
    cin>>n;
    for(i=1;i<=n;i++)	
    {
        cin>>arr[i].time;
        arr[i].num=i;
    }
    sort(arr+1,arr+1+n,cmp);//升序排序
    
    for(i=1;i<=n;i++)	
    {
        cout<<arr[i].num<<" ";
    	if(n-i>=1)	time_sum+=arr[i].time*(n-i);//计算总时间
    }    
    time_average=time_sum/n;//计算平均时间
    
    cout<<endl;
    cout<<setiosflags(ios::fixed)<<setprecision(2);
    cout<<time_average<<endl;
        
    return 0;
}
```





