# 尼克的任务（洛谷-P1280） - Alex_McAvoy的博客 - CSDN博客





2018年08月20日 16:30:26[Alex_McAvoy](https://me.csdn.net/u011815404)阅读数：104








## 题目描述

尼克每天上班之前都连接上英特网，接收他的上司发来的邮件，这些邮件包含了尼克主管的部门当天要完成的全部任务，每个任务由一个开始时刻与一个持续时间构成。

尼克的一个工作日为N分钟，从第一分钟开始到第N分钟结束。当尼克到达单位后他就开始干活。如果在同一时刻有多个任务需要完成，尼克可以任选其中的一个来做，而其余的则由他的同事完成，反之如果只有一个任务，则该任务必需由尼克去完成，假如某些任务开始时刻尼克正在工作，则这些任务也由尼克的同事完成。如果某任务于第P分钟开始，持续时间为T分钟，则该任务将在第P+T-1分钟结束。

写一个程序计算尼克应该如何选取任务，才能获得最大的空暇时间

## 输入输出格式

**输入格式：**

输入数据第一行含两个用空格隔开的整数N和K(1≤N≤10000，1≤K≤10000)，N表示尼克的工作时间，单位为分钟，K表示任务总数。

接下来共有K行，每一行有两个用空格隔开的整数P和T，表示该任务从第P分钟开始，持续时间为T分钟，其中1≤P≤N，1≤P+T-1≤N。

**输出格式：**

输出文件仅一行，包含一个整数，表示尼克可能获得的最大空暇时间。

## 输入输出样例

**输入样例#1：**

```
15 6
1 2
1 6
4 11
8 5
8 1
11 5
```

**输出样例#1：**
`4`
## 源代码

```cpp
#include<iostream>
#include<algorithm>
using namespace std;

struct task{//任务结构体
    int begin;
    int duration;
}arr[10000];
bool cmp(task a,task b)//排序因子
{
    return a.begin>b.begin;
}
int max(int x,int y)
{
    if(x>y)	
        return x;
    else 
        return y;
}
int dp[10000];
int flag[10000];
int main()
{
    int time,num;
    int i,j;
    
    cin>>time>>num;//输入工作日时间及任务数
    dp[time+1]=0;
    for(i=1;i<=num;i++)	
    {
        cin>>arr[i].begin>>arr[i].duration;//每个任务的开始时间以及持续时间
        flag[ arr[i].begin ]++;//利用桶排的思想，标记每个任务的开始时间
    }
    sort(arr+1,arr+1+time,cmp);//根据任务的开始时间进行排序
    for(i=time;i>=1;i--)//从后向前，对根据时间进行遍历
    {
        if(flag[i]==0)//根据标记，如果没有任务
            dp[i]=dp[i+1]+1;//选取任务执行
        else//如果有任务
        	for(j=1;j<=num;j++)
                if(arr[j].begin==i)//下一任务开始时间正好为结束时间
                    dp[i]=max(dp[i],dp[ i+arr[j].duration ]);//比较任务时间
    }
    
    cout<<dp[1]<<endl;
    
    return 0;
}
```





