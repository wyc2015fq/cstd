# 动态规划 —— 背包问题 P08 —— 泛化物品背包 - Alex_McAvoy的博客 - CSDN博客





2018年06月03日 22:40:05[Alex_McAvoy](https://me.csdn.net/u011815404)阅读数：130








### 【定义】

泛化物品的概念：有这样一种物品，它并没有固定的费用和价值，而是它的价值随着你分配给它的费用而变化。

更严格的定义：在背包容量为V的背包中，泛化物品是一个定义域为0..V中的整数的函数h，当分配给它的费用为v时，能得到的价值就是h(v)。

这个定义有一点点抽象，另一种理解是一个泛化物品就是一个数组h[0..V]，给它费用v，可得到价值h[V]。

对于一个费用为c价值为w的物品：

    如果它是01背包中的物品，那么把它看成泛化物品，它就是除了h(c)=w其它函数值都为0的一个函数。

    如果它是完全背包中的物品，那么它可以看成这样一个函数，仅当v被c整除时有h(v)=v/c*w，其它函数值均为0。

    如果它是多重背包中重复次数最多为n的物品，那么它对应的泛化物品的函数有h(v)=v/c*w仅当v被c整除且v/c<=n，其它情况函数值均为0。

一个物品组可以看作一个泛化物品h，对于一个0..V中的v，若物品组中不存在费用为v的的物品，则h(v)=0，否则h(v)为所有费用为v的物品的最大价值。

P07中每个主件及其附件集合等价于一个物品组，自然也可看作一个泛化物品。

### 【泛化物品的和】

如果面对两个泛化物品h和l，给定的费用，要求从这两个泛化物品中得到最大的价值。

事实上，对于一个给定的费用v，只需枚举将这个费用如何分配给两个泛化物品就可以了。同样的，对于0..V的每一个整数v，可以求得费用v分配到h和l中的最大价值f(v)，即：**f(v)=max{h(k)+l(v-k) | 0<=k<=v}**。

可以看到，f也是一个由泛化物品h和l决定的定义域为0..V的函数，也就是说，f是一个由泛化物品h和l决定的泛化物品。

由此可以定义泛化物品的和：h、l都是泛化物品，若泛化物品f满足**f(v)=max{h(k)+l(v-k) | 0<=k<=v}**，则称f是h与l的和，即：**f=h+l**。

这个运算的时间复杂度取决于背包的容量，是O(V^2)。

泛化物品的定义表明：在一个背包问题中，若将两个泛化物品代以它们的和，不影响问题的答案。

事实上，对于其中的物品都是泛化物品的背包问题，求它的答案的过程也就是求所有这些泛化物品之和的过程，设此和为s，则答案就是s[0..V]中的最大值。

### 【背包问题的泛化物品】

一个背包问题中，可能会给出很多条件，包括每种物品的费用、价值等属性，物品之间的分组、依赖等关系等，但肯定能将问题对应于某个泛化物品。

也就是说，给定了所有条件以后，就可以对每个非负整数v求得：若背包容量为v，求将物品装入背包可得到的最大价值是多少？这可以认为是定义在非负整数集上的一件泛化物品。

这个泛化物品——或者说问题所对应的一个定义域为非负整数的函数——包含了关于问题本身的高度浓缩的信息。

一般而言，求得这个泛化物品的一个子域（例如0..V）的值之后，就可以根据这个函数的取值得到背包问题的最终答案。

综上所述，一般而言，求解背包问题，即求解这个问题所对应的一个函数，也即该问题的泛化物品，而求解某个泛化物品的一种方法就是将它表示为若干泛化物品的和然后求之。



