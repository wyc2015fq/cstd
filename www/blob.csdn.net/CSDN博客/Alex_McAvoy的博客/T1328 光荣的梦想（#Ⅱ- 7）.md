# T1328 光荣的梦想（#Ⅱ- 7） - Alex_McAvoy的博客 - CSDN博客





2018年05月17日 21:40:40[Alex_McAvoy](https://me.csdn.net/u011815404)阅读数：828








### 【题目描述】



Prince对他在这片大陆上维护的秩序感到满意，于是决定启程离开艾泽拉斯。在他动身之前，Prince决定赋予King_Bette最强大的能量以守护世界、保卫这里的平衡与和谐。在那个时代，平衡是个梦想。因为有很多奇异的物种拥有各种不稳定的能量，平衡瞬间即被打破。KB决定求助于你，帮助他完成这个梦想。

一串数列即表示一个世界的状态。

平衡是指这串数列以升序排列。而从一串无序数列到有序数列需要通过交换数列中的元素来实现。KB的能量只能交换相邻两个数字。他想知道他最少需要交换几次就能使数列有序。

### 【输入】

第一行为数列中数的个数n,第二行为n ≤ 10000个数。表示当前数列的状态。

### 【输出】

输出一个整数，表示最少需要交换几次能达到平衡状态。

### 【输入样例】

```
4
2 1 4 3
```

### 【输出样例】
`2`
### 【源程序】

```cpp
#include<iostream>
#include<cstdio>
#include<cstdlib>
#include<cstring>
#include<algorithm>
#include<string>
#define INF 999999999
#define N 1000001
#define MOD 1000000007
using namespace std;
int n;
int a[N],b[N];
long long ans=0;
void msort(int left,int right)
{
    int mid=(left+right)/2;
    if(left>=right)
        return ;
    msort(left,mid);
    msort(mid+1,right);

    int i=left,j=mid+1,n=mid,m=right,k=0;
    while(i<=n&&j<=m)
        if(a[i]>a[j])
        {
            ans+=n-i+1;
            b[k++]=a[j++];
        }
        else
            b[k++]=a[i++];
    while(i<=n)
        b[k++]=a[i++];
    while(j<=m)
        b[k++]=a[j++];
    for(i=0;i<k;i++)
        a[left+i]=b[i];
}
int main()
{
    cin>>n;
    for(int i=1;i<=n;i++)
        cin>>a[i];
    msort(1,n);
    cout<<ans<<endl;
    return 0;
}
```



