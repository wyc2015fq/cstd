# 选数（洛谷-P1036） - Alex_McAvoy的博客 - CSDN博客





2018年02月27日 23:59:40[Alex_McAvoy](https://me.csdn.net/u011815404)阅读数：212








## 题目描述

已知 n 个整数 x1,x2,…,xn，以及一个整数 k（k＜n）。从 n 个整数中任选 k 个整数相加，可分别得到一系列的和。例如当 n=4，k＝3，4 个整数分别为 3，7，12，19 时，可得全部的组合与它们的和为：

3＋7＋12=22

3＋7＋19＝29

7＋12＋19＝38

3＋12＋19＝34。

现在，要求你计算出和为素数共有多少种。

例如上例，只有一种的和为素数：3＋7＋19＝29）。

## 输入输出格式

**输入格式：**

键盘输入，格式为：

n , k （1<=n<=20，k＜n）

x1,x2，…,xn （1<=xi<=5000000）

**输出格式：**

屏幕输出，格式为：

一个整数（满足条件的种数）。

## 输入输出样例

**输入样例#1：**

```
4 3
3 7 12 19
```

**输出样例#1：**
`1`
## 源代码 

```cpp
#include<iostream>
#include<cmath>
**using** **namespace** std;
**bool** prime(**int** n);
**void** judge(**int** k,**int** i,**int** sum,**int** number[],**int** n);
**int** total=0;

**int** main()
{
    **int** n,k;
    **int** number[20];
    **int** i;
    **int** count=0;
   
    cin>>n>>k;
    
    **for**(i=0;i<n;i++)	cin>>number[i];
    
    **if**(n==k)
    {
        **for**(i=0;i<n;i++)        count+=number[i];//计算数据和
        **if**(prime(count))	cout<<1<<endl;//调用函数判断是否是素数
        **else** cout<<0<<endl;
    }
   **else**
   {
        judge(k,0,0,number,n);//调用函数计算和
        cout<<total<<endl;
   }
    **return** 0;
}

**bool** prime(**int** n)//判断是否是素数的函数
{
    **int** i;
    **if**(n==2)	**return** true;
    **if**(n%2==0)	**return** false;
    **for**(i=3;i<sqrt(n);i+=2)
    	**if**(n%i==0)	**return** false;
    **return** true;
}

**void** judge(**int** k,**int** i,**int** sum,**int** number[],**int** n)
{   
    **if**(k==0)//判断数据是否是素数
        **if**(prime(sum))
           total++;
           
    **for**(;i<n;i++)
           judge(k-1,i+1,sum+number[i],number,n);//递归调用计算数据个数
}
```



