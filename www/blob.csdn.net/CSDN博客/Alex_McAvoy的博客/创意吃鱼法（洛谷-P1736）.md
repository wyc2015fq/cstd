# 创意吃鱼法（洛谷-P1736） - Alex_McAvoy的博客 - CSDN博客





2018年08月21日 20:05:19[Alex_McAvoy](https://me.csdn.net/u011815404)阅读数：46








## 题目描述

回到家中的猫猫把三桶鱼全部转移到了她那长方形大池子中，然后开始思考：到底要以何种方法吃鱼呢（猫猫就是这么可爱，吃鱼也要想好吃法 ^_*）。她发现，把大池子视为01矩阵（0表示对应位置无鱼，1表示对应位置有鱼）有助于决定吃鱼策略。

在代表池子的01矩阵中，有很多的正方形子矩阵，如果某个正方形子矩阵的某条对角线上都有鱼，且此正方形子矩阵的其他地方无鱼，猫猫就可以从这个正方形子矩阵“对角线的一端”下口，只一吸，就能把对角线上的那一队鲜鱼吸入口中。

猫猫是个贪婪的家伙，所以她想一口吃掉尽量多的鱼。请你帮猫猫计算一下，她一口下去，最多可以吃掉多少条鱼？

## 输入输出格式

**输入格式：**

有多组输入数据，每组数据：

第一行有两个整数n和m（n,m≥1），描述池塘规模。接下来的n行，每行有m个数字（非“0”即“1”）。每两个数字之间用空格隔开。

对于30%的数据，有n,m≤100

对于60%的数据，有n,m≤1000

对于100%的数据，有n,m≤2500

**输出格式：**

只有一个整数——猫猫一口下去可以吃掉的鱼的数量，占一行，行末有回车。

## 输入输出样例

**输入样例#1：**

```
4 6
0 1 0 1 0 0
0 0 1 0 1 0
1 1 0 0 0 1
0 1 1 0 1 0
```

**输出样例#1：**
`3`
## 源代码

```cpp
#include<iostream>
#include<cstdio>
using namespace std;

int max(int x,int y,int z)//求最大值
{
    int temp=x;
    if(temp<y)	temp=y;
    if(temp<z)	temp=z;
    return temp;
}

int fish[2510][2510];
int dp1[2510][2510]={0},dp2[2510][2510]={0};
int main()
{
    int n,m;
    int i,j,k;
    int ans=0;
    
    cin>>n>>m;//水池长、宽
    for(i=1;i<=n;i++)//有无鱼
        for(j=1;j<=m;j++)
            scanf("%d",&fish[i][j]);//数据很多时，cin速度不如scanf
    
 
    for(i=1;i<=n;i++)
        for(j=1;j<=m;j++)
        {
            if(fish[i][j]!=0)//当前格有鱼
            {
                   /*统计左对角线*/
                dp1[i][j]=dp1[i-1][j-1]+1;
                for(k=1;k<dp1[i][j];k++)//遍历
                {
                    if( (fish[i-k][j]!=0) || (fish[i][j-k]!=0) )//如果子矩阵有鱼，终止遍历
                    {
                        dp1[i][j]=k;
                    	break;
                	}
            	}
                
                 /*统计右对角线*/
                dp2[i][j]=dp2[i-1][j+1]+1;
                for(k=1;k<dp2[i][j];k++)//遍历
                {
                    if( (fish[i-k][j]) || (fish[i][j+k]) )//如果子矩阵有鱼，终止遍历
                    {
                        dp2[i][j]=k;
                    	break;
                	}
            	}        
            }
            ans=max(ans,dp1[i][j],dp2[i][j]);//记录最大值
        }

    cout<<ans<<endl;
    return 0;
}
```





