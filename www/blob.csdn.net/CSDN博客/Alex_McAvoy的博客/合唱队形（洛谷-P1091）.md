# 合唱队形（洛谷-P1091） - Alex_McAvoy的博客 - CSDN博客





2018年08月19日 22:22:48[Alex_McAvoy](https://me.csdn.net/u011815404)阅读数：99








## 题目描述

N 位同学站成一排，音乐老师要请其中的( N−K )位同学出列，使得剩下的 KK 位同学排成合唱队形。

合唱队形是指这样的一种队形：设K位同学从左到右依次编号为 1,2,…,K ，他们的身高分别为 T1​,T2​,…,TK​ ， 则他们的身高满足 T1​<...<Ti​>Ti+1​>…>TK​(1≤i≤K) 。

你的任务是，已知所有N位同学的身高，计算最少需要几位同学出列，可以使得剩下的同学排成合唱队形。

## 输入输出格式

**输入格式：**

共二行。

第一行是一个整数 N(2≤N≤100) ，表示同学的总数。

第二行有 n 个整数，用空格分隔，第 i 个整数 Ti​(130≤Ti​≤230) 是第 i 位同学的身高(厘米)。

**输出格式：**

一个整数，最少需要几位同学出列。

## 输入输出样例

**输入样例#1：**

```
8
186 186 150 200 160 130 197 220
```

**输出样例#1：**
`4`
## 源代码

```cpp
#include<iostream>
using namespace std;

int cmp(int x,int y)
{
    if(x>y)	return x;
    else return y;
}
int dp_rise[10000],dp_fall[10000];
int main()
{
    int n,high[10000];
    int rise_temp,fall_temp,temp;
    int max=1;//留下人数
    int i,j;
    
    cin>>n;//人数
    for(i=1;i<=n;i++)	
    {
        cin>>high[i];//每人身高
        dp_rise[i]=1;//无论是降序还是升序，留下的人数至少为1
        dp_fall[i]=1;//无论是降序还是升序，留下的人数至少为1
    }
     /*比较升序时取i位置和不取i位置哪个留下的人多 */
    for(i=1;i<=n;i++)//求以第i个数为终点的最长上升子序列长度
    {
        rise_temp=0;//记录第i 个数左边子序列最大长度
        for(j=1;j<i;j++)//搜索以第i 个数左边数为终点的最长上升子序列长度
        {
            if(high[i]>high[j])//若i位置大于j位置，则为上升序列
            {
                if(rise_temp<dp_rise[j])//若左端上升长度小于j位置                   
                    rise_temp=dp_rise[j];//令第i 个数左边子序列最大长度为j位置
            }
        }
        dp_rise[i]=rise_temp+1;//比较得来留下人最多的方案
    }
    
    
     /*比较降序时取i位置和不取i位置哪个留下的人多 */
    for(i=n;i>=1;i--)//求以第i个数为终点的最长上升子序列长度
    {
        fall_temp=0;//记录第i 个数右边子序列最大长度
        for(j=n;j>i;j--)//搜索以第i 个数右边数为终点的最长下降子序列长度
        {
            if(high[i]>high[j])//若i位置大于j位置，则为下降序列
            {
                if(fall_temp<dp_fall[j])//若右端下降长度小于j位置                   
                    fall_temp=dp_fall[j];//令第i 个数右边子序列最大长度为j位置
            }
        }
        dp_fall[i]=fall_temp+1;//比较得来留下人最多的方案
    }
    
    for(i=1;i<=n;i++)//比较何种情况时留下人数最多
    {
        temp=dp_rise[i]+dp_fall[i]-1;
        max=cmp(max,temp);
    }
    
    
    cout<<n-max<<endl;//出列人数=总人数-留下人数
   
    return 0;
}
```





