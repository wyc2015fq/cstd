# 进制转换（洛谷-P1017） - Alex_McAvoy的博客 - CSDN博客





2018年08月16日 18:37:52[Alex_McAvoy](https://me.csdn.net/u011815404)阅读数：152








## 题目描述

我们可以用这样的方式来表示一个十进制数: 将每个阿拉伯数字乘以一个以该数字所处位置的(值减 1 )为指数,以 10 为底数的幂之和的形式。例如: 123 可表示为 1*10^2+2\*10^1+3*10^0 这样的形式。

与之相似的,对二进制数来说,也可表示成每个二进制数码乘以一个以该数字所处位置的(值 -1 )为指数,以 2为底数的幂之和的形式。一般说来,任何一个正整数 RR 或一个负整数 −R 都可以被选来作为一个数制系统的基数。如果是以 R 或 −R 为基数,则需要用到的数码为 0,1,....R−1 。例如,当 R=7 时,所需用到的数码是 0,1,2,3,4,5 和 6 ,这与其是 R 或 −R 无关。如果作为基数的数绝对值超过 10 ,则为了表示这些数码,通常使用英文字母来表示那些大于 99 的数码。例如对 1616 进制数来说,用 AA 表示 1010 ,用 B 表示 11,用 C 表示 12 ,用 D 表示 13 ,用 E 表示 14 ,用 F 表示 15 。

在负进制数中是用 −R 作为基数,例如 −15 (十进制)相当于 110001 ( −2 进制),并且它可以被表示为 2 的幂级数的和数:

110001=1*(-2)^5+1*(-2)^4+0*(-2)^3+0*(-2)^2+0*(-2)^1+1*(-2)^0

设计一个程序,读入一个十进制数和一个负进制数的基数, 并将此十进制数转换为此负进制下的数: -R∈{-2,-3,-4,...,-20}

## 输入输出格式

**输入格式：**

输入的每行有两个输入数据。

第一个是十进制数 N ( −32768≤N≤32767 )

第二个是负进制数的基数 −R 。

**输出格式：**

结果显示在屏幕上，相对于输入，应输出此负进制数及其基数，若此基数超过 10 ，则参照 16 进制的方式处理。

## 输入输出样例

**输入样例#1：**
`30000 -2`
**输出样例#1：**
`30000=11011010101110000(base-2)`
**输入样例#2：**
`-20000 -2`
**输出样例#2：**
`-20000=1111011000100000(base-2)`
**输入样例#3：**
`28800-16`
**输出样例#3：**
`28800=19180(base-16)`
**输入样例#4：**
`-25000 -16`
**输出样例#4：**
`-25000=7FB8(base-16)`
———————————————————————————————————————————————————————

思路：与正数的进制转换一样，通过短除即可，要注意的是，如果某个数位出现负数，需要从上一位借一个1来进行运算

## 源代码

```cpp
#include<iostream>
#include<cstdio>
#include<cstring>
#include<cmath>
#include<algorithm>
#include<string>
#include<cstdlib>
#include<queue>
#include<set>
#include<map>
#include<stack>
#include<ctime>
#include<vector>
#define INF 0x3f3f3f3f
#define PI acos(-1.0)
#define N 50001
#define MOD 1e9+7
#define E 1e-6
#define LL long long
using namespace std;
int num,m;
void calculate(int n)
{
    int k=n%m;
    n=n/m;
    if(k<0)
    {
        k-=m;
        n++;
    }
    if(n!=0)
        calculate(n);
    if(k<10)
        cout<<k;
    else
        cout<<(char)(k-10+'A');
}
int main()
{
    cin>>num>>m;

    cout<<num<<"=";
    calculate(num);
    cout<<"(base"<<m<<")"<<endl;

    return 0;
}
```





