# 处女座的签到题（2019牛客寒假算法基础集训营 Day2-A） - Alex_McAvoy的博客 - CSDN博客





2019年03月14日 19:47:19[Alex_McAvoy](https://me.csdn.net/u011815404)阅读数：107








> 
# 【题目描述】

平面上有n个点，问：平面上所有三角形面积第k大的三角形的面积是多少?

# 【输入描述】

第一行T，表示样例的个数。

对于每一组样例，第一行两个整数n和k，

接下来n行，每行两个整数x,y表示点的坐标

T<=80

3<=n<=100

-10^9<=x,y<=10^9

对于每一组样例，保证任意两点不重合，且能构成的三角形的个数不小于k

# 【输出描述】

对于每一组样例，输出第k大三角形的面积，精确到小数点后两位（四舍五入）。

# 【样例】

示例1

输入

1

4 3

1 1

0 0

0 1

0 -1

输出

0.50


思路：

由于 x、y 坐标的绝对值最大为 1E9，因此三角形的面积最大可能会到 1E18，超出了 double 的存储范围

根据三角形的面积等于相邻两边叉积的一半可以知道三角形面积的两倍一定是一个整数，因此可用 long long 存储，最后进行特判来输出 .00 或 .50

根据给出的点，枚举点坐标，利用平面解析几何中的叉积公式即可求出三角形面积

通过枚举所有点，可以找出所有点组成的三角形的面积，对于找第 k 大的面积，可以利用 STL 中的 nth_element 来找

# 【源代码】

```cpp
#include<iostream>
#include<cstdio>
#include<cstdlib>
#include<string>
#include<cstring>
#include<cmath>
#include<ctime>
#include<algorithm>
#include<utility>
#include<stack>
#include<queue>
#include<vector>
#include<set>
#include<map>
#define PI acos(-1.0)
#define E 1e-6
#define MOD 1000000007
#define INF 0x3f3f3f3f
#define N 1000001
#define LL long long
using namespace std;
pair<LL,LL> node[N];
LL edge[N];
LL calculate(int i,int j,int k){
    LL x1=node[i].first,y1=node[i].second;
    LL x2=node[j].first,y2=node[j].second;
    LL x3=node[k].first,y3=node[k].second;

    return abs(x1*y2+x2*y3+x3*y1-x1*y3-x2*y1-x3*y2);
}
int main(){
    int t;
    scanf("%d",&t);
    while(t--){
        int n,k;
        scanf("%d%d",&n,&k);

        for(int i=1;i<=n;i++)
            scanf("%lld%lld",&node[i].first,&node[i].second);

        int edgeCnt=0;
        for(int i=1;i<=n;i++)
            for(int j=i+1;j<=n;j++)
                for(int k=j+1;k<=n;k++)
                    edge[edgeCnt++]=calculate(i,j,k);

        nth_element(edge,edge+edgeCnt-k,edge+edgeCnt);

        if(edge[edgeCnt-k]%2)
            printf("%lld.50\n",edge[edgeCnt-k]/2);
        else
            printf("%lld.00\n",edge[edgeCnt-k]/2);
    }
    return 0;
}
```





