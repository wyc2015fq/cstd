# Linux 正则表达式基础 - Alex_McAvoy的博客 - CSDN博客





2018年07月16日 23:06:58[Alex_McAvoy](https://me.csdn.net/u011815404)阅读数：42








# 【概述】

正则表达式（Regular Expression），在代码中常简写为 regex、regexp 或 RE，是计算机科学中的一个概念。

正则表达式使用单个字符串来描述、匹配一系列符合某个句法规则的字符串。

在很多文本编辑器里，正则表达式通常被用来检索、替换那些符合某个模式的文本。

许多程序设计语言都支持利用正则表达式进行字符串操作，例：在 Perl 中内建了一个功能强大的正则表达式引擎。

正则表达式这个概念最初是由 UNIX 中的工具软件 set 、grep 等普及开的。

简单的说形式和功能上正则表达式与通配符很像，不过它们之间又有很大差别，区别在于一些特殊的匹配字符的含义上。

# 【基本语法】

一个正则表达式通常被称为一个模式（pattern），用来描述或者匹配一系列符合某个句法规则的字符串。

## 1.选择

| 竖直分隔符表示选择，例：" boy | girl " 可以匹配 " boy " 或者 " girl "。

## 2.数量限定

表数量限定的符号有：+ 加号、? 问号、* 星号，一个模式中不加数量限定符则表示出现一次且仅出现一次。
|+|前面的字符必须出现至少一次（1次或多次）|
|----|----|
|?|前面的字符最多出现一次（0次或1次）|
|*|前面的字符可以不出现，也可以出现一次或者多次（0次、或1次、或多次）|

例：

1）" goo+gle "，可以匹配 " gooogle "、" goooogle " 等

2）" colou?r "，可以匹配 " color "、" colour " 等

3）" 0*42 "，可以匹配 " 42 "、" 042 "、" 0042 "、" 00042 " 等。

## 3.范围和优先级

() 圆括号可以用来定义模式字符串的范围和优先级，这可以简单的理解为是否将括号内的模式串作为一个整体。例如，"gr(a|e)y"等价于"gray|grey"，（这里体现了优先级，竖直分隔符用于选择a或者e而不是gra和ey），"(grand)?father"匹配father和grandfather（这里体验了范围，?将圆括号内容作为一个整体匹配）。

## 4.常用语法

正则表达式有多种不同的风格，下面列举一些常用的作为 PCRE 子集的适用于perl和python编程语言及grep或egrep的正则表达式匹配规则。

PCRE（Perl Compatible Regular Expressions），perl 语言兼容正则表达式，是一个用 C 语言编写的正则表达式函数库，是一个轻量级的函数库，比 Boost 之类的正则表达式库小得多。
|\|将下一个字符标记为一个特殊字符、或一个原义字符|
|----|----|
|^|匹配输入字符串的开始位置|
|$|匹配输入字符串的结束位置|
|{n}|匹配确定的n次|
|{n,}|至少匹配n次|
|{n,m}|最少匹配n次且最多匹配m次|
|*|匹配前面的子表达式零次或多次，等价于 {0,}|
|+|匹配前面的子表达式一次或多次，等价于 {1,}|
|？|匹配前面的子表达式零次或一次，等价于 {0,1}|
|?|当该字符紧跟在任何一个其他限制符（*,+,?，{n}，{n,}，{n,m}）后面时，匹配模式是非贪婪的。非贪婪模式尽可能少的匹配所搜索的字符串，而默认的贪婪模式则尽可能多的匹配所搜索的字符串。|
|.|匹配除 " \n " 外的任何单个字符，要匹配包括 " \n " 在内的任何字符，请使用像 " (.｜\n) " 的模式。|
|(pattern)|匹配 pattern 并获取这一匹配的子字符串，该子字符串用于向后引用，若要匹配圆括号字符，请使用 " \( " 或 " \) "|
|x｜y|匹配 x 或 y|
|[xyz]|字符集合，匹配所包含的任意一个字符。|
|[^xyz]|排除型字符集合，匹配未列出的任意字符|
|[a-z]|字符范围，匹配指定范围内的任意字符|
|[^a-z]|排除型的字符范围，匹配任何不在指定范围内的任意字符|

例：

1）" n " 匹配字符 " n " ，" \n " 匹配一个换行符，序列" \\ " 匹配" \ " ，" \( " 匹配 " ( "

2）" o{2} " 不能匹配 " Bob " 中的 " o "，但是能匹配 " food " 中的两个 " o "

3）" o{2,} " 不能匹配 " Bob " 中的 " o "，但能匹配 " foooood " 中的所有 " o "

4）" o{1,3} " 将匹配 " fooooood " 中的前三个 " o "

5）" zo* " 能匹配 " z "、" zo " 以及 " zoo "

6）" zo+ " 能匹配 " zo " 以及“zoo”，但不能匹配 " z "

7）" do(es)? " 可以匹配 " do " 或 " does " 中的 "do "

8）对于字符串 " oooo "，" o+? " 将匹配单个 " o "，而 " o+ " 将匹配所有 " o "

9）" z｜food " 能匹配 " z " 或 " food "，" (z｜f)ood " 则匹配 " zood " 或 " food "

10）" [abc] " 可以匹配 " plain " 中的 " a "

11）" [^abc] " 可以匹配 " plain " 中的 " plin "

12）" [a-z] " 可以匹配 " a " 到 " z " 范围内的任意小写字母字符

13）" [^a-z] " 可以匹配任何不在范围内的任意字符

## 5.符号优先级

优先级为从上到下从左到右，依次降低
|\|转义符|
|----|----|
|()、(?:)、(?=)、[]|括号和中括号|
|*、+、?、{n}、{n,}、{n,m}|限定符|
|^、$、\任何元字符|定位点和序列|
|||选择|









