# Linux 搜索文件 - Alex_McAvoy的博客 - CSDN博客





2018年06月17日 21:10:31[Alex_McAvoy](https://me.csdn.net/u011815404)阅读数：562








### 【whereis 命令】

1.命令格式：**whereis [选项] 文件名**

    常用选项：


|-b|只查找二进制文件|
|----|----|
|-m|只查找说明文件|
|-s|只查找原始代码文件|
|-B<目录>|只在设置的目录下查找二进制文件|
|-M<目录>|只在设置的目录下查找说明文件|
|-S<目录>|只在设置的目录下查找原始代码文件|
|-f|不显示文件名前的路径名称|
|-u|查找不包含指定类型的文件|


2.用途：只能用于程序名的搜索，而且只搜索二进制文件（-b）、man 说明文件（-m）、源代码文件（-s），若省略参数，则返回所有信息。

3.特点：简单快速

### 【which 命令】

1.命令格式：**which [选项] 文件名**

    常用选项：




|-n<文件名长度>|制定文件名长度，指定的长度必须大于或等于所有文件中最长的文件名|
|----|----|
|-p<文件名长度>|与-n参数相同，但此处的<文件名长度>包含了文件的路径|
|-w|指定输出时栏位的宽度|
![](https://img-blog.csdn.net/20180617210848393?watermark/2/text/aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3UwMTE4MTU0MDQ=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70)

2.用途：用于查找并显示给定命令的绝对路径，只从环境变量 PATH 指定的路径中搜索命令，通常使用 which 来确定是否安装了某个指定的软件。


3.特点：简单精确

### 【locate 命令】

1.命令格式：**locate [选项] 查找字符串（要查找的文件名中含有的字符串）**

    常用选项：


|-c|只统计数目|
|----|----|
|-i|可以忽略大小写进行查找|
|-b|只查找二进制文件|
|-m|只查找说明文件|
|-s|只查找原始代码文件|
|-d<目录> 或 --database=<目录>|指定数据库所在的目录|
|-u|更新 slocate 数据库|

![](https://img-blog.csdn.net/2018061721101722?watermark/2/text/aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3UwMTE4MTU0MDQ=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70)


2.用途：常用来查找指定目录下的不同文件类型。


注：locate 是通过 Linux 系统自动创建的 /var/lib/locatedb 数据库查找，这个数据库中含有本地所有文件信息。此数据库不是实时更新的，系统会定时每天自动执行 updatedb 命令更新一次，因此使用 locate 命令无法查到最新变动文件，为了避免这种情况，因此可在使用 locate 前，先使用 updatedb 命令，手动更新数据库。


3.特点：快速全面

### 【find 命令】

1.命令格式：**find 指定目录 [参数] 文件名 **

    常用选项：


|-name<范本样式>|指定字符串作为寻找文件或目录的范本样式|
|----|----|
|-iname<范本样式>|此参数的效果和指定“-name”参数类似，但忽略字符大小写的差别|
|-user<拥有者名称>|查找符和指定的拥有者名称的文件或目录|
|-group<群组名称>|查找符合指定之群组名称的文件或目录|
|-perm<权限数值>|查找符合指定的权限数值的文件或目录|
|-size<文件大小>|查找符合指定的文件大小的文件|
|-path<范本样式>|指定字符串作为寻找目录的范本样式|
|-ctime<24小时数>|查找在指定时间之时被更改的文件或目录，单位以24小时计算|
|-atime<24小时数>|查找在指定时间曾被存取过的文件或目录，单位以24小时计算|
|-mtime<24小时数>|查找在指定时间曾被更改过的文件或目录，单位以24小时计算|
|-newer<参考文件或目录>|查找其更改时间较指定文件或目录的更改时间更接近现在的文件或目录|

2.用途：在指定目录下，可通过文件类型、文件名、文件属性等进行查找。若不设置任何参数，则将在当前目录下查找子目录与文件，并将查找到的子目录和文件全部进行显示。


3.特点：精准细致

4.实例

1）列出所有长度为零的文件：find . -empty



2）否定参数

找出 /home 下不是以 .txt 结尾的文件：find /home ! -name "*.txt"



3）根据文件权限/所有权进行匹配

当前目录下搜索出权限为 777 的文件：find -perm 777

找出当前目录用户 Tom 拥有的所有文件：find -user Tom

找出当前目录用户组 Sunk 拥有的所有文件：find -group Sunk
4）根据文件进行匹配


    列出当前目录及子目录下所有文件和文件夹：find .

    在 /home 目录下查找以 .txt 结尾的文件名：find /home -name "*.txt"

    在 /home 目录下查找以 .txt 结尾的文件名，但忽略大小写：find /home -iname "*.txt"



    当前目录及子目录下查找所有以 .txt 和 .pdf 结尾的文件：find . -name "*.txt" -o -name "*.pdf" 

    匹配文件路径或者文件：find /usr/ -path "*local*"

注：**-o 或者、-a 并且、-not 相反  **

5）根据文件类型进行搜索：**find . -type 类型参数**

类型参数列表：


|f|普通文件|
|----|----|
|l|符号链接文档|
|d|目录文档|
|c|字符设备文档|
|b|块设备文档|
|s|套接字文档|
|p|管道文档|
当前目录下搜索出所有普通文件：find .-type f

6）根据文件大小进行匹配：**find . -type f -size 文件大小单元**

文件大小单元：


|b|块（512字节）|
|----|----|
|c|字节|
|w|字（2字节）|
|k|千字节|
|M|兆字节|
|G|吉字节|
搜索大于10KB的文件：find . -type f -size +10k
搜索小于10KB的文件：find . -type f -size -10k

搜索等于10KB的文件：find . -type f -size 10k



7）根据文件时间戳进行搜索：**find . -type f 时间戳**

时间戳：


|访问时间（-atime/天，-amin/分钟）|用户最近一次访问时间|
|----|----|
|修改时间（-mtime/天，-mmin/分钟）|文件最后一次修改时间|
|变化时间（-ctime/天，-cmin/分钟）|文件数据元（例如权限等）最后一次修改时间|
注：以 mtime n为例，n 为数字

- -mtime n：列出在 n 天之前的“一天之内”修改过的文件
- -mtime +n：列出在 n 天之前（不包含 n 天本身）被修改过的文件
- -mtime -n：列出在 n 天之内（包含 n 天本身）被修改过的文件
- -newer file：file 为一个已存在的文件，列出比 file 还要新的文件名

搜索最近七天内被访问过的所有文件：find . -type f -atime -7

搜索恰好在七天前被访问过的所有文件：find . -type f -atime 7

搜索超过七天内被访问过的所有文件：find . -type f -atime +7

搜索访问时间超过10分钟的所有文件：find . -type f -amin +10






