# T1355 字符串匹配问题（#Ⅲ- 1） - Alex_McAvoy的博客 - CSDN博客





2018年04月19日 22:36:44[Alex_McAvoy](https://me.csdn.net/u011815404)阅读数：1091








> 
# 【题目描述】

字符串中只含有括号 (),[],<>,{},判断输入的字符串中括号是否匹配。如果括号有互相包含的形式，从内到外必须是<>,(),[],{}，例如。输入: [()] 输出:YES，而输入([])，([)]都应该输出NO。

# 【输入】

第一行为一个整数n，表示以下有多少个由括好组成的字符串。接下来的n行，每行都是一个由括号组成的长度不超过255的字符串。

# 【输出】

在输出文件中有n行，每行都是YES或NO。

# 【输入样例】

**5{}{}<><>()()[][]{{}}{{}}<<>><<>>(())(())[[]][[]]{{}}{{}}<<>><<>>(())(())[[]][[]]{<>}{[]}<<<>><<>>>((<>))(())[[(<>)]][[]]><}{{[]}<<<>><<>>>((<>))(())[[(<>)]][[]]**

# 【输出样例】

**YESYESYESYESNO**


# 【源程序】

```cpp
#include<iostream>
#include<cstdio>
#include<cstdlib>
#include<string>
#include<cstring>
#include<cmath>
#include<ctime>
#include<algorithm>
#include<utility>
#include<stack>
#include<queue>
#include<vector>
#include<set>
#include<map>
#define PI acos(-1.0)
#define E 1e-9
#define INF 0x3f3f3f3f
#define LL long long
const int MOD=1000000007;
const int N=10000+5;
const int dx[]= {-1,1,0,0};
const int dy[]= {0,0,-1,1};
using namespace std;
char a[]={'{','[','(','<','}',']',')','>'};//{→0 [→1 (→2 <→3 }→4 ]→5 )→6 >→7
char str[300];
int b[300];
stack<int> S;
int main(){

    int n;
    cin>>n;//输入测试数据组数
    while(n--)
    {
        while(!S.empty())
            S.pop();

        bool flag=true;//用于判断嵌套是否合法的标记

        cin>>str;
        int len=strlen(str);
        for(int i=0;i<len;i++)
            for(int j=0;j<8;j++)
                if(str[i]==a[j])
                {
                    b[i]=j;////建立映射
                    break;//跳出内循环
                }

        for(int i=0;i<len;i++)//判断是否匹配
        {
            if(b[i]<=3)//b[i]元素入栈
            {


                if(!S.empty()&&b[i]<S.top())//元素无法入栈，说明该组数据非法
                {
                    flag=false;
                    break;
                }
                else//b[i]元素可以入栈
                    S.push(b[i]);
            }
            else if(b[i]>=4)//判断是否配对
            {
                if(S.empty()||(S.top()+4)!=b[i])//无法配对
                {
                    flag=false;
                    break;
                }
                else//可以配对
                    S.pop();
            }
        }
        if(!S.empty())
            cout<<"NO"<<endl;//栈内有元素，匹配不成功
        else if(flag==1)
            cout<<"YES"<<endl;//栈内无元素，匹配成功
        else
            cout<<"NO"<<endl;//栈内无元素，匹配不成功
    }
    return 0;
}
```





