# 数学之美，判断两个线段相交 - sinat_31425585的博客 - CSDN博客
2017年11月11日 21:49:37[Mirror_Yu_Chen](https://me.csdn.net/sinat_31425585)阅读数：94标签：[博客																[判断两线段是否相交  C++实现](https://so.csdn.net/so/search/s.do?q=判断两线段是否相交  C++实现&t=blog)](https://so.csdn.net/so/search/s.do?q=博客&t=blog)
个人分类：[C++](https://blog.csdn.net/sinat_31425585/article/category/6402122)
实现原理，具体参考[zdy0_2004](http://blog.csdn.net/zdy0_2004)的博客[点击打开链接](http://blog.csdn.net/zdy0_2004/article/details/50725294)，问题描述：判断线段AB、CD是否相交，等价于判断
![](https://img-blog.csdn.net/20171111215751148?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvc2luYXRfMzE0MjU1ODU=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/Center)
具体实现代码如下：
```cpp
Point get_vector(Point aa, Point bb)
{
	Point vec = { 0 };
	vec.x = bb.x - aa.x;
	vec.y = bb.y - aa.y;
	return vec;
}
float vector_product(Point aa, Point bb)
{
	return (aa.x * bb.x + aa.y * bb.y);
}
bool intersect4(Point aa, Point bb, Point cc, Point dd)
{
	// AB, CD
	float A_cd = 0, B_cd = 0, C_ab = 0, D_ab = 0;
	A_cd = vector_product(get_vector(aa, cc), get_vector(aa, dd));
	B_cd = vector_product(get_vector(bb, cc), get_vector(bb, dd));
	C_ab = vector_product(get_vector(cc, aa), get_vector(cc, bb));
	D_ab = vector_product(get_vector(dd, aa), get_vector(dd, bb));
	return (A_cd * B_cd <= 0) && (C_ab * D_ab <= 0);
}
```
测试代码如下：
```cpp
int main()
{
	Point p1, p2, p3, p4;
	p1.x = 1;
	p1.y = 4;
	p2.x = 3;
	p2.y = 0;
	p3.x = 0;
	p3.y = 1;
	p4.x = 4;
	p4.y = 3;
        bool flag = false;
        flag = intersect4(p1, p2, p3, p4);
}
```
