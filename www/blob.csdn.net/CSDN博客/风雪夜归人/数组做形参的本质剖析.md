# 数组做形参的本质剖析 - 风雪夜归人 - CSDN博客
2017年08月24日 22:31:25[cdjccio](https://me.csdn.net/qq_34624951)阅读数：129
# 要点：
1、数组做函数参数的退回问题，退回为一个指针
正确的做法是：把数组的内存首地址和数组的有效长度传递给被调用函数
2、实参的a和形参的a的数据类型本质不一样，形参中的数组，编译器会将它当成指针处理
```
#define  _CRT_SECURE_NO_WARNINGS
#include <stdio.h>
#include <stdlib.h>
#include <string.h>
#include <windows.h>
//排序
int main01()
{
    int i = 0;
    int j = 0;
    int tmp = 0;
	int a[] = {11,33,22,44,12};
	for(i = 0; i < 5; i++)
    {
        printf("%3d",a[i]);
    }
    printf("排序之前\n");
    //排序
    for(i = 0; i<5; i++)//
    {
        for(j = i+1; j<5; j++)
        {
            if(a[i] > a[j])
            {
                tmp = a[i];
                a[i] = a[j];
                a[j] = tmp;
            }
        }
        printf("%3d",a[i]);
    }
    printf("排序之后\n");
    printf("Hello world!\n");
    system("pause");
    return 0;
}
//void printArray(int a[5], int n)
//void printArray(int a[], int n)
void printArray(int *a, int n)
{
    int i = 0;
    for(i = 0; i<n; i++)
    {
        printf("%3d",a[i]);
    }
}
void sortArray(int a[5], int n)
//void sortArray(int a[], int n)
//void sortArray(int *a, int n)
{
    int i = 0;
    int j = 0;
    int tmp = 0;
    int num1 = 0;
    num1 = sizeof(a)/sizeof(a[0]);
    printf("num1:%3d\n",num1);  //num1 = 1
    //实参的a和形参的a的数据类型本质不一样
    //形参中的数组，编译器会将它当成指针处理
    for(i = 0; i<n; i++)//
    {
        for(j = i+1; j<n; j++)
        {
            if(a[i] > a[j])
            {
                tmp = a[i];
                a[i] = a[j];
                a[j] = tmp;
            }
        }
        printf("%3d",a[i]);
    }
}
//数组做函数参数的退回问题   退回为一个指针
//1、结论：正确的做法是：把数组的内存首地址和数组的有效长度传递给被调用函数
//2、实参的a和形参的a的数据类型本质不一样
//   形参中的数组，编译器会将它当成指针处理
//形参写在函数上和写在函数内是一样的，只不过写在函数上具有对外的属性
int main()
{
    int num = 0;
	int a[] = {11,33,22,44,12};
	num = sizeof(a)/sizeof(a[0]);
    printf("num:%3d\n",num);
    printf("排序之前\n");
    //排序
    printArray(a,num);
    printf("\n");
    printf("排序之后\n");
    sortArray(a,num);
    printf("\n");
    printf("Hello world!\n");
    system("pause");
    return 0;
}
```
