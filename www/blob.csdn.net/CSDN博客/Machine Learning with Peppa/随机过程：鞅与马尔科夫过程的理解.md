# 随机过程：鞅与马尔科夫过程的理解 - Machine Learning with Peppa - CSDN博客





2018年02月03日 19:23:42[刺客五六柒](https://me.csdn.net/qq_39521554)阅读数：3642









Martingale的词本意是指马车上马夫控制马前进的缰绳（如果我记得没错的话），所以从词源来看刻画了一种过程前进（未来）与现在出发点关系的含义。具体来说缰绳的作用是使得马车的前进方向与现在所冲的方向一致，所以在概率上来解释就是未来发生的所有路径可能性的期望值与现在的出发点一致。

从这个意义上来说Matingale的核心是说明了一个过程在向前演化的过程中的稳定性性质。但它并没有说明这个过程是如何到达这一时间点的（是否由上一个时间点所在的位置决定，matingale并没有说明）。再用马车的例子来说，Martingale告诉了你马车在未来是怎么向前走的，中间会有左右的波动（比如马、车夫走神了，路上有坑马要绕开，etc.），但整体来说马是沿着一条直线向前走的。

而马尔科夫过程的核心在于点明了过程的演化是无记忆性的。还拿马车来举栗子，假设车夫喝醉了，他没有意识并在一个很大的广场，马车下一刻前进的方向并不需要是一条直线（经过车夫与马的直线，这种情况下缰绳是绷直的，是martingale），或者说缰绳由于车夫没绷紧是松垮的，这种情况下马车在下一刻可以去任何一个方向，整体上来说前进方向也不必须有什么稳定性规律可循，但整个过程唯一的共性是马迈出前腿的时候，能够到达的所有可能范围，是由它的后腿（你现在所在的位置）决定的（但马可能扭一扭屁股，身子弯曲一下，所以不必须走直线，不必需走直线，不必需走直线！），而并没有由上一步马所在的位置决定，这也就是所谓的无记忆性。

所以从这两个角度来理解，两个名词


### 有共性：



都从一个过程的全生命角度描画了一个过程的演进性质，

### 有重叠：

当还是马车例子的时候,martingale也是一个markov（因为虽然走直线，但下一刻的位置还是只由现在决定，只是马身子不能扭曲，不能改变方向），这个例子在概率上最熟悉的模型就是brownian motion了；而反过来，马车未来位置由现在决定，又走直线，所以此时markov process 也是一个martingale （例子还是brownian motion）；

但更重要的是两个过程本质上不是在讲一回事：比如还是马车车夫，喝醉了但走在一个三维空间，这时候它是一个markov process,但是由于方向不确定，此时已经不是martingale而变成了一个local martingale； 而反过来，假设有一个错帧宇宙，空间共享但时间差一天，这时候同一个马车走在不同的宇宙里（但行走轨迹独立），缰绳拉直，此时两架马车都走之前，两架马车组成的系统是一个martingale，但是由于下一时刻前进的方向与宇宙1中的此时有关，也与宇宙2中的昨天有关，所以两架马车组成的系统就不再是一个markov了。

总结一下，brownian motion (wiener process)既是markov process 又是 martingale; 而markov process 与martingale是相交而非包含与反包含关系。只能说你中有我我中有你，但你不属于我我也不属于你





从严格定义来看，鞅直观意义是一条（有固定趋势的）线。


考虑一个函数f(t)，横轴是时间轴，纵轴是函数值。这个函数可以是平的（就是![f(t)=C](https://www.zhihu.com/equation?tex=f%28t%29%3DC)），也可以单调增，也可以单调减。因此从图像上看是一条有固定趋势的线。

如果仅仅是线，那么未免太乏味无趣。概率就是把固定取值的变量![X=C](https://www.zhihu.com/equation?tex=X%3DC)取代为可以同时取多个值、每个值都有一定权重的随机变量![X](https://www.zhihu.com/equation?tex=X)，相当于引入了多个可能状态。随机过程进一步引入一个时间轴，考虑随机变量的序列![X_n](https://www.zhihu.com/equation?tex=X_n)（或者连续版本的![X_t](https://www.zhihu.com/equation?tex=X_t)），因此如果画在刚刚那个图里，![X_n(\omega)](https://www.zhihu.com/equation?tex=X_n%28%5Comega%29)可以看做某个大体上是线、局部有些抖动的点列，而![X_n](https://www.zhihu.com/equation?tex=X_n)就是这些点列的集合。

那么离散鞅是一种点列集（随机过程），这个点列集大体趋势是![f(t)=C](https://www.zhihu.com/equation?tex=f%28t%29%3DC)，只是会有一些抖动，而且是考虑一个抖动围绕这条线的点列集整体。类似的，上鞅、下鞅就是单调减、单调增函数的点列集。

单调的函数也出现在R-S积分![\int Cdf](https://www.zhihu.com/equation?tex=%5Cint+Cdf)（比如最简单的![\int C dt](https://www.zhihu.com/equation?tex=%5Cint+C+dt),此时![f(t)=t](https://www.zhihu.com/equation?tex=f%28t%29%3Dt)），其离散版本是![\sum_i C(t_{i-1})(f(t_i)-f(t_{i-1}))](https://www.zhihu.com/equation?tex=%5Csum_i+C%28t_%7Bi-1%7D%29%28f%28t_i%29-f%28t_%7Bi-1%7D%29%29)。类似的我们也可以把其类比到鞅，从而形成一个随机积分的式子![\int CdX](https://www.zhihu.com/equation?tex=%5Cint+CdX)。

现在假设![X_n-X_{n-1}](https://www.zhihu.com/equation?tex=X_n-X_%7Bn-1%7D)是每一次下注的单位赢利，那么对一个gambling strategy
![C_n](https://www.zhihu.com/equation?tex=C_n)（即![C_n](https://www.zhihu.com/equation?tex=C_n)是![F_{n-1}](https://www.zhihu.com/equation?tex=F_%7Bn-1%7D)可测的，并且假设其非负），类比确定性的情况![\int Cdf](https://www.zhihu.com/equation?tex=%5Cint+Cdf)可知，若![X_n](https://www.zhihu.com/equation?tex=X_n)是鞅（对应地，![f(t)=const](https://www.zhihu.com/equation?tex=f%28t%29%3Dconst)），那么到第n时刻的总赢利![Y_n=\sum_{i=1}^n C(t_{i-1})(X_i-X_{i-1})](https://www.zhihu.com/equation?tex=Y_n%3D%5Csum_%7Bi%3D1%7D%5En+C%28t_%7Bi-1%7D%29%28X_i-X_%7Bi-1%7D%29)是一个鞅（对应地，![\int_0^tCdf](https://www.zhihu.com/equation?tex=%5Cint_0%5EtCdf)对任意t都是0）。类似地，如果![X_n](https://www.zhihu.com/equation?tex=X_n)是下鞅（对应地，![f(t)](https://www.zhihu.com/equation?tex=f%28t%29)单调增），那么![Y_n](https://www.zhihu.com/equation?tex=Y_n)也是一个下鞅（对应地，![\int_0^t Cdf](https://www.zhihu.com/equation?tex=%5Cint_0%5Et+Cdf)单调增）。因此我们赢利与否，取决于![X_n](https://www.zhihu.com/equation?tex=X_n)本身（对应地，![\int_0^tCdf](https://www.zhihu.com/equation?tex=%5Cint_0%5EtCdf)是单调增还是单调减，取决于![f](https://www.zhihu.com/equation?tex=f)本身是增还是减，因为已经假定![C(t)\ge0](https://www.zhihu.com/equation?tex=C%28t%29%5Cge0)了），我们怎么设计策略也都无法打败系统。






[鞅过程与马尔科夫]()




