# if __name__ == '__main__' 的正确理解 - Machine Learning with Peppa - CSDN博客





2018年01月13日 23:15:46[刺客五六柒](https://me.csdn.net/qq_39521554)阅读数：263
所属专栏：[用Python玩转数据](https://blog.csdn.net/column/details/18811.html)










对于很多编程语言来说，程序都必须要有一个入口，比如C，C++，以及完全面向对象的编程语言Java，C#等。


如果你接触过这些语言，对于程序入口这个概念应该很好理解，C，C++都需要有一个main函数作为程序的入口，也就是程序的运行会从main函数开始。同样，Java，C#必须要有一个包含Main方法的主类，作为程序入口。



而Python则不同，它属于脚本语言，不像编译型语言那样先将程序编译成二进制再运行，而是动态的逐行解释运行。也就是从脚本第一行开始运行，没有统一的入口。



一个Python源码文件（.py）除了可以被直接运行外，还可以作为模块（也就是库），被其他.py文件导入。



不管是直接运行还是被导入，.py文件的最顶层代码都会被运行（Python用缩进来区分代码层次），而当一个.py文件作为模块被导入时，我们可能不希望一部分代码被运行。


int main(void){
}


上面是C语言中主函数的声明，从计算机的角度来说，当编译执行此段话时，相当于告诉它：该干活了。干什么活呢？就是对于主函数内部的代码进行"操作"，一般来说此时所有的函数声明，结构定义等都已被编译完成，只等main函数出现，便可以最终生成可执行文件对象。



在Python中也是一样，main函数代表了程序入口（被藏起来了)。



现在假设有一个文件c.py，里面包含了一段类定义的代码和实例化的操作，那么在看见


if __name__ == 'main':


之后，就会判断这个文件的程序入口是不是main（把Python中的程序想象成一个类，那么__name__就相当于构造函数里的__self__)，换句话说，如果这个文件是正在执行的，那么它的入口必然是'main'



相反地，如果有一个文件b.py，其中调用了这个c中类的定义，那么结果将是未定义的，即无法在b中调用此类对象。






