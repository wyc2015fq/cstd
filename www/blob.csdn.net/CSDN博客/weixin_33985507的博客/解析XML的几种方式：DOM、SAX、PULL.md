# 解析XML的几种方式：DOM、SAX、PULL - weixin_33985507的博客 - CSDN博客
2016年12月05日 16:55:00[weixin_33985507](https://me.csdn.net/weixin_33985507)阅读数：3
**以下内容整理自互联网，仅用于个人学习**
### DOM解析
解析器读入整个文档，然后构建一个主流内存的树结构，然后代码就可以使用dom接口来操作这个树结构。
优点：
- 整个文档树在内存中，便于操作；支持删除、修改、重新排列等多种功能。
- 通过树形结构存取xml文档。
- 可以随时访问到某个节点的相邻节点。
缺点：
- 将整个文档调入内存（包括无用的节点），浪费时间和空间。
适用于： 一旦解析了文档还需多次访问这些数据；硬件资源充足（内存，cpu）
DOM解析步骤：
- 创建解析器工厂
- 获得解析器工厂
- 接受一个xml文档作为输入参数名，并得到一个xml的文档对象（Document）
- 操作文档对象
### SAX解析
SAX是一个解析速度快并且占用内存少的xml解析器，非常适合用于android等移动设备。
SAX解析xml是**基于事件流的处理方式的**。因此每解析到一个标签，它并不会记录这个标签之前的信息，而我们只会知道当前这个标签的名字和它的属性，至于标签里面的嵌套，上层标签的名字这些都是无法知道的。
Sax的**工作原理**简单的说，就是对文档进行顺序扫描，扫描到文档（document）开始与结束，扫描到元素（element）开始、结束等地方时调用事件处理处理函数做相应动作，然后继续扫描，直到文档结束。
SAX解析xml最重要的步骤就是定义一个我们自己的Handler处理类，我们可以让其继承 DefaultHandler这个类，然后在里面重写5个回调方法。
> - startDocument
- startElement
- characters
- endElement
- endDocument
SAX特点：
- 解析效率高，占用内存少
- 可以随时停止解析
- 不能载入整个文档到内存
- 不能写入xml
- SAX解析xml文件采用的是事件驱动
SAX解析过程：
- 继承DefaultHandler  ,并实现方法
- 创建SAX解析器工厂
- 获得解析器
- 获得输入流
- 使用输入流，和实现接口作参数，调用解析器的解析方法进行解析
### PULL解析
pull解析器是android内置的解析器，解析原理与sax类似。
pull与sax的不同之处：
- pull读取xml文件后触发相应的事件调用方法返回的是数字。
- SAX解析器的工作方式是自动将事件推入注册的事件处理器进行处理，因此你不能控制事件的处理主动结束；而Pull解析器的工作方式为允许你的应用程序代码主动从解析器中获取事件，正因为是主动获取事件，因此可以在满足了需要的条件后不再获取事件，结束解析。
Pull解析步骤：
- 创建解析器对象
XmlPullParser paser = Xml.newPullParser();
- 进行解析
paser.setInput(input,"utf-8");
- 产生第一个解析事件
int eventType = paser.getEventType();
- 可以使用循环判断是否继续解析
while(eventType!=XmlPullParser.END_DOCUMENT){}
