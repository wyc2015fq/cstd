# 小米盒子2代与1080p蓝光高清视频 - weixin_33985507的博客 - CSDN博客
2013年09月27日 23:28:14[weixin_33985507](https://me.csdn.net/weixin_33985507)阅读数：21

![232422103.png](http://blog.51cto.com/attachment/201309/232422103.png)
9月24日新小米盒子开放购买，运气不错抢到一台。昨天到手，测试了一晚，今天写点心得。
新小米盒子和第一代产品的最大区别就在于其4x的性能提升，从而使其真正可以播放1080p的蓝光影片了。我其实7月23日才下单购买小米盒子1代，用了才2个月，就觉得这个产品非常之棒，满足了我很多方面的需求，例如直接播放NAS上的视频。（以前曾经买过一个MeLE A200电视盒，完全是个垃圾产品，玩了1个晚上就被我丢在一边了）。但是，1代产品只能播放720p的视频，真正1080p的高清还是因为处理性能不足而有所卡顿，因此小米盒子2代到手后，我的重点就放在了高清视频的播放上。
说实话，我并不痴迷于高清影片，没有高清发烧友的那么敏锐的眼力，对于高清影片的技术、格式、播放方式也仅仅知道些皮毛，因此，以下内容或有偏颇或有错误，请大家海涵。
昨晚，由于手头没有太多的片源，就随便找了2个作为对比。第一个是12GB大小的哈利波特与混血儿，片长2小时33分钟，mkv格式。另一个是28GB大的Red Tails，片长2小时零5分钟，ts格式。2部片子都存放在家里的NAS上（顺便说一下，我家的NAS是Synology DS412+，自带DLNA媒体流播放的功能，关于这个NAS我以前有写过几篇博客介绍）。
到家先把小米盒子2代换掉了原来接着的小米盒子1代，配置无线设置接入家里的Wifi网络。我家的无线AP用的是Apple的AirPort Express，因此自带2个SSID，一个是2.4GHz频段的，一个是5GHz频段的。默认我一直都是用2.4GHz频段的。
接上网络之后，就打开了小米盒子自带的高清播放器，这时候，小米盒子就能自动搜索到我家的NAS。最右边的这个NAS02上的圆形图标说明了这是一个DLNA的媒体源。（DLNA官方网站参见http://www.dlna.org）。
![232543202.jpg](http://blog.51cto.com/attachment/201309/232543202.jpg)
首先通过DLNA的媒体源，播放了12GB的哈利波特，很好很流畅，画面也很清晰。我很满意。然后播放28GB的Red Tails，结果每2秒就要卡顿一下，表示正在缓冲的圆圈就要转一下，很不好呀。不过几秒钟以后我就决定接上网线试试看，果然立竿见影，卡顿情况立刻就消失了。所以说，刚才的卡顿完全是由于无线网络的带宽不够造成的。
一边播放我一边去看了下NAS的资源状况，CPU和内存占用率非常低，说明了解码处理工作是由小米盒子完成的，而不是NAS。网络吞吐量在4-5.5MB/s （注意：是MB/s，相当于32-44Mbps），理论上300Mbps的11n的无线网络也应该可以达到70Mbps的吞吐量，但视频播放需要一个稳定的通道，而2.4GHz频段的无线网络用户较多，能搜到左邻右舍楼上楼下的多个信号源，因此干扰较多，这直接影响了对带宽和稳定通道要求特别高的蓝光高清视频的播放。
![232614253.png](http://blog.51cto.com/attachment/201309/232614253.png)![spacer.gif](https://blog.csdn.net/e/u/themes/default/images/spacer.gif)
（注：上图是Synology DS412+自带的资源监控功能）
但是，通过DLNA方式播放高清视频没有字幕，虽然我下载过字幕，但是这种方式下播放软件无法读取到字幕文件。于是我想到了利用Windows共享方式。
在高清播放器的界面上点小米盒子遥控器上的菜单键，就可以手动添加一台网络设备，上面的图中最左侧的就是我手动添加的NAS的IP地址，这个图标带有windows logo，说明这是一个Windows共享。
于是，字幕有啦，可是，28GB的高清影片却不顺畅了，经常卡顿，频繁的时候每10秒就会卡顿一次，这让人无法接受。
最后，我还做了一组对照测试，发现同样是Wifi无线连接时，5GHz的网络要比2.4GHz时播放更为流畅。这是因为5GHz频段干扰比较少的缘故吧。
今晚，感谢同事姚老师给了我一个带有很多高清影片的移动硬盘，因此我又尝试了一下通过外接移动硬盘的方式播放。这种方式需要将移动硬盘接在小米盒子的OTG线上，然后高清播放器就可以找到这个外接设备，并读取其中的影片文件。
这里面有3种类型的高清影片：
(1) 提取出来的*.ts文件，并有同名的字幕文件。
(2) 解开的蓝光光盘，一个目录内有完整的蓝光盘目录，包括playlist, stream等子目录，找到stream子目录下面的*.ts 或*.m2ts文件即可播放。
(3) 蓝光ISO，后缀名iso
播放的情况如下:
(1) 提取出来的多个顺序的TS文件可以顺畅播放，无卡顿。字幕可以正常显示。多个顺序的TS文件会按照数字序列依次播放，2段视频中间有大概1秒的黑屏切换时间。结论：小米盒子中间的这个高清播放器就相当于一个kmplayer之类的播放软件，播放这类视频没有问题。
(2) 解开的蓝光盘，找到stream下面的类似0001.m2ts文件，可以正常播放，播放也能显示蓝光盘中自带的字幕，默认显示英文字幕，不过可以通过遥控器上的菜单键调出字幕菜单，并选择合适的字幕。多语言字幕依次为字幕1，字幕2，字幕3，......，并不提示语言，要自己一个一个试过来才能找到中文字幕。但是，最大的问题是，蓝光碟片中的播放顺序往往不是按照数字顺序的，而小米盒子无法识别playlist中标注的播放顺序，因此无法正常按顺序播放一部影片。这种格式基本无法使用。
(3) 蓝光碟片的ISO映像文件。这种格式的文件小米盒子会自动读到其中的目录结构，因此和(2)的效果一样，问题也一样。
【结论】
下载的Blu-Ray高清影片本身体积庞大（每部影片25-40GB），即使是用电脑播放也需要消耗很多资源，通过网络播放还要求很高的网络条件，因此用小米盒子来播放此类视频是个巨大的挑战。诚然，小米盒子2代已经具有了足够的处理能力来播放这类影片，但是还是有些限制，这可能需要进一步提高“高清播放器”这个软件来解决。
要顺畅播放Blu-Ray高清影片，有以下要求以及限制：
(1) 必须采用REMUX提取出来的TS格式的蓝光影片，蓝光碟片ISO文件和蓝光原版文件都无法按顺序正常播放。
(2) 最好是放置在移动硬盘中，利用OTG数据线连接到小米盒子播放，字幕请一并准备好。
(3) 如果将TS格式的蓝光高清影片放置在NAS上（或电脑上），必须配置DLNA流媒体服务。用Windows共享则会有卡顿无法顺畅观看。此时，无法正常显示字幕。
(4) 通过网络方式播放NAS或电脑上共享的影片，还必须采用有线网络，无线网络受干扰严重，无法顺畅播放。
最后要说的是，发烧这件事代价好大，如果真是高清发烧友，还是在客厅整台HTPC吧。而我自己，还是下载内嵌字幕的HR-HDTV的mkv格式影片吧。
