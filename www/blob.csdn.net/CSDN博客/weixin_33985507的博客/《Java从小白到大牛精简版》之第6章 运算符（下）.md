# 《Java从小白到大牛精简版》之第6章 运算符（下） - weixin_33985507的博客 - CSDN博客
2017年11月27日 09:09:18[weixin_33985507](https://me.csdn.net/weixin_33985507)阅读数：9
《Java从小白到大牛》纸质版已经上架了！！
本文是[《Java从小白到大牛精简版》之第6章 运算符（上）](http://blog.51cto.com/tonyguan/1981143)继续...
## 6.4 位运算符
位运算是以二进位（bit）为单位进行运算的，操作数和结果都是整型数据。位运算符有如下几个运算符：&、|、^、~、>>、<<和>>>，以及相应的赋值运算符，具体说明参见表6-6。
表6-6 位运算符
[图片上传失败...(image-a9ef68-1511744132099)]
**注意 无符号右移>>>运算符仅被允许用在int和long整数类型, 如果用于short或byte数据, 则数据在位移之前，转换为int类型后再进行位移计算。**
位运算示例代码：
```java
byte a = 0B00110010;    //十进制50                 ①
byte b = 0B01011110;    //十进制94                 ②
System.out.println("a | b = " + (a | b));   // 0B01111110   ③
System.out.println("a & b = " + (a & b));   // 0B00010010   ④
System.out.println("a ^ b = " + (a ^ b));   // 0B01101100   ⑤
System.out.println("~b = " + (~b));         // 0B10100001   ⑥
System.out.println("a >> 2 = " + (a >> 2));     // 0B00001100   ⑦
System.out.println("a >> 1 = " + (a >> 1));     // 0B00011001   ⑧
System.out.println("a >>> 2 = " + (a >>> 2));   // 0B00001100   ⑨
System.out.println("a << 2 = " + (a << 2));     // 0B11001000   ⑩
System.out.println("a << 1 = " + (a << 1));     // 0B01100100   ⑪
int c = -12;                                    ⑫
System.out.println("c >>> 2 = " + (c >>> 2));   ⑬
System.out.println("c >> 2 = " + (c >> 2));     ⑭
```
输出结果如下： 
```
a | b = 126
a & b = 18
a ^ b = 108
~b = -95
a >> 2 = 12
a >> 1 = 25
a >>> 2 = 12
a << 2 = 200
a << 1 = 100
c >>> 2 = 1073741821
c >> 2 = -3
```
上述代码第①行和第②行分别定义了byte变量a和b，为了便于查看代码采用二进制整数表示。
代码第③行中表达式(a | b)进行位或运算，结果是二进制的0B01111110。a和b按位进行或计算，只要有一个为1，这一位就为1，否则为0。
代码第④行(a & b)是进行位与运算，结果是二进制的0B00010010。a和b按位进行与计算，只有两位全部为1，这一位才为1，否则为0。
代码第⑤行(a ^ b)是进行位异或运算，结果是二进制的0B01101100。a和b按位进行异或计算，只有两位相反时这一位才为1，否则为0。
代码第⑦行(a >> 2)是进行有符号右位移2位运算，结果是二进制的0B00001100。a的低位被移除掉，由于是正数符号位是0，高位空位用0补。类似代码第⑧行(a >> 1)是进行右位移1位运算，结果是二进制的0B00011001。
代码第⑨行(a >>> 2)是进行无符号右位移2位运算，与代码第⑦行不同的是，无论是否有数符号位，高位空位用0补，所以在正数情况下>>和>>>运算结果是一样的。
代码第⑩行(a << 2)是进行左位移2位运算，结果是二进制的0B11001000。a的高位被移除掉，低位用0补位。类似代码第⑪行(a << 1)是进行左位移1位运算，结果是二进制的0B01100100。
代码第⑫声明int类型负数。右位移（>>>和>>）在负数情况下差别比较大。代码第⑬行的(c >>> 2)表达式输出结果是1073741821，这是一个如此大的正数，从一个负数变成一个正数，这说明无符号右位移对于负数计算会导致精度的丢失。而有符号右位移对于负数的计算是正确的，见代码第⑭行。
**提示 有符号右移n位，相当于操作数除以2<sup>n</sup>，例如代码第⑦行(a >> 2)表达式相当于(a / 2<sup>2</sup>)，a = 50所以结果等于12，类似的还有代码第⑧行和第⑭行。另外，左位移n位，相当于操作数乘以2<sup>n</sup>，例如代码第⑩行(a << 2)表达式相当于(a * 2<sup>2</sup>)，a = 50所以结果等于200，类似的还有代码第⑪行。**
## 6.5 其他运算符
除了前面介绍的主要运算符，Java还有一些其他一些运算符。
- 三元运算符（? :）。例如x?y:z;，其中x、y和z都为表达式。
- 小括号。起到改变表达式运算顺序的作用，它的优先级最高。
- 中括号。数组下标。
- 引用号（.）。对象调用实例变量或实例方法的操作符，也是类调用静态变量或静态方法的操作符。
- 赋值号（=）。赋值是用等号运算符（=）进行的。
- instanceof。判断某个对象是否为属于某个类。
- new。对象内存分配运算符。
- 箭头（->）。Java 8新增加的，用来声明Lambda表达式。
- 双冒号（::）。Java 8新增加的，用于Lambda表达式中方法的引用。
示例代码如下：
```java
import java.util.Date;
public class HelloWorld {
    public static void main(String[] args) {
        int score = 80;
        String result = score > 60 ? "及格" : "不及格"; // 三元运算符（? : ）
        System.out.println(result);
        Date date = new Date();         // new运算符可以创建Date对象
        System.out.println(date.toString());    //通过.运算符调用方法
    }
}
```
此外，还有一些鲜为人知的运算符，随着学习的深入用到后再为大家介绍，这里就不再赘述了。
## 6.6 运算符优先级
在一个表达式计算过程中，运算符的优先级非常重要。表6-7中从上到小，运算符的优先级从高到低，同一行具有相同的优先级。二元运算符计算顺序从左向右，但是先级15的赋值运算符的计算顺序从右向左的。
表6-7 Java运算符优先级
[图片上传失败...(image-34534b-1511744132099)]
**总结 运算符优先级大体顺序，从高到低是：算术运算符→位运算符→关系运算符→逻辑运算符→赋值运算符。**
## 本章小结
通过对本章内容的学习，读者可以了解到Java语言的基本运算符，这些运算符包括算术运算符、关系运算符、逻辑运算符、位运算符和其他运算符。
## 配套视频
[http://edu.51cto.com/topic/1246.html](http://edu.51cto.com/topic/1246.html)
## 配套源代码
[http://www.51work6.com/book/java1.php](http://www.51work6.com/book/java1.php)
## 与本书免费版对应的还有一个收费版本：
- 
[进入百度阅读电子书](https://yuedu.baidu.com/ebook/7c1499987e192279168884868762caaedd33ba00)
- [进入图灵社区电子书](http://www.ituring.com.cn/book/2480)
