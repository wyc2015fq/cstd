# 7. 组件通信 - weixin_33985507的博客 - CSDN博客
2018年11月06日 10:58:00[weixin_33985507](https://me.csdn.net/weixin_33985507)阅读数：1
**组件引入：**
组件开头引入React：
import React from 'react';
import ReactDom from 'react-dom';
//其他组件引入
import 组件名 from '路径';
//非模块组件的引用
import '路径'
**组件导出：**
export default 组件名;
**子组件与父组件之间的通信：**
如对我的第二个react项目中的将输入添加到列表的方法（addToList ），当我需要从子组件中传递数据进入父组件时，便在父组件中定义一个方法（addToList ），在渲染中将该方法传到子组件，子组件调用这个方法，将数据作为参数传递回来。
*父组件：*
```
import TodoInput from './afternoon/TodoInput';//引入TodoInput组件
import TodoList from './afternoon/TodoList';//引入TodoList组件
import React, { Component } from 'react'
//TodoApp组件
export default class TodoApp extends Component {
  //定义state存储list中要显示的数据
  constructor(){
    super();
    this.state = {
      todos: [{
        id: Math.random(),
        text: '哈哈'
      }]
    }
  }
  //调用addList对Input输入数据进行处理
  addToList = (text)=>{
    this.setState({//利用setState改变state的值
      todos:[//对所有的todos数据操作
          ...this.state.todos,
          {
            text,//text:text,将Input内输入的值写入state的todos
            id: Math.random()//id取随机数
          }
      ]
    })
  }
  //渲染显示TodoHeader、TodoInput、TodoList组件
  render() {
    return (
      <div>
        {/* 将addToList数据处理函数传出去 */}
        <TodoInput addToList={this.addToList}/>
        {/* 通过state内的数据控制List的显示 */}
        <TodoList todos={this.state.todos}/>
      </div>
    )
  }
}
```
*子组件：*
```
import React, { Component } from 'react'
//TodoInput组件
export default class TodoInput extends Component {
  //添加数据管理state保存input内的值
  state={inputValue:''}
  //每次输入完成调用
  changeHandler=(e)=>{
    this.setState({//将当前input输入的数据存入state的inputValue
        inputValue: e.currentTarget.value//e.currentTarget当前改变事件指向的input输入框
    })
  }
  //每次输入之后点击添加按钮调用
  clickHandler=()=>{
    //调用addToList数据处理函数对当前inputValue里的值进行处理
    this.props.addToList(this.state.inputValue);
    //通过setState设置state的inputValue的值
    this.setState({
      //将inputValue的值设置为空字符串
      inputValue:''
    });
  }
  render() {
    return (
      <div>
        {/*onChange={this.changeHandler}当输入框数据有变动时调用函数changeHandler将输入的数据放入inputValue  */}
        {/*value={this.state.inputValue}在将输入的值放入inputValue之后，再次从state里面取出inputValue的值再放入输入框  */}
        <input type="text" onChange={this.changeHandler} value={this.state.inputValue} />
        {/*onClick = {this.clickHandler}当处理完输入框的数据后，调用clickHandler函数对input的值进行加入List的处理  */}
        <button onClick = {this.clickHandler}>添加</button>
      </div>
    )
  }
}
```
