# Linux查找文件的相关命令 - weixin_33985507的博客 - CSDN博客
2011年10月27日 00:50:00[weixin_33985507](https://me.csdn.net/weixin_33985507)阅读数：3
　　Linux查找文件的相关命令如表2-7所示。
　　表2-7 Linux查找文件的相关命令说明
|常 用 命 令|简要中文说明|程序所在目录|
|----|----|----|
|more|分页显示一个文件或任何输出结果|/bin|
|less|分页显示一个文件并且可以回头|/usr/bin|
|whereis|寻找文件工具|/usr/bin|
|find|寻找文件工具|/usr/bin|
|locate|寻找文件工具|/usr/bin|
|grep|寻找某字串内容工具|/bin|
|env|查看环境设置|/usr/bin|
**　　more [文件名]**
**　　分页显示一个文件或任何输出结果**
　　其实more不是用来寻找文件的，但是一般人却十有八九是在找文件时把它派上用场。
　　因为 more 主要的作用是把输出结果显示在屏幕上，一页停止一次，所以例如当我们用 ls 命令去找一个 x字母开头的文件，而下达了 ls x* 却仍然列出太多文件，一个屏幕看不完时，就可以配合管道符号和 more 命令：
　　ls x* | more
　　它会一屏停止一下，等待您按空白键才继续往上卷。于是 more 俨然犹如 DOS 的 DIR 命令 /P 选项的地位了。而 more 当主角的时候，是用做一页一次显示文章，例如我们想要看 /etc 里面的 XF86Config 文件，可以下如下命令：
　　more /etc/XF86Config
　　这样，我们就可以不断按空白键把这个文件慢慢看完。但是，因为more 先天的设计，如果您看完了这页，想要回头看上一页，很抱歉，是不行的，您必须从头再来！于是大家在使用中就干脆摒弃这个命令，而代之以 vi 或者pico, joe等文书编辑器来看文字文件了！
　　pico /etc/XF86Config
　　到最后，很少人再用more了。所以more经常配合 ls在找文件的场合出现，每天都可以上场十几次。
　　所以，相信把失去主要舞台的 more归类为找寻文件的相关命令虽不合法，但合情合理也合于现状。
　　练习：
　　请您用 more 去看一个文字文件，与用 pico 去看一个文字文件相比较，哪一个比较方便？
**less [****文件名]**
**　　分页显示一个文件并且可以回头**
　　less命令很好笑，取名时就故意与more 命令打对台，你叫“更多”，我就叫“更少”，就好像你叫黑人牙膏我就叫白人牙膏一样。事实上与什么“更多”、“更少”都没有关系。它最主要只是为了改进一点：more 不能回头看的问题！
　　less 的优点就是可以随时回头，最简单的用【PgUp】键就可以向上翻。
　　可是依我们的孤陋之见，还是用文书编辑器去阅读文件就好了嘛，更何况 less 本身还有高达 42 个选项，何必那么麻烦！
　　所以，为了您好，选项我们也不介绍了。这个命令目前只在 Linux 系统可以使用，其他 UNIX 家族尚无。
　　练习：
　　（1）请您用 less 去看一个文字文件，与用 pico 去看一个文字文件相比，哪一个比较方便？
　　（2）less命令能像more命令一样配合管道符号，让ls的列示文件能够回头翻看吗？
**　　whereis 文件名**
**　　寻找文件工具**
　　whereis 是一个小巧好用的文件寻找工具，它专门用来寻找可执行的程序、原始程序和使用手册。
　　例如执行命令：
　　whereis bzip2
　　它就会告诉您，bzip2 放在 /usr/bin 。通常，如果您确定某个东西是程序，而用 whereis 找不到的话，那就表示本系统没有安装该程序了，例如：
　　whereis cjoe
　　表示这套系统中没有装 cjoe，否则应该会找到才对。
　　练习：
　　（1）找找您的系统上有没有xpaint这个程序？因为这个程序在 KDE 和 GNOME 的默认主菜单上都没有列出来，但并不表示一定没有。
　　（2）能用 whereis 命令去找到XF86Config设置文件在哪里吗？为什么？
**find [****寻找的目录] [表示式]**
**　　寻找文件工具**
　　find 是高级的寻找文件工具，可不像 whereis 那么“阳春白雪”。但也因为它太高级了，复杂到很多人用不熟练。我们尽量只举简单的例子。
　　最简单的格式如下：
　　find / -name my* -print
　　这个意思是请它从最底层的主目录开始找，找出文件名是 my 开头的文件，把它显示出来。-print 选项是显示，您可把它当做固定要加上的项目。
　　但它还可以用时间来找，例如：
　　find /usr -atime 3 –print
　　会从 /usr 目录开始往下找，找最近3天之内存取过的文件。
　　find /usr -ctime 5 –print
　　会从 /usr 目录开始往下找，找最近5天之内修改过的文件。
　　find /doc -user jacky -name 'j*' –print
　　会从 /doc 目录开始往下找，找jacky 的、文件名开头是 j的文件。
　　find /doc \( -name 'ja*' -o- -name 'ma*' \) –print
　　会从 /doc 目录开始往下找，找寻文件名是 ja 开头或者 ma开头的文件。
　　find /doc -name '*bak' -exec rm {} \;
　　会从 /doc 目录开始往下找，找到凡是文件名结尾为 bak的文件，把它删除掉。-exec 选项是执行的意思，rm 是删除命令，{ } 表示文件名，“\;”是规定的命令结尾。
　　练习：
　　用 find 命令能否找出XF86Config这个文件在哪里？
**locate ****文件名**
**　　寻找文件工具**
　　locate 也是一个寻找文件的工具，但是它不像 whereis 只能找程序文件等几种文件，也不像find那么复杂，可以算是“中庸之道”！
　　中庸之道，往往就是大部分人最佳的选择，如图2-32所示。
 图2-32 3种寻找文件命令的对比
　　whereis找不到的文件，find要一大串命令，还花了很久的时间才找到的XF86Config设置文件，而用locate一下子就简单找到了！
　　练习：
　　（1）用 locate 找找有没有一个inittab文件？
　　（2）用 locate 找找有哪些 .pcf 字形文件。如果找不到的话，找找看已经压缩过的字形文件 .pcf.Z 或者 .pcf.gz。
**　　grep [-选项] [字串] [文件名]**
**　　寻找某字串内容工具**
　　有些时候，我们存储文件时随手乱取了一个文件名，事后自己都忘了那个文件名叫什么，连开头第一个字母都想不起来。那么，如果您还记得该文件一点特殊的词语，应该可以用 grep 命令找到。
　　例如，我们想在一个目录的200个文件里面，找出哪一个文件提到“排版”这个词语：
　　grep 排版 *.txt
　　找到了两个文件有此字样。然后您再自行调出看看到底哪一篇才是您所要的即可。寻找时注意尽量寻找特殊词语，如果您输入“然后”、“这样”、“不是”、“电脑”……这类太普遍的词语，可能几百篇文章中都有，那就失去了用 grep 找文件的意义了。
　　因为例子中第二篇文章出现了两次，所以列出了3行，其实只有两个文件符合。如果您想要让它凡是符合条件的只出现一次的话，加上 -l 选项就可以了，如图2-33所示。
 图2-33 增加-l选项后的grep命令
　　其他常用的选项还有：
　　-n 同时列出该词语出现在文章的第几行。
　　-c 计算一下该字串出现的次数。
　　-i 比对的时候，不计较大小写的不同。
　　练习：
　　当我们要为系统增加一个用户时，往往担心添加一个已经存在的用户名字。如果用 grep 命令，可不可以避免这个问题？如何避免？
**env**
**　　查看环境设置**
　　env 命令可以设置很多环境变量，例如终端机的类型、使用的浏览器、用户主目录（Home Directory）的所在等等。
　　但是我们现在把焦点集中在其中一项：PATH环境变量。
　　因为 PATH 这个环境变量掌管了您下达命令的时候，它会到下面几个目录去找您命令的程序：
　　/usr/bin
　　/sbin
　　/usr/sbin
　　/usr/X11R6/bin
　　/root/bin
　　那么您用 env 命令，让它把所有的环境变量列出来的时候，就可以看到有一行PATH 设置，把上述几个目录用分号分开，然后串成一串。这就是它所谓寻找命令的“路径”。DOS 系统也有一个同名而且意义非常相似的路径设置。如图2-34所示。
 图2-34 执行env命令
　　如果您想在它查找命令的路径上增加一个 /usr/bin/he，而把 /root/bin 去掉，那么您可以重新下达：
　　env PATH=/usr/bin;/sbin;/usr/sbin;/usr/X11R6/bin;/usr/bin/he
　　当然env 其他的变量也可以这样改变。但是因为涉及面太广，我们就只把焦点集中在改变查找路径上，其他暂时不谈。
　　练习：
　　用env命令改变您默认的浏览器。
