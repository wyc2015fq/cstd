# [置顶] 等式问题 - weixin_33985507的博客 - CSDN博客
2013年06月06日 23:01:00[weixin_33985507](https://me.csdn.net/weixin_33985507)阅读数：4
```java
/* 匪警请拨110,即使手机欠费也可拨通！     
为了保障社会秩序，保护人民群众生命财产安全，警察叔叔需要与罪犯斗智斗勇，因而需要经常性地进行体力训练和智力训练！
某批警察叔叔正在进行智力训练：1 2 3 4 5 6 7 8 9 = 110;     
请看上边的算式，为了使等式成立，需要在数字间填入加号或者减号（可以不填，但不能填入其它符号）。
之间没有填入符号的数字组合成一个数， 
例如：12+34+56+7-8+9 就是一种合格的填法；123+4+5+67-89 是另一个可能的答案。    
 请你利用计算机的优势，帮助警察叔叔快速找到所有答案。    
 每个答案占一行。形如：12+34+56+7-8+9123+4+5+67-89......     
已知的两个答案可以输出，但不计分。         
各个答案的前后顺序不重要。  
注意：     
请仔细调试！您的程序只有能运行出正确结果的时候才有机会得分！*/
/*public class C3 {
	public static void main(String[] args) {
		// TODO Auto-generated method stub
		// String string = "123+4+5+67-89";
		char a[] = { ' ', '+', '-' };
		char num[] = { '1', '2', '3', '4', '5', '6', '7', '8', '9' };
		for (char x1 : a)
			for (char x2 : a)
				for (char x3 : a)
					for (char x4 : a)
						for (char x5 : a)
							for (char x6 : a)
								for (char x7 : a)
									for (char x8 : a) {
										int result = 0;
										char s[] = { x1, x2, x3, x4, x5, x6,
												x7, x8 };
										String string = "";
										for (int i = 0; i <= 7; i++) {
											string = string + num[i] + s[i];
										}
										string = string + num[8];
										string = string.replaceAll(" ", "");
										String jianString[] = string.split("-");
										String addString[];
										addString = jianString[0].split("[+]");
										for (int j = 0; j < addString.length; j++) {
											result += Integer
													.parseInt(addString[j]);
										}
										// result = addResult[0];
										for (int i = 1; i < jianString.length; i++) {
											addString = jianString[i]
													.split("\\+");
											result = result
													- Integer
															.parseInt(addString[0]);
											for (int p = 1; p < addString.length; p++)
												result += Integer
														.parseInt(addString[p]);
										}
										if (result == 110)
											System.out.println(string);
									}
	}
}
*/
/*--------------------------------------------黄金分隔线-----------------------------------------------------*/
//方法二
import java.util.Arrays;
import java.util.HashSet;
import java.util.Set;
public class C3
{
    private static Set<String> set = new HashSet<String>();
    private static StringBuilder result = new StringBuilder("1");  //用于构成串  
    //判断新组成的串是否满足和为110
    public static void cal(String str)
    {
        int sum = 0;
        String[] num = str.split("[+|-]");  //将串中的各个数抽取出来
        String[] code = str.split("\\d"); //得到各个运算符
        sum += Integer.valueOf(num[0]);  //先将第一个数加上
        int n = 0;
        for(int i = 0;i < code.length;i++)
        {
            if(code[i].equals("+"))
            {
                sum += Integer.valueOf(num[++n]);
            }
            if(code[i].equals("-"))
            {
                sum -= Integer.valueOf(num[++n]);
            }
        }
        if(sum == 110)
        {
            set.add(str);
        }
    }
    public static void combine(int index)
    {
        if(index == 9)
        {
            cal(result.toString());
        }
        else
        {
            //分三种情况，分别为插入“+”，“-”和不插入任何符号
            for(int i = 0;i < 3;i++)
            {
                //假设i=0时插入“+”
                if(i == 0)
                {
                    result.append("+");
                    result.append(index + 1);
                    combine(index + 1);
                    result.delete(result.length() - 2,result.length());
                }
                //假设i=1时插入“-”
                if(i == 1)
                {
                    result.append("-");
                    result.append(index + 1);
                    combine(index + 1);
                    result.delete(result.length() - 2,result.length());
                }
                //假设i=2时什么都不插入
                if(i == 2)
                {
                    result.append(index + 1);
                    combine(index + 1);
                    result.deleteCharAt(result.length() - 1);
                }
            }
        }
    }
    public static void main(String[] args)
    {
        combine(1);
        for(String tmp : set)
        {
            System.out.println(tmp);
        }
    }
}
```
```java
```
