# 共识随想——从货币到分布式系统，再到管理学 - weixin_33985507的博客 - CSDN博客
2017年12月27日 21:12:00[weixin_33985507](https://me.csdn.net/weixin_33985507)阅读数：12
（本文纯属瞎扯，如有表述不严谨不准确之处，还请看官指出）
在区块链这个技术行当，有个概念必须得认识，叫“**共识**”，**consensus**。
什么叫共识，就是几个人之间都认同同一个概念。但光你知道和我知道(you know and I now)，这不够，还得我知道你知道(I now that you know)，我知道你知道我知道(I know that you know that I know )。像庄子和惠子，“*子非鱼安知鱼之乐*”，“*子非我，安知我不知鱼之乐*”，这叫无法达成共识。
## 货币是共识
### 雅浦岛的石器时代货币
货币学里有个经典故事，据说是[弗里德曼著作《货币的祸害》](https://link.jianshu.com?t=http%3A%2F%2Fwww.360doc.com%2Fcontent%2F14%2F0216%2F12%2F177003_352913711.shtml)的章节。说太平洋当中有个雅浦岛，与世隔绝。岛上不产金属，于是居民把石头打磨成石头圈圈，作为通货。但石头圈圈太大太重，不好搬运，于是交易的时候也不用搬运交割石头了，直接在石头上签名做标记，就表示石头的所有权转移了。岛上有一家人，他们家祖父曾经在隔壁岛发现了一块硕大无比的石头。但这块石头在从隔壁岛运回来的时候没拿好，沉到了海底。但没关系，岛上的人诚实。从那时到现在，岛上居民都知道（或者说都认为、都相信）这家人在海底有一块最大的石头。虽然到了这代人，谁都没见过这家人在海底的石头有多大，但大家都公认这家人是本地首富。
这意味着，财富是一种共识，大家都认为你富，你就富。
### 从黄金到纸币
我们都学过马克思的 “*金银天生是货币,货币天生不是金银*。”因为金银的种种优良特性，自古以来，无论东西，人们都认金子银子，于是金银可以贯穿亚欧大陆流通。这也是一种共识。
在交易过程中，关于黄金的共识，可以这样表达：我觉着黄金有价值，我知道你也觉着黄金有价值，所以我知道你会接收黄金，来换给我一些货物；我知道你知道我也觉着黄金有价值，所以我知道你不会不知天高地厚，以为拿点破烂就能把我的黄金换走。
让我们直接从黄金跨到现代的法币。当美元和黄金脱钩以后，法币就是单纯由国家强制推行、由主权信用担保的一张张纸。这时候对于这张纸的共识，就是：我觉着国家不会坑我；我知道你也觉着国家不会坑你；我知道你知道我也觉着国家不会坑我。好吧，那这张纸，大家凑合用用。
但如果这种共识不存在了，我觉着国家会坑我，你也觉着国家会坑你，那法币就沦为废纸一张。这种事情，最近某非洲南部国家正在发生，导致美元和比特币在他们那儿特别贵。
### Money is Memory
前段时间逛知乎，看到有人推荐了一篇货币学的神文，叫《*Money is Memory*》（1996. Narayana R. Kocherlakota，这篇文章原文在英文搜索引擎里随便能搜到）。这篇文章的推理过程说实话我是没能掌握，但核心观点我理解了，就是一个人手上有多少钱，可以理解为是一种变相的记录方式，来记录社会对你的行为的认同。
（该文的摘要如下。看官感受一下文风。）
> 
This paper examines the sets of feasible allocations in a large class of economic environments in which commitment is impossible(the standard definition of feasibility is adapted to take account of the lack of commitment). The environments feature either *memory* or *money*. Memory is defined as knowledge on the part of an agent of the full histories of all agents with whom he has had direct or indirect contact in the past. Money is defined as an object that does not enter preferences or production and is available in fixed supply. The main proposition proves that any allocation that is feasible in an environment with money is also feasible in the same environment with memory. Depending on the environment, the converse may or may not be true. Hence, from a technological point of view, money is equivalent to a primitive form of memory.
如果每个人都能记住自己所直接/间接接触过的所有人的所有交互记录（就是该文所指的*memory*），那么即使这个世界上不存在货币，同样的财富分配仍然可以得到实现。说人话，就是如果每个人对自己所见过的人、所发生过的事都过目不忘，这个世界没有货币照样能运转。
哎这个*memory*的概念跟比特币好像啊！比特币——这个分布式账本模型里，每个节点都保存全量数据；而数据以UTXO（Unspent Transaction Output，未花费的交易输出）形式，记录着每个节点与其他节点的所有交易……
## 分布式系统里的共识
在准备入行之前，北京众享比特的张治国老师介绍了一本经典著作，Nancy Lynch奶奶的《Distributed Algorithms》。苦于不是计算机科班出身，对伪代码的耐受程度不高，又没学过图论，这本经典我读了前面几章之后就一躺桌面几个月，再也翻不动了。但前面几章的思路，我大概看懂了。
分布式系统，可以采用不同的共识机制，来解决不同的问题。
### 拜占庭将军问题
分布式系统的入门级共识问题，拜占庭将军问题，1982年Leslie Lamport等大神写的经典论文《*The Byzantine Generals Problem*》，即多个节点（节点可以理解为个人，也可以理解为组织）中，如果其中某些节点会撒谎，那多个节点之间如何达成共识，最多能容忍几个节点撒谎。
论文打了个比方，说拜占庭的军队包围了地方城市，分了几支部队各自驻扎，现在几支部队的将军们要来决定，明天到底要不要进攻。各驻扎部队之间只能通过信使来通信。
如果信使只能口头通信的话，一个最小的模型是4个将军（4支部队），只能容忍1个将军会撒谎。
![947209-1919b5595dd070cb.png](https://upload-images.jianshu.io/upload_images/947209-1919b5595dd070cb.png)
论文中的配图
4个将军中有一个老大，首先号召打还是不打。下面的将军1号、2号、3号分别接收到命令之后，向其他2个将军再转发一次信息，说老大告诉我是打/不打。那将军1号、2号、3号每人都会收到3个命令。每个将军的单独决策方式都很简单，就是3个命令中，少数服从多数：只有当2/3的命令说打，我才打，不然就不打。
这样的决策逻辑，就能保证即便有1个坏人，其他3个将军还是能够保持一致的步调，形成共识。
按上文的逻辑演绎一遍共识，就是好人之间：我接到老大命令说要打，我知道你接到老大命令说要打，我知道你知道我接到老大命令说要打……
### 以比特币为代表的分布式账本技术
这个话题反倒不想展开了。反正自比特币，衍生出了这么种种分布式账本技术（或者说区块链技术），各自有不同的共识机制，在系统的安全性、吞吐量、一致性之间找不同的平衡。
一个有意思的话题是，比特币（及其他主流虚拟货币）的升值过程，反映了一种自然生成的货币的受使用者接受的共识的传播过程。
大家都觉得它值钱的时候，它就值钱了。
## 关于信用
前段时间，某明星在某空手套白狼事件中失败，被证监会惩罚禁止入市。某文章评论道，ta在这次事件中丢失了最重要的资产——信用。
今年学金融风险管理，也做了一段时间的征信模型。现在征信模型都讲求大数据，银行或其他金主在授信前，收集的信息越多就越安心，觉得越有能力制定出更合理的信用额度。原来借款人靠谱不靠谱，只有借款人身边一小撮人知道，现在金主通过大数据，直接或间接地知道了借款人到底靠谱不靠谱。我理解为，这是将原来只有一小范围内的共识，传达到了金主这里。
今年很多区块链项目，做的是将个人或者企业的各种数据上链，然后共享给金主，作为诸多金主授信的依据。我把这理解为共识从小范围扩大到大范围。
这么想的话，信用似乎可以理解为和货币一样，是基于共识的财富，别人是否承认你的信用财富，取决于关于你的信用的共识是否传递到了当事人那里。不过，货币是表内财富，而信用是表外财富。区块链做数据共享以提供授信依据，其实做的是表外财富的表内化。
这两天碰到了一个区块链项目，叫“卖自己”，理念是缺少启动资金的年轻人，可以将自己在链上上市，承诺将自己未来的现金流的一部分，提供给现在的投资人，以换取当下的资金。投资人投资的，是年轻人的信用和成长能力。如果将个人的信用和成长能力理解为表外财富的话，那这做的就是表内化。
一个担忧是，当我表内化之后，我还能表外化吗？
## 管理学，或者其他什么学的联想
### 关于项目管理
这两天朋友给我分享了一些项目管理的培训材料，里面一张片子里关于项目管理有4个关键词，**计划**、**授权**、**控制** 和 **监督**。计划和授权是在干嘛，是提前让团队之内有共识，**什么时候**、**干什么**、**谁来干**，让团队每个人都尽快找准定位，减少无谓的争论，集中力量加油干。
彷徨和迷茫是非常消耗精力的。有魅力的领导，其重要的能力之一，就是不断不断地释放出信号，指出明确的方向，促使团队之间尽快达成共识。之前看到一句管理学口号，大意是说底层的员工不要思考，只要执行。这怕的是员工思考之后有新想法，新想法与原来的共识不一致，就会出现彷徨，出现争论，出现消耗。但如果原来的共识足够强烈，足够一致，基于共识上的思考，多思考亦无妨吧。
这就是为什么大佬们喜欢谈理想。这容易达成共识。
### 关于血统
前段时间在某电子书平台上读《耶路撒冷三千年》，讲到
> 
公元前841年左右，……雅他利亚王后掌握了耶路撒冷的大权，她杀害了她能找到的所有大卫家族的王子，只有小王子约阿施幸免于难。……六年后，圣殿的祭司把耶路撒冷的权贵们召集过来参加一次秘密会议，他在会上透露小王子约阿施的存在——这些人立即宣誓向约阿施效忠。
这段故事底下有人问，为什么东西方古代都那么尊崇血统。我当时想了想，写了一段
> 
无论东西，血统都是获得合法性的成本最低廉的办法。可以试图从一个将军的视角去理解这个场景。任何一个将军都有以下几种选择：1）忍受目前的暴政；2）自立为王或者拥立一个傀儡，但这个需要独自挑战现有权威，并可能引来其他人的攻击；3）找到一个很容易受到其他任何将军都认可的人，大家都拥立他。无论这个被拥立者本身素质如何，只要他是容易被大家共同认可，那么他就是在这个博弈中最容易达成的均衡点。
现在想来，应该说这是最容易达成的共识吧。
### 关于未来社会
当时在痛苦地读《Distributed Algorithms》时，虽然文字上讲的是计算机系统，但经常脑海里会冒出一个念头，“人和人的交互方式不也是这样么”。
分布式账本技术，其实是人类社会交互方式，在数字世界中的某种再现。我们一直说技术是人类的延伸，比如汽车是四肢的延伸，电视是眼睛的延伸，电脑是大脑的延伸。那分布式账本的这种再现，肯定是经过延伸过的，比如节点（对比于个人）拥有近乎无限大的存储空间，更快更强大的计算能力。这个数字世界中的分布式社会模型，与人类社会模型存在这些参数上的差别，将导致这个模型收敛出不同的社会规则。
## 扯多了。
2017年年中的心法是**期望管理**；年底的心法，叫**共识**。
ps: 上文中提及的书，我一本都没能看完。
pps: 虽然知道现在不太可能了，但还是留一个打赏地址
bc1qx8qep9cqsnu9z9e8u8up6mdsxqtkfj9a4ng8un
