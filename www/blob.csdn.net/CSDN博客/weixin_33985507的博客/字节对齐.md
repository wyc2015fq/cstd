# 字节对齐 - weixin_33985507的博客 - CSDN博客
2011年06月09日 20:46:00[weixin_33985507](https://me.csdn.net/weixin_33985507)阅读数：4
各成员变量存放的起始地址相对于结构的起始地址的偏移量必须为该变量的类型所占用的字节数的倍数。
各成员变量在存放的时候根据在结构中出现的顺序依次申请空间，同时按照上面的对齐方式调整位置，空缺的字节自动填充。
同时为了确保结构的大小为结构的字节边界数（即该结构中占用最大空间的类型所占用的字节数）的倍数，所以在为最后一个成员变量申请空间后，还会根据需要自动填充空缺的字节。 
有四个概念值：
1.数据类型自身的对齐值：就是上面交代的基本数据类型的自身对齐值。
2.指定对齐值：#progma pack (value)时的指定对齐值value。
3.结构体或者类的自身对齐值：其成员中自身对齐值最大的那个值。
4.数据成员、结构体和类的有效对齐值：自身对齐值和指定对齐值中小的那个值。
有了这些值，我们就可以很方便的来讨论具体数据结构的成员和其自身的对齐方式。有效对齐值N是最终用来决定数据存放地址方式的值，最重要。有效对齐N，就是表示“对齐在N上”，也就是说该数据的"存放起始地址%N=0".而数据结构中的数据变量都是按定义的先后顺序来排放的。第一个数据变量的起始地址就是数据结构的起始地址。结构体的成员变量要对齐排放，结构体本身也要根据自身的有效对齐值圆整(就是结构体成员变量占用总长度需要是对结构体有效对齐值的整数倍)。
【详细参考 感谢作者】
[http://www.cnblogs.com/zhoukun/archive/2008/07/21/1247450.html](http://www.cnblogs.com/zhoukun/archive/2008/07/21/1247450.html)[http://www.cppblog.com/cc/archive/2006/08/01/10765.html](http://www.cppblog.com/cc/archive/2006/08/01/10765.html)
另本博中一篇相关博文:[sizeof的用法及与strlen的比较](http://www.cnblogs.com/ziwuge/archive/2011/06/08/2075243.html)
[](http://www.cppblog.com/cc/archive/2006/08/01/10765.html)
