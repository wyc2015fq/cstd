# 建用户 - weixin_33985507的博客 - CSDN博客
2015年07月09日 09:32:00[weixin_33985507](https://me.csdn.net/weixin_33985507)阅读数：7
2.找出普通用户
s212 data #** cat /etc/passwd|awk -F:  '{if($3>499)print $0}'**
nobody:x:65534:65534:nobody:/:/bin/false
uuwatch:x:1000:10::/home/uuwatch:/bin/bash
1.
db2admn1  db2fenc1  db2inst1  db2_r  uuwatch  wqj_idx
db120 ~ # cat /etc/passwd |egrep "db2admn1|db2fenc1|db2inst1|db2_r|uuwatch|wqj_idx" --color
db2inst1:x:1004:999::/home/db2inst1:/bin/bash
db2fenc1:x:1003:998::/home/db2fenc1:/bin/bash
db2admn1:x:1002:997::/home/db2admn1:/bin/bash
uuwatch:x:1005:10::/home/uuwatch:/bin/bash
    db2_r    :x     (3):1006      (4):10       :               (6):/home/db2_r   (7):/bin/bash
    用户名  :密码    :用户ID      :组ID    :用户全名     :主目录               :登录shell
==========================================================================
先要建立group ID 为1000 的组，然后才能该别的，useradd -u 1000 -g 1000 -d /tmp/crazylinux  -s /bin/bash crazylinux
useradd常用参数介绍--->
-u, --uid UID
           The numerical value of the users ID.
-g, --gid GROUP
           The group name or number of the user′s initial login group. The group name
           must exist. A group number must refer to an already existing group
-d, --home HOME_DIR【登录后的目录（终端）,主目录】
           The new user will be created using HOME_DIR as the value for the user′s
           login directory.
-b, –base-dir BASE_DIR 【是一般工作目录】指定home目录的base目录
-M, –no-create-home 不要建立home目录
-r, –system 建立一个系统帐号
-s, –shell SHELL 指定shell
==========================================================================
usermod常用参数介绍--->
关于usermod中-a参数**usermod -a -G nagcmd nagios**
-G修改当前次要组
-G -a是增加新的次要组
    -g<群组> 　修改用户所属的群组。
    -G<群组> 　修改用户所属的附加群组
-d 更改 /etc/passwd 第6栏用户的home目录部分，如果再加上 -m 参数（只与-d配合）。则会将现有home目录的地址重命名为新的home目录地址，如原来没有指定home目录地址，则为账号新建一个指定
的home目录地址。
-s 后面接shell的实际文件，即 /bin/bash　,/bin/csh之类，可以使用 chsh 命令替代
-c 更改 /etc/passwd 第5栏用户信息说明的部分，后面接描述信息，可以使用chfn命令替代
-l   后面接账号名称，即更改用户名。对应的是 /etc/passwd 的第1栏
-u 更改用户的UID，对应的是 /etc/passwd 的第3栏数据，此 UID　不能与目前系统中已经存在的UID相同
-g 后面接 group name 必须是现有 group 组中的一个，改变用户的初始化用户组 id 对应 /etc/passwd 的第4栏内容
-G 后面接 group name 必须是现有 group 组中存在的组名，改变用户能够支持的用户组，修改的是 /etc/group
-f 更改 /etc/shadow 的第7栏账号过期宽限时间部分，当后面接的值为 0 时，账号立即失效，为 -1 时关闭此功能默认值为 -1
-e 更改 /etc/shadow 的第8栏账号的失效日期，后面接日期参数格式为 MM/DD/YY 或 YYYY-MM-DD
-L 暂将用户的密码冻结，禁止其登录，即更改 /etc/shadow　的密码栏，在其前面加上 !
-U 暂将用户的密码解冻，即去掉其 /etc/shadow 密码栏前面的 !           
2.
/etc/group 用户组信息
root:x:0:
test        :!           :1005       :u01,u02,u03,cvsroot
组名       :密码     :组ID       :成员
groupname:password:gid:members
3.
/etc/shadow
sunny         :$1$SIm$VT (3) :16441                                               :0                           :99999                           :7                                 (7):                         (8):                   :
账号名称    :密码               :最近更改密码的日期(from 1974-1-1)     :密码不可更改的天数:密码需要重新更改的天数:密码更改期限前的警告日期:密码过期的宽限时间:账号失效时间:保留
username    :password       :last_change                                        :min_change              :max_change                  :warm                              :failed_expire            :expiration      :reserved
