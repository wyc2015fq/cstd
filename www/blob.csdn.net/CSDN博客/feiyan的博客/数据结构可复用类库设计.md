# 数据结构可复用类库设计 - feiyan的博客 - CSDN博客












2018年07月04日 20:52:07[feiyanaffection](https://me.csdn.net/feiyanaffection)阅读数：166








# 一、数据结构（数据的存储形式）

### 1. 数据结构的分类：
- 逻辑结构： 

集合结构、线性结构、树形结构、图形结构
- 物理结构： 

顺序结构、链接结构 

（具体的图形就不画了，自己看数据结构的书）
### 2. 什么是程序？

（1）高效的程序 **=** 恰当的数据结构 **+** 合适的算法 

（2）程序的特性：可读性、健壮性、性价比

### 3. 算法

（1）算法是独立存在的一种解决问题的方法和思想（对于算法而言，语言并不重要，重要的是思想） 

（2）算法的特性： 

有输入、有输出、有穷性、确定性、可行性、正确性 

（3）算法效率的度量： 

时间复杂度、空间复杂度 
**常见时间复杂度的比较：O(1) < O(log n) < O(n) < O(n * log n) < O(n2) < O(n3) < O(2n) < O(n!) < O(n n)**
# 二、可复用类库项目规划：

**可复用类库的设计，采用*面向对象技术*   与 *泛型编程模板技术*打造**，尽量使用异常处理机制分离正常逻辑和异常逻辑

### 1. 异常类

（1）：异常类描述 
![这里写图片描述](https://img-blog.csdn.net/20180205195941311?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvZmVpeWFuYWZmZWN0aW9u/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast)

（2）：异常类功能定义 
![这里写图片描述](https://img-blog.csdn.net/20180205200201411?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvZmVpeWFuYWZmZWN0aW9u/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast)

（3）：异常类接口定义 

异常类作为异常功能顶层父类，其他异常子类实现基本与父类相同
```language-py
class Exception : public Object
{
protected:
    char* m_message;  // 出现异常问题的描述信息
    char* m_location;  // 出现异常信息的位置定位

    void init(const char* message, const char* file, int line);
public:
    Exception(const char* message);
    Exception(const char* file, int line);
    Exception(const char* message, const char* file, int line);

    Exception(const Exception& e);
    Exception& operator =(const Exception& e);

    virtual const char* message() const;
    virtual const char* location() const;

    virtual ~Exception() = 0;
};
```

### 2. 顶层父类MyLib::Object

（1）所有数据结构都继承自**Object**类，规范统一内存申请的行为 

（2）定义动态申请内存的行为，提高代码的可移植性： 

（3）顶层父类**Object**类的接口定义：
```cpp
class Object
{
public:
    void* operator new(unsigned int size) throw();
    void operator delete(void* p);
    void* operator new [](unsigned int size) throw();
    void operator delete [](void* p);
    bool operator ==(const Object& obj);
    bool operator !=(const Object& obj);
    virtual ~Object() = 0;
};
```

### 3. 类族结构设计准则

（1）整体架构: 
![这里写图片描述](https://img-blog.csdn.net/20180205203116277?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvZmVpeWFuYWZmZWN0aW9u/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast)

（2）线性表的顺序存储结构**SeqList**设计： 
![这里写图片描述](https://img-blog.csdn.net/20180205203617791?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvZmVpeWFuYWZmZWN0aW9u/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast)

（3）数组类**Array**设计： 
![这里写图片描述](https://img-blog.csdn.net/20180205205023839?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvZmVpeWFuYWZmZWN0aW9u/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast)

（4）线性表的链式存储结构**LinkList**（单链表）设计： 
![这里写图片描述](https://img-blog.csdn.net/20180205205725006?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvZmVpeWFuYWZmZWN0aW9u/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast)

（5）静态单链表**StaticLinkList**的设计： 
![这里写图片描述](https://img-blog.csdn.net/20180205210148716?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvZmVpeWFuYWZmZWN0aW9u/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast)

（6）智能指针类**Pointer**的设计： 
![这里写图片描述](https://img-blog.csdn.net/20180205210512106?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvZmVpeWFuYWZmZWN0aW9u/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast)

（7）单向循环链表的**CircleList**的设计： 
![这里写图片描述](https://img-blog.csdn.net/20180205210840663?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvZmVpeWFuYWZmZWN0aW9u/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast)

（8）双向链表**DualLinkList**的设计： 
![这里写图片描述](https://img-blog.csdn.net/20180205211230928?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvZmVpeWFuYWZmZWN0aW9u/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast)
![这里写图片描述](https://img-blog.csdn.net/20180205211411658?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvZmVpeWFuYWZmZWN0aW9u/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast)

（9）栈**Stack**的设计： 
![这里写图片描述](https://img-blog.csdn.net/20180205212121965?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvZmVpeWFuYWZmZWN0aW9u/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast)

（10）队列**Queue**的设计： 
![这里写图片描述](https://img-blog.csdn.net/20180205212432265?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvZmVpeWFuYWZmZWN0aW9u/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast)

（11）字符串类**String**的设计： 
![这里写图片描述](https://img-blog.csdn.net/20180205212754453?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvZmVpeWFuYWZmZWN0aW9u/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast)

（12）排序类**Sort**和数组类**Array**的关系设计： 
![这里写图片描述](https://img-blog.csdn.net/20180704203606976?watermark/2/text/aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L2ZlaXlhbmFmZmVjdGlvbg==/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70)

（13）树**Tree**类的设计： 
![这里写图片描述](https://img-blog.csdn.net/2018070420391418?watermark/2/text/aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L2ZlaXlhbmFmZmVjdGlvbg==/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70)

      ①通用树**GTree**和通用树结点**GTreeNode**的设计： 
![这里写图片描述](https://img-blog.csdn.net/20180704204413342?watermark/2/text/aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L2ZlaXlhbmFmZmVjdGlvbg==/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70)
![这里写图片描述](https://img-blog.csdn.net/20180704204425315?watermark/2/text/aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L2ZlaXlhbmFmZmVjdGlvbg==/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70)

    ②二叉树**Btree**和二叉树结点**BtreeNode**的设计： 
![这里写图片描述](https://img-blog.csdn.net/20180704204802702?watermark/2/text/aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L2ZlaXlhbmFmZmVjdGlvbg==/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70)

（14）图**Graph**类的设计： 
![这里写图片描述](https://img-blog.csdn.net/20180704205042968?watermark/2/text/aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L2ZlaXlhbmFmZmVjdGlvbg==/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70)
软件架构实践的经验： 

（1）尽量使用**单重继承**的方式进行系统设计 

（2）尽量保持系统只存在**单一的继承树**

（3）尽量使用**组合关系**替代继承关系









