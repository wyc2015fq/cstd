# 位置和传感器：位置和地图 - 一世豁然的专栏 - CSDN博客





2017年05月15日 09:36:26[一世豁然](https://me.csdn.net/Explorer_day)阅读数：464








注意：这是一个关于Android框架的位置API的包android.location的指南。 Google定位服务API是Google Play服务的一部分，它提供了一个功能更强大的高级框架，可自动执行位置提供商选择和电源管理等任务。 位置服务还提供了新功能，如框架API中不可用的活动检测。 正在使用框架API的开发人员以及刚刚向应用程序添加位置感知功能的开发人员，应该强烈考虑使用Location Services API。




要了解有关位置服务API的更多信息，请参阅Android的Google定位服务。





位置和基于地图的应用在移动设备上提供了引人注目的体验。 您可以使用android.location包和Google Maps Android API的类将这些功能构建到您的应用程序中。 以下部分介绍如何添加功能。








一、位置服务

Android通过android.location包中的类，让您的应用程序访问设备支持的位置服务。 位置框架的中心组件是LocationManager系统服务，它提供API来确定底层设备的位置和方位（如果有的话）。





与其他系统服务一样，您不直接实例化一个LocationManager。 而是通过调用getSystemService（Context.LOCATION_SERVICE）从系统请求一个实例。 该方法返回一个新的LocationManager实例的句柄。





一旦你的应用程序有一个LocationManager，您的应用程序就可以做三件事情：


1、查询最后一个已知用户位置的所有LocationProviders的列表。




2、注册/取消注册，以便从位置提供商（由标准或名称指定）定期更新用户当前位置。




3、如果设备进入给定纬度/长度的给定接近度（以米为单位，以米为单位），则注册/取消注册给定意图。




有关获取用户位置的更多信息，请阅读[位置策略](https://developer.android.google.cn/guide/topics/location/strategies.html)指南。








二、Google Maps Android API

使用Google Maps Android API，您可以添加基于Google地图数据的应用程序的地图。 该API自动处理对地图服务器的访问，数据下载，地图显示和触摸手势。 您还可以使用API调用来添加标记，多边形和叠加层，并更改用户对特定地图区域的视图。





Google Maps Android API中的关键类是MapView。 MapView会显示从Google地图服务获得的数据的地图。 当MapView具有焦点时，它将捕获按键和触摸手势以自动平移和缩放地图，包括处理其他地图图块的网络请求。 它还提供用户控制地图所需的所有UI元素。 您的应用程序还可以使用MapView类方法以编程方式控制地图，并在地图上绘制多个叠加层。





Google Maps Android API不包含在Android平台中，但可通过Google Play服务在任何使用Android 2.2或更高版本的Google Play商店的设备上使用。





要将Google地图集成到您的应用程序中，您需要安装Android SDK的Google Play服务库。 有关详细信息，请参阅Google Play服务。




