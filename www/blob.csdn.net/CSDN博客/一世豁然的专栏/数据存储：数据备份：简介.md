# 数据存储：数据备份：简介 - 一世豁然的专栏 - CSDN博客





2017年05月08日 13:59:08[一世豁然](https://me.csdn.net/Explorer_day)阅读数：293标签：[android](https://so.csdn.net/so/search/s.do?q=android&t=blog)
个人分类：[Android](https://blog.csdn.net/Explorer_day/article/category/6289318)









用户经常投入大量时间和精力在应用程序中创建数据和设置首选项。 如果用户替换破坏的设备或升级到新设备，则保留数据是确保良好用户体验的重要组成部分。 本部分介绍了将数据备份到云端的技术，以便用户可以恢复数据。




要尽可能保留新设备上现有用户的体验，请确保备份以下用户设置：


1、用户修改的任何设置，例如使用PreferenceScreen。




2、用户是否打开或关闭通知和铃声。




3、布尔标志，指示用户是否看到欢迎屏幕或介绍性工具提示。




您不能备份铃声的URI，因为URI不稳定。 在某些情况下，对新的移动设备的恢复可能导致指向没有铃声的URI或者与预期的铃声不同的铃声。 相反，您可以使用其标题或铃声的哈希备份铃声。





Android为应用程序提供了两种方式将数据备份到云端：自动备份应用程序和密钥/值备份。 自动备份（可从起始API 23获得）通过将其上传到用户的Google云端硬盘帐户来保留应用数据。 Key / Value Backup功能（以前称为Backup API和Android Backup Service）通过将应用数据上传到Android Backup Service来保留应用数据。





一般来说，我们建议您自动备份，因为它不需要实施。 针对Android 6.0（API级别23）或更高版本的应用程序会自动启用自动备份。 自动备份功能对于可备份哪些数据以及在Android 6.0及更高版本的设备上的可用性确实存在一些限制。 如果您有更多的具体需求来备份应用数据，请考虑使用Key / Value Backup功能。 有关详细信息，请参阅键/值比较和自动备份。





您还可以通过提供无缝登录体验来维护新设备上的现有用户参与。 您可以将Smart Lock for Passwords集成到Android应用程序中，以在移动设备上还原用户登录。 Smart Lock for Passwords支持保存用户名密码凭据和联合身份提供者凭据。





有关同步应用数据的信息，请参阅使用同步适配器或Google Drive Android API传输数据。 这两种备份方法都不是为了在Android设备之间持续同步应用数据，或者在正常应用程序生命周期内保存要使用的数据。 您无法根据需要读取或写入备份数据。 但是，如果您的应用没有应用内容的备份机制，并且您的应用内容的大小不太可能超过25 MB的限制，则自动备份可能足以满足您的需求。





注意：如果Wi-Fi不可用，则Key / Value Backup可能会使用移动数据。 因此，键/值备份通常不适用于应用程序数据内容，例如媒体，下载的文件和高速缓存，除非数据量非常小。




