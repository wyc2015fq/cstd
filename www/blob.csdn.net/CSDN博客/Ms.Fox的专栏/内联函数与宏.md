# 内联函数与宏 - Ms.Fox的专栏 - CSDN博客
2015年01月16日 10:08:41[lulu-lu](https://me.csdn.net/smbluesky)阅读数：703
个人分类：[C++：注意事项](https://blog.csdn.net/smbluesky/article/category/2641013)
求两个整数和的宏
#define Sum（nNoA，nNoB）（（nNoA）+（nNoB））
宏在预处理时把宏代码展开，不需要类似函数似的保存现场和恢复现场，执行效率而言更高。这也是C语言中大量使用宏的原理。
宏也有两面性，如宏不能访问对象的私有成员；容易引起二义性。
内联函数是C++为了提高函数的执行效率而引进的一种特殊的函数。避免了宏的一些负面效应。
隐式内联：
Class CTime
{
> 
public:
CTime();
~CTime();
void Show(){cout<<m_nTime;}
private:
> 
time_t m_nTime;
}
显示内联：
//.h
Class CTime
{
> 
public:
CTime();
~CTime();
void Show();
private:
> 
time_t m_nTime;
}
//.cpp
CTime::CTime{}
CTime::~CTime(){}
inline void CTime:: Show()
{
> 
cout<<m_nTime;
}
## 缺点
1、虽然可以提高代码执行效率，但是如果代码过多或者过多使用宏和内联函数，会占用大量内存。
2、内联函数可以调试，而宏定义不可以调试。
## 使用注意事项：
1、如果函数体包含循环语句，执行包含循环语句的函数体代码代价较高；
2、函数为递归函数。递归函数涉及嵌套，内联函数是无法嵌套展开的。一般内联函数会转换为普通函数执行。
3、不要随便将构造函数和析构函数的定义体放在类声明中。
4、函数是否进行inline由编译器决定。
## 总结：只有代码行数为1~5行，不包含循环、递归的函数才可以最终进行inline。没达到要求的，编译器不一定将对此函数进行inline。
