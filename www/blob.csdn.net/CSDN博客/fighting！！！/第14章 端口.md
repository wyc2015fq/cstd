# 第14章 端口 - fighting！！！ - CSDN博客
2015年05月22日 19:45:25[dujiahei](https://me.csdn.net/dujiahei)阅读数：188
个人分类：[汇编语言学习](https://blog.csdn.net/dujiahei/article/category/3259223)
assume cs:code
code segment
 db '20yy/mm/dd hh:mm:ss ','$'
s1: db 9,8,7,4,2,0
s2: dw 2,5,8,11,14,17
start: mov ax,cs
        mov ds,ax
 mov bx,offset s1
 mov si,offset s2
 mov cx,6
s: mov al,ds:[bx]
 mov di,ds:[si]
 call r
 inc bx
 inc si
 inc si
 loop s
 mov ah,2
 mov bh,0
 mov dh,12
 mov dl,38
 int 10h
 mov dx,0
 mov ah,9
 int 21h
 mov ax,4c00h
 int 21h
r: push cx
 out 70h,al
 in al,71h
 mov ah,al
 mov cl,4
 shr ah,cl
 and al,0fh
 add ah,30h
 add al,30h
 mov ds:[di],ah
 mov ds:[di+1],al ;di应该+1，不是+2
 pop cx
 ret
code ends
end start
