# Python自动发射弹幕，弹幕护体 - fighting！！！ - CSDN博客
2018年05月05日 21:39:38[dujiahei](https://me.csdn.net/dujiahei)阅读数：1591
https://www.cnblogs.com/feiyueNotes/p/8097632.html
Python自动发射弹幕，弹幕护体
- 环境： Python3+Windows
- 开发工具： PyCharm 
学习效果：
1. 学会使用Python刷弹幕
2. 配置INI文件信息
3. 掌握网络请求知识
4. 解浏览器开发者工具
5. 时间模块的使用
6.爬虫的基本知识
https://www.bilibili.com/video/av11149694/
手动发送两条弹幕，抓包查看表单数据，找出不同的参数，注意相应修改
用户登录信息，消息头-cookie
![](https://images2017.cnblogs.com/blog/1236609/201712/1236609-20171224112033381-1852110736.png)
 脚本如下：
```
```python
#coding=utf-8
```
```python
import
```
```python
requests,time,random
```
```python
import
```
```python
configparser
```
```python
#配置文件信息
```
```python
target
```
```python
=
```
```python
configparser.ConfigParser()
```
```python
#文件对象
```
```python
target.read(r
```
```python
'D:\t.ini'
```
```python
,encoding
```
```python
=
```
```python
'utf-8'
```
```python
)
```
```python
#读取文件<br>
```
```python
while
```
```python
True
```
```python
:
```
```python
```
```python
#message = target['我的弹幕'][str(random.randint(1,8))]
```
```python
```
```python
message
```
```python
=
```
```python
target.get(
```
```python
'我的弹幕'
```
```python
,
```
```python
str
```
```python
(random.randint(
```
```python
1
```
```python
,
```
```python
8
```
```python
)))
```
```python
```
```python
url
```
```python
=
```
```python
'https://interface.bilibili.com/dmpost?cid=18447007&aid=11149694&pid=1&ct=1'
```
```python
```
```python
cookie
```
```python
=
```
```python
{
```
```python
'cookie'
```
```python
:''}
```
```python
```
```python
form
```
```python
=
```
```python
{
```
```python
'fontsize'
```
```python
:
```
```python
'25'
```
```python
,
```
```python
```
```python
'pool'
```
```python
:
```
```python
'0'
```
```python
,
```
```python
```
```python
'mode'
```
```python
:
```
```python
'1'
```
```python
,
```
```python
```
```python
'color'
```
```python
:
```
```python
'16777215'
```
```python
,
```
```python
```
```python
'rnd'
```
```python
:
```
```python
str
```
```python
(time.time()
```
```python
*
```
```python
1000000
```
```python
),
```
```python
#时间戳
```
```python
```
```python
'message'
```
```python
:message,
```
```python
```
```python
'playTime'
```
```python
:
```
```python
'0.08'
```
```python
,
```
```python
```
```python
'cid'
```
```python
:
```
```python
'18447007'
```
```python
,
```
```python
```
```python
'date'
```
```python
:time.strftime(
```
```python
'%Y-%m-%d+%H:%M:%S'
```
```python
,time.localtime(time.time())),
```
```python
```
```python
#'date':time.strftime('%Y-%m-%d+%X', time.localtime(time.time())),
```
```python
```
```python
'csrf'
```
```python
:
```
```python
'3915a57109e4abe13dc752254df4bc35'
```
```python
```
```python
}
```
```python
```
```python
requests.post(url,cookies
```
```python
=
```
```python
cookie,data
```
```python
=
```
```python
form)
```
```python
```
```python
# requests.request('POST',url, data=form,cookies=cookie)
```
```python
```
```python
print
```
```python
(message)
```
```python
```
```python
time.sleep(
```
```python
5
```
```python
)
```
```
配置文件如下：　
![](https://images2017.cnblogs.com/blog/1236609/201712/1236609-20171224113142053-2125834061.png)
