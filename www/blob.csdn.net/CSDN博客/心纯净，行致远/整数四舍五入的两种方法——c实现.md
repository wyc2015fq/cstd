# 整数四舍五入的两种方法——c实现 - 心纯净，行致远 - CSDN博客





2018年11月01日 10:08:21[吉大秦少游](https://me.csdn.net/zhanshen112)阅读数：1178








四舍五入是c语言编程经常使用的函数。这里记录用整数输入进行四舍五入的判断方法。

# 1、使用条件表达式

实际上只需要观察四舍五入之后的余数，如果余数大于0.5，则进1，反之保留整数。这里可以用条件表达式。

假设输入的int整数a,int整数b是a四舍五入之后的整数。相应程序如下：

```cpp
int b=(a-2*(a/2))>=1?a/2+1:a/2;	//四舍五入
```

上面方法易于理解，使用条件表达式使得代码精简。

# 2、利用浮点数的特点

还可以利用浮点数取整的特点，及如果浮点数的小数部分是[0,0.5),取整后只保留整数，如果将其加上0.5，取整后仍然还是保留的整数；如果小数部分是[0.5,0.99……]，取整后仍是整数，但是加上0.5之后，再取整则达到的整数将比原来的大1。

因此可以采用下面的方法

```cpp
double b;
b=int(b+0.5);
```

例如：

```cpp
#include <iostream>
using namespace std;
int main(){
	double a;	cin>>a;
	cout<<int(a+0.5);
	return 0;
}
```

这里要注意强制转换使用需要注意的地方：最好使用“类型+（强制转换的变量表达式）”。

例如下面两个是不一样的：

```cpp
int a=2.5,b=2.4,a1,a2,b1,b2;
a1=(int)a+0.5;
a2=int(a+0.5);
b1=(int)b+0.5;
b2=int(b+0.5);

/*
a1=2.5
a2=3
b1=2.5
b2=2
*/
```

如果只对强制转换的目标类型加括号，如上面的（int），结果就是会选择最近的变量进行强制类型转换，不会把后面的表达式都进行强制类型转换。



