# 1065 单身狗——c++实现 - 心纯净，行致远 - CSDN博客





2018年11月13日 08:30:01[吉大秦少游](https://me.csdn.net/zhanshen112)阅读数：205








题目：

> 
1065 单身狗 （25 分）

“单身狗”是中文对于单身人士的一种爱称。本题请你从上万人的大型派对中找出落单的客人，以便给予特殊关爱。

### 输入格式：

输入第一行给出一个正整数 N（≤ 50 000），是已知夫妻/伴侣的对数；随后 N 行，每行给出一对夫妻/伴侣——为方便起见，每人对应一个 ID 号，为 5 位数字（从 00000 到 99999），ID 间以空格分隔；之后给出一个正整数 M（≤ 10 000），为参加派对的总人数；随后一行给出这 M 位客人的 ID，以空格分隔。题目保证无人重婚或脚踩两条船。

### 输出格式：

首先第一行输出落单客人的总人数；随后第二行按 ID 递增顺序列出落单的客人。ID 间用 1 个空格分隔，行的首尾不得有多余空格。

### 输入样例：

```
3
11111 22222
33333 44444
55555 66666
7
55555 44444 10000 88888 22222 11111 23333
```

### 输出样例：

```
5
10000 23333 44444 55555 88888
```


思路：

这道题很好理解，难点在于直觉上可以用互为映射的键值对实现，或者其他高级一点的数据结构，但是只有感觉是不行的，还要能熟练使用才行。

下面要花时间了解c++的STL了。

2018.12.08

感觉代码1的实现部分太过繁琐，按照自己的思路实现了一遍，不需要这么麻烦。建立对应的数组后，用两个for循环依次对比。如果组成不了CP，则计数。计数满足等于M时，说明是单身狗。使用set存储。别忘了<set>/<algorithm>两个头文件。但是代码2还有一个测试点没过。也没找出问题所在。。。考试能发挥成这样也行，一个测试点的四分不要了。。。

擦擦擦，找到了，还是输出格式的问题。由于输入是五位数，如果五位数的前面有0，%d会自动将其省略。啊啊啊啊，考试的时候一定要注意格式问题。代码2可以AC了。

代码：

1

```cpp
//1065 单身狗 V1
#include <iostream>
#include <algorithm>
#include <set>
#include <iterator>
#define MAX 100005
using namespace std;

int main(){
	//spouse_id需要初始化为-1，因为00000也是id 
	int N,M,man,woman,spouse_id[MAX]={-1},list[MAX]={0} ,guest[MAX]={0};
	scanf("%d",&N);
	for(int i=0;i<N;i++){
		cin>>man>>woman;
		spouse_id[man]=woman;
		spouse_id[woman]=man;
	}
	
	scanf("%d",&M);
	set<int> s;

	for(int i=0;i<M;i++){
		scanf("%d",&guest[i]);
		if(spouse_id[guest[i]]!=-1)	list[spouse_id[guest[i]]]=1;	//有配偶就登记配偶id在list上，无配偶也登记 
	}
	for(int i=0;i<M;i++)	if(!list[guest[i]])	s.insert(guest[i]);	//list上有，而实际未到，则是单身狗 
	cout<<s.size()<<endl;
	for(set<int>::iterator it=s.begin();it!=s.end();it++){	//set中按字典自动升序排列 
		if(it!=s.begin())	printf(" ");
		printf("%05d",*it);
	}
	
}
```

2、

```cpp
#include <iostream>
#include <algorithm>
#include <set>
#include <iterator>
using namespace std;
int main(){
	int N,a[100005]={-1};	scanf("%d",&N);
	for(int i=0;i<100005;i++)	a[i]=-1;
	for(int i=0;i<N;i++){
		int tem1,tem2;	scanf("%d %d",&tem1,&tem2);
		a[tem1]=tem2;
		a[tem2]=tem1;
	}
	int M;	scanf("%d",&M);
	int b[M];
	set<int> s;
	for(int i=0;i<M;i++)	scanf("%d",&b[i]);
	for(int i=0;i<M;i++){
		int cnt=0;
		for(int j=0;j<M;j++){
			if(a[b[i]]!=b[j])	cnt++;
			if(cnt==M)	s.insert(b[i]);
		}	
	}
	printf("%d\n",s.size());
	for(auto it=s.begin();it!=s.end();it++){
		if(it!=s.begin())	printf(" ");
		printf("%05d",*it);
	}
	return 0;
}
```





