# 1003 我要通过！——C++实现 - 心纯净，行致远 - CSDN博客





2018年11月20日 20:26:45[吉大秦少游](https://me.csdn.net/zhanshen112)阅读数：90








# 题目

> 
1003 我要通过！ （20 point(s)）

“**答案正确**”是自动判题系统给出的最令人欢喜的回复。本题属于 PAT 的“**答案正确**”大派送 —— 只要读入的字符串满足下列条件，系统就输出“**答案正确**”，否则输出“**答案错误**”。

得到“**答案正确**”的条件是：
- 字符串中必须仅有 `P`、 `A`、 `T`这三种字符，不可以包含其它字符；
- 任意形如 `xPATx` 的字符串都可以获得“**答案正确**”，其中 `x` 或者是空字符串，或者是仅由字母 `A` 组成的字符串；
- 如果 `aPbTc` 是正确的，那么 `aPbATca` 也是正确的，其中 `a`、 `b`、 `c` 均或者是空字符串，或者是仅由字母 `A` 组成的字符串。

现在就请你为 PAT 写一个自动裁判程序，判定哪些字符串是可以获得“**答案正确**”的。

### 输入格式：

每个测试输入包含 1 个测试用例。第 1 行给出一个正整数 n (<10)，是需要检测的字符串个数。接下来每个字符串占一行，字符串长度不超过 100，且不包含空格。

### 输出格式：

每个字符串的检测结果占一行，如果该字符串可以获得“**答案正确**”，则输出 `YES`，否则输出 `NO`。

### 输入样例：

```
8
PAT
PAAT
AAPATAA
AAPAATAAAA
xPATx
PT
Whatever
APAAATAA
```

### 输出样例：

```
YES
YES
YES
YES
NO
NO
NO
NO
```


# 算法

这道题目侧重逻辑分析。

**任意形如 xPATx 的字符串都可以获得“答案正确”，其中 x 或者是空字符串，或者是仅由字母 A 组成的字符串；**
**那么正确的有这些：**
**PAT**
**APATA**
**AAPATAA**
**AAAPATAAA**
**…不说了，就是中间一个A左右加上等量的A（不加也行）都是正确的。**

**如果 aPbTc 是正确的，那么 aPbATca 也是正确的，其中 a, b, c 均或者是空字符串，或者是仅由字母 A 组成的字符串。**
**拿上面的那几个正确的举例子，那么正确的有这些：**
**PAT —— 对于 aPbTc 来说ac是空，b是A。所以 PAAT 是正确的。同理PAAAAAT中间加多少个A都是正确哒～**
**APATA —— 对于aPbTc来说，abc都是A。所以 APAATAA 是正确的。再类推一下，那么 APAAATAAA 是正确的。**
**AAPATAA —— 对于aPbTc来说，a和c是AA，b是A。所以AAPAATAAAA是正确的，再类推一下，AAPAAATAAAAAA 是正确的～～**
**所以说规律就是，可以在P和T中间加A并且在T后面加A，要求必须是，中间加上一个A，末尾就得加上几倍的(P前面A的那个字符串)。换句话说就是，中间的A的个数如果是3，那么末尾的A的个数就得是开头A的个数的3倍。很巧，当中间A为一个的时候，末尾和开头A的个数必须相等正好是第二条的要求～**

**所以一句话总结字符串的要求：只能有一个P一个T，中间末尾和开头可以随便插入A。但是必须满足开头的A的个数 * 中间的A的个数 = 结尾的A的个数，而且P和T中间不能没有A～**

# 代码

```cpp
//1003 v1
#include <iostream>
#include <map>
using namespace std;

int main(){
	int n，p=0,t=0;	cin>>n;
	string str;
	for(int i=0;i<n;i++){
		map<char,int> cnt;
		cin>>str;
		for(int j=0;j<str.size () ;j++){
			cnt[str[j]]++;	//计算P、A、T的数量 
			if(str[j]=='P')	p=j;
			if(str[j]=='T')	t=j;
		}
		if(cnt['P']==1&&cnt['T']==1&&cnt['A']!=0&&cnt.size() ==3&&p*(t-p-1)==str.size()-t-1) 
			cout<<"YES"<<endl;
		else	cout<<"NO"<<endl;
	}
	return 0;
}
```

下面是采用另一种思路，使用普通变量对P/A/T的数目进行计数。

```cpp
#include <stdio.h>
#include <iostream>
#include <string.h>
#include <string>
#include <sstream>

using namespace std;
int main(){
	int n;
	char c[101];	//save user's input
	scanf("%d",&n);
	for(int i=0;i<n;i++){
		bool result=true;
		int count1=0,count2=0,count3=0;
		int countP=0,countT=0;
		scanf("%s",c);
		for(int j=0;j<strlen(c);j++){
			if(c[j]!='P'&&c[j]!='A'&&c[j]!='T'){
				result=false;
				break;
			}
			if(c[j]=='P'){
				countP++;
				if(countP==2){
					result=false;
					break; 
				}
			}
			if(c[j]=='T'){
				countT++;
				if(countT==2){
					result=false;
					break; 
				}
			}
		}
		if(result){
			string s=c;
			count1=s.find("P");
			count2=s.find("A");
			count3=s.find("T");
			if(count1==-1||count2==-1||count3==-1){
				result=false;
			}
			else{
				result=((count1*(count3-count1-1))==(strlen(c)-count3-1))?true:false;
			}
		}
		if(result){
			printf("YES\n");
		}
		else{
			printf("NO\n");
		}
	}
	return 0;
}
```





