# 1078 字符串压缩与解压 ——C++实现 - 心纯净，行致远 - CSDN博客





2018年11月18日 10:12:05[吉大秦少游](https://me.csdn.net/zhanshen112)阅读数：84








# 题目

> 
1078 字符串压缩与解压 （20 分）

文本压缩有很多种方法，这里我们只考虑最简单的一种：把由相同字符组成的一个连续的片段用这个字符和片段中含有这个字符的个数来表示。例如 `ccccc` 就用 `5c` 来表示。如果字符没有重复，就原样输出。例如 `aba` 压缩后仍然是 `aba`。

解压方法就是反过来，把形如 `5c` 这样的表示恢复为 `ccccc`。

本题需要你根据压缩或解压的要求，对给定字符串进行处理。这里我们简单地假设原始字符串是完全由英文字母和空格组成的非空字符串。

### 输入格式：

输入第一行给出一个字符，如果是 `C` 就表示下面的字符串需要被压缩；如果是 `D` 就表示下面的字符串需要被解压。第二行给出需要被压缩或解压的不超过 1000 个字符的字符串，以回车结尾。题目保证字符重复个数在整型范围内，且输出文件不超过 1MB。

### 输出格式：

根据要求压缩或解压字符串，并在一行中输出结果。

### 输入样例 1：

```
C
TTTTThhiiiis isssss a   tesssst CAaaa as
```

### 输出样例 1：

```
5T2h4is i5s a3 te4st CA3a as
```

### 输入样例 2：

```
D
5T2h4is i5s a3 te4st CA3a as10Z
```

### 输出样例 2：

```
TTTTThhiiiis isssss a   tesssst CAaaa asZZZZZZZZZZ
```


# 算法

显然可以写两个子函数处理压缩与解压缩的问题。

当压缩时，如果读入的字符和前一个是相同的，则个数+1，反之，直接输出读入的字符；注意输出的时候如果某个字符的个数为1，则不需要输出1，字符个数大于等于2时，才需要输出字符的数目。

使用getline()可以一次读取整行内容。注意getline()函数的头文件时<iostream>.

```cpp
string s;
getline(cin,s);    //可以依次将读取的整行内容赋给字符串s
```

 当解压缩时，将字符型数字需要转化成int型数字，这里要注意可能数字会是两位数或者多位数，而读取字符的时候是一个一个读取的，因此注意都为数字的时候，要将读取的数字*10,同时a[i]要进行++，因此可以写成a[i++]。即：

```cpp
while(a[i] <= '9' && a[i] >= '0')
			sum = sum*10 + a[i++]-'0';//数个数，有可能时两位以上的数字
```

在依次循环输出即可。

# 代码

```cpp
#include <iostream>
#include <string>
using namespace std;
 
string a;
 
void deal1(){
	getline(cin, a);
	for(int i = 0; i < a.length(); i++)
	{
		int count = 0;
		while(a[i] == a[i+1])
			i++, count++;
		if(count != 0)	
			cout << count+1;
		cout << a[i];
	}	
}
void deal2(){
	getline(cin, a);
	for(int i = 0; i < a.length(); i++)
	{
		int sum = 0;
		while(a[i] <= '9' && a[i] >= '0')
			sum = sum*10 + a[i++]-'0';//数个数，有可能时两位以上的数字
		for(int j = 0; j < sum; j++)
			cout << a[i];
		if(sum == 0)
			cout << a[i];
	}
}
int main(){
	char ch;
	cin >> ch;
	
	getchar();//吞回车 
	
	if(ch == 'C')
		deal1();
	else if(ch == 'D')
		deal2();
	cout << endl;
	return 0;
}
```





