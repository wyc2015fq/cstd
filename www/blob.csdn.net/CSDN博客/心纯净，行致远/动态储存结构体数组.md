# 动态储存结构体数组 - 心纯净，行致远 - CSDN博客





2018年06月24日 15:32:05[吉大秦少游](https://me.csdn.net/zhanshen112)阅读数：531








在实际的编程中，数据的储存是常常遇到的，数组作为最简单实用的数据结构，常常被使用，而在c语言中数组是静态的，不允许静态的建立数组，而在实际应用中，如果固定数组的大小，在不知道输入数据的数量时，往往会造成数组定义过大，产生浪费；或是数组定义过小，不足够储存数据的问题。 
除此之外，结构体能储存大量的信息且方便使用，那么可以将二者结合起来，通过动态的为结构体分配内存，来达到一个不限定大小的结构体数组用于存放数据。 
实现方法如下：

```
#include <stdio.h>
#include <malloc.h>
#include <stdlib.h>
#define LEN sizeof(struct Matrix)
struct Matrix
{
    int serial;
    int row;
    int coloum;

};

main()
{
    int len, i;
    struct Matrix *pArr;
    printf("请输入数组的元素个数：\n");
    scanf_s("%d", &len);
    pArr = (struct Matrix *)malloc(len*LEN);//为结构体分配存储空间
    printf("为数组赋值：\n");
    for (i = 0; i<len; i++)
    {   

        pArr[i].serial = i + 1;
        printf("第%d个元素：", pArr[i].serial);
        scanf_s("%d %d", &pArr[i].row, &pArr[i].coloum);
    }
    printf("数组输出：\n");
    for (i = 0; i<len; i++)
    {
        printf("%4d%4d%4d\n", pArr[i].serial, pArr[i].row, pArr[i].coloum);
    }
    system("pause");
    return 0;
}
```
- 1
- 2
- 3
- 4
- 5
- 6
- 7
- 8
- 9
- 10
- 11
- 12
- 13
- 14
- 15
- 16
- 17
- 18
- 19
- 20
- 21
- 22
- 23
- 24
- 25
- 26
- 27
- 28
- 29
- 30
- 31
- 32
- 33
- 34
- 35

通过这个简单的办法，就能较为方便的处理我们需要存储的数据，这样的数组借助了链表的想法，但是在调用中应该会比链表方便一点。



