# ﻿﻿Java操作Cookie - 零度的博客专栏 - CSDN博客
2016年04月05日 17:40:19[零度anngle](https://me.csdn.net/zmx729618)阅读数：251标签：[java																[cookie](https://so.csdn.net/so/search/s.do?q=cookie&t=blog)](https://so.csdn.net/so/search/s.do?q=java&t=blog)
个人分类：[Java](https://blog.csdn.net/zmx729618/article/category/3108443)
java对cookie的操作比较简单，主要介绍下建立cookie和读取cookie，以及如何设定cookie的生命周期和cookie的路径问题。
建立一个无生命周期的cookie，即随着浏览器的关闭即消失的cookie，代码如下
[?](http://www.cnblogs.com/muzongyan/archive/2010/08/30/1812552.html#)
```
```java
HttpServletRequest request
```
```java
HttpServletResponse response
```
```java
Cookie cookie =
```
```java
new
```
```java
Cookie(
```
```java
"cookiename"
```
```java
,
```
```java
"cookievalue"
```
```java
);
```
```java
response.addCookie(cookie);
```
```
下面建立一个有生命周期的cookie,可以设置他的生命周期
[?](http://www.cnblogs.com/muzongyan/archive/2010/08/30/1812552.html#)
```
```java
cookie =
```
```java
new
```
```java
Cookie(
```
```java
"cookiename"
```
```java
,
```
```java
"cookievalue"
```
```java
);
```
```java
cookie.setMaxAge(
```
```java
3600
```
```java
);
```
```java
//设置路径，这个路径即该工程下都可以访问该cookie 如果不设置路径，那么只有设置该cookie路径及其子路径可以访问
```
```java
cookie.setPath(
```
```java
"/"
```
```java
);
```
```java
response.addCookie(cookie);
```
```
下面介绍如何读取cookie，读取cookie代码如下
[?](http://www.cnblogs.com/muzongyan/archive/2010/08/30/1812552.html#)
```
```java
Cookie[] cookies = request.getCookies();
```
```java
//这样便可以获取一个cookie数组
```
```java
for
```
```java
(Cookie cookie : cookies){
```
```java
```
```java
cookie.getName();
```
```java
// get the cookie name
```
```java
```
```java
cookie.getValue();
```
```java
// get the cookie value
```
```java
}
```
```
上面就是基本的读写cookie的操作。我们在实际中最好进行一下封装，比如增加一个cookie，我们关注的是cookie的name，value,生命周期，所以进行封装一个函数，当然还要传入一个response对象，addCookie()代码如下
[?](http://www.cnblogs.com/muzongyan/archive/2010/08/30/1812552.html#)
```
```java
/**
```
```java
```
```java
* 设置cookie
```
```java
```
```java
* @param response
```
```java
```
```java
* @param name  cookie名字
```
```java
```
```java
* @param value cookie值
```
```java
```
```java
* @param maxAge cookie生命周期  以秒为单位
```
```java
```
```java
*/
```
```java
public
```
```java
static
```
```java
void
```
```java
addCookie(HttpServletResponse response,String name,String value,
```
```java
int
```
```java
maxAge){
```
```java
```
```java
Cookie cookie =
```
```java
new
```
```java
Cookie(name,value);
```
```java
```
```java
cookie.setPath(
```
```java
"/"
```
```java
);
```
```java
```
```java
if
```
```java
(maxAge>
```
```java
0
```
```java
)  cookie.setMaxAge(maxAge);
```
```java
```
```java
response.addCookie(cookie);
```
```java
}
```
```
读取cookie的时候，为了方便我们的操作，我们希望封装一个函数，只要我们提供cookie的name，我们便可以获取cookie的value，带着这个想法，很容易想到将cookie封装到Map里面，于是进行下面的封装
[?](http://www.cnblogs.com/muzongyan/archive/2010/08/30/1812552.html#)
```
```java
/**
```
```java
```
```java
* 根据名字获取cookie
```
```java
```
```java
* @param request
```
```java
```
```java
* @param name cookie名字
```
```java
```
```java
* @return
```
```java
```
```java
*/
```
```java
public
```
```java
static
```
```java
Cookie getCookieByName(HttpServletRequest request,String name){
```
```java
```
```java
Map<String,Cookie> cookieMap = ReadCookieMap(request);
```
```java
```
```java
if
```
```java
(cookieMap.containsKey(name)){
```
```java
```
```java
Cookie cookie = (Cookie)cookieMap.get(name);
```
```java
```
```java
return
```
```java
cookie;
```
```java
```
```java
}
```
```java
else
```
```java
{
```
```java
```
```java
return
```
```java
null
```
```java
;
```
```java
```
```java
}
```
```java
}
```
```java
/**
```
```java
```
```java
* 将cookie封装到Map里面
```
```java
```
```java
* @param request
```
```java
```
```java
* @return
```
```java
```
```java
*/
```
```java
private
```
```java
static
```
```java
Map<String,Cookie> ReadCookieMap(HttpServletRequest request){
```
```java
```
```java
Map<String,Cookie> cookieMap =
```
```java
new
```
```java
HashMap<String,Cookie>();
```
```java
```
```java
Cookie[] cookies = request.getCookies();
```
```java
```
```java
if
```
```java
(
```
```java
null
```
```java
!=cookies){
```
```java
```
```java
for
```
```java
(Cookie cookie : cookies){
```
```java
```
```java
cookieMap.put(cookie.getName(), cookie);
```
```java
```
```java
}
```
```java
```
```java
}
```
```java
```
```java
return
```
```java
cookieMap;
```
```java
}
```
```
