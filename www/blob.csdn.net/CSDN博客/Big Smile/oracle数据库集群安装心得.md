# oracle数据库集群安装心得 - Big Smile - CSDN博客
2017年05月19日 20:18:17[王啸tr1912](https://me.csdn.net/tr1912)阅读数：3417
        说道Oracle数据库，大家肯定不是很陌生了，因为我们在学习drp分销系统的时候已经有所接触了，也正是因为这样看到了很多同志写的关于如何安装Oracle数据库的博客，也看到了oracle数据库在安装的时候是有多么不容易，然而，在我安装oracle数据库的时候因为是直接在虚拟机的xp中安装的，所以才没有那么多其他问题。这次有幸可以去实地在Linux系统下面搭建Oracle的集群，也我体验了一把oracle数据库在配置和安装上的困难。
        声明，本文只是大概描述一下oracle数据库的安装步骤和心得，想要学习安装oracle的RAC集群的同志可以绕道了。
        安装oracle集群，我们用了4天的时间，但是最后并没有安装成功，这里有一些坑大家在以后的接触了解中可以先知道一下。
# 一、开篇
         我们在安装oracle数据库的时候第一天其实想的很简单，就是现在两个机器上安装oracle数据库，然后再配置集群环境就OK 了，但是事实证明我们太天真了，由于缺少配置经验，所以我们只能逐步按照网上来，所以就一点一点的配置，先是安装了jdk，然后配置用户，配置启动限制，配置用户使用硬件资源限制，配置host文件，配置裸设备，配置核心参数，配置安装路径以及权限，然后关闭了一些服务，最后解决了一下包的问题，方才没有了什么问题。但是安装数据库的时候提示缺少了很多支持包，并且gcc的安装包还是要有顺序的，所以我们又捣鼓了很长时间的包方才使得自检的时候包的错误降到了2个，于是直接略过，进行下一步操作。
        安装完成数据库很是简单，但是下一步创建实例的时候就一直在报实例的错误和授权的错误，真的是没有办法了，第一天的安装就告一段落了。
# 二、发现
        第一天晚上回来的时候查了查资料，发现了安装RAC集群不能直接安装数据库，要先进行grid底层的配置，所以我们就又进行grid的研究安装，在安装的时候需要两个机子同时进行，并且我们也发现了一些和单机版不同的地方：
-       grid需要两个机子配置基本完全一致
-       需要配置grid用户，并且和oracle用户是一样的权限
-       配置存储空间的时候注意找全。
-       grid独立于oracle，而且自己会创建服务
        最后把有一些包补全了之后，安装进行不下去了，原因是由于两个机子并不能相互ping通，所以就此别过。
# 三、思考
        第三天了，机房解决了ping不通的问题，然后我们依旧在grid的安装中挣扎，由于还有一些没有注意到的配置，所以导致了安装的延误，比如：
-        节点两个机子的用户和用户组的ID都必须丝毫不差
-        两个节点用户密码必须相同
-        两个节点的安装路径必须设置的完全一致，而且用户配置文件.bash_profile必须写的一样。
-        两个节点包版本一致，并且检查的时候会报哪个节点什么没有配置好。
        然而在最后弄包的时候把系统的关键包删掉了，系统进入不了了，于是只好作罢。
# 四、顿悟
         第四天，找了两个重量级的大神来帮助我们解决问题，然后通过安装光盘把误删的包找了回来，然后系统可以进入了，但是到了grid安装的最后一步运行脚本的时候又出了问题，就是root.sh脚本总是运行到一半多就报错，接着就是无限的重复试，最后发现里面的存储设置的空间太大了，3TB是oracle数据库的一个BUG，他最多支持2T，所以我们联系了存储工程师，并且把大磁盘分区成了小磁盘。然后装grid的时候发现grid只能识别磁盘设备文件，而不能识别磁盘分区的文件，所以仍旧识别不了。
        但是，通过和存储工程师还有oracle工程师发现这几天也是知道了很多关于oracle集群的配置和硬件配置的基础，重点是真正见到了线上的很贵的服务器，真的是很好。
# 五、总结
        如果还有其他小伙伴想要试水oracle数据库RAC集群的话，在此先强调一下，安装oracle集群的步骤是先装底层Grid，然后安装oracle数据库，然后再创建实例这才是真正的顺序，否则集群是搭建不成功的，除此之外，两个机子的配置环境和设置参数都必须完全一样才可以搭建集群。所以这一点一定要注意。
