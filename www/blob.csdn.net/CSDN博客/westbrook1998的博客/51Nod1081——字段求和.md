# 51Nod1081——字段求和 - westbrook1998的博客 - CSDN博客





2018年08月04日 16:22:42[westbrook1998](https://me.csdn.net/westbrook1998)阅读数：38








> 
给出一个长度为N的数组，进行Q次查询，查询从第i个元素开始长度为l的子段所有元素之和。 

  例如，1 3 7 9 -1，查询第2个元素开始长度为3的子段和，1 {3 7 9} -1。3 + 7 + 9 = 19，输出19。 

  Input 

  第1行：一个数N，N为数组的长度(2 <= N <= 50000)。  

  第2 至 N + 1行：数组的N个元素。(-10^9 <= Ni <= 10^9)  

  第N + 2行：1个数Q，Q为查询的数量。  

  第N + 3 至 N + Q + 2行：每行2个数，i，l（1 <= i <= N，i + l <= N) 

  Output 

  共Q行，对应Q次查询的计算结果。 

  Sample Input 

  5 

  1 

  3 

  7 

  9 

  -1 

  4 

  1 2 

  2 2 

  3 2 

  1 5 

  Sample Output 

  4 

  10 

  16 

  19
代码：

```cpp
#include <cstdio>
#include <algorithm>
using namespace std;
const int MAXN=50050;
long long a[MAXN];
int main(void){
    int n;
    int t;
    a[0]=0;
    scanf("%d",&n);
    for(int i=1;i<=n;i++){
        scanf("%d",&t);
        a[i]=a[i-1]+t;
    }
    int q;
    scanf("%d",&q);
    int i,l;
    while(q--){
        scanf("%d%d",&i,&l);
        printf("%lld\n",a[i+l-1]-a[i-1]);
    }
}
```





