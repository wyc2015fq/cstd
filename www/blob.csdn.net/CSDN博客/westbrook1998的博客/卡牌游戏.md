# 卡牌游戏 - westbrook1998的博客 - CSDN博客





2018年10月02日 18:36:28[westbrook1998](https://me.csdn.net/westbrook1998)阅读数：104








> 
链接：[https://www.nowcoder.com/acm/contest/202/H](https://www.nowcoder.com/acm/contest/202/H)

来源：牛客网

题目描述

小贝喜欢玩卡牌游戏。某个游戏体系中共有N种卡牌，其中M种是稀有的。小贝每次和电脑对决获胜之后都会有一个抽卡机会，这时系统会随机从N种卡中选择一张给小贝。普通卡可能多次出现，而稀有卡牌不会被重复抽到。小贝希望收集到K种稀有卡牌，她想知道期望需要多少次获胜才能实现这个目标。

输入描述:

数据有多组，第一行一个整数T表示数据组数。

每组数据一行，三个整数N,M,K .

输出描述:

对于每组数据，输出形如"Case #x: y"，其中 x 为这组数据的编号（从1开始），y 为这组数据的答案。答案的绝对误差或相对误差在10-6以内都认为是正确的。

示例1

输入

复制

2

5 2 1

40 9 5

输出

复制

Case #1: 2.5

Case #2: 28.1146825397

备注:

1 ≤ T ≤ 100

1 ≤ N ≤ 105

1 ≤ M ≤ N

1 ≤ K ≤ M
完全自闭…最后还是靠队友签了个到

N种卡牌，有M种稀有的，普通的可重复抽，稀有的不可以 ，然后要取出K种稀有的卡片需要次数的期望…

一开始各种组合数学各种概率搞了半天都不行，挣扎了两个小时队友终于试出40/9+39/8+38/7+37/6+36/5 满足第二个样例，然后就过了

赛后想了一下差不多才明白，就是只考虑稀有的，要取k个，那么取出第一种稀有的就需要N/M次（期望），然后取第二种稀有就需要N-1/(M-1)，这样把所有K种加起来，就是答案了…

坑爹
代码：

```
#include <cstdio>
#include <algorithm>
using namespace std;
int main(void){
    int t;
    scanf("%d",&t);
    int c=1;
    int n,m,k;
    while(t--){
        scanf("%d%d%d",&n,&m,&k);
        double ans=0;
        for(int i=0;i<k;i++){
            ans+=n*1.0/m;
            n--;
            m--;
        }
        printf("Case #%d: %lf\n",c++,ans);
    }
    return 0;
}
```






