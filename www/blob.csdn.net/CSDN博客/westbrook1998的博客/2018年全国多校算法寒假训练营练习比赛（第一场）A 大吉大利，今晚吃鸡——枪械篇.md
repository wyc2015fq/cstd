# 2018年全国多校算法寒假训练营练习比赛（第一场）A	大吉大利，今晚吃鸡——枪械篇 - westbrook1998的博客 - CSDN博客





2018年05月03日 15:37:15[westbrook1998](https://me.csdn.net/westbrook1998)阅读数：56








> 
题目描述  

      在绝地求生（吃鸡）游戏里，不同的枪支有不同的威力，更是可以搭配不同的配件，以提升枪支的性能。 

      每一把枪都有其威力及其可装备配件种类。每一个配件有其所属种类，可以为枪支提供威力的百分比加成。每一把枪只能装备一个同类配件。给你n把枪支和m个配件，枪的威力为p，可装备的配件数量为k，为k个不同类型的配件，同种类配件只可以装备一个。配件种类用数字q表示，配件威力加成用一个小数b表示。请你挑选一把枪并为其搭配配件使其威力最大。 

      假设一把枪的威力是p，装配的k个配件的威力加成是bi，那么枪最后的威力w=p*（1+b1+b2+…+bk）。
> 
输入描述: 

  数据有多组，处理到文件结束。 

  第一行两个整数n和m，代表枪支数量和配件数量。 

  接下来n行，描述n把枪的属性：第一个整数为p，代表枪支的威力；第二个整数为k，代表该枪支可装备的配件数量；后面k个整数，代表可装备配件的种类。 

  接下来m行，描述m个配件的属性：第一个整数为q，代表配件的种类，第二个浮点数为b，代表配件可以为枪支提供的威力加成。
> 
输出描述: 

  每组数据输出为一行，输出一个浮点数，代表合理装备配件后的枪支最大威力。精确到小数点后4位。


> 
示例1 

  输入 

  3 6 

  120 3 1 2 3 

  100 4 1 2 3 4 

  110 3 2 3 4 

  1 0.12 

  2 0.23 

  2 0.26 

  4 0.57 

  3 0.35 

  5 0.41 

  输出 

  239.8000
> 
说明 

  对于上面的样例，正确答案应该是，使用第三把枪，配上第三、四、五个配件。 

  枪的最终威力就是110*（1+0.26+0.57+0.35）=239.8
> 
备注: 

  对于100%的数据， 

  1 <= n,m,k,q <= 1000; 

  0 <= p <= 1000; 

  0 <= b <= 1。
一道比较简单的模拟题，不过还是要注意细节以及不要复杂化，卡了好久o(╯□╰)o 

代码：

```
#include <cstdio>
#include <algorithm>
#include <vector>
#include <cstring>
#include <string>
using namespace std;
struct gun{
    int p;
    int k;
    int gq[1001];
};
gun guns[1001];
int main(void){
    int n,m;
    while(scanf("%d%d",&n,&m)!=EOF){
        double bq[1005];
        memset(bq,0,sizeof(bq));
        for(int i=0;i<1001;i++){
            guns[i].p=0;
            guns[i].k=0;
            memset(guns[i].gq,0,sizeof(guns[i].gq));
        }
        for(int i=1;i<=n;i++){
            int p,k;
            scanf("%d%d",&p,&k);
            guns[i].p=p;
            guns[i].k=k;
            for(int j=1;j<=guns[i].k;j++){
                scanf("%d",&guns[i].gq[j]);
            }
        }
        for(int i=1;i<=m;i++){
            int q;
            double b;
            scanf("%d%lf",&q,&b);
            if(b>bq[q]){
                bq[q]=b;
            }
        }
        double maxx=0,temp=0;
        for(int i=1;i<=n;i++){
            temp=guns[i].p;
            double x=1.0;
            for(int j=1;j<=guns[i].k;j++){
                int kk=guns[i].gq[j];
                x+=bq[kk];
            }
            temp*=x;
            if(temp>maxx){
                maxx=temp;
            }
        }
        printf("%.4lf\n",maxx);
    }
    return 0;
}
```

能用数组的问题还是用数组…不知道怎么就扯到map和vector了













