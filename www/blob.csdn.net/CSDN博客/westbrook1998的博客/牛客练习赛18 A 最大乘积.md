# 牛客练习赛18 A 最大乘积 - westbrook1998的博客 - CSDN博客





2018年05月18日 20:34:59[westbrook1998](https://me.csdn.net/westbrook1998)阅读数：55








> 
链接：[https://www.nowcoder.com/acm/contest/110/A](https://www.nowcoder.com/acm/contest/110/A)

  来源：牛客网 

  题目描述  

  这题要你回答T个询问，给你一个正整数S，若有若干个正整数的和为S，则这若干的数的乘积最大是多少?请输出答案除以2000000000000000003(共有17 个零) 的余数。 

  举例来说，当 S = 5 时，若干个数的和为 5 的情形有以下 7 种(不考虑数字的顺序的话)： 

  1. 1 + 1 + 1 + 1 + 1 

  2. 1 + 1 + 1 + 2 

  3. 1 + 1 + 3 

  4. 1 + 2 + 2 

  5. 1 + 4 

  6. 2 + 3 

  7. 5 

  他们的乘积依序为： 

  1. 1 * 1 * 1 * 1 * 1 = 1 

  2. 1 * 1 * 1 * 2 = 2 

  3. 1 * 1 * 3 = 3 

  4. 1 * 2 * 2 = 4 

  5. 1 * 4 = 4 

  6. 2 * 3 = 6 

  7. 5 = 5 

  其中乘积最大的是 2 * 3 = 6。 

  输入描述: 

  输入的第一行有一个正整数 T，代表该测试数据含有多少组询问。 

  接下来有 T 行，每个询问各占 1 行，包含 1 个正整数，代表该询问的 S 值。 

  输出描述: 

  对于每个询问，请输出答案除以 2000000000000000003(共有17个零) 的余数。 

  示例1 

  输入 

  10 

  1 

  2 

  3 

  4 

  5 

  6 

  7 

  8 

  9 

  100 

  输出 

  1 

  2 

  3 

  4 

  6 

  9 

  12 

  18 

  27 

  7412080755407364 

  备注: 

  1 ≤ T ≤ 100 

  1 ≤ S ≤ 2000
观察可知(其实是看了q群)，要乘积最大的方法就是尽量分解成3和2(不知道是不是什么数论)，刚开始用贪心的思路分解，先一直取3再一直取2，但是这样是错的(比如7)，想了一下，应该是根据n%3来判断

代码：

```cpp
#include <cstdio>
#include <algorithm>
using namespace std;
const long long MOD=2000000000000000003;
int main(void){
    int t;
    scanf("%d",&t);
    while(t--){
        int n;
        scanf("%d",&n);
        long long res=1;
        while(n>=3){
            if(n%3==2 || n%3==0){
                n-=3;
                res=res*3%MOD;
            }
            else{
                if(n/3==1){
                    break;
                }
                n-=3;
                res=res*3%MOD;
            }
        }
        while(n>=2){
            n-=2;
            res=res*2%MOD;
        }
        printf("%lld\n",res);
    }
}
```





