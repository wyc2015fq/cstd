# hdu2073——无限的路 - westbrook1998的博客 - CSDN博客





2018年07月23日 15:06:39[westbrook1998](https://me.csdn.net/westbrook1998)阅读数：31








> 
甜甜从小就喜欢画图画，最近他买了一支智能画笔，由于刚刚接触，所以甜甜只会用它来画直线，于是他就在平面直角坐标系中画出如下的图形：  
![这里写图片描述](https://odzkskevi.qnssl.com/b9adb1110ae8404ef5c5425e28c0b940?v=1531822037)

  甜甜的好朋友蜜蜜发现上面的图还是有点规则的，于是他问甜甜：在你画的图中，我给你两个点，请你算一算连接两点的折线长度（即沿折线走的路线长度）吧。 

  Input 

  第一个数是正整数N（≤100）。代表数据的组数。  

  每组数据由四个非负整数组成x1，y1，x2，y2；所有的数都不会大于100。  

  Output 

  对于每组数据，输出两点(x1,y1),(x2,y2)之间的折线距离。注意输出结果精确到小数点后3位。 

  Sample Input 

  5 

  0 0 0 1 

  0 0 1 0 

  2 3 3 1 

  99 99 9 9 

  5 5 5 5 

  Sample Output 

  1.000 

  2.414 

  10.646 

  54985.047 

  0.000
数据不大也没打表 用了记忆化搜索的方法

代码：

```cpp
#include <cstdio>
#include <algorithm>
#include <cmath>
using namespace std;
const int MAXN=205;
double a[MAXN][MAXN];
double fun(int i,int j){
    if(i==0 && j==0){
        return a[i][j]=0;
    }
    else if(a[i][j]){
        return a[i][j];
    }
    else if(i==0 && j!=0){
        if(j==1){
            return a[i][j]=1;
        }
        else{
            return a[i][j]=fun(j-1,0)+sqrt(j*j+(j-1)*(j-1));
        }
    }
    else{
        return a[i][j]=fun(0,i+j)+sqrt(i*i*2);
    }
}
int main(void){
    int t;
    scanf("%d",&t);
    int x1,y1,x2,y2;
    while(t--){
        scanf("%d%d%d%d",&x1,&y1,&x2,&y2);
        printf("%.3lf\n",abs(fun(x1,y1)-fun(x2,y2)));
    }
    return 0;
}
```





