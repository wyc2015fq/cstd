# hdu2086——A1=？ - westbrook1998的博客 - CSDN博客





2018年08月05日 22:48:57[westbrook1998](https://me.csdn.net/westbrook1998)阅读数：44








> 
有如下方程：A i = (A i-1 + A i+1)/2 - C i (i = 1, 2, 3, …. n).  

  若给出A 0, A n+1, 和 C 1, C 2, …..C n.  

  请编程计算A 1 = ? 

  Input 

  输入包括多个测试实例。  

  对于每个实例，首先是一个正整数n,(n <= 3000); 然后是2个数a 0, a n+1.接下来的n行每行有一个数c i(i = 1, ….n);输入以文件结束符结束。  

  Output 

  对于每个测试实例，用一行输出所求得的a1(保留2位小数). 

  Sample Input 

  1 

  50.00 

  25.00 

  10.00 

  2 

  50.00 

  25.00 

  10.00 

  20.00 

  Sample Output 

  27.50 

  15.00
推公式的  

n代入1 2 3就能推出公式 
`A1=(n*A0+A(n+1)-(2n*C1+2(n-1)*C2+...+2*Cn))/(n+1)`
代码：

```cpp
#include <cstdio>
#include <algorithm>
using namespace std;
const int MAXN=3010;
double c[MAXN];
int n;
double a0,an1;
int main(void){
    while(~scanf("%d",&n)){
        scanf("%lf",&a0);
        scanf("%lf",&an1);
        for(int i=1;i<=n;i++){
            scanf("%lf",&c[i]);
        }
        double ans=n*a0+an1;
        for(int i=0;i<n;i++){
            ans-=2*(n-i)*c[i+1];
        }
        printf("%.2lf\n",ans/(n+1));
    }
    return 0;
}
```






