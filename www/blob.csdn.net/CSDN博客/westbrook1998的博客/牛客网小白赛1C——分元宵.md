# 牛客网小白赛1C——分元宵 - westbrook1998的博客 - CSDN博客





2018年06月26日 20:43:11[westbrook1998](https://me.csdn.net/westbrook1998)阅读数：50标签：[快速幂](https://so.csdn.net/so/search/s.do?q=快速幂&t=blog)
个人分类：[ACM练习题																[ACM练习赛](https://blog.csdn.net/westbrook1998/article/category/7635377)](https://blog.csdn.net/westbrook1998/article/category/7652684)








> 
链接：[https://www.nowcoder.com/acm/contest/85/C](https://www.nowcoder.com/acm/contest/85/C)

  来源：牛客网 

  题目描述 

  毕竟是元宵节，晚上还是要吃几个元宵。 Etéreo 家可是个大家庭，元宵的数量，甚至是餐具的数量，都多的惊人。现在，爱数学的 Etéreo 又来问你有趣的数学题了，快来秒掉它！   Etéreo 家里有  种元宵馅，  种元宵皮，每个元宵可以选择任意一种元宵馅和任意一种元宵皮。同时有  张桌子，每张桌子上放了  只碗，每只碗能放一只元宵。每只碗都要装一只元宵。Etéreo 会告诉你  的值，想请问你有多少种装元宵的方式。答案对  取模。  

  两种方式被认为是不同的当且仅当至少有一只碗存在于两种方式的同一个位置但是里面有至少一个元宵不同。  

  两个元宵被认为是不同的当且仅当元宵馅不同或者元宵皮不同。  

  碗和桌子都是有编号的，但是你不能改变碗或桌子的编号。  

  你可以认为碗和桌子都是固定的，你只能改变元宵的种类和位置。 

  输入描述: 

  输入共一行，五个整数  ，意义同题目描述。 

  输出描述: 

  每行一个整数，表示答案。 

  示例1 

  输入 

  1 2 1 3 998244353 

  输出 

  8 

  备注:
首先输入a b c d m 所以元宵种类就有a*b种 不同碗的个数就有c*d个 因此 答案就是(a*b)^(c*d)%m 

快速幂取模 

有一个不知道为何的坑  

如果是写`c*=d` 然后快速幂的参数传`c` 就能过 如果快速幂的参数直接传`c*d` 就错了 卡98%  ？？？ 黑人问号脸
代码：

```cpp
#include <cstdio>
#include <algorithm>
using namespace std;
long long pow_mod(long long a,long long b,long long m){
    long long res=1;
    while(b>0){
        if(b&1){
            res=(res*a)%m;
        }
        b/=2;
        a=(a*a)%m;
    }        
    return res;
}
int main(void){
    long long a,b,c,d,m;
    scanf("%lld%lld%lld%lld%lld",&a,&b,&c,&d,&m);
    a%=m;
    b%=m;
    c*=d;
    a=a*b%m;
    if(!c && !d){
        printf("0\n");
    }
    else{
        printf("%lld\n",pow_mod(a,c,m));
    }
    return 0;
}
```







