# hdu1003——最大连续子序列和 - westbrook1998的博客 - CSDN博客





2018年02月19日 19:12:38[westbrook1998](https://me.csdn.net/westbrook1998)阅读数：63








## 题目：

> 
Problem Description   Given a sequence a[1],a[2],a[3]……a[n], your job is to calculate the max sum of a sub-sequence. For example, given (6,-1,5,4,-7), the max sum in this sequence is 6 + (-1) + 5 + 4 = 14. 

Input 

  The first line of the input contains an integer T(1<=T<=20) 

  which means the number of test cases. Then T lines follow, each line starts with a number N(1<=N<=100000), then N integers followed(all the integers are between -1000 and 1000).  
Output 

  For each test case, you should output two lines. The first line is “Case #:”, # means the number of the test case. The second line contains three integers, the Max Sum in the sequence, the start position of the sub-sequence, the end position of the sub-sequence. If there are more than one result, output the first one. Output a blank line between two cases.  

Sample Input 

  2 

  5 6 -1 5 4 -7 

  7 0 6 -1 1 -6 7 -5   
Sample Output  

  Case 1:   14 1 4  

Case 2:   7 1 6    

Author 

  Ignatius.L

## 题解：

```cpp
#include <stdio.h>
#include <malloc.h>
int main(void)
{
    int num;
    int n,i,c=1;
    int s,l,r,max;  //定义临时起点，起点，终点，最大值
    scanf("%d",&num);
    while(num--)
    {
        s=0;
        l=0;
        r=0;
        scanf("%d",&n);
        int *dp=(int*)malloc(n*sizeof(int));
        for(i=0;i<n;i++)
        {
            scanf("%d",dp+i);
        }
        max=dp[0];
        //状态转移方程
        //dp[i] = MAX(dp[i - 1] + dp[i], dp[i]);
        for(i=1;i<n;i++)
        {
            if(dp[i-1]>=0)
                dp[i]=dp[i-1]+dp[i];
            else     //如果前面子序列和小于零，则舍弃，重新给起点赋值
                s=i;
            if(dp[i]>max)
            {
                max=dp[i];
                l=s;
                r=i;
            }
        }
        if(c!=1)
            printf("\n");
        printf("Case %d:\n",c++);
        printf("%d %d %d\n",max,l+1,r+1);
    }
    return 0;
}
```

wa了10次的一道题o(╯□╰)o






