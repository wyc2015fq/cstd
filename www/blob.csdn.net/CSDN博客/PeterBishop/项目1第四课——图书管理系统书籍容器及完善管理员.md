# 项目1第四课——图书管理系统书籍容器及完善管理员 - PeterBishop - CSDN博客





2018年10月17日 18:24:30[PeterBishop0](https://me.csdn.net/qq_40061421)阅读数：17
个人分类：[Java学习](https://blog.csdn.net/qq_40061421/article/category/8087498)









这节课来搞一个书籍容器和完善管理员



BookContainer:


package com.bookmanagement;



import java.util.Collection;

import java.util.HashMap;

import java.util.Map;



//书籍信息容器

public class BookContainer {

    //说明一下，books的键是书的id

    private Map<String, Book> books= new HashMap<>();

    private static BookContainer *instance *= new BookContainer();



    private BookContainer(){}



    //显然书籍信息容器应该是一个单例,且应该在程序启动时就初始化好

    public static BookContainer getInstance()

    {

        return *instance*;

    }



    public void addBook(Book book)

    {

        books.put(book.getId(),book);

    }



    public void deleteBook(String bookId)

    {

        books.remove(bookId);

    }



    public void updateBook(Book book) throws Exception {

        if (!books.containsKey(book.getId()))

            throw new Exception("不存在这本书");

        //这个是抛出异常(exception)，表明这不是我们想要的结果，如果这个异常不被捕获(catch)的话程序会立刻停止执行

        else

            addBook(book);  //map在put相同的key时后来的值会覆盖前面的值

    }



    public Book findById(String bookId)

    {

        return books.get(bookId);

    }



    public Collection<Book> findAll()

    {

        return books.values();

    }

}




Admin:


package com.bookmanagement;



import java.util.Collection;



public class Admin {

    private String username = "admin";

    private String password = "123456";

    private static Admin *admin*;

    private BookContainer container = BookContainer.*getInstance*();



    //让其他人无法访问构造器

    private Admin() {

    }



    */**     * **管理员拥有的权限:     * 1. 录入书籍信息     * 2. 删除书籍信息     * 3. 修改书籍信息     * 4. 查询书籍信息     * **@return     ***/    *public void insertBook(Book book)

    {

        container.addBook(book);

    }



    public void delete(String bookId)

    {

        container.deleteBook(bookId);

    }



    public void uodateBookInfo(Book book)

    {

        try{

            container.updateBook(book);

        }catch (Exception e) {

            //这里就是捕获异常，异常的捕获必须通过 try-catch来进行，具体细节以后讲

            System.*out*.println(e.getMessage());

        }

    }



    public Collection<Book> findAllBooks()

    {

        return container.findAll();

    }



    public Book findBookById(String bookId)

    {

        return container.findById(bookId);

    }









    //保证整个项目只能有一个管理员

    //这种写法叫单例模式，以后会讲

    public static Admin getInstance()

    {

        if (*admin *== null)

            *admin *= new Admin();

        return *admin*;

    }



    public String getUsername() {

        return username;

    }



    public void setUsername(String username) {

        this.username = username;

    }



    public String getPassword() {

        return password;

    }



    public void setPassword(String password) {

        this.password = password;

    }

}




