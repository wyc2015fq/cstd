# 1051LIS木棍问题 - PeterBishop - CSDN博客





2018年03月13日 17:26:02[PeterBishop0](https://me.csdn.net/qq_40061421)阅读数：21








```cpp
#include<iostream>
#include<algorithm>
using namespace std;
struct wood {
	int len;
	int wei;
	bool v ;//用来标记防止重复访问
}w[5001];


bool cmp(wood a, wood b)
{
	if (a.len == b.len)
		return a.wei > b.wei;//len是第一标准
	else
		return a.len > b.len;
}
int main()
{
	int T, N,sum;
	while (cin >> T)
	{
		while (T--)
		{
			cin >> N;
			for (int i = 0; i < N; i++)
				cin >> w[i].len >> w[i].wei;
			sort(w, w + N, cmp);
			sum = 0;
			for (int i = 0; i < N; i++)
				w[i].v = false;
			for (int i = 0; i < N; i++)//求一个最长非递增序列
			{
				if (w[i].v)//判断过了就跳过sum++
					continue;
				int t1 = w[i].len;
				int t2 = w[i].wei;
				w[i].v = true;
				for (int j = i + 1; j < N; j++)
				{
					if (!w[j].v&&t1 >= w[j].len&&t2 >= w[j].wei)
					{
						w[j].v = true;
						t1 = w[j].len;
						t2 = w[j].wei;
					}
				}
				sum++;
			}//这里选择从大到小排序，可以看成一个俄罗斯套娃娃的问题


			cout << sum << endl;
		}
	}
    return 0;
}
```





