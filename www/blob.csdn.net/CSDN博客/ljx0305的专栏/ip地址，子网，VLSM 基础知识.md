# ip地址，子网，VLSM 基础知识 - ljx0305的专栏 - CSDN博客
2010年04月02日 09:15:00[ljx0305](https://me.csdn.net/ljx0305)阅读数：1088
## 初学者必看：ip地址，子网，VLSM
在理解子网掩码的概念之前我们先来理解一下IP地址这个概念：
1，什么是IP地址
2，IP地址的分类
3，IP地址的寻址原则
**1，什么是IP地址**
    我们知道互联网是全世界范围内的计算机联为一体而构成的通信网络的总称。联在某个网络上的两台计算机之间在相互通信时，在它们所 传送的数据包里都会含有某些附加信息，这些附加信息就是发送数据的计算机的地址（源IP）和接受数据的计算机的地址（目的IP）。
      人们为了通信的方便给每一台计算机都事先分配一个类似我们日常生活中的电话号码一样的标识地址，该标识地址就是我们今天所说的I P地址。根据TCP/IP协议规定，IP地址是由32位二进制数组成，而且在INTERNET范围内是唯一的。例如，某台联在因 特网上的计算机的IP地址为： 
　　11010010 01001001 10001100 00000010 
　　很明显，这些数字对于人来说不太好记忆。人们为了方便记忆，就将组成计算机的IP地址的32位二进制分成四段，每段8位，中 间用小数点隔开，然后将每八位二进制转换成十进制数，这样上述计算机的IP地址就变成了：210.73.140.2。 
**2，IP地址的分类**
      我们说过因特网是把全世界的无数个网络连接起来的一 个庞大的网间网，每个网络中的计算机通过其自身的IP地址而被唯一标识的，据 此我们也可以设想，在INTERNET上这个庞大的网间网中，每个网络也有自己的标识符。这与我们日常生活中的电话号码很相像， 例如有一个电话号码为0515163，这个号码中的前四位表示该电话是属于哪个地区的，后面的数字表示该地区的某个电话号码。与 上面的例子类似，我们把计算机的IP地址也分成两部分，分别为网络标识和主机标识。同一个物理网络上的所有主机都用同一个网络标 识，网络上的一个主机（包括网络上工作站、服务器和路由器等）都有一个主机标识与其对应。
      IP地址的4个字节划分为2个部分，一 部分用以标明具体的网络段，即网络标识；另一部分用以标明具体的节点，即主机标识，也就是说某个网络中的特定的计算机号码。例如 ，盐城市信息网络中心的服务器的IP地址为210.73.140.2，对于该IP地址，我们可以把它分成网络标识和主机标识两部 分，这样上述的IP地址就可以写成： 
　　网络标识：210.73.140.0 
　　主机标识： 2 
　　合起来写：210.73.140.2 
　　由于网络中包含的计算机有可能不一样多，有的网络可能含有较多的计算机，也有的网络包含较少的计算机，于是人们按照网络规模 的大小，把32位地址信息设成三种定位的划分方式，这三种划分方法分别对应于A类、B类、C类IP地址。 
　　1．A类IP地址 
　　一个A类IP地址是指，在IP地址的四段号码中，第一段号码为网络号码，剩下的三段号码为本地计算机的号码。如果用二进制表 示IP地址的话，A类IP地址就由1字节的网络地址和3字节主机地址组成，网络地址的最高位必须是“0”。A类IP地址中网络的 标识长度为7位，主机标识的长度为24位，A类网络地址数量较少，可以用于主机数达1600多万台的大型网络。 
　　2．B类IP地址 
　　一个B类IP地址是指，在IP地址的四段号码中，前两段号码为网络号码，B类IP地址就由2字节的网络地址和2字节主机地址 组成，网络地址的最高位必须是“10”。B类IP地址中网络的标识长度为14位，主机标识的长度为16位，B类网络地址适用于中 等规模规模的网络，每个网络所能容纳的计算机数为6万多台。 
　　3．C类IP地址 
　　一个C类IP地址是指，在IP地址的四段号码中，前三段号码为网络号码，剩下的一段号码为本地计算机的号码。如果用二进制表 示IP地址的话，C类IP地址就由3字节的网络地址和1字节主机地址组成，网络地址的最高位必须是“110”。C类IP地址中网 络的标识长度为21位，主机标识的长度为8位，C类网络地址数量较多，适用于小规模的局域网络，每个网络最多只能包含254台计 算机。 
　　除了上面三种类型的IP地址外，还有几种特殊类型的IP地址，TCP/IP协议规定，凡IP地址中的第一个字节以“1111 0”开始的地址都叫多点广播地址。因此，任何第一个字节大于223小于240的IP地址是多点广播地址；IP地址中的每一个字节 都为0的地址（“0.0.0.0”）对应于当前主机；IP地址中的每一个字节都为1的IP地址（“255．255．255．25 5”）是当前子网的广播地址；IP地址中凡是以“11110”的地址都留着将来作为特殊用途使用；IP地址中不能以十进制“12 7”作为开头，127．1．1．1用于回路测试，同时网络ID的第一个8位组也不能全置为“0”，全“0”表示本地网络。 
3，**IP地址的寻址规则**
**1.网络寻址规则**
　　A、 网络地址必须唯一。 
　　B、 网络标识不能以数字127开头。在A类地址中，数字127保留给内部回送函数。 
　　C、 网络标识的第一个字节不能为255。数字255作为广播地址。 
　　D、 网络标识的第一个字节不能为“0”，“0”表示该地址是本地主机，不能传送。 
**2.主机寻址规则**
　　A、主机标识在同一网络内必须是唯一的。 
　　B、主机标识的各个位不能都为“1”，如果所有位都为“1”，则该机地址是广播地址，而非主机的地址。 
　　C、主机标识的各个位不能都为“0”，如果各个位都为“0”，则表示“只有这个网络”，而这个网络上没有任何主机。 
**1.子网掩码的概念**
　　子网掩码是一个32位地址，用于屏蔽IP地址的一部分以区别网络标识和主机标识，并说明该IP地址是在局域网上，还是在远程 网上。 
**2.确定子网掩码数**
　　用于子网掩码的位数决定于可能的子网数目和每个子网的主机数目。在定义子网掩码前，必须弄清楚本来使用的子网数和主机数目。 
　　定义子网掩码的步骤为： 
　　A、确定哪些组地址归我们使用。比如我们申请到的网络号为 “210.73.a.b”，该网络地址为c类IP地址，网络标识为“210.73”，主机标识为“a.b”。 
　　B、根据我们现在所需的子网数以及将来可能扩充到的子网数，用宿主机的一些位来定义子网掩码。比如我们现在需要12个子网， 将来可能需要16个。用第三个字节的前四位确定子网掩码。前四位都置为“1”，即第三个字节为“11110000”，这个数我们 暂且称作新的二进制子网掩码。 
　　C、把对应初始网络的各个位都置为“1”，即前两个字节都置为“1”，第四个字节都置为“0”，则子网掩码的间断二进制形式 为：“11111111.11111111.11110000.00000000” 
　　D、把这个数转化为间断十进制形式为：“255.255.240.0” 
　　这个数为该网络的子网掩码。 
**3.IP掩码的标注**
　　A、无子网的标注法 
　　对无子网的IP地址，可写成主机号为0的掩码。如IP地址210.73.140.5，掩码为255.255.255.0，也 可以缺省掩码，只写IP地址。 
　　B、有子网的标注法 
　　有子网时，一定要二者配对出现。以C类地址为例。 
　　1.IP地址中的前3个字节表示网络号，后一个字节既表明子网号，又说明主机号，还说明两个IP地址是否属于一个网段。如果 属于同一网络区间，这两个地址间的信息交换就不通过路由器。如果不属同一网络区间，也就是子网号不同，两个地址的信息交换就要通 过路由器进行。例如：对于IP地址为210.73.140.5的主机来说，其主机标识为00000101，对于IP地址为210 .73.140.16的主机来说它的主机标识为00010000，以上两个主机标识的前面三位全是000，说明这两个IP地址在 同一个网络区域中，这两台主机在交换信息时不需要通过路由器进行10.73.60.1的主机标识为00000001，210.7 3.60.252的主机标识为11111100，这两个主机标识的前面三位000与011不同，说明二者在不同的网络区域，要交 换信息需要通过路由器。其子网上主机号各为1和252。 
　　2.掩码的功用是说明有子网和有几个子网，但子网数只能表示为一个范围，不能确切讲具体几个子网，掩码不说明具体子网号，有 子网的掩码格式(对C类地址)。 
子网的划分，实际上就是设计于网掩码的过程。子网掩码主要是用来区分IP地址中的网络ID和主机ID，它用来屏蔽IP地址的一部 分，从IP地址中分离出网络ID和主机ID.子网掩码是由4个十进制数组成的数值"中间用"。"分隔，如255.255.255 .0。若将它写成二进制的形式为:11111111.11111111.11111111.00000000，其中为"1"的位 分离出网络ID,为"0"的位分离出主机ID，也就是通过将IP地址与子网掩码进行"与"逻辑操作，得出网络号。 
　　例如，假设IP地址为192.160.4.1，子网掩码为255.255.255.0，则网络ID为192.160.4.0 ,主机ID为0.0.0.1。计算机网络ID的不同，则说明他们不在同一个物理子网内，需通过路由器转发才能进行数据交换。 
　　每类地址具有默认的子网掩码:对于A类为255.0.0.0，对于B类为255.255.0.0，对于C类为255.255 .255.0。除了使用上述的表示方法之外，还有使用于网掩码中"1"的位数来表示的，在默认情况下，A类地址为8位，B类地址 为16位，C类地址为24位。例如，A类的某个地址为 12.10.10.3/8，这里的最后一个"8"说明该地址的子网掩码为8位，而199.42.26.0/28表示网络199. 42.26。0的子网掩码位数有28位。
　　如果希望在一个网络中建立子网，就要在这个默认的于网掩码中加入一些位，它减少了用于主机地址的位数。加入到掩码中的位数决 定了可以配置的于网。因而，在一个划分了子网的网络中，每个地址包含一个网络地址、一个子网位数和一个主机地址，如图1所示。 
　　在图1中，子网位来自主机地址的最高相邻位，并从一个8位的位组边界开始，因为默认的子网掩码总是在8位位组的边界处结束。 随着主机位中加入于网位的增加，我们可以从左到右计数，并用和它们位置相关的值。将它们转换为十进制。 
　　图1：![](http://www.one-tom.com/bbs/uploads/mj2154/2006-08-26_143423_subnet1.jpg)
从每个主机位加入的子网位中,得到子网的对应十进制数,总结在表1中
　　表1：
![](http://www.one-tom.com/bbs/uploads/mj2154/2006-08-26_143551_subnet2.jpg)
下面举例说明，使用没有子网的子网掩码和使用于网的子网掩码的区别。若有二个B类IP地址172.16.2.160，其默认的子 网掩码是255.255.0.0，则完成下面任务
　　若不使用子网，即只使用默认的子网掩码，其运算过程如图2所示。
　　若使用8位子网位，则其运算过程如图3所示。
　　注意:在图3中，使用了8位子网位，其子网掩码值从默认的255.255.0.0转变为255.255.255.0，从而使 逻辑"与"之后的网络号发生了变化。　
　　图2：
![](http://www.one-tom.com/bbs/uploads/mj2154/2006-08-26_145137_subnet3.jpg)
图3：
![](http://www.one-tom.com/bbs/uploads/mj2154/2006-08-26_145222_subnet4.jpg)
引用 ：[http://demand-juniper.net/bbs/showtopic.aspx?forumid=39&topicid=12226&forumpage=1&go=prev](http://demand-juniper.net/bbs/showtopic.aspx?forumid=39&topicid=12226&forumpage=1&go=prev)
