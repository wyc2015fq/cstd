# 语言编程需要注意的64位和32机器的区别  - ljx0305的专栏 - CSDN博客
2011年02月22日 15:11:00[ljx0305](https://me.csdn.net/ljx0305)阅读数：1186
## [语言编程需要注意的64位和32机器的区别](http://www.cppblog.com/fwxjj/archive/2010/05/27/116526.html)
一、数据类型特别是int相关的类型在不同位数机器的平台下长度不同。C99标准并不规定具体数据类型的长度大小，只规定级别。作下比较：
16位平台
char         1个字节8位
short        2个字节16位
int            2个字节16位
long         4个字节32位
指针         2个字节
32位平台
char         1个字节8位
short        2个字节16位
int            4个字节32位
long         4个字节
long long 8个字节
指针         4个字节
64位平台
char         1个字节
short        2个字节
int            4个字节
long         8个字节（区别）
long long 8个字节
指针        8个字节（区别）
二、编程注意事项
为了保证平台的通用性，程序中尽量不要使用long数据库型。可以使用固定大小的数据类型宏定义：
typedef signed char       int8_t
typedef short int             int16_t;
typedef int                      int32_t;
# if __WORDSIZE == 64
typedef long int              int64_t;
# else
__extension__
typedef long long int      int64_t;
#endif
三、使用int时也可以使用intptr_t来保证平台的通用性，它在不同的平台上编译时长度不同，但都是标准的平台长度，比如64位机器它的长度就是8字节，32位机器它的长度是4字节，定义如下：
#if __WORDSIZE == 64
typedef long int                intptr_t;
#else
typedef int                        intptr_t;
#endif
编程中要尽量使用sizeof来计算数据类型的大小
以上类型定义都有相应的无符号类型。
另外还有ssize_t和size_t分别是sign size_t和unsigned signed size of computer word size。它们也是表示计算机的字长，在32位机器上是int型，在64位机器上long型，从某种意义上来说它们等同于intptr_t和uintptr_t。它们在stddef.h里面定义。需要注意的是socket的accept函数在有些操作系统上使用size_t是不正确的，因为accept接收的int*类型，而size_t可能是long int 类型。后来BSD使用sock_t来替代它。
来自于:http://www.cppblog.com/fwxjj/archive/2010/05/27/116526.html
