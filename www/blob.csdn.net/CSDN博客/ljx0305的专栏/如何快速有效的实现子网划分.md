# 如何快速有效的实现子网划分 - ljx0305的专栏 - CSDN博客
2009年08月19日 17:40:00[ljx0305](https://me.csdn.net/ljx0305)阅读数：1910标签：[网络																[通讯																[思科																[c																[工作](https://so.csdn.net/so/search/s.do?q=工作&t=blog)](https://so.csdn.net/so/search/s.do?q=c&t=blog)](https://so.csdn.net/so/search/s.do?q=思科&t=blog)](https://so.csdn.net/so/search/s.do?q=通讯&t=blog)](https://so.csdn.net/so/search/s.do?q=网络&t=blog)
个人分类：[linux下软件安装																[Linux程序及使用](https://blog.csdn.net/ljx0305/article/category/394700)](https://blog.csdn.net/ljx0305/article/category/440323)
**申明：本文为“老毛”原创，如需转载，请与作者联系。否则将视为侵权行为，作者将追究其法律责任。**
一，什么是IP地址
每个人都有自己的家庭住址，如果你居无定所，你的朋友要找你的时候肯定不方便。在网络中，真正能标识某台主机身份的实际上是MAC地址（又叫物理地址，它是固化在网卡上的，理论上是永远不会重复的），但MAC地址是以类似00-1E-4C-5E-19-8C的方式出现以及书写的，很显然不便于人们的记忆。所以，通常情况下，我们用类似于xx.xx.xx.xx的方式（例如：192.168.1.1）来标识一台主机，计算机会利用一种叫ARP的协议自动将IP地址解析为相对应的MAC地址。这样，主机与主机之间的通讯就可以通过IP地址实现了。
一般情况下，IP地址分为五大类，其中A,B,C是咱们经常用到的（其实D类也常用到，只不过对于普通用户而言它是“透明”的，主要用于“组播”；E类主要用于科研）。
A类地址范围：1----126私有地址：10默认掩码：8位（255.0.0.0）
B类地址范围：128----191私有地址：172.16.0.1--172.31.255.255默认掩码：16位（255.255.0.0）
C类地址范围：192----223私有地址：192.168默认掩码：24位（255.255.255.0）
有人会问，怎么没有127？对，127代表本地回环，也就是说所有127开头的地址都代表本机。
咱们看看下面的几个例子：
12.24.35.1这是一个A类地址（以12开头），所以默认的掩码应该是8位，也就是255.0.0.0（掩码有什么用咱们等会再讲），可以简写为12.24.35.1/8.
128.3.0.1这是一个B类地址（以128开头），默认掩码为16位，也就是255.255.0.0 简写成128.3.0.1/16。
172.16.34.56这是一个B类的私有地址（以172.16开头），默认掩码16位（255.255.0.0）简写位172.16.34.56/16.
默认情况下，A,B,C三类的子网掩码分别为8位，16位，24位。那么子网掩码是干什么用的呢。简单点说，掩码就是用来表示使用某一IP地址的主机隶属于哪一个网络。隶属于不同的网络的主机是无法相互通讯的（当然也有特殊情况，举个简单的例子1.0.0.1/8和1.1.0.1/16就可以ping通）。咱们还是来看上面的三个例子，12.24.35.1/8说明使用这个ip地址的主机隶属于12.0.0.0这个网络；128.3.0.1/16的主机隶属于网络128.3.0.0；172.16.34.56/16的主机隶属于网络172.16.0.0。怎么得来的？用ip地址和子网掩码做“与”运算。（当然，要先化为二进制）看第一个例子，12.24.35.1化为二进制为00001100.00011000.00100011.00000001，掩码也化为二进制11111111.11111111.00000000.00000000，然后做“与”运算。
00001100.00011000.00100011.00000001
11111111.11111111.00000000.00000000
= 00001100.00011000.00000000.00000000 
化为十进制就是12.24.0.0
怎么判断两台主机是否在同一网络（网段）？呵呵，太简单了，12.24.1.1/16和12.24.2.1/16的主机就在同一网段，因为她们都属于12.24.0.0的网络。12.24.1.1/16和12.25.1.1/16就属于不同的网段(当然，如果都是/8的就是同一网段的了，所以要结合子网掩码来判断)
二，什么是子网划分
讲完了什么是IP地址再来讲什么是子网划分。子网划分通俗的说，就是把大的网络划为小的网络。为什么要划分呢？原因有很多，可能是为了节约IP地址（其实不一定节约，有时候还更浪费），可能是为了控制广播（哈哈，和划分VLAN异曲同工），也可能是为了便于管理。
咱们前面说过，默认情况下，A,B,C类IP地址的子网掩码分别为8位，16位和24位，如果要做子网划分，就需要在子网掩码上做手脚，也就是咱们通常说的借位，这时子网掩码就会发生变化，就不再是默认的8，16，24位了。前面第一部分的最后一个例子12.25.1.1/16就是借了位的，默认应该是A类地址（8位），借位后变成了16位。
三，如何快速实现子网划分
子网划分，对于很多初学者来说是一件很头痛的问题。其实如果掌握了正确的方法，很多时候一看题目答案就在脑海里出来了，就是这么神奇，就是这么简单。不信？好，咱们一起来学习我用的方法。
**1，要记住的十进制与二进制转换的关系**
20=1
21=2
22=4
23=8
24=16
25=32
26=64
27=128
28=256
29=512
210=1024
其实只需要记3个就可以了，分别是25=32，28=256，210=1024，其他的当时算也来得急，当然能都记住最好。
**2，掩码网络位数与十进制的转换关系**
十进制表示法二进制掩码网络位数
1282710000000     1
19227+26110000002
2247+26+25111000003
24027+26+25+24111100004
24827+26+25+24+2311111000  5
25227+26+25+24+23+22  111111006 
25427+26+25+24+23+22+21111111107
25527+26+25+24+23+22+21+2011111111 8
*具体怎么用后面会有例子
3，要记住的公式
**2n-2 ****≥****m**
为什么要减二，因为全零和全一的不能用。全零表网段，全一是广播地址。后面会有例子
4，掩码的组成结构
**网络位＋主机位**
比如192.168.1.1/24，它的子网掩码是255.255.255.0，根据前面讲到的方法咱们知道它属于网络192.168.1.0/24,那么它的地址范围是192.168.1.1---192.168.1.254（0和255不能用，一个表网段，一个是全一的广播），它的前3个255表示网络（网络位），后面的0表示可用的主机地址范围（主机位）。如果是192.168.1.1/16，那子网掩码就是255.255.0.0，地址范围是192.168.0.1---192.168.255.254，前2个255是网络位，后2个0是主机位。
具体实例：
一，192.168.1.0/24 划为18个子网.应该如何去划分?每个子网可以有多少台主机?
子网掩码是多少?广播地址是多少?可用主机IP地址范围是多少?
1，套公式2n-2≥18求得n=5 （如果你已经对二进制与十进制的转换非常熟悉，其实一看就知道n=5）
2，看结构
网络位＋主机位
53 
这题问的是如何划分为18个子网，所以算出来的n值应该在网络位，主机位的3是由8-5得到的
到这个地方就可以直接写出答案了，为了节约篇幅，就只写两个
每个子网主机数： 23-2=6可划分的网络数：25-2=30 (其实有32个网络可用，具体请看题二)
第一个子网范围：192.168.1.1---192.168.1.6
广播：192.168.1.7
        掩码：255.255.255.248 （还记得掩码网络位数与十进制的转换关系吧，如果不会也可以用256-23来计算）
表示法：192.168.1.0/29
第二个子网范围：192.168.1.9---192.168.1.14
广播：192.168.1.15
掩码：255.255.255.248 （还记得掩码网络位数与十进制的转换关系吧，如果不会也可以用256-23来计算）
表示法：192.168.1.8/29
下略。。。。。。
二，192.168.3.0/24 每65台主机划为一个子网,如何划分? 子网掩码是多少?广播地址是多少?可用主机IP地址范围是多少?
2n-2≥65 n=7
网络位＋主机位
17
因为问的是65台主机一个网，所以n是主机位
每个子网主机数：27-2=126可划分的网络数：21-2=0（这里要注意，按照思科的标准，全0的和全1的ip不能分配给主机作为地址使用，同样全0和全1的网络也是不能使用的。但在实际工作中，其实是可以使用的，否则这题就没网络可用。）
第一个子网范围：192.168.3.1---192.168.3.126
广播：192.168.3.127
掩码：255.255.255.128
表示法：192.168.3.0/25
第二个子网范围：192.168.3.129---192.168.3.254
广播：192.168.3.255
掩码：255.255.255.128
表示法：192.168.3.128/25
后面几题就不具体写步骤了，大家自己尝试一下吧
公司有100台主机,使用192.168.4.0/24私有C类IP地址,现根据总部要求,30台主机划给售后部门,50台主机划给销售部,10台给财务部,2台给经理办公室,其余的给企划部.如何划分? 子网掩码是多少?广播地址是多少?可用主机IP地址范围是多少?
（要点：先划大的，再划小的。小的接着大的划）
能否将192.168.13.175,掩码为255.255.255.240配置在某一主机上?为什么?（要点：看此IP地址最后几位是否为全0或全1）
请写出10.14.87.60/19所属子网,广播地址,可用地址范围。（据说是考CCIE的题）
解题思路：不要被10误导，这个地方当B类地址看，借了3位
总算写完了！希望对大家的学习有帮助。也希望各位高抬贵手，尊重本人的劳动，不要随意转载。如需转载请与我联系，或者留言，多谢
引用:http://arhat.blog.51cto.com/101503/113716
