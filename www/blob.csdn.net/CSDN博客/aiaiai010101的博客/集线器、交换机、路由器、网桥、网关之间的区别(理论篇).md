# 集线器、交换机、路由器、网桥、网关之间的区别(理论篇) - aiaiai010101的博客 - CSDN博客

2018年11月06日 16:40:01[aiaiai010101](https://me.csdn.net/aiaiai010101)阅读数：26


本文转载自：

[http://www.cnblogs.com/imapla/archive/2013/03/12/2955931.html](http://www.cnblogs.com/imapla/archive/2013/03/12/2955931.html)

**对网关、网桥、路由器、集线器等概念有混淆，本篇比较详细。**

**先插一个本人画的图，来说明集线器和交换机的区别，虽然这俩长得很像，但是有本质区别，一个是共享介质，一个是非共享介质。**

![](https://img-blog.csdn.net/20181022161038230?watermark/2/text/aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L2FpYWlhaTAxMDEwMQ==/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70)

**注意，交换机内部线路我用红色线条表示的，实际上这部分应该是集成电路完成的，任意两个端口之间都有直连的，这样才能保证高速不冲突。**

集线器(HUB)

　　集线器就是将网线集中到一起的机器，也就是多台主机和设备的连接器。集线器的主要功能以扩大网络的传输距离，是中继器的一种形式，区别在于集线器能够提供多端口服务，也称为多口中继器。集线器在OSI/RM中的物理层。集线器的基本功能是信息分发，它把一个端口接收的所有信号向所有端口分发出去。一些集线器在分发之前将弱信号重新生成，一些集线器整理信号的时序以提供所有端口间的同步数据通信。

　　集线器实际就是一种多端口的中继器。集线器一般有4、8、16、24、32等数量的RJ45接口，通过这些接口，集线器便能为相应数量的电脑完成“中继”功能（将已经衰减得不完整的信号经过整理，重新产生出完整的信号再继续传送）。由于它在网络中处于一种“中心”位置，因此集线器也叫做“HUB”。 

　　集线器的工作原理很简单，比如有一个具备8个端口的集线器，共连接了8台电脑。集线器处于网络的“中心”，通过集线器对信号进行转发，8台电脑之间可以互连互通。具体通信过程是这样的：假如计算机1要将一条信息发送给计算机8，当计算机1的网卡将信息通过双绞线送到集线器上时，集线器并不会直接将信息送给计算机8，它会将信息进行“广播”——将信息同时发送给8个端口，当8个端口上的计算机接收到这条广播信息时，会对信息进行检查，如果发现该信息是发给自己的，则接收，否则不予理睬。由于该信息是计算机1发给计算机8的，因此最终计算机8会接收该信息，而其它7台电脑看完信息后，会因为信息不是自己的而不接收该信息。

交换机(Switch)

　　交换机是集线器的升级换代产品，外形上和集线器没什么分别，是一种在通信系统中自动完成信息交换功能的设备，用途和HUB一样也是连接组网之用，但是它具有比集线器更强大的功能。

　　交换机也叫交换式集线器，它通过对信息进行重新生成，并经过内部处理后转发至指定端口，具备自动寻址能力和交换作用，由于交换机根据所传递信息包的目的地址，将每一信息包独立地从源端口送至目的端口，避免了和其他端口发生碰撞。广义的交换机就是一种在通信系统中完成信息交换功能的设备。 

　　在计算机网络系统中，交换机是针对共享工作模式的弱点而推出的。集线器是采用共享工作模式的代表，如果把集线器比作一个邮递员，那么这个邮递员是个不认识字的“傻瓜”——要他去送信，他不知道直接根据信件上的地址将信件送给收信人，只会拿着信分发给所有的人，然后让接收的人根据地址信息来判断是不是自己的!而交换机则是一个“聪明”的邮递员——交换机拥有一条高带宽的背部总线和内部交换矩阵。交换机的所有的端口都挂接在这条背部总线上，当控制电路收到数据包以后，处理端口会查找内存中的地址对照表以确定目的MAC（网卡的硬件地址）的NIC（网卡）挂接在哪个端口上，通过内部交换矩阵迅速将数据包传送到目的端口。目的MAC若不存在，交换机才广播到所有的端口，接收端口回应后交换机会“学习”新的地址，并把它添加入内部地址表中。 

　　可见，交换机在收到某个网卡发过来的“信件”时，会根据上面的地址信息，以及自己掌握的“常住居民户口簿”快速将信件送到收信人的手中。万一收信人的地址不在“户口簿”上，交换机才会像集线器一样将信分发给所有的人，然后从中找到收信人。而找到收信人之后，交换机会立刻将这个人的信息登记到“户口簿”上，这样以后再为该客户服务时，就可以迅速将信件送达了。

路由器(Router)

　　路由器是网络中进行网间连接的关键设备。作为不同网络之间互相连接的枢纽，路由器系统构成了基于 TCP/IP 的国际互连网络 Internet 的主体脉络。 

　　路由器之所以在互连网络中处于关键地位，是因为它处于网络层，一方面能够跨越不同的物理网络类型（DDN、FDDI、以太网等等），另一方面在逻辑上将整个互连网络分割成逻辑上独立的网络单位，使网络具有一定的逻辑结构。路由器的主要工作就是为经过路由器的每个数据帧寻找一条最佳传输路径，并将该数据有效地传送到目的站点。 路由器的基本功能是，把数据（IP 报文）传送到正确的网络，细分则包括：1、IP 数据报的转发，包括数据报的寻径和传送；2、子网隔离，抑制广播风暴；3、维护路由表，并与其它路由器交换路由信息，这是 IP 报文转发的基础；4、IP 数据报的差错处理及简单的拥塞控制；5、实现对 IP 数据报的过滤和记帐。 

　　路由器构成了 Internet 的骨架。它的处理速度是网络通信的主要瓶颈之一，它的可靠性则直接影响着网络互连的质量。因此Internet 研究领域中，路由器技术始终处于核心地位。

网桥(Bridge)

　　简单的说网桥就是个硬件网络协议翻译器，假设你有2台电脑，一台兼容机安装windows，一台是Apple安装OS2，那么两台电脑之间是默认网络协议是不同的，兼容机可能只会说TCP/IP，苹果机只会说Apple talk，就好象两个外国人都不会说对方的语言，怎么办？找个翻译，网桥就是翻译。 

　　在386、486时代网桥可能是一台安装了协议转换程序的电脑，如今交换机也包含这个功能。今天的操作系统之间为了互相交流，支持更多的协议，操作系统自己就可以是网桥，现在网桥这个概念已经淡出了。更多是所谓的桥接、转发、协议二次封装。 

　　网桥也可以说相当一个端口少的二层交换机，再者网桥主要由软件实现，交换机主要由硬件实现！

网关(Gateway)

　　网关（协议转换器）是互连网络中操作在OSI网络层之上的具有协议转换功能设施，所以称为设施，是因为网关不一定是一台设备，有可能在一台主机中实现网关功能。 

　　网关用于以下几种场合的异构网络互连： 

　　1).异构型局域网，如互联专用交换网PBX与遵循IEEE802标准的局域网。 

　　2).局域网与广域网的互联。 

　　3).广域网与广域网的互联。 

　　4).局域网与主机的互联（当主机的操作系统与网络操作系统不兼容时，可以通过网关连接）。

　　网关的分类

　　1)协议网关：协议网关通常在使用不同协议的网络区域间做协议转换。 

　　2)应用网关：应用网关是在使用不同数据格式间翻译数据的系统。 

　　3)安全网关：安全网关是各种技术的融合，具有重要且独特的保护作用，其范围从协议级过滤到十分复杂的应用级过滤。

　　首先说HUB,也就是集线器。它的作用可以简单的理解为将一些机器连接起来组成一个局域网。而交换机（又名交换式集线器）作用与集线器大体相同。但是两者在性能上有区别：集线器采用的式共享带宽的工作方式，而交换机是独享带宽。这样在机器很多或数据量很大时，两者将会有比较明显的。而路由器与以上两者有明显区别，它的作用在于连接不同的网段并且找到网络中数据传输最合适的路径 ，可以说一般情况下个人用户需求不大。路由器是产生于交换机之后，就像交换机产生于集线器之后，所以路由器与交换机也有一定联系，并不是完全独立的两种设备。路由器主要克服了交换机不能路由转发数据包的不足。

集线器与交换机的区别： 

　　1) 在OSI/RM（OSI参考模型）中的工作层次不同 

　　交换机和集线器在OSI／RM开放体系模型中对应的层次就不一样，集线器是同时工作在第一层（物理层）和第二层（数据链路层），而交换机至少是工作在第二层，更高级的交换机可以工作在第三层（网络层）和第四层（传输层）。 

　　2) 交换机的数据传输方式不同 

　　集线器的数据传输方式是广播（broadcast）方式，而交换机的数据传输是有目的的，数据只对目的节点发送，只是在自己的MAC地址表中找不到的情况下第一次使用广播方式发送，然后因为交换机具有MAC地址学习功能，第二次以后就不再是广播发送了，又是有目的的发送。这样的好处是数据传输效率提高，不会出现广播风暴，在安全性方面也不会出现其它节点侦听的现象。 

　　3) 带宽占用方式不同 

　　在带宽占用方面，集线器所有端口是共享集线器的总带宽，而交换机的每个端口都具有自己的带宽，这样就交换机实际上每个端口的带宽比集线器端口可用带宽要高许多，也就决定了交换机的传输速度比集线器要快许多。 

　　4) 传输模式不同 

　　集线器只能采用半双工方式进行传输的，因为集线器是共享传输介质的，这样在上行通道上集线器一次只能传输一个任务，要么是接收数据，要么是发送数据。

总的来说，路由器与交换机的主要区别体现在以下几个方面： 

　　(1) 工作层次不同 

　　最初的的交换机是工作在OSI／RM开放体系结构的数据链路层，也就是第二层，而路由器一开始就设计工作在OSI模型的网络层。由于交换机工作在OSI的第二层（数据链路层），所以它的工作原理比较简单，而路由器工作在OSI的第三层（网络层），可以得到更多的协议信息，路由器可以做出更加智能的转发决策。 

　　(2) 数据转发所依据的对象不同 

　　交换机是利用物理地址或者说MAC地址来确定转发数据的目的地址。而路由器则是利用不同网络的ID号（即IP地址）来确定数据转发的地址。IP地址是在软件中实现的，描述的是设备所在的网络，有时这些第三层的地址也称为协议地址或者网络地址。MAC地址通常是硬件自带的，由网卡生产商来分配的，而且已经固化到了网卡中去，一般来说是不可更改的。而IP地址则通常由网络管理员或系统自动分配。 

　　(3) 传统的交换机只能分割冲突域，不能分割广播域；而路由器可以分割广播域 

　　由交换机连接的网段仍属于同一个广播域，广播数据包会在交换机连接的所有网段上传播，在某些情况下会导致通信拥挤和安全漏洞。连接到路由器上的网段会被分配成不同的广播域，广播数据不会穿过路由器。虽然第三层以上交换机具有VLAN功能，也可以分割广播域，但是各子广播域之间是不能通信交流的，它们之间的交流仍然需要路由器。 

　　(4) 路由器提供了防火墙的服务 

　　路由器仅仅转发特定地址的数据包，不传送不支持路由协议的数据包传送和未知目标网络数据包的传送，从而可以防止广播风暴。交换机一般用于LAN-WAN的连接，交换机归于网桥，是数据链路层的设备，有些交换机也可实现第三层的交换。 路由器用于WAN-WAN之间的连接，可以解决异性网络之间转发分组，作用于网络层。他们只是从一条线路上接受输入分组，然后向另一条线路转发。这两条线路可能分属于不同的网络，并采用不同协议。相比较而言，路由器的功能较交换机要强大，但速度相对也慢，价格昂贵，第三层交换机既有交换机线速转发报文能力，又有路由器良好的控制功能，因此得以广泛应用。

　　如果用最简单的语言叙述交换机与集线器的区别，那就应该是智能与非智能的差别。集线器说白了只是连接多个计算机的设备，它只能起到信号放大、传输的作用，但不能对信号中的碎片进行处理，所以在传输过程中非常容易出错。而交换机则可以看作是一种智能型的集线器，它除了包括集线器的所有特性外，还具有自动寻址、交换、处理的功能。并且在传递过程中，只有发送源与接受源独立工作，其间不与其它端口发生关系，从而达到防止数据丢失和提高吞吐量的目的。

　　从它们的工作状态看，集线器属于共享型。也就是说，在一个端口向另外一个端口发送信息的时候，其它的端口就不能再有信息传输，只能处于等待状态。另外集线器是工作在半双工下，即在传输过程中只能是单向的，必须是在一个发送源发送完信息后，接受方才能发送信号。交换机的工作原理却与集线器有很大区别，由于它的每个端口都可视为一条独立的通道，所以在一个端口工作时不会影响到其它端口的传输。而且交换机是工作在全双工状态下的，因此它的数据处理能力在无形中又提高了一倍。

　　也许您对上面多多所说的有些不明白，那么咱们举个简单的例子您就清楚了。比如说让两组人同时给对方互相传输一个文件，从一个人传到另一个的时间为1分钟。如果是用集线器的话，需要的时间是4分钟。数据先从一个人传到对方那里，然后对方再传回来。接着才能是另一组做相同的工作，这样算下来就是4分钟。但是用交换机的话速度就快多了，在相同情况下只需要1分钟就足够了。由于每个端口都是独立的，所以这两组人可以同时传输数据，再因为交换机可以工作在全双工下，所以每两个人也可以同时传输，换句话说这4个人是在同一个时间内完成的工作。所以我们也可以把集线器和交换机的处理能力看做串行处理与并行处理。

　　刚才咱们说的是一种理论数值，实际上在传输中还有许多工作要做，比如除错、整理等等，因此交换机的速度不可能达到集线器的4倍，但有一点可以肯定，交换机绝对比集线器快！

　　其实在挑选集线器与交换机的过程当中，还有其它的因素在里面，这样才能避免浪费。首先我们要考虑组建局域网是干什么用的？如果说只是进行简单的文件传输和共享，那么买个集线器就能够满足您的要求。但如果您要在局域网中需要进行大量的数据交换、运算处理的话，交换机当然是您的首选。

