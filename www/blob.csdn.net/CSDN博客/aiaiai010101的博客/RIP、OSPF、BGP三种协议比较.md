# RIP、OSPF、BGP三种协议比较 - aiaiai010101的博客 - CSDN博客

2018年11月06日 16:39:21[aiaiai010101](https://me.csdn.net/aiaiai010101)阅读数：494


RIP（ Routing Information Protocol ）路由信息协议

是在一个AS系统中使用地内部路由选择协议，是个非常简单的基于距离向量路由选择的协议。　它路由器生产商之间使用的第一个开放标准，是最广泛的路由协议，在所有IP路由平台上都可以得到。当使用RIP时，一台Cisco路由器可以与其他厂商的路由器连接。 

RIP 主要设计来利用同类技术与大小适度的网络一起工作，因此通过速度变化不大的接线连接。RIP 比较适用于简单的校园网和区域网，不适于复杂网络的情况。 

RIP有两个版本：RIPv1和RIPv2，它们均基于经典的距离向量路由算法，最大跳数为15跳。 

RIP版本1：RIPv1是族类路由（Classful Routing）协议，因路由上不包括掩码信息，所以网络上的所有设备必须使用相同的子网掩码，不支持VLSM。需消耗广域网带宽，消耗CPU、内存资源。

RIP版本2：RIPv2可发送子网掩码信息，是非族类路由（Classless Routing）协议，支持VLSM。

RIP的算法简单，距离向量路由选择算法 

但在路径较多时收敛速度慢，广播路由信息时占用的带宽资源较多，它适用于网络拓扑结构相对简单且数据链路故障率极低的小型网络中，在大型网络中，一般不使用RIP。 

RIP使用UDP数据包更新路由信息。路由器每隔30s更新一次路由信息，如果在180s内没有收到相邻路由器的回应，则认为去往该路由器的路由不可用，该路由器不可到达。如果在240s后仍未收到该路由器的应答，则把有关该路由器的路由信息从路由表中删除。 

RIP具有以下特点： 

 不同厂商的路由器可以通过RIP互联； 

 配置简单； • 适用于小型网络（小于15跳）； 

 RIPv1不支持VLSM； 

 需消耗广域网带宽； 

 需消耗CPU、内存资源。

OSPF（ Open Shortest Path First，开放最短路径优先）

开放式最短路径优先（Open Shortest Path First，OSPF）协议是一种为IP网络开发的内部网关路由选择协议，由IETF开发并推荐使用。OSPF协议由三个子协议组成：Hello协议、交换协议和扩散协议。其中Hello协议负责检查链路是否可用，并完成指定路由器及备份指定路由器；交换协议完成“主”、“从”路由器的指定并交换各自的路由数据库信息；扩散协议完成各路由器中路由数据库的同步维护 

OSPF－分组首部格式 

版本 类型 报文长度 

源路由器IP地址 

区域ID 

检验和 身份验证类型 

身份验证

OSPF 采用链路状态路由选择技术，开放最短路径优先算法 

路由器互相发送直接相连的链路信息和它拥有的到其它路由器的链路信息。每个 OSPF 路由器维护相同自治系统拓扑结构的数据库。从这个数据库里，构造出最短路径树来计算出路由表。当拓扑结构发生变化时， OSPF 能迅速重新计算出路径，而只产生少量的路由协议流量。 

此外，所有 OSPF 路由选择协议的交换都是经过身份验证的。 

主要优点 

收敛速度快；没有跳数限制； 

支持服务类型选路 

提供负载均衡和身份认证 

适用环境 

规模庞大、环境复杂的互联网 

OSPF协议具有以下优点： 

 • OSPF能够在自己的链路状态数据库内表示整个网络，这极大地减少了收敛时间，并且支持大型异构网络的互联，提供了一个异构网络间通过同一种协议交换网络信息的途径，并且不容易出现错误的路由信息。 

 • OSPF支持通往相同目的的多重路径。 

 • OSPF使用路由标签区分不同的外部路由。 

 • OSPF支持路由验证，只有互相通过路由验证的路由器之间才能交换路由信息；并且可以对不同的区域定义不同的验证方式，从而提高了网络的安全性。 

 • OSPF支持费用相同的多条链路上的负载均衡。 

 • OSPF是一个非族类路由协议，路由信息不受跳数的限制，减少了因分级路由带来的子网分离问题。 

 • OSPF支持VLSM和非族类路由查表，有利于网络地址的有效管理 

• OSPF使用AREA对网络进行分层，减少了协议对CPU处理时间和内存的需求。

BGP （边界网关协议，Border Gateway Protocol）

是自治系统之间的路由选择协议。BGP用于连接Internet。作为最新的外部网关协议，现有四个版本。 

BGP 是唯一一个用来处理像因特网大小的网络协议，也是唯一能够妥善处理好不相关路由域间的多路连接协议。BGPv4是一种外部的路由协议。可认为是一种高级的距离向量路由协议。 

在BGP网络中，可以将一个网络分成多个自治系统。自治系统间使用eBGP广播路由，自治系统内使用iBGP在自己的网络内广播路由。 

BGP路由选择方法是基于距离向量路由选择 

与传统的距离向量（1个单独的度量，如跳数）协议不同，BGP将AS外部路径的度量复杂化。 

BGP系统的主要功能是和其他BGP系统交换网络可达信息。网络可达信息包括列出的AS信息。这些信息有效地构造了 AS互联的拓朴图并由此清除了路由环路，同时在 AS级别上可实施策略决策。 

　　BGP使用可靠的会话管理，TCP中的179端口用于触发Update和Keepalive信息到它的邻居，以传播和更新BGP路由表。 

　　当运行BGP的两个路由器开始通信以交换动态路由信息时，使用TCP端口179，他们依赖于面向连接的通信（会话）。　　BGP必须依靠面向连接的TCP会话以提供连接状态。因为BGP不能使用Keepalive信息（但在普通头上存放有Keepalive信息，以允许路由器校验会话是否Active）。标准的Keepalive是在电路上从一个路由器送往另一个路由器的信息，而不使用TCP会话。路由器使用电路上的这些信号来校验电路没有错误或没有发现电路。 

BGP特点： BGP是一种外部路由协议，与OSPF、RIP不同，其着眼点不在于发现和计算路由，而在于控制路由的传播和选择最好的路由。 

 BGP通过携带AS路径信息，可以彻底的解决路由循环问题。 

 为了控制路由的传播和路由的选择，为路由附带属性信息。 

 使用TCP作为其传输层协议，提高了协议的可靠性。端口号179。 

 BGP-4支持CIDR（无类别域间选路），CIDR的引入简化了路由聚合，减化了路由表。 

 BGP更新时只发送增量路由，减少了BGP传播路由占用的带宽。 

 提供了丰富的路由策略。

## **三种协议的比较： **

![](https://img-blog.csdn.net/20160517201340850)


--------------------- 

作者：指尖飞码 

来源：CSDN 

原文：https://blog.csdn.net/Jungle_hello/article/details/51438886?utm_source=copy 

版权声明：本文为博主原创文章，转载请附上博文链接！

## **个人总结：本文的精华就是最后一张比较图**

