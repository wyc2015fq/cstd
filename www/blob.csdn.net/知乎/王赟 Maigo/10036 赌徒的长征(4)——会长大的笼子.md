# 10036 赌徒的长征(4)——会长大的笼子 - 知乎
# 

　　现在仅剩的问题，就是证明阿聪策略的期望停止时间有限了。

　　递推法似乎行不通。事实上，用赌本和赌注![(m,n)](https://www.zhihu.com/equation?tex=%28m%2Cn%29)作为状态时，在状态图上下一步能走的方向向量![(+n, -1)](https://www.zhihu.com/equation?tex=%28%2Bn%2C+-1%29)和![(-n,+1)](https://www.zhihu.com/equation?tex=%28-n%2C%2B1%29)还跟当前状态有关。能不能先把这种复杂性消灭——找一种状态表示法，使得每一步能走的方向向量跟当前状态无关呢？

　　答案是能。还是注意到“一输一赢”会使得赌本加1，赌注不变；同样，“一赢一输”也使得赌本加1，赌注不变。这表明，只要中途游戏没有结束，输和赢的顺序是可以交换的；最终的赌本和赌注仅取决于输和赢的次数，而不取决于输和赢的顺序。假设到某个时刻为止，阿聪输了![l](https://www.zhihu.com/equation?tex=l)次，赢了![w](https://www.zhihu.com/equation?tex=w)次，那么总可以交换输赢的顺序，把![l](https://www.zhihu.com/equation?tex=l)次输放在前面，![w](https://www.zhihu.com/equation?tex=w)次赢放在后面（就算中间输光了，也让他继续赌下去）。![l](https://www.zhihu.com/equation?tex=l)次输的赌注分别是![1,2,\ldots,l](https://www.zhihu.com/equation?tex=1%2C2%2C%5Cldots%2Cl)；![w](https://www.zhihu.com/equation?tex=w)次赢的赌注分别是![l+1, l, \ldots, l-w+2](https://www.zhihu.com/equation?tex=l%2B1%2C+l%2C+%5Cldots%2C+l-w%2B2)。此时阿聪的赌本![m](https://www.zhihu.com/equation?tex=m)和赌注![n](https://www.zhihu.com/equation?tex=n)就可以用![l](https://www.zhihu.com/equation?tex=l)和![w](https://www.zhihu.com/equation?tex=w)表示出来：

> ★ ![n = l-w+1](https://www.zhihu.com/equation?tex=n+%3D+l-w%2B1)
★ ![m = 2 - \sum_{i=1}^l i + \sum_{j=l-w+2}^{l+1} j = \frac{4 + (l+w) - (l-w)(l-w+2)}{2}](https://www.zhihu.com/equation?tex=m+%3D+2+-+%5Csum_%7Bi%3D1%7D%5El+i+%2B+%5Csum_%7Bj%3Dl-w%2B2%7D%5E%7Bl%2B1%7D+j+%3D+%5Cfrac%7B4+%2B+%28l%2Bw%29+-+%28l-w%29%28l-w%2B2%29%7D%7B2%7D)
这就表明，![(l,w)](https://www.zhihu.com/equation?tex=%28l%2Cw%29)也可以用来表示状态。每赌一局，要么![l](https://www.zhihu.com/equation?tex=l)加1，要么![w](https://www.zhihu.com/equation?tex=w)加1，但总之![l](https://www.zhihu.com/equation?tex=l)和![w](https://www.zhihu.com/equation?tex=w)的变化量与当前状态无关了。游戏结束的条件是![n = 0](https://www.zhihu.com/equation?tex=n+%3D+0)或![m \le 0](https://www.zhihu.com/equation?tex=m+%5Cle+0)，这两个条件也都可以用![l](https://www.zhihu.com/equation?tex=l)和![w](https://www.zhihu.com/equation?tex=w)表示出来，前者是一条直线，后者是一条抛物线。画出图来，就一目了然了：
![](https://pic4.zhimg.com/601058cf36b350f7655860060e4df0ef_b.jpg)图中，两条黄线代表了游戏结束的条件；红色格子表示赌注减小到0，蓝色格子表示输光。阿聪从左下角的格子出发，每次只能向右或向上走一格，碰到黄线游戏就结束了。游戏能够进行的区域（绿色格子）是越来越宽的。

　　现在，状态表示足够简单了，但停止条件还比较复杂。能不能继续化简呢？能。上面的图中，黄色的直线![l-w+1=0](https://www.zhihu.com/equation?tex=l-w%2B1%3D0)恰好是抛物线的对称轴，如果我们把坐标系旋转45度，抛物线的方程就能化简。把![l-w+1](https://www.zhihu.com/equation?tex=l-w%2B1)再反过来代换成![n](https://www.zhihu.com/equation?tex=n)，同时令![t=l+w](https://www.zhihu.com/equation?tex=t%3Dl%2Bw)，用![(n,t)](https://www.zhihu.com/equation?tex=%28n%2Ct%29)表示状态，则状态的转移方式变成了每赌一局，![t](https://www.zhihu.com/equation?tex=t)必加1，![n](https://www.zhihu.com/equation?tex=n)可加1或减1；终止条件则化成![n = 0](https://www.zhihu.com/equation?tex=n+%3D+0)或![n \ge \sqrt{t+5}](https://www.zhihu.com/equation?tex=n+%5Cge+%5Csqrt%7Bt%2B5%7D)，简单多了。事实上，把![t](https://www.zhihu.com/equation?tex=t)看作时间，把赌注![n](https://www.zhihu.com/equation?tex=n)用![Y_t](https://www.zhihu.com/equation?tex=Y_t)来表示，则![Y_t](https://www.zhihu.com/equation?tex=Y_t)就化成了如下的、带移动吸收壁的一维随机游走过程：

> **带移动吸收壁的一维随机游走：**设粒子初始位置为![Y_0 = 1](https://www.zhihu.com/equation?tex=Y_0+%3D+1)，每步的位移![Y_{t+1} - Y_t](https://www.zhihu.com/equation?tex=Y_%7Bt%2B1%7D+-+Y_t)等可能地取![\pm 1](https://www.zhihu.com/equation?tex=%5Cpm+1)。在![y=0](https://www.zhihu.com/equation?tex=y%3D0)处有固定吸收壁，![y_t = \sqrt{t+5}](https://www.zhihu.com/equation?tex=y_t+%3D+%5Csqrt%7Bt%2B5%7D)处有移动吸收壁，粒子碰到吸收壁则死亡。问粒子存活时间的期望是否有限？

　　阿聪的策略转化到这里，就有了一种柳暗花明又一村的感觉——问题成功脱离了赌博的背景，变成了一道比较一般的一维随机游走问题。事实上，有许多文献研究过类似的问题，比如：
- [1] [2] 研究了有两个移动吸收壁![y = \pm \,c \sqrt{t+a}](https://www.zhihu.com/equation?tex=y+%3D+%5Cpm+%5C%2Cc+%5Csqrt%7Bt%2Ba%7D)的情况，吸收壁的移动速度是减慢的；
- [3] 研究了有两个移动吸收壁![y = \pm\, (ct+L)](https://www.zhihu.com/equation?tex=y+%3D+%5Cpm%5C%2C+%28ct%2BL%29)的情况，吸收壁的移动速度是常数；
- 以上文献研究的都是离散的一维随机游走，而 [4] 研究了连续的一维扩散在单侧有吸收壁![y = \sqrt{At}](https://www.zhihu.com/equation?tex=y+%3D+%5Csqrt%7BAt%7D)（另一侧自由）和双侧有吸收壁![y = \pm \sqrt{At}](https://www.zhihu.com/equation?tex=y+%3D+%5Cpm+%5Csqrt%7BAt%7D)时的情形。这两种情形分别被形象地称为“后退的悬崖”和“会长大的笼子”。

　　阿聪策略转化成的问题，就是一个“会长大的笼子”。但很不幸的是，上述文献研究都并不是我们感兴趣的情景，因为我们的笼子左侧是不会长大的。要解决我们的问题，还得自力更生。![](https://pic1.zhimg.com/00efd76c785593c29ccc7863b18e8588_b.jpg)
**参考文献**

[1] David Blackwell and David Freedman, “[A remark on the coin tossing game](https://link.zhihu.com/?target=http%3A//www.jstor.org/stable/pdf/2238264.pdf%3FacceptTC%3Dtrue)”, *The Annals of Mathematical Statistics*, Vol. 35, No. 3 (Sep., 1964), pp. 1345-1347.

[2] L. A. Shepp, “[A first passage problem for the Wiener process](https://link.zhihu.com/?target=http%3A//www-stat.wharton.upenn.edu/~shepp/publications/14.pdf)”, *The Annals of Mathematical Statistics*, Vol. 38, No. 6 (Dec., 1967), pp. 1912-1914.

[3] Alan J Bray and Richard Smith, “[The survival probability of a diffusing particle constrained by two moving, absorbing boundaries](https://link.zhihu.com/?target=http%3A//iopscience.iop.org/article/10.1088/1751-8113/40/10/F02/pdf)”, *Journal of Physics A: Mathematical and Theoretical* 40.10 (2007): F235.

[4] P. L. Krapivsky and S. Redner, “[Life and death in an expanding cage and at the edge of a receding cliff](P.%20L.%20Krapivsky%20and%20S.%20Redner,%20Life%20and%20death%20in%20an%20expanding%20cage%20and%20at%20the%20edge%20of%20a%20receding%20cliff)”, *American Journal of Physics* 64.5 (1996): 546-551.

