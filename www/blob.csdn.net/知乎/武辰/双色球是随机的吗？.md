# 双色球是随机的吗？ - 知乎
# 

双色球是中国福利彩票的一种玩法。
![](https://pic3.zhimg.com/v2-4b6bc63e6abf7cc1769965cb3819196a_b.jpg)
你需要选择七个数字。其中前六个数字对应的是红球，红色球号码从1-33中选择；最后一个数字对应的是蓝球，蓝色球号码从1-16中选择。一般来说，蓝球是起决定作用的球。为了简单起见，本文只考虑蓝球。

有朋友问我：为什么在蓝球里，有几个数字（比如1）经常出现，而有几个数字（比如8）几乎不出现，这背后是不是有什么规律？

这引发了我的兴趣。于是我进行了一个简单的假设检验。

原假设：蓝色球的16个数字服从离散均匀分布，即它们是均匀随机出现的。

备择假设：蓝色球的16个数字不是均匀随机出现的。

这是一个分布拟合检验。我首先假设每个数字出现的概率都是均等的，即不存在出现概率比其他数字高的数字，也不存在出现概率比其他数字低的数字。换句话说，数字1经常出现，数字8很少出现，仅仅是因为是“噪声”在起作用，是运气而已，而非这两个数字本来出现的概率不一样。
![](https://pic4.zhimg.com/v2-bf936fcc2e776791b28f889f566282ab_b.jpg)
如上图所示，我截取了从2018年7月开始的近96个样本数据。可以看出1号球出现了10次，是最容易中的球；8号球出现了1次，是最不容易中的球。但是大体上来说，这16个球的出现的频率大致是均匀的。

如果蓝色球的16个数字是均匀随机出现的，那么每个球理论出现的次数为 ![\frac{96}{16}=6](https://www.zhihu.com/equation?tex=%5Cfrac%7B96%7D%7B16%7D%3D6) 次（上表中的第3列）。接下来计算出现次数与理论出现次数的偏差，比如1号球比理论出现次数高了4次，那么这个偏差就为4。为了消除正负号的影响，把偏差进行平方（线性回归中的最小二乘法也是这个原理）。最后一步是计算偏差的平方和。

这个分布拟合检验的核心思想是**：如果偏差平方和越小，那么这些数字的分布越均匀。**这是符合直观的，如果你没理解到这一点，不妨停下来再体会一遍。经过简单的计算得出偏差平方和是62。那这个数字是大还是小呢？这需要有一个严格量化的标准。

事实上对离散均匀分布的拟合检验有如下的结果：

![\frac{偏差平方和}{理论出现次数}\sim\chi(r-1)](https://www.zhihu.com/equation?tex=%5Cfrac%7B%E5%81%8F%E5%B7%AE%E5%B9%B3%E6%96%B9%E5%92%8C%7D%7B%E7%90%86%E8%AE%BA%E5%87%BA%E7%8E%B0%E6%AC%A1%E6%95%B0%7D%5Csim%5Cchi%28r-1%29)

其中 ![r](https://www.zhihu.com/equation?tex=r) 为可能的结果数，在这个例子中 ![r=16](https://www.zhihu.com/equation?tex=r%3D16) 。

查表得 ![\frac{62}{6}](https://www.zhihu.com/equation?tex=%5Cfrac%7B62%7D%7B6%7D) 不在拒绝域内。因此我们可以大概率认为：双色球的蓝球是完全随机的。

本文只是介绍简单的分布拟合检验。事实上96这个样本量是远远不够的。分布拟合检验一个基本的要求是每个结果出现的次数不低于5次。

如果双色球的出奖流程公平公正且号码随机，**那么把时间花在研究彩票走势图上将是一件浪费时间的事情**。这就好比你连续扔均匀的硬币5次，结果都是正面向上，但下一次再扔的结果是正面向上的概率不会减少。

另外，如何解释在近96次结果中，8号球只出现了一次的情况？事实上经过计算得，出现这种情况的概率是不低于1%的。不信你可以自己做一个试验：找16个标有数字1-16的台球放进一个黑盒子中，有放回地抽96次出来然后记录结果，每次抽之前充分摇晃。首先通过结果你可以大体上看出，16个球中，每个球出现的次数大体上都在6次左右；另一方面，有可能存在一个球从来没有被抽出来过（这样的概率约等于0.005），也有可能存在一个球出现了10次以上。 

举另外一个有趣的例子：如果你抛一枚硬币，连续十次都是正面向上，你会不会认为这枚硬币有问题？一般来说我们有非常大的把握认定这枚硬币有问题。但是如果做这样的实验：一个报告厅内坐了1024（2的10次方）名学生，每名学生都发了一枚硬币。这1024枚硬币都是一样的，而且都是正常的硬币，即正反面均匀。接下来，每个学生连续抛这枚硬币10次。可以算出，有约63%概率会出现至少一个“不幸”的学生，ta连续十次的结果都是正面向上。也就是说，**哪怕这枚硬币是完全均匀完全公平的，仍然有概率出现极端情况**，而且这个概率不算太低。如果你就是那个“不幸”的学生（设身处地地想一想），而且你不知道周围学生抛硬币的结果，那么你是不是会认为眼前的硬币是有问题的呢？

我还想举一个例子，这个例子想必很多人都听说过了。有一天杰克收到了一封信，这封信的内容是预测下一次足球比赛皇马会赢。他没有在意。几天后结果出来了，皇马真的赢了。然后他又收到了第二封信，说下一场比赛巴萨会赢，果不其然，巴萨赢了。这样连续十次，杰克都收到了正确的预测信。这个时候，如果第11封信写着“支付1000英镑，我会告诉你下一场比赛的结果，然后你可以通过赌球赚取更多的钱，快加入我们把！”杰克很可能会稀里糊涂地上钩。

事实上，写信的人在第一场比赛之前，写了1024封信，其中512封信预测皇马赢，另外的预测皇马输，然后分别邮寄给不同的人。如果皇马真的赢了，那么写信人继续按照同样的套路，给之前寄过预测皇马赢的512户人家继续写预测信。那么最后，写信人可以稳定地保证有一个人连续收到了十次正确的预测信。事实上，一开始可以寄更多信，比如2048、4096这样的量级。现在是互联网时代，一次性群发个几十万封邮件也是很常见的操作，那么在这个数量级下，会出现好几百个连续十次收到正确预测信的人。如果缺乏概率的思维，很有可能会上当受骗。

