# 81个关键点，帮你紧密追踪女神的脸，比Dlib还多13点 | 有代码 - 知乎
# 



> 鬼栗子 发自 凹非寺
量子位 报道 | 公众号 QbitAI

为什么要追踪人脸？

大概，是想要实现什么大胆的想法吧。比如加个贴紧脸部的特技：
![](https://pic1.zhimg.com/v2-87311a654afc93aea253ee66764c3694_b.gif)![](data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' width='480' height='270'></svg>)△ 来自Face Maker应用
有个叫做Niko的程序猿，发布了拥有**81个关键点**的面部检测工具：
![](https://pic2.zhimg.com/v2-3e970586219df44c37e0d407ef9693fd_b.gif)![](data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' width='240' height='239'></svg>)△ Niko
Niko说，他在Dlib库**68个关键点**的基础上加了13个，把前额也包含在追踪范围里。

那样，就可以加上更丰富的特技了。比如，带个帽子：
![](https://pic4.zhimg.com/v2-92bdb6966b2e505a5b0d15901995c4a7_b.gif)![](data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' width='288' height='387'></svg>)△ 来自Tommy Palladino，并非Niko成果
## **介绍一下**

先来仔细看一看这只斯嘉丽，脸上81个关键点的分布：
![](https://pic1.zhimg.com/v2-334b2e355c83f540e68ee739901dc994_b.jpg)![](data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' width='600' height='859'></svg>)
**0-67**是dlib既有的68个脸部关键点；

**68-80**是程序猿新增的13个前额关键点。

程序猿说，他是从Patrick Huber的**eos**项目 (一个轻量级3DMM) 上，fork出了一个分支，用**Surrey人脸模型**找到了自己需要的这13个额外的点。

然后，用整个**ibug**大数据库训练了模型，拿81点替换了原本的68点。不过，训练方法还是和dlib差不多的。

成果，就是文章开头见到的样子。不过，也可以做成表情包：
![](https://pic2.zhimg.com/v2-3e970586219df44c37e0d407ef9693fd_b.gif)![](data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' width='240' height='239'></svg>)![](https://pic3.zhimg.com/v2-2b664e1072aeeac29b514da0e512a05e_b.gif)![](data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' width='240' height='240'></svg>)
## **Dlib何方神圣？**

Dlib，是用C++写成的**机器学习库**，提供了C++和Python接口。



![](https://pic1.zhimg.com/v2-3b4f9b18b93f1fd89719ef0b5a4efda4_b.jpg)![](data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' width='301' height='55'></svg>)



库里面有许多常见的算法，人脸标记便是赫赫有名的一个。

缘起2014年，Dlib实现了当年一篇著名**CVPR论文**的算法：



![](https://pic3.zhimg.com/v2-940d28987196f80a680fc773d8f3b106_b.jpg)![](data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' width='1080' height='501'></svg>)
“用回归树，**一毫秒搞定人脸对齐**。”

由此，Dlib名声大振。人脸标记、人脸识别、人脸姿态估计，库里面各种各样的算法都广为流传。
![](https://pic2.zhimg.com/v2-2486e837d218e83977dbb26bbc84b0f5_b.gif)![](data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' width='463' height='307'></svg>)△ Dlib人脸姿态估计
后来出现的许多库，都是在它的基础上开发的：Python人脸识别库face_recognition便是其一。

Niko的81个关键点，也是借鉴了Dlib人脸标记的68个点。

如今，Dlib已经更新到19.17版本了。
![](https://pic1.zhimg.com/v2-108b1c0755810bd0b4f16df09cc49030_b.jpg)![](data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' width='292' height='140'></svg>)
Niko的81点传送门：
[https://github.com/codeniko/shape_predictor_81_face_landmarks](https://link.zhihu.com/?target=https%3A//github.com/codeniko/shape_predictor_81_face_landmarks)

Dlib的68点传送门：
[http://dlib.net/face_landmark_detection.py.html](https://link.zhihu.com/?target=http%3A//dlib.net/face_landmark_detection.py.html)

Surrey Face Model：
[https://cvssp.org/faceweb/3dmm/facemodels/](https://link.zhihu.com/?target=https%3A//cvssp.org/faceweb/3dmm/facemodels/)

— **完** —

量子位 · QbitAI

վ'ᴗ' ի 追踪AI技术和产品新动态

戳右上角「+关注」获取最新资讯↗↗

如果喜欢，请分享or点赞吧~比心❤




