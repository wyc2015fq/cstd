# MIT提出实时3D医疗影像生成算法：速度提升1000倍 - 知乎
# 



选自MIT News，作者：Rob Matheson，机器之心编译。

> MIT 最近发表的研究提出了 VoxelMorph 算法，在保证精度的同时，让 3D 医疗影像的扫描对比流程快了 1000 倍。新的方法或许可以让外科医生们在进行手术的同时获得扫描图像的实时辅助。

Voxelmorph 项目链接：[https://github.com/voxelmorph/voxelmorph](https://link.zhihu.com/?target=https%3A//github.com/voxelmorph/voxelmorph)
![](https://pic1.zhimg.com/v2-ce8252f0f631a86a81a7a2e469a35020_b.jpg)![](data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' width='639' height='426'></svg>)MIT 研究员描述称，使用全新学习技术，机器学习算法能够以超过 1000 倍的速度配准大脑扫描和其他 3D 图像
医疗图像配准（Medical image registration）是一种常见图像覆盖对比技术，例如两张磁共振扫描图像，一般可以通过覆盖来对比分析解剖学上的不同点。如果一个病人患有脑癌，医生可以通过对比几个月前的脑部扫描图与近期的扫描图来分析癌症发展的微小变化。

但是，这一过程通常要花费两个小时或者更多的时间，就像传统的系统，要细致地对齐联合扫描中大概百万个像素中的每一个。MIT 研究人员介绍了一种机器学习算法，能够使用全新的学习技术以超过 1000 倍的速度配准脑部扫描图片和其他 3D 图像。

该算法通过「学习」来配准数千张图像对。在训练中，算法会获得关于对齐图像和估计一些最优对齐参数的信息。而当训练后，算法将使用这些参数将图像的所有像素同时映射到另一张图像。这在使用一台普通计算机的情况下可以将配准时间减少到 1 到 2 分钟，或者使用 GPU 在 1 秒内获得与当前最佳系统向媲美的准确度。

「配准大脑 MRI 的任务过程不应该有所不同。」两篇论文的共同作者、MIT 的 CSAIL 和 EECS 研究生 Guha Balakrishnan 说。「你应该利用关于配准的信息。如果能学习到之前图像配准的模式，你就能以相同的准确率和更快的速度执行新的任务。」

相关论文将在本周举行的 CVPR2018 和九月份举行的医学图像计算和计算机辅助干预会议（MICCAI）中进行展示。共同作者包括：麻省总医院和 CSAIL 的博士后 Adrian Dalca；CSAIL 研究生 Amy Zhao；前 CSAIL 博士后和现任康奈尔大学教授 Mert R. Sabuncu；以及 MIT 电气工程系 Dugald C. Jackson 讲座教授 John Guttag。




**保留信息**

MRI 扫描基本上需要数百张堆叠的 2D 图像来构建大型 3D 图像，称之为「体积」，其包含一百万甚至更多的 3D 像素，称之为「体素」。因此，为体积分配所有体素是相当耗时的。此外，扫描图像可能来自不同的机器，并有不同的空间取向，意味着匹配体素的计算将变得更加复杂。

「你有不同大脑的两张不同图像，将它们叠起来然后开始摆动一张图像，直到它们互相匹配。在数学上，这个优化过程需要很长的时间。」CVPR 论文的第一作者以及 MICCAI 论文的主要作者 Dalca 说。

当对不同数量的扫描照片进行分析时，这个过程将变得尤其慢。神经科学家在分析数百个有特定疾病或症状的病人的大脑结构的差异时，可能需要几百个小时。

这是因为那些算法有一个主要问题：它们从来不学习。在每次配准之后，它们就丢弃了之前的和体素定位相关的所有数据。「基本上，给定一对新的图像，它们是从零开始分析的。」Balakrishnan 说。「在 100 次配准之后，你应该能从匹配模式中学到点东西，这正是我们所做的。」研究员使用的算法称为「VoxelMorph」，它以卷积神经网络（CNN）为基础架构。

在 CVPR 论文中，研究人员在 7000 张公开可用的 MRI 脑扫描影像上训练他们的算法，并在 250 张额外的扫描图像上测试算法。

在训练过程中，脑扫描图像成对馈送到算法。并使用 CNN 和称之为空间转换（spatial transformer）的修正计算层捕捉一次 MRI 脑扫描中的体素（voxel）与另一次扫描中体素的相似性。这样训练时，算法可以学习体素组的信息，例如两份扫描中共有的解剖形状。此外，这样的体素组信息同样可以用来计算应用于任意扫描对的优化参数。

当馈送了两次新的扫描时，一个简单的数学「函数」将使用这些优化的参数快速计算两次扫描中每个体素的准确对齐。简而言之，算法的 CNN 组件在训练过程中获得了必要的信息，因此在每一个配准过程中，整个配准都可以使用简单的可计算函数执行。

研究者发现，他们的算法使用传统的中央处理单元能在两分钟内、使用 GPU 在 1 秒钟内准确配准所有 250 个测试脑部扫描，它们都在训练集之后进行配准的。

重要的是该算法是无监督的，这意味着它不需要超出图像数据的额外信息。一些配准算法结合了 CNN 模型，但仍需要「标注真值」，这是首先计算准确配准的另一种传统算法。研究者的算法在没有数据时也能保持准确度。

MICCAI 论文中提出了一个精简版的 VoxelMorph 算法，其中「说明我们对于每个配准的确定程度，」Balakrishnan 表示。它还保证了配准的「平滑性」，这意味着它不会在合成图像中产生褶皱、孔洞或扭曲。这篇论文提出了一个数学模型，其中使用 Dice 分数来验证算法的准确性，该分数是用于评估重叠图像的准确度的标准。在 17 个脑区域中，精简的 VoxelMorph 算法与常规业内最佳配准算法准确度相当，同时还具有实时和方法学上的优势。

研究人员表示，快速算法在分析大脑扫描之外还有广泛的应用前景。该团队在 MIT 的同僚还正在研究肺部图像的处理算法。

该算法也可以为手术过程中的图像配准铺平道路。目前人们在手术前和手术时使用不同质量和速度的各种扫描。但这些图像在手术之后才会被配准。例如，在切除脑肿瘤时，外科医生有时会在手术前后扫描患者的大脑，看看他们是否已经切除了所有肿瘤。如果还有残留，他们会回到手术室。

Dalca 表示，有了新的算法，外科医生可以近乎实时地配准扫描，从而可以更清晰地了解手术进展。「今天，医生们在手术进行当中看不到当前扫描图像，因为出图可能需要两个小时，而手术不能停止，」Dalca 说道。「如果新技术能让这个过程减少到一秒钟，你可以想象美好的事情就会发生。」
![](https://pic1.zhimg.com/v2-18cc987d5f379a82f1208b6d90722318_b.jpg)![](data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' width='73' height='24'></svg>)
原文链接：[http://news.mit.edu/2018/faster-analysis-of-medical-images-0618](https://link.zhihu.com/?target=http%3A//news.mit.edu/2018/faster-analysis-of-medical-images-0618)




