# 1.1 光滑函数、导数、切向量、和切空间（未完成） - 知乎
# 

**前言**

Loring W. Tu的《Introduction to Manifolds》一书极好，阅读此书需要的基础有：数学分析（高数也一样）、线性代数（涉及线性空间和线性变换）、抽象代数（一点点概念就行），很容易入门。本文是此书的抄书笔记，另外对一些初学者（比如我）难以理解的地方，本文加了个人的注释（能力有限，望指教）和增加了例子，力求零基础能够读懂。

**目录**

**第一章 欧几里得空间**

**1.1 光滑函数、导数、切向量、和切空间**

第一章来重新审视欧几里得空间的一些对象。第一节接受审视的对象有光滑函数、导数、切向量、和切空间。

**Section 1  光滑函数**

![\mathbb{R}^n](https://www.zhihu.com/equation?tex=%5Cmathbb%7BR%7D%5En) 是 ![n](https://www.zhihu.com/equation?tex=n) 维欧几里得空间。为和微分几何的传统记法一致，坐标不用 ![x,y,z..](https://www.zhihu.com/equation?tex=x%2Cy%2Cz..) 表示，而用 ![x^1,x^2,x^3,...](https://www.zhihu.com/equation?tex=x%5E1%2Cx%5E2%2Cx%5E3%2C...) （用上标表示）。那么点 ![p](https://www.zhihu.com/equation?tex=p) 的坐标表示就是 ![p=(p^1,p^2,...,p^n)](https://www.zhihu.com/equation?tex=p%3D%28p%5E1%2Cp%5E2%2C...%2Cp%5En%29) 。

**定义1.1 (![C^k](https://www.zhihu.com/equation?tex=C%5Ek) 实函数) **

设 ![U](https://www.zhihu.com/equation?tex=U) 是![\mathbb{R}^n](https://www.zhihu.com/equation?tex=%5Cmathbb%7BR%7D%5En)的开集，![k](https://www.zhihu.com/equation?tex=k) 是非负整数。实函数 ![f:U\to \mathbb{R}](https://www.zhihu.com/equation?tex=f%3AU%5Cto+%5Cmathbb%7BR%7D) 被称为在点 ![p\in U](https://www.zhihu.com/equation?tex=p%5Cin+U) 是 ![C^k](https://www.zhihu.com/equation?tex=C%5Ek) 函数，如果该函数所有 ![j (\leq k)](https://www.zhihu.com/equation?tex=j+%28%5Cleq+k%29) 阶偏导数**存在**并且**在 ![p](https://www.zhihu.com/equation?tex=p) 点连续。**

特别的，如果任意阶偏导数**都存在且连续**，就称实函数 ![f:U\to \mathbb{R}](https://www.zhihu.com/equation?tex=f%3AU%5Cto+%5Cmathbb%7BR%7D) 在点 ![p\in U](https://www.zhihu.com/equation?tex=p%5Cin+U) 是![C^\infty](https://www.zhihu.com/equation?tex=C%5E%5Cinfty)函数，也叫做光滑函数。 ![C^\infty](https://www.zhihu.com/equation?tex=C%5E%5Cinfty) 和光滑是同义词。

> 通俗讲，在某点处，k阶偏导存在且连续就是 ![C^k](https://www.zhihu.com/equation?tex=C%5Ek) ;无穷阶偏导存在且连续就是光滑。

**例子1.1 **

 1 开集 ![U](https://www.zhihu.com/equation?tex=U) 上的 ![C^0](https://www.zhihu.com/equation?tex=C%5E0) 函数就是连续函数。

 2 函数 ![f(x)=|x|](https://www.zhihu.com/equation?tex=f%28x%29%3D%7Cx%7C) 在点 ![x=0](https://www.zhihu.com/equation?tex=x%3D0) 处是 ![C^0](https://www.zhihu.com/equation?tex=C%5E0) 但不是 ![C^1](https://www.zhihu.com/equation?tex=C%5E1) ，因为一阶导数不存在。

 3 函数![f(x^1,x^2)=\sin(x_1+x_2)](https://www.zhihu.com/equation?tex=f%28x%5E1%2Cx%5E2%29%3D%5Csin%28x_1%2Bx_2%29) 在所有点都是光滑的。

**定义1.2 (**![C^k](https://www.zhihu.com/equation?tex=C%5Ek)** 向量函数) **

设 ![U](https://www.zhihu.com/equation?tex=U) 是![\mathbb{R}^n](https://www.zhihu.com/equation?tex=%5Cmathbb%7BR%7D%5En)的开集，![k](https://www.zhihu.com/equation?tex=k) 是非负整数。向量函数 ![f:U\to \mathbb{R}^m](https://www.zhihu.com/equation?tex=f%3AU%5Cto+%5Cmathbb%7BR%7D%5Em) 被称为在点 ![p\in U](https://www.zhihu.com/equation?tex=p%5Cin+U) 是 ![C^k](https://www.zhihu.com/equation?tex=C%5Ek) 的，如果 ![f](https://www.zhihu.com/equation?tex=f) 的所有分量 ![f^1,...,f^m](https://www.zhihu.com/equation?tex=f%5E1%2C...%2Cf%5Em) 都是 ![C^k](https://www.zhihu.com/equation?tex=C%5Ek) 的。

同理，向量函数 ![f:U\to \mathbb{R}^m](https://www.zhihu.com/equation?tex=f%3AU%5Cto+%5Cmathbb%7BR%7D%5Em) 被称为在点 ![p\in U](https://www.zhihu.com/equation?tex=p%5Cin+U) 是 ![C^\infty](https://www.zhihu.com/equation?tex=C%5E%5Cinfty) 的，如果 ![f](https://www.zhihu.com/equation?tex=f) 的所有分量 ![f^1,...,f^m](https://www.zhihu.com/equation?tex=f%5E1%2C...%2Cf%5Em) 都是 ![C^\infty](https://www.zhihu.com/equation?tex=C%5E%5Cinfty) 的。

> 向量函数意思就是，f的取值是一个向量而不是实数。

**例子1.2**

1 向量函数 ![h(x^1,x^2,x^3)=<x^1\sin(x^2+x^3),x^1+x^3>](https://www.zhihu.com/equation?tex=h%28x%5E1%2Cx%5E2%2Cx%5E3%29%3D%3Cx%5E1%5Csin%28x%5E2%2Bx%5E3%29%2Cx%5E1%2Bx%5E3%3E) 是![C^\infty](https://www.zhihu.com/equation?tex=C%5E%5Cinfty)。

> 注：今后用尖括号 ![<>](https://www.zhihu.com/equation?tex=%3C%3E) 表示列向量，用圆括号（）表示点的坐标。

**定义1.3 （解析函数）**

[解析函数-维基百科](https://link.zhihu.com/?target=https%3A//zh.wikipedia.org/wiki/%25E8%25A7%25A3%25E6%259E%2590%25E5%2587%25BD%25E6%2595%25B0)

> 函数 ![f](https://www.zhihu.com/equation?tex=f) 在某点 ![p](https://www.zhihu.com/equation?tex=p) 处解析，要求：在 ![p](https://www.zhihu.com/equation?tex=p) 的**某个邻域 ![U](https://www.zhihu.com/equation?tex=U) 内的所有点**![x\in U](https://www.zhihu.com/equation?tex=x%5Cin+U) ， ![f(x)](https://www.zhihu.com/equation?tex=f%28x%29) 可以用泰勒级数表示（也就是说，这个泰勒级数邻域![U](https://www.zhihu.com/equation?tex=U)是收敛的）。解析不等于光滑，解析强于光滑，光滑可能不解析，见下面例子。

**例子1.3 （在某点光滑但不解析）**

定义函数 ![f(x)= \begin{cases} e^{-1/x} & x>0\\ 0& x\leq0 \end{cases}](https://www.zhihu.com/equation?tex=f%28x%29%3D+%5Cbegin%7Bcases%7D+e%5E%7B-1%2Fx%7D+%26+x%3E0%5C%5C+0%26+x%5Cleq0+%5Cend%7Bcases%7D) ,函数图像如下。
![](https://pic3.zhimg.com/v2-5b9feb1652a0f14f47e4258a368a636e_b.jpg)例3函数的图像，光滑但不解析
在点 ![x=0](https://www.zhihu.com/equation?tex=x%3D0) 处，计算 ![f(x)](https://www.zhihu.com/equation?tex=f%28x%29) 各阶导数,发现各阶导数都等于0,即： ![f(x)=f'(0)=f^{''}(x)=...=0](https://www.zhihu.com/equation?tex=f%28x%29%3Df%27%280%29%3Df%5E%7B%27%27%7D%28x%29%3D...%3D0) 。因此, ![f](https://www.zhihu.com/equation?tex=f) 在点 ![x=0](https://www.zhihu.com/equation?tex=x%3D0) 处是光滑的。接下来说明在0处不解析。若 ![f](https://www.zhihu.com/equation?tex=f) 在点 ![x=0](https://www.zhihu.com/equation?tex=x%3D0) 处解析，则存在 ![x=0](https://www.zhihu.com/equation?tex=x%3D0) 的一个邻域 ![(\varepsilon,\varepsilon)](https://www.zhihu.com/equation?tex=%28%5Cvarepsilon%2C%5Cvarepsilon%29)( ![\varepsilon>0](https://www.zhihu.com/equation?tex=%5Cvarepsilon%3E0)),使得邻域内所有点 ![t \in (\varepsilon,\varepsilon)](https://www.zhihu.com/equation?tex=t+%5Cin+%28%5Cvarepsilon%2C%5Cvarepsilon%29) ，有![f(t)=f(0)+f'(0)t+\frac{f''(0)}{2!}t^2+....](https://www.zhihu.com/equation?tex=f%28t%29%3Df%280%29%2Bf%27%280%29t%2B%5Cfrac%7Bf%27%27%280%29%7D%7B2%21%7Dt%5E2%2B....) 。而这是不成立的，因为取 ![0<t<\varepsilon](https://www.zhihu.com/equation?tex=0%3Ct%3C%5Cvarepsilon) ,左边不等于0（图像看出 ![f(t)](https://www.zhihu.com/equation?tex=f%28t%29) 大于0），而右边等于0(因为各阶导数都是0)。

由上面讨论可知，光滑函数不一定等于它的泰勒(无穷)级数。幸运的是，光滑函数总可以表示成带余项的泰勒展开式。接下来介绍带积分余项的泰勒定理。

关于点 ![p](https://www.zhihu.com/equation?tex=p) 的星型域（star-shaped） ![S](https://www.zhihu.com/equation?tex=S) ，满足：(1) ![p\in S](https://www.zhihu.com/equation?tex=p%5Cin+S) , (2)对任意 ![x\in S](https://www.zhihu.com/equation?tex=x%5Cin+S) , 连接![x](https://www.zhihu.com/equation?tex=x) 和 ![p](https://www.zhihu.com/equation?tex=p) 的直线段都包含在 ![S](https://www.zhihu.com/equation?tex=S) 内。下图中， ![S](https://www.zhihu.com/equation?tex=S) 是 ![p](https://www.zhihu.com/equation?tex=p) 的星型域，但![S](https://www.zhihu.com/equation?tex=S) 不是 ![q](https://www.zhihu.com/equation?tex=q) 的星型域。
![](https://pic2.zhimg.com/v2-fc280a916acb476feb2aff95c3058835_b.jpg)p的星型域

**引理1.1 （带积分余项的泰勒定理）**

设 ![f](https://www.zhihu.com/equation?tex=f) 是定义在点 ![p=(p^1,...,p^n)](https://www.zhihu.com/equation?tex=p%3D%28p%5E1%2C...%2Cp%5En%29) 星型域 ![U\subseteq \mathbb{R}^n](https://www.zhihu.com/equation?tex=U%5Csubseteq+%5Cmathbb%7BR%7D%5En) 上的 ![C^\infty](https://www.zhihu.com/equation?tex=C%5E%5Cinfty) 函数。则对任意 ![x\in U](https://www.zhihu.com/equation?tex=x%5Cin+U) ,存在函数 ![g_1,...,g_n\in C^\infty(U)](https://www.zhihu.com/equation?tex=g_1%2C...%2Cg_n%5Cin+C%5E%5Cinfty%28U%29) ,使得 ![f(x)=f(p)+\sum_{i=1}^n(x^i-p^i)g_i(x),\quad g_i(p)=\frac{\partial f}{\partial x^i}(p)](https://www.zhihu.com/equation?tex=f%28x%29%3Df%28p%29%2B%5Csum_%7Bi%3D1%7D%5En%28x%5Ei-p%5Ei%29g_i%28x%29%2C%5Cquad+g_i%28p%29%3D%5Cfrac%7B%5Cpartial+f%7D%7B%5Cpartial+x%5Ei%7D%28p%29)
![](https://pic4.zhimg.com/v2-7c83e430730a79f88eb3ba648bd29a47_b.jpg)U是p的星型域，连接x和p直线段的任意一点都在U内
> 注1： ![C^\infty(U)](https://www.zhihu.com/equation?tex=C%5E%5Cinfty%28U%29) 是在 ![U](https://www.zhihu.com/equation?tex=U) 内每一点p都光滑的函数的集合，即 ![C^\infty(U):=\{f:f \text{ is } C^\infty \text{ at } p,\forall p\in U\}](https://www.zhihu.com/equation?tex=C%5E%5Cinfty%28U%29%3A%3D%5C%7Bf%3Af+%5Ctext%7B+is+%7D+C%5E%5Cinfty+%5Ctext%7B+at+%7D+p%2C%5Cforall+p%5Cin+U%5C%7D) 。
注2： ![\frac{\partial f}{\partial x^i}(p)](https://www.zhihu.com/equation?tex=%5Cfrac%7B%5Cpartial+f%7D%7B%5Cpartial+x%5Ei%7D%28p%29) 表示函数 ![f](https://www.zhihu.com/equation?tex=f) 在点 ![p](https://www.zhihu.com/equation?tex=p) 对 ![x^i](https://www.zhihu.com/equation?tex=x%5Ei) 的偏导数。

证明：因为 ![U](https://www.zhihu.com/equation?tex=U) 是 ![p](https://www.zhihu.com/equation?tex=p) 的星型域，任取 ![x\in U](https://www.zhihu.com/equation?tex=x%5Cin+U) 。 ![x](https://www.zhihu.com/equation?tex=x) 和 ![p](https://www.zhihu.com/equation?tex=p) 之间的直线段任意一点，表示为 ![p+t(x-p),0\leq t\leq1](https://www.zhihu.com/equation?tex=p%2Bt%28x-p%29%2C0%5Cleq+t%5Cleq1) ，也落在 ![U](https://www.zhihu.com/equation?tex=U) 内。故 ![f(p+t(x-p))](https://www.zhihu.com/equation?tex=f%28p%2Bt%28x-p%29%29) 有定义。
根据链式法则， ![\frac{d}{dt}f(p+t(x-p))=\sum(x^i-p^i)\frac{\partial f}{\partial x^i}({p+t(x-p)})](https://www.zhihu.com/equation?tex=%5Cfrac%7Bd%7D%7Bdt%7Df%28p%2Bt%28x-p%29%29%3D%5Csum%28x%5Ei-p%5Ei%29%5Cfrac%7B%5Cpartial+f%7D%7B%5Cpartial+x%5Ei%7D%28%7Bp%2Bt%28x-p%29%7D%29)

上式两边对 ![t](https://www.zhihu.com/equation?tex=t) 从0到1积分，得到
![f(p+t(x-p))|_0^1=\sum(x^i-p^i)\int_0^1\frac{\partial f}{\partial x^i}({p+t(x-p)})\ dt](https://www.zhihu.com/equation?tex=f%28p%2Bt%28x-p%29%29%7C_0%5E1%3D%5Csum%28x%5Ei-p%5Ei%29%5Cint_0%5E1%5Cfrac%7B%5Cpartial+f%7D%7B%5Cpartial+x%5Ei%7D%28%7Bp%2Bt%28x-p%29%7D%29%5C+dt)
令函数 ![g_i(x)=\int_0^1\frac{\partial f}{\partial x^i}({p+t(x-p)})\ dt](https://www.zhihu.com/equation?tex=g_i%28x%29%3D%5Cint_0%5E1%5Cfrac%7B%5Cpartial+f%7D%7B%5Cpartial+x%5Ei%7D%28%7Bp%2Bt%28x-p%29%7D%29%5C+dt) ，
则有： ![f(x)-f(p)=\sum_{i=1}^n(x^i-p^i)g_i(x)](https://www.zhihu.com/equation?tex=f%28x%29-f%28p%29%3D%5Csum_%7Bi%3D1%7D%5En%28x%5Ei-p%5Ei%29g_i%28x%29) 。
并且 ![g_i(p)=\int_0^1\frac{\partial f}{\partial x^i}({p})\ dt=\frac{\partial f}{\partial x^i}(p)](https://www.zhihu.com/equation?tex=g_i%28p%29%3D%5Cint_0%5E1%5Cfrac%7B%5Cpartial+f%7D%7B%5Cpartial+x%5Ei%7D%28%7Bp%7D%29%5C+dt%3D%5Cfrac%7B%5Cpartial+f%7D%7B%5Cpartial+x%5Ei%7D%28p%29) 。证毕。

**例子1.4**

取 ![n=1](https://www.zhihu.com/equation?tex=n%3D1) ,得一维欧式空间 ![\mathbb{R}](https://www.zhihu.com/equation?tex=%5Cmathbb%7BR%7D) ，令点 ![p=0](https://www.zhihu.com/equation?tex=p%3D0) 。则引理1告诉我们，对于在原点光滑的函数 ![f](https://www.zhihu.com/equation?tex=f) ，有 ![f(x)=f(0)+xg_1(x)](https://www.zhihu.com/equation?tex=f%28x%29%3Df%280%29%2Bxg_1%28x%29) , ![g_1](https://www.zhihu.com/equation?tex=g_1) 是光滑函数且 ![g_1(0)=f'(0)](https://www.zhihu.com/equation?tex=g_1%280%29%3Df%27%280%29) 。

因为![g_1](https://www.zhihu.com/equation?tex=g_1) 是光滑函数，则存在 ![g_2](https://www.zhihu.com/equation?tex=g_2) 使得 ![g_1(x)=g_1(0)+xg_2(x)](https://www.zhihu.com/equation?tex=g_1%28x%29%3Dg_1%280%29%2Bxg_2%28x%29) 。

一般的，有 ![g_i(x)=g_i(0)+xg_{i+1}(x)](https://www.zhihu.com/equation?tex=g_i%28x%29%3Dg_i%280%29%2Bxg_%7Bi%2B1%7D%28x%29) 。

因此

![\begin{align} f(x)&=f(0)+xg_1(x)\\ &=f(0)+x(g_1(0)+xg_2(x))\\ & \ ...\\ &=f(0)+g_1(0)x+g_2(0)x^2+\cdots+g_i(0)x^i+g_{i+1}(x)x^{i+1} \end{align} ](https://www.zhihu.com/equation?tex=%5Cbegin%7Balign%7D+f%28x%29%26%3Df%280%29%2Bxg_1%28x%29%5C%5C+%26%3Df%280%29%2Bx%28g_1%280%29%2Bxg_2%28x%29%29%5C%5C+%26+%5C+...%5C%5C+%26%3Df%280%29%2Bg_1%280%29x%2Bg_2%280%29x%5E2%2B%5Ccdots%2Bg_i%280%29x%5Ei%2Bg_%7Bi%2B1%7D%28x%29x%5E%7Bi%2B1%7D+%5Cend%7Balign%7D+)

对上式两边求导，然后计算在 ![0](https://www.zhihu.com/equation?tex=0) 处的各阶导数，就可以求出每个 ![g_k(0)](https://www.zhihu.com/equation?tex=g_k%280%29) 的值为： ![g_i(0)=\frac{1}{k!}f^{(k)}(0)](https://www.zhihu.com/equation?tex=g_i%280%29%3D%5Cfrac%7B1%7D%7Bk%21%7Df%5E%7B%28k%29%7D%280%29) , ![k=1,2,...,i](https://www.zhihu.com/equation?tex=k%3D1%2C2%2C...%2Ci) 。

**Section 2 切向量与导数**

回忆一下微积分里，我们是怎么表示切向量的，以 ![\mathbb{R}^3](https://www.zhihu.com/equation?tex=%5Cmathbb%7BR%7D%5E3) 曲面的切向量为例。

![](https://pic1.zhimg.com/v2-fb7c2e3b88ce3cbcb6d653038a8f2b38_b.jpg)曲面在p点处的切平面和切向量
首先，取曲面三个点，过这三个点确定一个平面，叫做曲面的割平面。令这三个点在曲面上都趋于某个定点 ![p](https://www.zhihu.com/equation?tex=p) ，那么相应的割平面也会变化地趋于某个平面，这个极限平面就叫做曲面在 ![p](https://www.zhihu.com/equation?tex=p) 点的切平面。直观看起来，这个切平面与曲面只相交于一点 ![p](https://www.zhihu.com/equation?tex=p) 。曲面在 ![p](https://www.zhihu.com/equation?tex=p) 点处的切向量，就是位于切平面里，起点位于![p](https://www.zhihu.com/equation?tex=p) 点的向量（如上图）。也就是说，二维曲面在 ![p](https://www.zhihu.com/equation?tex=p) 点处的切向量是三维欧式空间中的一个"箭头"，也对应于一个三维的列数组。

切向量的这种表示方法是有局限的。因为它假定曲面总是能嵌入到高维的欧式空间（如上面例子是二维的曲面嵌入到三维的欧式空间），那么遇到不能嵌入的例子，就不适用了。打个比方，我们在外太空可以清楚看到地球表面是个球面，而在地球上我们却是很难判断它的形状的，问题是，只在地球上有没有方法推测出地球的形状呢？与此类似，给一个曲面能否找到切向量不依赖高维空间的表示呢？接下来就来寻找这个答案，秘密就在于（方向）导数。

**定义2.1 (方向导数）**

设 ![U](https://www.zhihu.com/equation?tex=U) 是![\mathbb{R}^n](https://www.zhihu.com/equation?tex=%5Cmathbb%7BR%7D%5En)的开集，函数![f：U\to \mathbb{R}](https://www.zhihu.com/equation?tex=f%EF%BC%9AU%5Cto+%5Cmathbb%7BR%7D) 。给定 ![U](https://www.zhihu.com/equation?tex=U) 内一点 ![p=(p^1,...,p^n)](https://www.zhihu.com/equation?tex=p%3D%28p%5E1%2C...%2Cp%5En%29) 和一向量 ![v=<v^1,...,v^n>](https://www.zhihu.com/equation?tex=v%3D%3Cv%5E1%2C...%2Cv%5En%3E) 。那么过点 ![p](https://www.zhihu.com/equation?tex=p) 沿 ![v](https://www.zhihu.com/equation?tex=v) 方向的直线上的点可以表示为 ![c(t)=(p^1+tv^1,...,p^n+tv^n)](https://www.zhihu.com/equation?tex=c%28t%29%3D%28p%5E1%2Btv%5E1%2C...%2Cp%5En%2Btv%5En%29) ,分量 ![c^i(t)=p^i+tv^i](https://www.zhihu.com/equation?tex=c%5Ei%28t%29%3Dp%5Ei%2Btv%5Ei) 。

定义函数 ![f](https://www.zhihu.com/equation?tex=f) 在 ![p](https://www.zhihu.com/equation?tex=p) 点沿向量 ![v](https://www.zhihu.com/equation?tex=v) 的方向导数为：

![D_vf|_p=\lim_{t\to 0}\frac{f(c(t))-f(p)}{t}=\frac{d}{dt}\bigg|_{t=0}f(c(t))](https://www.zhihu.com/equation?tex=D_vf%7C_p%3D%5Clim_%7Bt%5Cto+0%7D%5Cfrac%7Bf%28c%28t%29%29-f%28p%29%7D%7Bt%7D%3D%5Cfrac%7Bd%7D%7Bdt%7D%5Cbigg%7C_%7Bt%3D0%7Df%28c%28t%29%29) 。

根据链式法则，得到

![D_vf|_p=\sum_{i=1}^n\frac{dc^i(t)}{dt}(0)\cdot\frac{\partial f}{\partial x^i}(p)=\sum_{i=1}^n v^i\frac{\partial f}{\partial x^i}(p)](https://www.zhihu.com/equation?tex=D_vf%7C_p%3D%5Csum_%7Bi%3D1%7D%5En%5Cfrac%7Bdc%5Ei%28t%29%7D%7Bdt%7D%280%29%5Ccdot%5Cfrac%7B%5Cpartial+f%7D%7B%5Cpartial+x%5Ei%7D%28p%29%3D%5Csum_%7Bi%3D1%7D%5En+v%5Ei%5Cfrac%7B%5Cpartial+f%7D%7B%5Cpartial+x%5Ei%7D%28p%29)

> 注：有些书会严格地定义方向导数为：函数在某一点沿**单位向量**的方向导数。为体现“给定一个向量对应一个方向导数”的核心思想，本文不采用这种定义，两者只是相差某个倍数而已。

![D_vf|_p](https://www.zhihu.com/equation?tex=D_vf%7C_p) 是一个实数，在不混淆情况下，简单记做 ![D_vf](https://www.zhihu.com/equation?tex=D_vf) 。 ![D_v](https://www.zhihu.com/equation?tex=D_v) 可以看做一个映射 ![D_v:f\to \mathbb{R}](https://www.zhihu.com/equation?tex=D_v%3Af%5Cto+%5Cmathbb%7BR%7D) ,即给定一个函数 ![f](https://www.zhihu.com/equation?tex=f) ,得到一个实数 ![D_vf](https://www.zhihu.com/equation?tex=D_vf) 。故 ![D_v](https://www.zhihu.com/equation?tex=D_v) 可以记做 ![D_v=\sum_{i=1}^n v^i\frac{\partial }{\partial x^i}\bigg|_p](https://www.zhihu.com/equation?tex=D_v%3D%5Csum_%7Bi%3D1%7D%5En+v%5Ei%5Cfrac%7B%5Cpartial+%7D%7B%5Cpartial+x%5Ei%7D%5Cbigg%7C_p) 。

至此，我们发现向量 ![v](https://www.zhihu.com/equation?tex=v) 和方向导数映射 ![D_v](https://www.zhihu.com/equation?tex=D_v) 可以联系起来，给定向量 ![v](https://www.zhihu.com/equation?tex=v) 可以确定一个 ![D_v](https://www.zhihu.com/equation?tex=D_v) ,即有映射 ![v\to D_v](https://www.zhihu.com/equation?tex=v%5Cto+D_v) ,这表明切向量 ![v](https://www.zhihu.com/equation?tex=v) 可以看成函数上的某种操作（operator）。我们继续沿着这个思路探索。

**例2.1 **求函数 ![f(x,y,z)=x^2+3y+4z^3](https://www.zhihu.com/equation?tex=f%28x%2Cy%2Cz%29%3Dx%5E2%2B3y%2B4z%5E3) 在点 ![p=(1,1,1)](https://www.zhihu.com/equation?tex=p%3D%281%2C1%2C1%29) 处沿 ![v=<1,2,3>](https://www.zhihu.com/equation?tex=v%3D%3C1%2C2%2C3%3E) 的方向导数 ![D_vf](https://www.zhihu.com/equation?tex=D_vf) 。

> ![f](https://www.zhihu.com/equation?tex=f) 在 ![p](https://www.zhihu.com/equation?tex=p) 处的偏导数为 ![\frac{\partial f}{\partial x}\bigg|_p=2](https://www.zhihu.com/equation?tex=%5Cfrac%7B%5Cpartial+f%7D%7B%5Cpartial+x%7D%5Cbigg%7C_p%3D2) , ![\frac{\partial f}{\partial y}\bigg|_p=3](https://www.zhihu.com/equation?tex=%5Cfrac%7B%5Cpartial+f%7D%7B%5Cpartial+y%7D%5Cbigg%7C_p%3D3) , ![\frac{\partial f}{\partial z}\bigg|_p=12](https://www.zhihu.com/equation?tex=%5Cfrac%7B%5Cpartial+f%7D%7B%5Cpartial+z%7D%5Cbigg%7C_p%3D12) 。则由 ![D_vf=\sum_{i=1}^n v^i\frac{\partial f}{\partial x^i}(p)](https://www.zhihu.com/equation?tex=D_vf%3D%5Csum_%7Bi%3D1%7D%5En+v%5Ei%5Cfrac%7B%5Cpartial+f%7D%7B%5Cpartial+x%5Ei%7D%28p%29) 得到 ![D_vf=1\times2+2\times3+3\times12=44](https://www.zhihu.com/equation?tex=D_vf%3D1%5Ctimes2%2B2%5Ctimes3%2B3%5Ctimes12%3D44)

**section 3 函数芽(germs of function)**

如果两个函数在 ![p](https://www.zhihu.com/equation?tex=p) 的某个邻域内每点取值都相等，则它们有相同的方向导数（由方向导数定义可以得出），也就是说，这两个函数在方向导数的意义下是等价的。这启发我们定义下面的等价类。

**定义3.1 （函数芽）**

![(f,U_p)](https://www.zhihu.com/equation?tex=%28f%2CU_p%29) 表示 ![p](https://www.zhihu.com/equation?tex=p) 点某个领域内的 ![C^\infty](https://www.zhihu.com/equation?tex=C%5E%5Cinfty) 实函数。

定义等价关系：称 ![(f,U)](https://www.zhihu.com/equation?tex=%28f%2CU%29) 等价于 ![(g,V)](https://www.zhihu.com/equation?tex=%28g%2CV%29) ,如果存在开集 ![W\subseteq U\cap V](https://www.zhihu.com/equation?tex=W%5Csubseteq+U%5Ccap+V) 且 ![p\in W](https://www.zhihu.com/equation?tex=p%5Cin+W) ,使得限制在 ![W](https://www.zhihu.com/equation?tex=W) 上有 ![f=g](https://www.zhihu.com/equation?tex=f%3Dg) 。那么在这个等价关系下，函数 ![(f,U)](https://www.zhihu.com/equation?tex=%28f%2CU%29) 的**等价类**就叫做 ![f](https://www.zhihu.com/equation?tex=f) 在 ![p](https://www.zhihu.com/equation?tex=p) 点处的芽（germ）,记做 ![[f]](https://www.zhihu.com/equation?tex=%5Bf%5D) 。

我们记 ![C^\infty_p(\mathbb{R}^n)](https://www.zhihu.com/equation?tex=C%5E%5Cinfty_p%28%5Cmathbb%7BR%7D%5En%29) 或 ![C^\infty_p](https://www.zhihu.com/equation?tex=C%5E%5Cinfty_p) 为： ![\mathbb{R}^n](https://www.zhihu.com/equation?tex=%5Cmathbb%7BR%7D%5En) 空间中，点 ![p](https://www.zhihu.com/equation?tex=p) 处所有 ![C^\infty](https://www.zhihu.com/equation?tex=C%5E%5Cinfty) 函数的芽的集合，即是 ![C^\infty_p(\mathbb{R}^n)=\{[h]:h \text{ is }C^\infty \text{ at }p \}](https://www.zhihu.com/equation?tex=C%5E%5Cinfty_p%28%5Cmathbb%7BR%7D%5En%29%3D%5C%7B%5Bh%5D%3Ah+%5Ctext%7B+is+%7DC%5E%5Cinfty+%5Ctext%7B+at+%7Dp+%5C%7D)

> 注1：通俗讲，函数f的芽就是那些在某个小邻域内与f相等的函数
注2：定义函数芽使得讨论的函数减少了，因为属于同个芽的函数都是等价的，讨论其中一个代表就行。
注3：今后若写 ![f\in C^\infty_p(\mathbb{R}^n)](https://www.zhihu.com/equation?tex=f%5Cin+C%5E%5Cinfty_p%28%5Cmathbb%7BR%7D%5En%29) ,实际上是讨论芽 ![[f]](https://www.zhihu.com/equation?tex=%5Bf%5D) ,只不过选了其中一个代表 ![f](https://www.zhihu.com/equation?tex=f) 。

**例子3.1 **

设在 ![\mathbb{R}](https://www.zhihu.com/equation?tex=%5Cmathbb%7BR%7D) 上的一元函数 ![f_1,f_2,f_3,](https://www.zhihu.com/equation?tex=f_1%2Cf_2%2Cf_3%2C) 在点 ![x_0](https://www.zhihu.com/equation?tex=x_0) 处光滑，由图看出在邻域 ![(x_0-\varepsilon,x_0+\varepsilon)](https://www.zhihu.com/equation?tex=%28x_0-%5Cvarepsilon%2Cx_0%2B%5Cvarepsilon%29) 内有![f_1=f_2=f_3](https://www.zhihu.com/equation?tex=f_1%3Df_2%3Df_3) 。因此函数 ![f_1,f_2,f_3,](https://www.zhihu.com/equation?tex=f_1%2Cf_2%2Cf_3%2C)是等价的，它们同属于一个芽，这个芽可以记做 ![[f_1]](https://www.zhihu.com/equation?tex=%5Bf_1%5D) 或 ![[f_2]](https://www.zhihu.com/equation?tex=%5Bf_2%5D) 或 ![[f_3]](https://www.zhihu.com/equation?tex=%5Bf_3%5D) 等等
![](https://pic4.zhimg.com/v2-ff1f3e0cd86c40804bd5da794c33a67f_b.jpg)函数芽

