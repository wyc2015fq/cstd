# 伽罗瓦留下的遗物：日本史上最难的高考题！！——东京大学1998年高考第三题（理科） - 知乎
# 

![](https://pic1.zhimg.com/v2-158656bfbdc452aacb6648fd38dd5968_b.jpg)
——————————————————————————————————————

题目背景：

日本有很多为了考大学而开设的补课班。补课班A拿到题目之后不久，便放弃了当天做出答案的想法并下班。第二天，日本国内所有的补课班（包括河合塾、駿台等顶级补课班）仍然解不出来，这时补课班B给补课班A电话，催促补课班A快点把这道题做出来。补课班A拜托安田教授解题，但仍然解不出来。最后安田教授联系了法国某数学系大学教授，专攻数学奥赛的C教授，又花了两天才把答案写出来。

当年的东京大学考生，最后只有两人做出这道题（情报不确定）。把群论知识运用到初等题目上，这是第一例。

————————————————————————————————————

　计 ![G=(V,W)](https://www.zhihu.com/equation?tex=G%3D%28V%2CW%29) 是由“具有有限个点的集合 ![V= \{ P_1,P_2,\cdot\cdot\cdot P_n \}](https://www.zhihu.com/equation?tex=V%3D+%5C%7B+P_1%2CP_2%2C%5Ccdot%5Ccdot%5Ccdot+P_n+%5C%7D) ”和“在这些点之间连接的线段 ![W=\{E_1,E_2,\cdot\cdot\cdot,E_m\}](https://www.zhihu.com/equation?tex=W%3D%5C%7BE_1%2CE_2%2C%5Ccdot%5Ccdot%5Ccdot%2CE_m%5C%7D) ” 组成的图形。每一条边 ![E_j](https://www.zhihu.com/equation?tex=E_j) 都有两个顶点 ![P_{i_1},P_{i_2}](https://www.zhihu.com/equation?tex=P_%7Bi_1%7D%2CP_%7Bi_2%7D)![(i_1\neq i_2)](https://www.zhihu.com/equation?tex=%28i_1%5Cneq+i_2%29) 。不考虑除了顶点之外的线段的交点。另外，每一个点都染有白色或黑色。

　例如下面的图 ![1](https://www.zhihu.com/equation?tex=1) 中， ![n=5,m=4](https://www.zhihu.com/equation?tex=n%3D5%2Cm%3D4) 。边 ![E_i\;(i=1,2,\cdot\cdot\cdot ,4)](https://www.zhihu.com/equation?tex=E_i%5C%3B%28i%3D1%2C2%2C%5Ccdot%5Ccdot%5Ccdot+%2C4%29) 的顶点是 ![P_i](https://www.zhihu.com/equation?tex=P_i) 和 ![P_5](https://www.zhihu.com/equation?tex=P_5) 。另外， ![P_1,P_2](https://www.zhihu.com/equation?tex=P_1%2CP_2) 是白色顶点， ![P_3,P_4,P_5](https://www.zhihu.com/equation?tex=P_3%2CP_4%2CP_5) 是黑色顶点。

　作为起点的图形 ![G_1](https://www.zhihu.com/equation?tex=G_1) （图 ![2](https://www.zhihu.com/equation?tex=2)）中， ![n=1,\;m=0](https://www.zhihu.com/equation?tex=n%3D1%2C%5C%3Bm%3D0) 。其中唯一的顶点是白色的。

　定义以下两种操作，使原来的图形 ![G=(V,W)](https://www.zhihu.com/equation?tex=G%3D%28V%2CW%29) 变换为新的图形 ![G\prime=(V\prime,W\prime)](https://www.zhihu.com/equation?tex=G%5Cprime%3D%28V%5Cprime%2CW%5Cprime%29) 。每种操作都会让图形的边数和顶点数各增加 ![1](https://www.zhihu.com/equation?tex=1) 。
- 操作1：

　首先选定 ![G](https://www.zhihu.com/equation?tex=G) 的一个顶点 ![P_{i_0}](https://www.zhihu.com/equation?tex=P_%7Bi_0%7D) 。设 ![V\prime](https://www.zhihu.com/equation?tex=V%5Cprime) 是由 ![V](https://www.zhihu.com/equation?tex=V) 增加一个顶点 ![P_{n+1}](https://www.zhihu.com/equation?tex=P_%7Bn%2B1%7D) 而得到的集合。 ![W\prime](https://www.zhihu.com/equation?tex=W%5Cprime) 是由 ![W](https://www.zhihu.com/equation?tex=W) 增加一条边 ![E_{n+1}](https://www.zhihu.com/equation?tex=E_%7Bn%2B1%7D) 得到的集合。在操作中， ![E_{n+1}](https://www.zhihu.com/equation?tex=E_%7Bn%2B1%7D) 的两个顶点分别是 ![P_{i_0}](https://www.zhihu.com/equation?tex=P_%7Bi_0%7D) 和 ![P_{n+1}](https://www.zhihu.com/equation?tex=P_%7Bn%2B1%7D) 。 ![G\prime](https://www.zhihu.com/equation?tex=G%5Cprime) 其余的边的顶点都和 ![G](https://www.zhihu.com/equation?tex=G) 完全相同。如果在 ![G](https://www.zhihu.com/equation?tex=G) 中的 ![P_{i_0}](https://www.zhihu.com/equation?tex=P_%7Bi_0%7D) 的颜色是白色（或黑色）的话，在 ![G\prime](https://www.zhihu.com/equation?tex=G%5Cprime) 中这个点的颜色就变为黑色（或白色）。除此以外的点的颜色都不变。另外， ![P_{n+1}](https://www.zhihu.com/equation?tex=P_%7Bn%2B1%7D) 为白色顶点。（示例：图3）
- 操作2：

　首先选定 ![G](https://www.zhihu.com/equation?tex=G) 的一条边 ![E_{j_0}](https://www.zhihu.com/equation?tex=E_%7Bj_0%7D) ，设 ![V\prime](https://www.zhihu.com/equation?tex=V%5Cprime) 是由 ![V](https://www.zhihu.com/equation?tex=V) 增加一个顶点 ![P_{m+1}](https://www.zhihu.com/equation?tex=P_%7Bm%2B1%7D) 而得到的集合。 ![W\prime](https://www.zhihu.com/equation?tex=W%5Cprime) 是由 ![W](https://www.zhihu.com/equation?tex=W) 删除一条边 ![E_{j_0}](https://www.zhihu.com/equation?tex=E_%7Bj_0%7D) ，并增加两条边 ![E_{i_1},\;E_{i_2}](https://www.zhihu.com/equation?tex=E_%7Bi_1%7D%2C%5C%3BE_%7Bi_2%7D) 而得到的集合。如果设 ![E_{j_0}](https://www.zhihu.com/equation?tex=E_%7Bj_0%7D) 的两个顶点分别是 ![P_{i_1},P_{i_2}](https://www.zhihu.com/equation?tex=P_%7Bi_1%7D%2CP_%7Bi_2%7D) ，那么对于增加的两条边， ![E_{i_1}](https://www.zhihu.com/equation?tex=E_%7Bi_1%7D) 的两个顶点分别为 ![P_{i_1}](https://www.zhihu.com/equation?tex=P_%7Bi_1%7D) 和 ![P_{m+1}](https://www.zhihu.com/equation?tex=P_%7Bm%2B1%7D) ，而 ![E_{i_2}](https://www.zhihu.com/equation?tex=E_%7Bi_2%7D) 的两个顶点分别为 ![P_{i_2}](https://www.zhihu.com/equation?tex=P_%7Bi_2%7D) 和 ![P_{m+1}](https://www.zhihu.com/equation?tex=P_%7Bm%2B1%7D) 。 ![G\prime](https://www.zhihu.com/equation?tex=G%5Cprime) 其余的边的顶点都和 ![G](https://www.zhihu.com/equation?tex=G) 完全相同。如果在 ![G](https://www.zhihu.com/equation?tex=G) 中的顶点 ![P_{i_1}](https://www.zhihu.com/equation?tex=P_%7Bi_1%7D) 是白色（或黑色）的话，在 ![G\prime](https://www.zhihu.com/equation?tex=G%5Cprime) 中这个点的颜色就变为黑色（或白色）。 对于![P_{i_2}](https://www.zhihu.com/equation?tex=P_%7Bi_2%7D) ，也做一样的颜色变换。除此以外的点的颜色都不变。另外， ![P_{n+1}](https://www.zhihu.com/equation?tex=P_%7Bn%2B1%7D) 为白色顶点。

（示例：图4）

　由起点图形 ![G_1](https://www.zhihu.com/equation?tex=G_1) 出发，通过这两种操作（有限次）的变换能够得到的图形叫做“可能图形”。请回答以下问题。

- 试证明图 ![5](https://www.zhihu.com/equation?tex=5) 的三个图形，都是“可能图形”。（注意，这三个图形所有的顶点都是白色。）
- 设 ![n](https://www.zhihu.com/equation?tex=n) 为自然数，求有 ![n](https://www.zhihu.com/equation?tex=n) 个顶点的棒状图形作为“可能图形”的充分必要条件。（如图6。注意，所有的顶点都是白色）
![](https://pic1.zhimg.com/v2-6a99157d1771d8eafd5c570bbdf12650_b.jpg)

考试时间：三道题150分钟，也就是说这道题50分钟

————————————————————————————————————

宣传一波物理专栏：[来看看日本高中的高考理科都考些啥？](https://zhuanlan.zhihu.com/physics-in-japan)顺便求关注。

————————————————————————————————————


评论区果然厉害， [@灵剑](https://www.zhihu.com/people/60cd9664ef2f13d8d5ddba060ef35a8a) 和 [@Recursion](https://www.zhihu.com/people/45c6e93a95cc5654df2993a76475b01f) 都有很厉害的解法。既然这样的话笔者就不放答案里的麻烦解法了…………

> 第一问直接构造就行，主要考察是否理解了问题吧……第一个图是从起始点连续执行1两次，第二个是从起始点连续执行1四次，第三个先执行1，再执行2得到白白黑，然后对中间的白执行两次1，对右边的黑执行三次1
第二问关键是观察两种操作下图形的某种不变性。我们可以看到，要消除一条线上的黑色顶点，只有两种方法：一种是移到边上，然后执行操作1；一种是把两个黑色顶点凑到一起，然后执行操作2,。这提示我们用黑色顶点之间的距离来定义不变量。对于任意一种分布，我们在两边各补上一个黑色顶点，然后计算：从第一个顶点（最左边补上的）到第二个顶点的距离（相邻两个顶点距离定义为1，隔一个为2，依此类推），加上第三个到第四个的距离，加上第五个到第六个的距离……记为距离A；从第二个到第三个的距离，加上第四个到第五个的距离，加上第六个到第七个的距离……记为距离B。不难发现距离A + 距离B = n + 1。全部顶点都是白色的时候，距离A = n + 1，距离B = 0。下面的讨论中我们并不仔细区分这两种距离，只要注意它们永远是互补的就行，任意两个黑色顶点的距离（包括到两端补上的顶点的）总体现在其中一种距离中。
显然我们只能对线的两端使用操作1，则：
1. 对线的最右端使用操作1的时候，如果最右边为黑色顶点，则其中一种距离增加2，另一种减少1；如果最右边为白色顶点，同样其中一种距离增加2，另一种减少1。
2. 对线的最左端使用操作1的时候，同上，其中一种距离增加2，另一种减少1，然后两个距离互换。在不考虑两个距离的顺序的时候，可以认为仍然是一种距离增加2，另一种减少1
3. 对某条边使用操作2的时候，分类讨论不难发现，仍然是某种距离增加2，而另一种减少1

注意到无论是增加2，还是减少1，对3取余数的结果都是减少1（从2变为1，从1变为0，从0则变为2），因此两种距离无论使用任何操作，对3取余数的结果都是每次减1，并且在同余的范围内循环。
前面说过，全部顶点都是白色的时候，两种距离中有一种为0，因此对3的余数也必须为0。注意到初始状态下有一个顶点，一种距离为2，另一种距离为0，可以得到，当有n个顶点时，一种距离在模3的意义下与3-n同余，另一种距离与1-n同余，因此3-n和1-n中至少有一个为3的倍数，所以n必须是3的倍数，或者n模3余1，即n必须为3k或3k+1的形式。
上面证明了必要性，下面通过构造法证明充分性。首先n=1是可行的。对于初始节点连续进行两次操作1得到3个连续白色顶点；先进行操作1，然后进行一次操作2，再对唯一的黑色顶点进行操作1，得到4个连续白色顶点，证明了n=3，n=4可行。如果n=m可行，则：对于最右顶点执行1；对于最右的边执行2；对于最右顶点（黑色）执行1。则得到了n=m+3的可行解。用数学归纳法可以证明，n=3k, n=3k+1都可行。

by 灵剑


> 我们定义一个变换X为新建一个n-1个点的图，若第i条边连接的两个点同色，则变换后点i为白色，否则为黑色。
定义X的逆变换为X^{-1}。
在X^{-1}变换后的情况下考虑操作1和2。
操作1就是将末尾的点反色后再添加一个同色点。
考虑操作2，设原来颜色在X^{-1}意义下是abc，操作后就是aBBc(b与B反色)。
那么容易发现每次操作后黑白两种颜色数量差在模3意义下不变。
初始时黑白色差显然不为0，所以n+1=3k，也就是n=3k-1是不合法的。
n=3k和3k-2归纳法构造一下就行了吧。。。

by Recursion


至于日本人的解法证明3n+2不可能……他们的思路是这样的：

1.证明操作1和操作2的顺序就算交换，也会得到一样的结果

2.证明操作1之后，一定会变成OXX……XOXX……XO，或者OXX……X，或者XX……XO的形式。其中O代表白球，X代表黑球，X的个数可能为零。

3.设O=120°的旋转矩阵A，X=关于x轴对称的变换矩阵B。

注意：操作2不会让矩阵的乘积发生变化

所以进行完所有的操作1后，矩阵的乘积一定要是A^2才行（注意到A^3=E）

然而进行完所有的操作1后，矩阵的乘积不可能是A^2。

感觉没有评论区的证法简单，这里就不赘述了

