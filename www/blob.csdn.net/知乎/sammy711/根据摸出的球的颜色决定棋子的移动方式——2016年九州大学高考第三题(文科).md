# 根据摸出的球的颜色决定棋子的移动方式——2016年九州大学高考第三题(文科) - 知乎
# 

![](https://pic1.zhimg.com/v2-4c2488403a9f5b1d6dac260ef6b785a8_b.png)
久违的文科题。

袋中有15个红球，10个蓝球，5个白球。随机从袋子里面摸一个球，根据摸出的球的颜色进行如下“操作”

定义一次“操作”：假定棋子原来的位置是 ![(x,y)](https://www.zhihu.com/equation?tex=%28x%2Cy%29) 。如果拿到红球，移动到 ![(x+1,y)](https://www.zhihu.com/equation?tex=%28x%2B1%2Cy%29) ；拿到蓝球移动到 ![(x,y+1)](https://www.zhihu.com/equation?tex=%28x%2Cy%2B1%29) ；拿到白球移动到 ![(x-1,y-1)](https://www.zhihu.com/equation?tex=%28x-1%2Cy-1%29) 。最后把球放回袋子里

最初棋子的位置是 ![(0,0)](https://www.zhihu.com/equation?tex=%280%2C0%29) 。回答下面问题

1.求 ![n](https://www.zhihu.com/equation?tex=n) 次操作之中只取出了一次白球的时，操作后棋子的所有可能位置的坐标。

2. 求 ![n](https://www.zhihu.com/equation?tex=n) 次操作后，棋子所有可能的位置的个数。

3.坐标平面上四点 ![(1,1),(1,-1),(-1,1),(-1,-1)](https://www.zhihu.com/equation?tex=%281%2C1%29%2C%281%2C-1%29%2C%28-1%2C1%29%2C%28-1%2C-1%29) 构成的正方形记为 ![D](https://www.zhihu.com/equation?tex=D) 。 ![n](https://www.zhihu.com/equation?tex=n) 次操作后棋子的在 ![D](https://www.zhihu.com/equation?tex=D) 内部或者在 ![D](https://www.zhihu.com/equation?tex=D) 的边上的概率记作 ![P_n](https://www.zhihu.com/equation?tex=P_n) 。求 ![P_3](https://www.zhihu.com/equation?tex=P_3)

4. ![N](https://www.zhihu.com/equation?tex=N) 是自然数，求 ![P_{3N}](https://www.zhihu.com/equation?tex=P_%7B3N%7D)



————————————————————————————————————————

1.

设取出红球的次数是 ![t](https://www.zhihu.com/equation?tex=t) ，因为取出白球是1次，所以蓝球的次数是![n-1-t](https://www.zhihu.com/equation?tex=n-1-t)

那么最后的坐标就是 ![t(1,0)+(-1,-1)+(n-1-t)(0,1)](https://www.zhihu.com/equation?tex=t%281%2C0%29%2B%28-1%2C-1%29%2B%28n-1-t%29%280%2C1%29)

也就是 ![(t-1,n-2-t)](https://www.zhihu.com/equation?tex=%28t-1%2Cn-2-t%29) ，其中 ![1\leq t \leq n](https://www.zhihu.com/equation?tex=1%5Cleq+t+%5Cleq+n)

2.

设取出红球的次数是 ![x](https://www.zhihu.com/equation?tex=x) ，白球的次数是 ![y](https://www.zhihu.com/equation?tex=y) ，蓝球的次数是 ![z](https://www.zhihu.com/equation?tex=z)

那么最后的坐标就是 ![(x-y,z-y)](https://www.zhihu.com/equation?tex=%28x-y%2Cz-y%29) ，其中 ![x,y,z\geq0,x+y+z=n](https://www.zhihu.com/equation?tex=x%2Cy%2Cz%5Cgeq0%2Cx%2By%2Bz%3Dn)

下面证明对于不同的 ![y](https://www.zhihu.com/equation?tex=y) ，最后得到的坐标都不相同

对于不同的 ![y_1,y_2](https://www.zhihu.com/equation?tex=y_1%2Cy_2)

![y=y_1](https://www.zhihu.com/equation?tex=y%3Dy_1)的坐标和 ![y=y_2](https://www.zhihu.com/equation?tex=y%3Dy_2) 的坐标分别是 ![(x-y_1,z-y_1),(x-y_2,z-y_2)](https://www.zhihu.com/equation?tex=%28x-y_1%2Cz-y_1%29%2C%28x-y_2%2Cz-y_2%29)

如果最后坐标相同的话，解得 ![y_1=y_2](https://www.zhihu.com/equation?tex=y_1%3Dy_2) ，矛盾

所以我们只需要计算 ![\sum_{k=0}^n (y=k](https://www.zhihu.com/equation?tex=%5Csum_%7Bk%3D0%7D%5En+%28y%3Dk) 时点的个数)

由于 ![x+z=n-y](https://www.zhihu.com/equation?tex=x%2Bz%3Dn-y) ，所以 ![(x,z)](https://www.zhihu.com/equation?tex=%28x%2Cz%29) 的组的个数为 ![n-y+1](https://www.zhihu.com/equation?tex=n-y%2B1)

所以结果就是 ![\sum_{k=0}^{n}\;n-k+1=\frac{(n+1)(n+2)}{2}](https://www.zhihu.com/equation?tex=%5Csum_%7Bk%3D0%7D%5E%7Bn%7D%5C%3Bn-k%2B1%3D%5Cfrac%7B%28n%2B1%29%28n%2B2%29%7D%7B2%7D)

3.

我们在第二问知道，不同的 ![y](https://www.zhihu.com/equation?tex=y) 所对应的点是不同的

![y=0](https://www.zhihu.com/equation?tex=y%3D0) 时， ![x+y=3](https://www.zhihu.com/equation?tex=x%2By%3D3) ，不可能在正方形内

![y=3](https://www.zhihu.com/equation?tex=y%3D3) 时，坐标为 ![(-3,-3)](https://www.zhihu.com/equation?tex=%28-3%2C-3%29) ，同样不可能

![y=2](https://www.zhihu.com/equation?tex=y%3D2) 时，横坐标和纵坐标中必有一个为 ![2](https://www.zhihu.com/equation?tex=2) ，不可能

![y=1](https://www.zhihu.com/equation?tex=y%3D1) 时，可能的所有坐标为 ![(0,0),(1,-1),(-1,1)](https://www.zhihu.com/equation?tex=%280%2C0%29%2C%281%2C-1%29%2C%28-1%2C1%29) ，全部在正方形内

所以我们只需要计算 ![y=1](https://www.zhihu.com/equation?tex=y%3D1) 的概率即可

![P_{3}=C^1_3\times\frac{5}{30} \times(\frac{25}{30})^2=\frac{25}{72}](https://www.zhihu.com/equation?tex=P_%7B3%7D%3DC%5E1_3%5Ctimes%5Cfrac%7B5%7D%7B30%7D+%5Ctimes%28%5Cfrac%7B25%7D%7B30%7D%29%5E2%3D%5Cfrac%7B25%7D%7B72%7D)

4.

根据第三问的提示，我们尝试证明只有 

我们知道,最后点的位置是 ![(x-y,z-y)](https://www.zhihu.com/equation?tex=%28x-y%2Cz-y%29)

因为 ![x+y+z=3N](https://www.zhihu.com/equation?tex=x%2By%2Bz%3D3N)

点的位置也可以写成![(x-y,3N-2y-x)](https://www.zhihu.com/equation?tex=%28x-y%2C3N-2y-x%29)

![-1\leq x-y\leq1](https://www.zhihu.com/equation?tex=-1%5Cleq+x-y%5Cleq1) ，且 ![-1\leq 3N-2y-x\leq1](https://www.zhihu.com/equation?tex=-1%5Cleq+3N-2y-x%5Cleq1)

两个不等式相加

![-2\leq3N-3y\leq2](https://www.zhihu.com/equation?tex=-2%5Cleq3N-3y%5Cleq2) ，也就是![-\frac{2}{3}\leq N-y\leq\frac{2}{3}](https://www.zhihu.com/equation?tex=-%5Cfrac%7B2%7D%7B3%7D%5Cleq+N-y%5Cleq%5Cfrac%7B2%7D%7B3%7D)

考虑到 ![N,y](https://www.zhihu.com/equation?tex=N%2Cy) 均为整数

![y=N](https://www.zhihu.com/equation?tex=y%3DN) 时才有可能最后停留在正方形内。

带回原来的不等式![-1\leq x-y\leq1](https://www.zhihu.com/equation?tex=-1%5Cleq+x-y%5Cleq1)

得到![N-1\leq x\leq N+1](https://www.zhihu.com/equation?tex=N-1%5Cleq+x%5Cleq+N%2B1)

所以只需要计算

![(x,y,z)=(N-1,N,N+1)\;\;,\;\;(N,N,N)\;\;,\;\;(N+1,N,N-1)](https://www.zhihu.com/equation?tex=%28x%2Cy%2Cz%29%3D%28N-1%2CN%2CN%2B1%29%5C%3B%5C%3B%2C%5C%3B%5C%3B%28N%2CN%2CN%29%5C%3B%5C%3B%2C%5C%3B%5C%3B%28N%2B1%2CN%2CN-1%29)

三种情况的概率即可

因此 ![P_{3N}=C^{N-1}_{3N}C^{N+1}_{2N+1}\cdot(\frac{15}{30})^{N-1}\cdot(\frac{10}{30})^{N+1}\cdot(\frac{5}{30})^N+C^{N}_{3N}C^{N}_{2N}\cdot(\frac{15}{30})^{N}\cdot(\frac{10}{30})^{N}\cdot(\frac{5}{30})^N](https://www.zhihu.com/equation?tex=P_%7B3N%7D%3DC%5E%7BN-1%7D_%7B3N%7DC%5E%7BN%2B1%7D_%7B2N%2B1%7D%5Ccdot%28%5Cfrac%7B15%7D%7B30%7D%29%5E%7BN-1%7D%5Ccdot%28%5Cfrac%7B10%7D%7B30%7D%29%5E%7BN%2B1%7D%5Ccdot%28%5Cfrac%7B5%7D%7B30%7D%29%5EN%2BC%5E%7BN%7D_%7B3N%7DC%5E%7BN%7D_%7B2N%7D%5Ccdot%28%5Cfrac%7B15%7D%7B30%7D%29%5E%7BN%7D%5Ccdot%28%5Cfrac%7B10%7D%7B30%7D%29%5E%7BN%7D%5Ccdot%28%5Cfrac%7B5%7D%7B30%7D%29%5EN)![+C^{N+1}_{3N}C^{N-1}_{2N-1}\cdot(\frac{15}{30})^{N+1}\cdot(\frac{10}{30})^{N-1}\cdot(\frac{5}{30})^N](https://www.zhihu.com/equation?tex=%2BC%5E%7BN%2B1%7D_%7B3N%7DC%5E%7BN-1%7D_%7B2N-1%7D%5Ccdot%28%5Cfrac%7B15%7D%7B30%7D%29%5E%7BN%2B1%7D%5Ccdot%28%5Cfrac%7B10%7D%7B30%7D%29%5E%7BN-1%7D%5Ccdot%28%5Cfrac%7B5%7D%7B30%7D%29%5EN)

![=\frac{1}{2^{N-1}}\cdot\frac{1}{3^{N-1}}\cdot\frac{1}{6^N}\cdot](https://www.zhihu.com/equation?tex=%3D%5Cfrac%7B1%7D%7B2%5E%7BN-1%7D%7D%5Ccdot%5Cfrac%7B1%7D%7B3%5E%7BN-1%7D%7D%5Ccdot%5Cfrac%7B1%7D%7B6%5EN%7D%5Ccdot)![\;\;(\frac{1}{9} \cdot \frac{{3N}!(2N+1)!}{(N-1)!(2N+1)!(N+1)!N!}+\frac{1}{6} \cdot \frac{(3N)!(2N)!}{N!(2N)!N!N!}](https://www.zhihu.com/equation?tex=%5C%3B%5C%3B%28%5Cfrac%7B1%7D%7B9%7D+%5Ccdot+%5Cfrac%7B%7B3N%7D%21%282N%2B1%29%21%7D%7B%28N-1%29%21%282N%2B1%29%21%28N%2B1%29%21N%21%7D%2B%5Cfrac%7B1%7D%7B6%7D+%5Ccdot+%5Cfrac%7B%283N%29%21%282N%29%21%7D%7BN%21%282N%29%21N%21N%21%7D)![+\frac{1}{4} \cdot \frac{{3N}!(2N-1)!}{(N+1)!(2N-1)!(N-1)!N!})](https://www.zhihu.com/equation?tex=%2B%5Cfrac%7B1%7D%7B4%7D+%5Ccdot+%5Cfrac%7B%7B3N%7D%21%282N-1%29%21%7D%7B%28N%2B1%29%21%282N-1%29%21%28N-1%29%21N%21%7D%29)

![=\frac{1}{6^{2N-1}}\cdot\frac{({3N})!}{(N-1)!(N-1)!N!} \cdot (\frac{1}{9N(N+1)}+\frac{1}{6N^2}+\frac{1}{4N(N+1)})](https://www.zhihu.com/equation?tex=%3D%5Cfrac%7B1%7D%7B6%5E%7B2N-1%7D%7D%5Ccdot%5Cfrac%7B%28%7B3N%7D%29%21%7D%7B%28N-1%29%21%28N-1%29%21N%21%7D+%5Ccdot+%28%5Cfrac%7B1%7D%7B9N%28N%2B1%29%7D%2B%5Cfrac%7B1%7D%7B6N%5E2%7D%2B%5Cfrac%7B1%7D%7B4N%28N%2B1%29%7D%29)

![=\frac{1}{6^{2N-1}}\;\;\cdot\frac{({3N})!}{(N+1)!(N!)^2} \cdot \frac{19N+6}{36}](https://www.zhihu.com/equation?tex=%3D%5Cfrac%7B1%7D%7B6%5E%7B2N-1%7D%7D%5C%3B%5C%3B%5Ccdot%5Cfrac%7B%28%7B3N%7D%29%21%7D%7B%28N%2B1%29%21%28N%21%29%5E2%7D+%5Ccdot+%5Cfrac%7B19N%2B6%7D%7B36%7D)

![=\frac{(3N)!(19N+6)}{6^{2N+1}(N!)^2(N+1)!}](https://www.zhihu.com/equation?tex=%3D%5Cfrac%7B%283N%29%21%2819N%2B6%29%7D%7B6%5E%7B2N%2B1%7D%28N%21%29%5E2%28N%2B1%29%21%7D)


————————————————————————————————————

这道题让文科生在25分钟解出来真的是有些困难，计算又复杂又容易错。

不过可以在最后带入 ![N=1](https://www.zhihu.com/equation?tex=N%3D1) 和第三题结果比较，作为验算




