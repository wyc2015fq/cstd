# 科学网—这棵树够数学的 - 蒋迅的博文




# 这棵树够数学的                                                   ![](./static/image/blog/recommendico.gif)精选

已有 8241 次阅读2013-4-12 11:24|个人分类:[够数学](http://blog.sciencenet.cn/home.php?mod=space&uid=420554&do=blog&classid=140765&view=me)|系统分类:[图片百科](http://blog.sciencenet.cn/home.php?mod=space&do=blog&view=all&uid=420554&catid=6)|关键词:数学,,够数学,,勾股定理,,树|[数学](misc.php?mod=tag&id=286), [够数学](misc.php?mod=tag&id=1869), [勾股定理](misc.php?mod=tag&id=21929)



作者：蒋迅

![](http://image.sciencenet.cn/album/201304/11/191400zmt676gwztbv6mq6.gif)
[imgur.com](http://i.imgur.com/eFP73HR.gif)

这棵树叫“毕达哥拉斯树”([Pythagorean Tree](http://www.reddit.com/r/mathpics/comments/1b9z62/pythagorean_tree/))。因为它是相对勾股定理而言的，我们也可以称之为“勾股树”。作者使用了Python 的“[PYX package](http://pyx.sourceforge.net/)”来产生图片，然后用GIMP产生动太的GIF。下面是作者公布的一个简化了的程序：

from math import acos, sin, cos, pi, sqrt
from pyx import *
import os

def draw_layer(color):
    global c
   for square in layer:
      if square[1] > .0001:
       c.stroke(rect, [ deco.filled([color]), color,
          trafo.translate(square[0][0],square[0][1]) *
          trafo.rotate(square[2]*180/pi) *
          trafo.scale(square[1]) ])

def next_left():
   return set( [ ((t[0]-s*sin(r), t[1]+s*cos(r)), s*ls, r+theta )
     for (t,s,r) in layer ] )

def next_right():
      return set( [ ((t[0]+s*(ls*cos(r+theta)-sin(r)),
                        t[1]+s*(cos(r)+ls*sin(r+theta))),
                        s*rs, r-phi )
                    for (t,s,r) in layer ] )


if __name__ == "__main__":

      ## INITIALIZE
      N = 15                  # NUMBER OF LAYERS
      imgname = 'Ptree_7-7'   # IMAGE NAME
      ls = .7                 # LEFT BRANCH SIZE
      rs = .7                 # RIGHT BRANCH SIZE ; ls+rs >= 1

      theta = acos( (ls**2-rs**2+1) / (2*ls) )
      phi = acos( (rs**2-ls**2+1) / (2*rs) )
      layer = set([ ((0.0,0.0), 1.0, 0.0) ])
      c = canvas.canvas()
      rect = path.rect(0,0,1,1)

      for i in xrange(N-1):
            draw_layer(color.cmyk.RawSienna)
            layer = next_left() | next_right()
            print 'Layer', i+1

      draw_layer(color.rgb.green)
      c.writePDFfile(imgname)





转载本文请联系原作者获取授权，同时请注明本文来自蒋迅科学网博客。
链接地址：[http://blog.sciencenet.cn/blog-420554-679481.html](http://blog.sciencenet.cn/blog-420554-679481.html)

上一篇：[北京师大文革受难者名录 (待补齐)](blog-420554-676996.html)
下一篇：[水熊虫和太空辐射](blog-420554-679747.html)


