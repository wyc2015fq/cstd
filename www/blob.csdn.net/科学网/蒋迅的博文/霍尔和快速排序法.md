# 科学网—霍尔和快速排序法 - 蒋迅的博文




# 霍尔和快速排序法                                                   ![](./static/image/blog/recommendico.gif)精选

已有 6821 次阅读2012-3-27 07:21|个人分类:[科技](http://blog.sciencenet.cn/home.php?mod=space&uid=420554&do=blog&classid=136794&view=me)|系统分类:[人物纪事](http://blog.sciencenet.cn/home.php?mod=space&do=blog&view=all&uid=420554&catid=5)|关键词:霍尔,,快速排序法|[霍尔](misc.php?mod=tag&id=9517), [快速排序法](misc.php?mod=tag&id=132785)



作者：蒋迅

![](http://image.sciencenet.cn/album/201202/11/082817zqxz3f0fnllxzfxf.jpg)
Source: [wikipedia](http://en.wikipedia.org/wiki/Tony_Hoare)
[彭思龙](http://www.sciencenet.cn/blog/stone1971111.htm)老师抱怨说[信息科学缺少类似数学的故事](http://www.sciencenet.cn/blog/user_content.aspx?id=363340)，我想我可以贡献一点。

霍尔 ([Sir Charles Antony Richard Hoare](http://en.wikipedia.org/wiki/Tony_Hoare)) 是一位英国计算机科学家，他是著名的[快速排序](http://zh.wikipedia.org/wiki/%E5%BF%AB%E9%80%9F%E6%8E%92%E5%BA%8F) ([QuickSort](http://en.wikipedia.org/wiki/Quicksort)) 的发明者。在平均状况下，排序 *n* 个项目要Ο(*n* log *n*) 次比较，而且通常明显比其他Ο(*n* log *n*) 演算法更快。所以它是一个被广泛使用的算法。在一次[采访](http://cacm.acm.org/magazines/2009/3/21782-an-interview-with-car-hoare/fulltext)中，霍尔谈到了发明这个算法的背景。


霍尔出生于斯里兰卡。1956年毕业于牛津大学。然后的两年里他在英国皇家海军服役，他的任务是研究俄国的现代军事，并因此开始学习了俄语。结束服役后，
他作为研究生进入莫斯科大学，主攻计算机翻译。在莫斯科学习了一年。在这个时候正好有一家生产小型科学计算机的公司Elliott 
Brothers在那里举办展览，霍尔为他们做翻译。当他回国后，这家公司立即聘用了他，连面试都免了。他们还增加了他的工资，因为他会俄语。
Elliott Brothers让霍尔设计一个新的计算机语言。但当他偶尔看到了一篇艾伦·佩利的“算法语言Algol 60报告”(Report 
on the Algorithmic Language Algol 
60)后，他立即推荐公司放弃设计一个新的语言而转为实施ALGOL。公司采纳了他的建议。ALGOL是第一个清晰定义的语言，其语法是用严格公式化的方
法说明的。ALGOL语言并没有被广泛的使用，但它是许多现代程序语言的概念基础。对他个人来说，这个项目不仅为他的事业奠定了基础，还为他带来了甜蜜的婚姻：他跟同组的同事Jill相识并结婚，成为一段美谈。

言归正传。1960年代，[英国国家物理实验室](http://zh.wikipedia.org/wiki/%E8%8B%B1%E5%9B%BD%E5%9B%BD%E5%AE%B6%E7%89%A9%E7%90%86%E5%AE%9E%E9%AA%8C%E5%AE%A4) ([National Physical Laboratory](http://en.wikipedia.org/wiki/National_Physical_Laboratory_%28United_Kingdom%29)) 开始了一项新的计划：将俄文自动翻译成英文。正好霍尔有这个经历，他与俄国的机器翻译专家相识，还在“机器翻译”(Machine Translation) 上发表过论文。于是他在那里得到了一份工作。

在那个年代，俄文到英文的词汇列表是以字母顺序存储在一条长长的磁带上的。因此，当有一段俄文句子需要翻译时，第一步是把这个句子的词按照同样的顺序排列。这样机器就可以在磁带上只走一遍就可以找到所有的翻译。霍尔意识到，他必须找出一种能在计算机上实现的排序的算法来。他想到的第一个算法是后人称作“[冒泡排序](http://zh.wikipedia.org/wiki/%E5%86%92%E6%B3%A1%E6%8E%92%E5%BA%8F) ([bubble sort](http://en.wikipedia.org/wiki/Bubble_sort))”的算法。虽然他没有声明这个算法是他发明的，但他显然是独自得到这个算法的。他很快放弃了这个算法，因为它的速度比较慢。用[计算复杂度理论](http://zh.wikipedia.org/wiki/%E8%AE%A1%E7%AE%97%E5%A4%8D%E6%9D%82%E5%BA%A6) ([Computational complexity theory](http://en.wikipedia.org/wiki/Computational_complexity_theory)) 来说，它平均需要 **O(*n*2)** 次运算。[快速排序](http://zh.wikipedia.org/wiki/%E5%BF%AB%E9%80%9F%E6%8E%92%E5%BA%8F) ([Quicksort](http://en.wikipedia.org/wiki/Quicksort)) 是霍尔想到的第二个算法。这个算法的计算复杂度是 **O(*n*log*n*)** 次运算。当 *n* 特别大的时候，显然步骤要少很多。这个算法是[二十世纪七大算法之一](http://www.sciencenet.cn/m/user_content.aspx?id=387888)，而他本人则被称为影响算法世界的十位大师之一。霍尔自己则认为这个算法是他一生来得到的唯一一个有意义的算法。显然他是谦虚了。太谦虚了！他在计算机语言和数理逻辑上建树颇多。比如，黄富强老师介绍过[霍尔逻辑](http://www.sciencenet.cn/m/user_content.aspx?id=231985) (Hoare logic)。当时就说我也要写一篇介绍霍尔的文章，没想到竟然拖到现在。

计算机历史博物馆真是一个好去处。还记得我以前写的“[建造一架150年前设计的差分机](http://blog.sciencenet.cn/home.php?mod=space&uid=420554&do=blog&id=338862)”吗？也是在那里看到的。北京师范大学数学系的[王世强](http://www.hudong.com/wiki/%E7%8E%8B%E4%B8%96%E5%BC%BA)教授和[沈复兴](http://www.hudong.com/wiki/%E6%B2%88%E5%A4%8D%E5%85%B4)教授等对“计算复杂度”有一定的研究。我也是从他们那里第一次接触到“计算复杂度”这个问题的。

![](http://image.sciencenet.cn/album/201202/11/082824rk4k2y4vft8js9rv.jpg)
计算机历史博物馆的Fellow (2006)
回到“快速排序法”，其实“快速排序法”的基本思想是用[递归](http://zh.wikipedia.org/wiki/%E9%80%92%E5%BD%92) ([Recursion](http://en.wikipedia.org/wiki/Recursion))，每进行一步都将一个大的集合划分为两个小的子集，然后对两个子集实施相同的算法。当两个子集都完成了排序之后再把它们重新粘合到一起。让我们用下面的一个简单例子简单说明一下。

![](http://image.sciencenet.cn/album/201203/21/161944z4gfocgrtj8esor4.png)
假定我们有一组10个数，我们希望将它们从小到大排列。
![](http://image.sciencenet.cn/album/201203/21/161946v0ni5r8z5iruyrhr.png)
我们首先从数列中*随机*挑出一个元素，称为 "基准"(pivot)。
![](http://image.sciencenet.cn/album/201203/21/161948pv0c000zec0v5uva.png)
我们把比这个基准小的数放在左边，把比这个基准大的数放在右边。
上面是我们的第一步。在这一步之后，我们得到了两个小的集合。现在我们重复上面的步骤对这两个小的集合进行排序。这就是我前面说的递归的思想。让我们忽略里面的具体细节。经过一些步骤之后，我们已经将这两个小的集合排好序了。下面的两步就容易理解了。

![](http://image.sciencenet.cn/album/201203/21/161949s8vyest3atufjx5b.png)

![](http://image.sciencenet.cn/album/201203/21/161950tubnbuhnmh77tbhh.png)

我把这段故事写出来，希望软件工程师们在学习计算方法时得到一些乐趣。也希望上面的故事和这个小例子能对大家有所帮助。

后注：1991年，[杨正瓴老师](http://blog.sciencenet.cn/home.php?mod=space&uid=107667)发现了平均复杂性为 O(nloglogn)的自适应排序算法，以及对独立同分布随机数最坏时间几乎处处为O(n)的排序算法。见评论区。
- [快速排序（Quicksort）的Javascript实现](http://www.ruanyifeng.com/blog/2011/04/quicksort_in_..html)
- [The QuickSort Algorithm](http://www.mycstutorials.com/articles/sorting/quicksort)
- [Quicksort Example](http://www.cise.ufl.edu/%7Eddd/cis3020/summer-97/lectures/lec17/sld001.htm)
- [Symmetry Partition Sort](http://onlinelibrary.wiley.com/doi/10.1002/spe.851/abstract) (比Quicksort更快的排序)



转载本文请联系原作者获取授权，同时请注明本文来自蒋迅科学网博客。
链接地址：[http://blog.sciencenet.cn/blog-420554-552107.html](http://blog.sciencenet.cn/blog-420554-552107.html)

上一篇：[2012年北京师大数学学院新春拜年](blog-420554-551726.html)
下一篇：[数学漫画 (七)](blog-420554-552491.html)







