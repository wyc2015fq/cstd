# 科学网—[转载]世上最神奇的方程及其解说 - 王伟华的博文




# [转载]世上最神奇的方程及其解说                           

已有 4467 次阅读2013-11-3 10:08|系统分类:[科普集锦](http://blog.sciencenet.cn/home.php?mod=space&do=blog&view=all&uid=81613&catid=7)|文章来源:转载



![](http://image.sciencenet.cn/album/201311/03/1007570zgx99f6z99rra0x.jpg)


这个方程可能是世界上最神奇的方程之一，最早出现在2001年的一篇论文里。它的神奇之处在于，可以构造出它的一个函数图象，和原方程一模一样......





原理解说（参维基）：

塔珀自指公式(Tupper's self-referential formula)


**塔珀自指公式**是[杰夫·塔珀](http://zh.wikipedia.org/w/index.php?title=%E5%82%91%E5%A4%AB%C2%B7%E5%A1%94%E7%8F%80&action=edit&redlink=1)（Jeff Tupper）发现的[自指](http://zh.wikipedia.org/wiki/%E8%87%AA%E6%8C%87)公式：此公式的二维图像与公式本身外观一样。此公式在众多[数学](http://zh.wikipedia.org/wiki/%E6%95%B8%E5%AD%B8)与[计算机科学](http://zh.wikipedia.org/wiki/%E8%A8%88%E7%AE%97%E6%A9%9F%E7%A7%91%E5%AD%B8)课程里被用作绘制公式图像的练习作业。

公式最初于他2001年[SIGGRAPH](http://zh.wikipedia.org/wiki/SIGGRAPH)的论文中提及。此论文主要讨论他开发的[GrafEq](http://www.peda.com/grafeq/)公式作图程序的相关方法。

此公式是个[不等式](http://zh.wikipedia.org/wiki/%E4%B8%8D%E7%AD%89)：

![{1.over 2} < .left.lfloor .mathrm{mod}.left(.left.lfloor {y .over 17} .right.rfloor 2^{-17 .lfloor x .rfloor - .mathrm{mod}(.lfloor y.rfloor, 17)},2.right).right.rfloor](http://upload.wikimedia.org/math/6/8/7/68769909fd8afef73b8ff801e222c2b6.png)

其中![.lfloor .cdot .rfloor](http://upload.wikimedia.org/math/9/e/4/9e4ad7b5e0ade99483a57bfb8aacfdc9.png)表示[地板函数](http://zh.wikipedia.org/wiki/%E9%AB%98%E6%96%AF%E7%AC%A6%E8%99%9F)，*mod*表示[模除](http://zh.wikipedia.org/wiki/%E6%A8%A1%E9%99%A4)。如果让常数*k*等于：

> 
960 939 379 918 958 884 971 672 962 127 852 754 715 004 339 660

129 306 651 505 519 271 702 802 395 266 424 689 642 842 174 350 718 121 267 153 782 770 623 355 993 237 280 874 144 307 891 325 963 941 337 723 487 857 735 749 823 926 629 715 517 173 716 995 165 232 890 538 221 612 403 238 855 866 184 013 235 585 136 048 828 693 337 902 491 454 229 288 667 081 096 184 496 091 705 183 454 067 827 731 551 705 405 381 627 380 967 602 565 625 016 981 482 083 418 783 163 849 115 590 225 610 003 652 351 370 343 874 461 848 378 737 238 198 224 849 863 465 033 159 410 054 974 700 593 138 339 226 497 249 461 751 545 728 366 702 369 745 461 014 655 997 933 798 537 483 143 786
841 806 593 422 227 898 388 722 980 000 748 404 719

然后将在![0 .le x .le 105](http://upload.wikimedia.org/math/b/5/2/b526ccd7b2f2ec25657320812017dace.png)和![k .le y .le k + 16](http://upload.wikimedia.org/math/7/3/b/73b1d50d41a2c65d66a4a9959921359d.png)所示范围中符合以上不等式的点*(x,y-k)*绘制出来，结果会是这样：

![Tupper's self referential formula plot.svg](http://upload.wikimedia.org/wikipedia/commons/thumb/0/01/Tupper%27s_self_referential_formula_plot.svg/615px-Tupper%27s_self_referential_formula_plot.svg.png)

这个公式本身是一个从常数*k*中解码出一个相对应的黑白位图的通用方法，因此事实上此公式可以用来绘制任何图像。当此公式被绘制到![0 .le y](http://upload.wikimedia.org/math/7/1/5/7159fe7eafa4356d26ea4d4a2d990137.png)的无界正向带里的时候，图像上显现出一个纵向窄带，在此窄带内所有可能的17像素高的位图都出现过。这块无穷大的位图中有一个横向切片描绘了绘制函数本身，但这并不意外，因为别的切片会描绘所有能被填进17像素高的位图中的公式。塔珀还通过电子邮件传播了这个原始公式的扩展版本，这些版本的公式将其他的切片都抹除了。

这里的常数*k*是将公式的[单色](http://zh.wikipedia.org/wiki/%E5%96%AE%E8%89%B2)[位图](http://zh.wikipedia.org/wiki/%E4%BD%8D%E5%9B%BE)化成二进制后乘以17得来的。如果将*k*除以17（并化成二进制），最小一位代表图像左下角的像素；最小的17位构成了最左边的一列像素；第二小的17位构成了左数第二列像素；以此类推。



以下见[http://martin1994.sinaapp.com/archives/241](http://martin1994.sinaapp.com/archives/241)

k值是一段二进制数据，只是排列方式未知，所以首先开始找出这个函数的工作原理：



根据观察，原函数中三次出现的”17″便是图像的高（h）；

x·2^(-n)的意思是对x（二进制）右移n位（带小数）；

原函数右侧的值域是[0,1)。因此”1/2 < f(x,y)"的意思也就是"1 = round(f(x, y))"，而结合上一条综合来看也就是x向右偏移n位（不带小数）后是个奇数，也就是最后一位是 1 ；

“n = x^h + mod(y, h)”也就是说，x每增加1这个偏移量就增加h，而在每个h内y每增加1这个偏移量就增加1. 这就意味着，那个被偏移的数是以h为一个单位，(x, y)对应着”第x个h内的第y个bit”.

综上所述，k/h的二进制写法从右至左分别代表着（列从左至右，行从下至上）”第1列第1行；第1列第2行；第1列第3行；……；第2列第1行；第2列第2行；……”.

由此推断，如果要写”SB”的话，h = 5，k = BIN(01010101011111100000101101010101101) * DEC(5) = DEC(57372951905).效果图如下.

![](http://martin1994-wordpress.stor.sinaapp.com/uploads/2012/09/formula.png)







转载本文请联系原作者获取授权，同时请注明本文来自王伟华科学网博客。
链接地址：[http://blog.sciencenet.cn/blog-81613-738539.html](http://blog.sciencenet.cn/blog-81613-738539.html)

上一篇：[[转载]中国人为何多患“数学恐惧症”？](blog-81613-737238.html)
下一篇：[推介一个科普门户网站：果壳任意门](blog-81613-738545.html)


