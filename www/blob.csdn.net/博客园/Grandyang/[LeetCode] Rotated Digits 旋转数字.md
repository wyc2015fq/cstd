# [LeetCode] Rotated Digits æ—‹è½¬æ•°å­— - Grandyang - åšå®¢å›­







# [[LeetCode] Rotated Digits æ—‹è½¬æ•°å­—](https://www.cnblogs.com/grandyang/p/9154892.html)







X is a good number if after rotating each digit individually by 180 degrees, we get a valid number that is different from X.Â  Each digit must be rotated - we cannot choose to leave it alone.

A number is valid if each digit remains a digit after rotation. 0, 1, and 8 rotate to themselves; 2 and 5 rotate to each other; 6 and 9 rotate to each other, and the rest of the numbers do not rotate to any other number and become invalid.

NowÂ given a positive numberÂ `N`, how many numbers X fromÂ `1`Â toÂ `N`Â are good?
Example:
Input: 10
Output: 4
Explanation: 
There are four good numbers in the range [1, 10] : 2, 5, 6, 9.
Note that 1 and 10 are not good numbers, since they remain unchanged after rotating.

Note:
- NÂ  will be in rangeÂ `[1, 10000]`.



è¿™é“é¢˜å®šä¹‰äº†ä¸€ç§å¥½æ•°å­—ï¼Œå°±æ˜¯æŠŠæ¯ä½ä¸Šçš„æ•°å­—ç¿»è½¬ä¸€ä¸‹ï¼Œèƒ½å¾—åˆ°ä¸€ä¸ªä¸åŒçš„æ•°å­—ã€‚ç¿»è½¬è§„åˆ™å®šä¹‰ä¸ºï¼Œ0ï¼Œ1ï¼Œå’Œ8ç¿»è½¬åè¿˜ä¸ºå…¶æœ¬èº«ï¼Œ2å’Œ5ï¼Œ6å’Œ9å¯ä»¥äº’ç›¸ç¿»è½¬ã€‚ç„¶åç»™äº†æˆ‘ä»¬ä¸€ä¸ªæ•°å­—Nï¼Œé—®æˆ‘ä»¬ [1, N] åŒºé—´å†…å…±æœ‰å¤šå°‘ä¸ªè¿™æ ·çš„å¥½æ•°å­—ã€‚è¿™é“é¢˜å¤§å®¶è¸©ğŸ‘çš„ä¸ªæ•°è¿œè¶…é¡¶ğŸ‘çš„ä¸ªæ•°ï¼Œè²Œä¼¼å¾ˆå¤šäººä¸å¤ªå–œæ¬¢è¿™é“ç»™æ•°å­—å‘å¥½äººå¡çš„é¢˜ï¼Œåšä¸»å€’è§‰å¾—è¿™é“é¢˜è¿˜ä¸é”™ï¼Œæ„Ÿè§‰æ²¡æœ‰å¤ªå¤šçš„æŠ€å·§ï¼Œå°±æ˜¯ä¸€ä¸ªæ•°å­—ä¸€ä¸ªæ•°å­—çš„éªŒè¯å‘—ï¼Œå¯¹äºæ¯ä¸ªæ•°å­—ï¼Œå†ä¸€ä½ä¸€ä½çš„éªŒè¯å‘—ã€‚æˆ‘ä»¬å°†éªŒè¯æŸä¸ªæ•°å­—æ˜¯å¦Goodçš„æ“ä½œå†™åˆ°ä¸€ä¸ªå­å‡½æ•°ä¸­ï¼Œéå†æ•°å­—çš„æ¯ä¸€ä½çš„æ–¹æ³•ï¼Œå¯ä»¥é€šè¿‡ä¸åœçš„é™¤ä»¥10æ¥è·å¾—ï¼Œä¹Ÿå¯ä»¥åƒåšä¸»è¿™æ ·é€šè¿‡è½¬å˜ä¸ºå­—ç¬¦ä¸²ï¼Œå†éå†å­—ç¬¦å³å¯ã€‚ç¿»è½¬è§„åˆ™ä¸­æ²¡æœ‰æåˆ°çš„æ•°å­—æœ‰ä¸‰ä¸ªï¼Œ3ï¼Œ4ï¼Œå’Œ7ï¼Œè¯´æ˜è¿™ä¸‰ä¸ªæ•°å­—æ— æ³•ç¿»è½¬ï¼Œè‹¥ä¸€æ—¦è¢«ç¿»è½¬ï¼Œåˆ™æ— æ³•å½¢æˆvalidçš„æ•°å­—ï¼Œæ‰€ä»¥æˆ‘ä»¬åªè¦ä¸€æ—¦é‡åˆ°è¿™ä¸‰ä¸ªæ•°å­—ä¸­çš„ä¸€ä¸ªï¼Œç›´æ¥è¿”å›falseå³å¯ã€‚è¿˜æœ‰è¦æ³¨æ„çš„æ˜¯ï¼Œ0ï¼Œ1ï¼Œå’Œ8è¿™ä¸‰ä¸ªæ•°å­—ç¿»è½¬åè¿˜æ˜¯å…¶æœ¬èº«ï¼Œç”±äºå¥½æ•°å­—çš„éœ€è¦ç¿»è½¬ä¸€ä¸ªä¸åŒçš„æ•°å­—ï¼Œæ‰€ä»¥è‹¥éƒ½æ˜¯ç”±è¿™ä¸‰ä¸ªæ•°å­—ç»„æˆï¼Œç¿»è½¬åä¸ä¼šäº§ç”Ÿä¸åŒçš„æ•°å­—ï¼Œä¹Ÿä¸ç¬¦åˆé¢˜æ„ã€‚æ‰€ä»¥æˆ‘ä»¬éœ€è¦2ï¼Œ5ï¼Œ6ï¼Œå’Œ9è¿™å››ä¸ªæ•°å­—ä¸­è‡³å°‘å‡ºç°ä¸€ä¸ªï¼Œæˆ‘ä»¬ç”¨ä¸€ä¸ªflagæ¥æ ‡è®°å‡ºç°è¿‡è¿™äº›æ•°å­—ï¼Œæœ€ååªè¦checkè¿™ä¸ªflagå˜é‡å³å¯ï¼Œå‚è§ä»£ç å¦‚ä¸‹ï¼š



è§£æ³•ä¸€ï¼š

```
class Solution {
public:
    int rotatedDigits(int N) {
        int res = 0;
        for (int i = 1; i <= N; ++i) {
            if (check(i)) ++res;
        }
        return res;
    }
    bool check(int k) {
        string str = to_string(k);
        bool flag = false;
        for (char c : str) {
            if (c == '3' || c == '4' || c == '7') return false;
            if (c == '2' || c == '5' || c == '6' || c == '9') flag = true;;
        }
        return flag;
    }
};
```



å…¶å®è¿™é“é¢˜è¿˜æœ‰æ›´å¥½çš„è§£æ³•å‘¢ï¼Œä½¿ç”¨åŠ¨æ€è§„åˆ’Dynamic Programmingæ¥åšçš„ï¼Œæ€è·¯éå¸¸å·§å¦™ï¼Œåšä¸»æ·±ä¸ºå¹æœã€‚å®šä¹‰äº†ä¸€ä¸ªé•¿åº¦ä¸ºN+1çš„ä¸€ç»´å¸ƒå°”å‹DPæ•°ç»„ï¼Œå…¶ä¸­dp[i]è¡¨ç¤ºæ•°å­—içš„ä¸‰ç§çŠ¶æ€ï¼Œ0è¡¨ç¤ºæ•°å­—iç¿»è½¬åä¸åˆæ³•ï¼Œ1è¡¨ç¤ºæ•°å­—iç¿»è½¬åå’ŒåŸæ•°ç›¸åŒï¼Œ2è¡¨ç¤ºæ•°å­—iç¿»è½¬åå½¢æˆä¸€ä¸ªä¸åŒçš„æ•°å­—ã€‚é‚£ä¹ˆæ ¹æ®é¢˜ç›®ä¸­çš„å®šä¹‰å¯çŸ¥ï¼Œåªæœ‰å½“dp[i]=2çš„æ—¶å€™æ‰æ˜¯å¥½æ•°å­—ã€‚é‚£ä¹ˆä¸‹é¢æ¥çœ‹çŠ¶æ€è½¬ç§»æ–¹ç¨‹å§ï¼Œæˆ‘ä»¬çŸ¥é“å¦‚æœæ•°å­—åªæœ‰1ä½çš„è¯ï¼Œé‚£ä¹ˆåˆ¤æ–­èµ·æ¥å¾ˆç®€å•ï¼Œå¦‚æœæ˜¯0ï¼Œ1ï¼Œå’Œ8ä¸­çš„ä¸€ä¸ªï¼Œé‚£ä¹ˆdp[i]=1ï¼Œå¦‚æœæ˜¯2ï¼Œ5ï¼Œ6ï¼Œå’Œ9ä¸­çš„ä¸€ä¸ªï¼Œé‚£ä¹ˆdp[i]=2ï¼Œå¹¶ä¸”ç»“æœresè‡ªå¢1ã€‚å¦‚æœæ˜¯å‰©ä¸‹çš„ä¸‰ä¸ªæ•°å­—3ï¼Œ4ï¼Œ7ä¸­çš„ä¸€ä¸ªä¸ç”¨æ›´æ–°ï¼Œå› ä¸ºdpæ•°ç»„åˆå§‹åŒ–å°±ä¸º0ã€‚ä¸‹é¢æ¥çœ‹æ•°å­—iå¤§äº10çš„æƒ…å†µï¼Œéå¸¸çš„ç»å…¸ï¼Œdp[i] çš„å€¼å…¶å®å¯ä»¥ä» dp[i/10] å’Œ dp[i%10] è¿™ä¸¤ä¸ªçŠ¶æ€å€¼è½¬ç§»è€Œæ¥ï¼Œç”±äºæˆ‘ä»¬æ›´æ–°çš„é¡ºåºæ˜¯ä»å°åˆ°å¤§ï¼Œæ‰€ä»¥å½“è¦æ›´æ–°dp[i]çš„æ—¶å€™ï¼Œdp[i/10] å’Œ dp[i%10]Â è¿™ä¸¤ä¸ªçŠ¶æ€å€¼å·²ç»ç®—è¿‡äº†ã€‚ä¸ºå•¥dp[i] çš„å€¼æ˜¯ç”±è¿™ä¸¤ä¸ªçŠ¶æ€å€¼å†³å®šçš„å‘¢ï¼Ÿå› ä¸ºæ¯ä¸ªæ•°å­—éƒ½æ˜¯ç›¸äº’ç‹¬ç«‹çš„ç¿»è½¬ï¼Œæ¯”å¦‚å››ä½æ•°å­—abcdï¼Œå¯ä»¥æ‹†åˆ†ä¸ºä¸‰ä½æ•°abcï¼Œå’Œä¸ªä½æ•°dï¼Œå¦‚æœabcç¿»è½¬åä»æ˜¯abcï¼Œdç¿»è½¬åä»æ˜¯dï¼Œè¯´æ˜abcdç¿»è½¬åä»æ˜¯abcdï¼Œæ‰€ä»¥dp[i]=1ï¼Œåªè¦å…¶ä¸­æœ‰ä¸€ä¸ªå¤§äº1äº†ï¼Œå¦å¤–ä¸€ä¸ªè‡³å°‘æ˜¯1çš„è¯ï¼Œé‚£ä¹ˆè¯´æ˜å¯ä»¥ç¿»è½¬æˆä¸åŒçš„æ•°å­—ï¼Œdp[i]=2ï¼Œå¹¶ä¸”ç»“æœresè‡ªå¢1ï¼Œå‚è§ä»£ç å¦‚ä¸‹ï¼š



è§£æ³•äºŒï¼š

```
class Solution {
public:
    int rotatedDigits(int N) {
        int res = 0;
        vector<int> dp(N + 1);   
        for (int i = 0; i <= N; ++i) {
            if (i < 10) {
                if (i == 0 || i == 1 || i == 8) dp[i] = 1;
                else if (i == 2 || i == 5 || i == 6 || i == 9) {
                    dp[i] = 2; ++res;
                }
            } else {
                int a = dp[i / 10], b = dp[i % 10];
                if (a == 1 && b == 1) dp[i] = 1;
                else if (a >= 1 && b >= 1) {
                    dp[i] = 2; ++res;
                }
            }
        }
        return res;
    }
};
```



å‚è€ƒèµ„æ–™ï¼š

[https://leetcode.com/problems/rotated-digits/solution/](https://leetcode.com/problems/rotated-digits/solution/)

[https://leetcode.com/problems/rotated-digits/discuss/117975/Java-dp-solution-9ms](https://leetcode.com/problems/rotated-digits/discuss/117975/Java-dp-solution-9ms)



[LeetCode All in One é¢˜ç›®è®²è§£æ±‡æ€»(æŒç»­æ›´æ–°ä¸­...)](http://www.cnblogs.com/grandyang/p/4606334.html)












