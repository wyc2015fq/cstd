# 成功移植SQLite3到ARM Linux开发板 - DoubleLi - 博客园







|SQLite，是一款轻型的数据库，是遵守ACID的关联式数据库管理系统，它的设计目标是嵌入式的，而且目前已经在很多嵌入式产品中使用了它，它占用资源非常的低，在嵌入式设备中，可能只需要几百K的内存就够了。它能够支持Windows/Linux/Unix等等主流的操作系统，同时能够跟很多程序语言相结合，比如 Tcl、C#、PHP、Java等，还有ODBC接口，同样比起Mysql、PostgreSQL这两款开源世界著名的数据库管理系统来讲，它的处理速度比他们都快。在开始之前，我们需要确认有- SQLite3源码包；- 有交叉编译环境；- 有一块开发板；1、下载 SQLite3源码地址：[http://www.sqlite.org/download.html](http://www.sqlite.org/download.html)<ignore_js_op>![](http://www.myir-tech.com/bbs/data/attachment/forum/201407/31/114221qqs1cj9wdbnbaaww.jpg)选择稳定版本的源码2、将源码包复制到主机工作目录下如我的用户是gary，SQLite版本是 3.8.5 版本SQLite版本是 3.8.5 版本``````bashcd``````bashmkdir``````bashsqlite3``````bash#在主机（如Ubuntu）创建工作目录``````bashcd``````bashsqlite3``````bash#进入工作目录中``````bashcp``````bash/media/sda1/sqlite-autoconf-3080500``````bash.``````bashtar``````bash.gz ./``````bash#复制SQLite源码到主机``````bashtar``````bashzxvf sqlite-autoconf-3080500.``````bashtar``````bash.gz``````bash#解压``````bashcd``````bashsqlite-autoconf-3080500``````bash#进入解压后的目录``````3、配置编译选项``````bashmkdir``````bash..``````bash/install``````bash#创建安装目录``````bashexport``````bashPATH=$PATH:``````bash/usr/local/arm-2010q1/bin``````bash#交叉编译工具路径加入系统环境变量``````bash.``````bash/configure``````bash--host=arm-none-linux-gnueabi --prefix=``````bash/home/gary/sqlite3/install``````其中，- --host： 指定交叉编译工具，一般为arm-linux、arm-linux-gnueabihf、arm-none-linux-gnueabi等，具体要和板子用的交叉编译工具对应。- --prefix： 指定安装目录，编译后的文件会全部放在安装目录中。必须是绝对路径4、编译安装``````bashmake``````bashmake``````bashinstall``````5、压缩并复制压缩并复制sqlite3文件到U盘``````bashcd``````bash..``````bash/install/bin``````basharm-none-linux-gnueabi-strip sqlite3``````bashcp``````bashlibsqlite3.so.0.8.6``````bash/media/sda1``````bash#U盘目录``````压缩并复制动态库libsqlite3.so.0.8.6文件到U盘``````bashcd``````bash..``````bash/lib``````basharm-none-linux-gnueabi-strip libsqlite3.so.0.8.6``````bashcp``````bashlibsqlite3.so.0.8.6``````bash/media/sda1``````6、复制文件在开发板上制作链接将U盘插入开发板上，将sqlite3复制到/usr/local/bin目录，将动态库文件复制到/usr/local/lib目录，并对动态库做链接。``````bashcp``````bash/media/sda1/sqlite3``````bash/usr/locl/bin``````bashcp``````bash/media/sda1``````bashlibsqlite3.so.0.8.6``````bash/usr/local/lib``````bashcd``````bash/usr/local/lib``````bashln``````bash-s libsqlite3.so.0.8.6 libsqlite3.so.0``````bashln``````bash-s libsqlite3.so.0.8.6 libsqlite3.so``````7、运行sqlite在开发板上执行sqlite3命令，看到如下信息说明sqlite3移植成功！``````bashsqlite3``````bashSQLite version 3.8.5 2014-06-04 14:06:34``````bashEnter``````bash".help"``````bashfor``````bashusage hints.``````bashConnected to a transient``````bashin``````bash-memory database.``````bashUse``````bash".open FILENAME"``````bashto reopen on a persistent database.``````bashsqlite>``````使用 .help 查看帮助，使用 .quit 退出sqlite命令。最后，附上 arm-2010q1-202-arm-none-linux-gnueabi 编译好的sqlite3镜像，经测试在MYD-AM335X上可以正常运行：<ignore_js_op>![](http://www.myir-tech.com/bbs/static/image/filetype/zip.gif)[sqlite3.zip](http://www.myir-tech.com/bbs/forum.php?mod=attachment&aid=MTQyfDcyNmNlNmQwfDE0NzMyOTU1MTh8MHw2MTg5)(444.45 KB, 下载次数: 1528)|123456|```bashcd``````bashmkdir``````bashsqlite3``````bash#在主机（如Ubuntu）创建工作目录``````bashcd``````bashsqlite3``````bash#进入工作目录中``````bashcp``````bash/media/sda1/sqlite-autoconf-3080500``````bash.``````bashtar``````bash.gz ./``````bash#复制SQLite源码到主机``````bashtar``````bashzxvf sqlite-autoconf-3080500.``````bashtar``````bash.gz``````bash#解压``````bashcd``````bashsqlite-autoconf-3080500``````bash#进入解压后的目录```|123|```bashmkdir``````bash..``````bash/install``````bash#创建安装目录``````bashexport``````bashPATH=$PATH:``````bash/usr/local/arm-2010q1/bin``````bash#交叉编译工具路径加入系统环境变量``````bash.``````bash/configure``````bash--host=arm-none-linux-gnueabi --prefix=``````bash/home/gary/sqlite3/install```|12|```bashmake``````bashmake``````bashinstall```|123|```bashcd``````bash..``````bash/install/bin``````basharm-none-linux-gnueabi-strip sqlite3``````bashcp``````bashlibsqlite3.so.0.8.6``````bash/media/sda1``````bash#U盘目录```|123|```bashcd``````bash..``````bash/lib``````basharm-none-linux-gnueabi-strip libsqlite3.so.0.8.6``````bashcp``````bashlibsqlite3.so.0.8.6``````bash/media/sda1```|12345|```bashcp``````bash/media/sda1/sqlite3``````bash/usr/locl/bin``````bashcp``````bash/media/sda1``````bashlibsqlite3.so.0.8.6``````bash/usr/local/lib``````bashcd``````bash/usr/local/lib``````bashln``````bash-s libsqlite3.so.0.8.6 libsqlite3.so.0``````bashln``````bash-s libsqlite3.so.0.8.6 libsqlite3.so```|1234567|```bashsqlite3``````bashSQLite version 3.8.5 2014-06-04 14:06:34``````bashEnter``````bash".help"``````bashfor``````bashusage hints.``````bashConnected to a transient``````bashin``````bash-memory database.``````bashUse``````bash".open FILENAME"``````bashto reopen on a persistent database.``````bashsqlite>```|
|----|----|----|----|----|----|----|----|----|----|----|----|----|----|----|
|123456|```bashcd``````bashmkdir``````bashsqlite3``````bash#在主机（如Ubuntu）创建工作目录``````bashcd``````bashsqlite3``````bash#进入工作目录中``````bashcp``````bash/media/sda1/sqlite-autoconf-3080500``````bash.``````bashtar``````bash.gz ./``````bash#复制SQLite源码到主机``````bashtar``````bashzxvf sqlite-autoconf-3080500.``````bashtar``````bash.gz``````bash#解压``````bashcd``````bashsqlite-autoconf-3080500``````bash#进入解压后的目录```| | | | | | | | | | | | | |
|123|```bashmkdir``````bash..``````bash/install``````bash#创建安装目录``````bashexport``````bashPATH=$PATH:``````bash/usr/local/arm-2010q1/bin``````bash#交叉编译工具路径加入系统环境变量``````bash.``````bash/configure``````bash--host=arm-none-linux-gnueabi --prefix=``````bash/home/gary/sqlite3/install```| | | | | | | | | | | | | |
|12|```bashmake``````bashmake``````bashinstall```| | | | | | | | | | | | | |
|123|```bashcd``````bash..``````bash/install/bin``````basharm-none-linux-gnueabi-strip sqlite3``````bashcp``````bashlibsqlite3.so.0.8.6``````bash/media/sda1``````bash#U盘目录```| | | | | | | | | | | | | |
|123|```bashcd``````bash..``````bash/lib``````basharm-none-linux-gnueabi-strip libsqlite3.so.0.8.6``````bashcp``````bashlibsqlite3.so.0.8.6``````bash/media/sda1```| | | | | | | | | | | | | |
|12345|```bashcp``````bash/media/sda1/sqlite3``````bash/usr/locl/bin``````bashcp``````bash/media/sda1``````bashlibsqlite3.so.0.8.6``````bash/usr/local/lib``````bashcd``````bash/usr/local/lib``````bashln``````bash-s libsqlite3.so.0.8.6 libsqlite3.so.0``````bashln``````bash-s libsqlite3.so.0.8.6 libsqlite3.so```| | | | | | | | | | | | | |
|1234567|```bashsqlite3``````bashSQLite version 3.8.5 2014-06-04 14:06:34``````bashEnter``````bash".help"``````bashfor``````bashusage hints.``````bashConnected to a transient``````bashin``````bash-memory database.``````bashUse``````bash".open FILENAME"``````bashto reopen on a persistent database.``````bashsqlite>```| | | | | | | | | | | | | |

使用 .help 查看帮助，使用 .quit 退出sqlite命令。

最后，附上 arm-2010q1-202-arm-none-linux-gnueabi 编译好的sqlite3镜像，经测试在MYD-AM335X上可以正常运行：
<ignore_js_op>![](http://www.myir-tech.com/bbs/static/image/filetype/zip.gif)[sqlite3.zip](http://www.myir-tech.com/bbs/forum.php?mod=attachment&aid=MTQyfDcyNmNlNmQwfDE0NzMyOTU1MTh8MHw2MTg5)(444.45 KB, 下载次数: 1528) 








