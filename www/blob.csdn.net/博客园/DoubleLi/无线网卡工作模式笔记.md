# 无线网卡工作模式笔记 - DoubleLi - 博客园






网线网卡可以工作在多种模式下，以实现不同的功能。主要模式(mode)有：master  managed  monitor ad-hoc repeater secondary

【master】

master模式即常见的AP模式，无线模块本身作为WIFI热点，让其它设备以无线的方式接入构建LAN/WAN 。无线路由器的工作模式就是master 。

在Linux系统中，无线AP的接入和授权主要采用开源项目hostapd来实现



hostapd 是一个用户态用于AP和认证服务器的守护进程。它实现了IEEE 802.11相关的接入管理，IEEE 802.1X/WPA/WPA2/EAP 认证, RADIUS客户端，EAP服务器和RADIUS 认证服务器。Linux下支持的驱动有：Host AP，madwifi，基于mac80211的驱动——参考官方文档。
     简单说，hostapd能够使得无线网卡切换为master模式，模拟AP(通常可以认为是路由器)功能，也就是我们说的软AP(Soft AP)。Hostapd的功能就是作为AP的认证服务器，负责控制管理stations(通常可以认为带无线网卡的PC)的接入和认证。通过Hostapd可以将无线网卡切换为AP/Master模式，通过修改配置文件，可以建立一个开放式的(不加密)的，WEP，WPA或WPA2的无线网络。并且通过修改配置文件可以设置无线网卡的各种参数，包括频率，信号，beacon包时间间隔，是否发送beacon包，如果响应探针请求等等。还可以设置mac地址过滤条件等



![hostapd.png](http://w1.fi/wpa_supplicant/devel/hostapd.png)



【managed  】

又称sta，我理解为客户端模式client。在此模式下，无线网卡是作为客户端接入WIFI网络。比如笔记本的无线网卡就是工作在此模式下。Linux client station的接入由开源项目wpa_supplicant来实现



![_wpa_supplicant.png](http://w1.fi/wpa_supplicant/devel/_wpa_supplicant.png)

【ad-hoc】

点对点模式，类似于zigbee的自组网概念。如果WIFI要自动组网，就需要设置为该模式

【monitor】

侦听模式，即网卡的混杂模式，在此模式下，网卡不过滤任何可以收到的数据包。主要用于smartconfig









