# windows服务和进程的区别和联系 - DoubleLi - 博客园






Windows Service 是主要用于服务器环境而长期运行的应用程序， 这类程序不需要有用户界面或者任何模拟输出。 任何的用户消息通常都是记录在Windows 事件日志里。Windows Service可以在操作系统启动的时候开始，一直在后台运行，当有需要时也可以手动启动，我们可以通过管理工具里面的服务进行统一管理。
当系统启动完毕后，Windows服务并不需要通过登陆页面后才能启动，而我们启动一般的exe文件却要先登陆Windows后才能启动它。

Windows Service 是一种可随 Windows 操作系统启动而启动的，在后台运行的，通常不和用户产生交互的程序。它无法通过双击来运行，类似于 Unix 守护进程（daemon processes），当用户注销时它也不会停止。
Windows 服务由三部分组成：1.一个服务可执行文件；2.一个服务控制程序(SCP)；3.服务控制管理器(SCM)，负责在 HKLM\SYSTEM\CurrentControlSet\Services 下创建服务键值。用户可通过 SCP 控制服务的启动、停止、暂停等，SCP 会通过 SCM 调用服务程序。
Window 标准的exe可执行程序通常有一个用户界面，Console或GUI，通常由用户来启动或停止 
Windows服务是运行在windows后台指定用户下（默认System）的应用程序，它没有标准的UI界面，想比标准的EXE程序，Windows服务是在服务开始的时候创建，而在服务结束的时候销毁，而且可以设置服务是否与操作系统一起启动，一起关闭。它支持三种方式：１）自动方式 2）手动方式　３）禁用 。自动方式的时候，windows服务将在OS启动后自动启动运行，而手动方式则必须手工启动服务，禁用的情况下服务将不能被启动。另外标准的EXE默认使用的当前登录的用户，而windows服务则默认使用System用户，这在对系统资源访问的时候特别需要注意。 
Windows上的单个进程所能访问的最大内存量是多少？它与系统的最大虚拟内存一样吗？这对于系统设计有什么影响？ 
32 位Windows上单个进程所能访问的最大内存量是4G，单由于操作系统需要给系统核心分配2G的空间，所以一般用户程序的进程可使用的最大内存为2G。
不一定一样，32位的操作系统的进程可访问的最大内存量是4G，这4G包含了虚拟内存，而一个进程可访问的最大内存量也是4G，所以进程内存访问量在物理内存大于等于4G的时候跟虚拟内存无关，而当物理内存小于4G时，进程访问的内存量随着虚拟内存的增加而增加，直到4G 
Windows使用一个系统：虚拟寻址系统。该系统把程序可用的内存地址映射到硬件内存中的实际地址上，这些任务完全有Windows后台管理，其实际结 果是32位处理器上的每个进程都可以使用4GB的内存------无论计算机上有多少硬盘空间（在64位处理器上这个数值会更大）。这个4GB内存实际上 包含了程序的所有部分------包括可执行代码，代码加载的所有dll，以及程序运行时使用的所有变量的内容。这个4GB内存称为虚拟地址空间，或虚拟 内存。
EXE和DLL之间的区别是什么？
EXE就是可执行文件,你可要双击它, 它就可以运行,而DLL是一个动态链接库文件,就是说,它不可以自己运行,它是须要一个程序的其它功能运行的时候,它才能运行,打个比方,如果你的QQ要升级,那QQ里面有关升级的DLL文件它就会运行. 
EXE是带有程序入口（Main）的能被终端用户直接执行的应用程序，随着它的启动系统会产生一个相应的进程。
DLL是动态链接库，不包含程序执行入口，不能被终端用户直接执行，本身需要附加到现有的进程中才可以运行。
但两者都是基于PE格式，运行时由磁盘中的映像载入被调用者的内存或者共享空间中执行，包含程序的数据信息，只是EXE还包括程序的代码信息。
DLL可被多个程序共用，而EXE则不行，只能单独执行。









