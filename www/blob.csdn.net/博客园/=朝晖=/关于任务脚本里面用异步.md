# 关于任务脚本里面用异步 - =朝晖= - 博客园
# [关于任务脚本里面用异步](https://www.cnblogs.com/dhcn/p/9383590.html)
最近的生产开发中碰到一个node.js启动任务脚本用了async异步函数,由于在最外层没有用callback语法做同步化，eventloop没法正常退出，导致任务脚本执行不能正常退出，然后就启动任务不能正常退出，于是外部的启动检查一致通不过，自动化升级任务失败，写aysnc异步函数的同学一定要搞清楚eventloop怎么玩的，异步怎么执行的，否则耍酷不成耍成糗。再就是这种批处理任务脚本就别耍异步了，又不是线上任务，老实同步执行一个启动任务，耗不了多少CPU。

