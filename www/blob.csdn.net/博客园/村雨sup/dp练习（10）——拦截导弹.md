# dp练习（10）——拦截导弹 - 村雨sup - 博客园








[博客园](https://www.cnblogs.com/)[首页](https://www.cnblogs.com/cunyusup/)[新随笔](https://i.cnblogs.com/EditPosts.aspx?opt=1)[联系](https://msg.cnblogs.com/send/%E6%9D%91%E9%9B%A8sup)[管理](https://i.cnblogs.com/)[订阅](https://www.cnblogs.com/cunyusup/rss)![订阅](https://www.cnblogs.com/images/xml.gif)







### **1044 拦截导弹**

1999年NOIP全国联赛提高组





 时间限制: 1 s



 空间限制: 128000 KB



 题目等级 : 黄金 Gold




[题解](http://codevs.cn/wiki/solution/?problem_id=1044)

 查看运行结果










题目描述 Description


    某国为了防御敌国的导弹袭击，发展出一种导弹拦截系统。但是这种导弹拦截系统有一个缺陷：虽然它的第一发炮弹能够到达任意的高度，但是以后每一发炮弹都不能高于前一发的高度。某天，雷达捕捉到敌国的导弹来袭。由于该系统还在试用阶段，所以只有一套系统，因此有可能不能拦截所有的导弹。






输入描述 Input Description


输入导弹依次飞来的高度（雷达给出的高度数据是不大于30000的正整数）






输出描述 Output Description


输出这套系统最多能拦截多少导弹，如果要拦截所有导弹最少要配备多少套这种导弹拦截系统。




样例输入 Sample Input


389 207 155 300 299 170 158 65 




样例输出 Sample Output


6

2




数据范围及提示 Data Size & Hint


导弹的高度<=30000，导弹个数<=20




#### 分类标签 Tags [点此展开](http://codevs.cn/problem/1044/#tags)



```
#include<bits/stdc++.h>
using namespace std;

int a[1005];
int dp[1005];
int dp2[1005];

int main()
{
    int x;
    int num = 0;
    memset(dp,0,sizeof(dp));
    memset(dp2,0,sizeof(dp2));
    while(scanf("%d",&x) != EOF)
    {
        a[num] = x;
        num++;
    }
    
    int ans = 0;
    int ans2 = 0;
    for(int i=0;i < num;i++)
    {
        for(int j=0;j < i;j++)
        {
            if(a[i] <= a[j])
            {
                dp[i] = max(dp[i],dp[j] + 1);
                ans = max(ans,dp[i]);
            }
            if(a[i] > a[j])
            {
                dp2[i] = max(dp2[i],dp2[j] + 1);
                ans2 = max(ans2,dp2[i]);
            }
        }
    }
    cout << ans+1 << endl;
    cout << ans2+1 << endl;

    return 0;
}
```

虽然以前有接触过——最长非上升序列，但还是遇到了一些坑。

1：最后求得是整个数组中的最大值，不是最后一个字母的dp值

2：memset 不能初始化1

3：最多需要的导弹系统其实就是求最长上升序列，脑筋急转弯















