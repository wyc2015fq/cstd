# 尺取法拓展——POJ3320 - 村雨sup - 博客园








[博客园](https://www.cnblogs.com/)[首页](https://www.cnblogs.com/cunyusup/)[新随笔](https://i.cnblogs.com/EditPosts.aspx?opt=1)[联系](https://msg.cnblogs.com/send/%E6%9D%91%E9%9B%A8sup)[管理](https://i.cnblogs.com/)[订阅](https://www.cnblogs.com/cunyusup/rss)![订阅](https://www.cnblogs.com/images/xml.gif)





```
#include <iostream>
#include <cstdio>
#include <algorithm>
#include <set>
#include <map>
using namespace std;
typedef long long  ll;
const int INF = 0x3f3f3f3f;
const int moder = 1e9 + 7;
const int maxn = 1000000;

int a[maxn];

int main()
{
    int P;
    scanf("%d",&P);
    for(int i=0;i < P;i++)
        scanf("%d",&a[i]);

    set<int>st;
    for(int i=0;i < P;i++)
        st.insert(a[i]);

    int n = st.size();

    int s=0,t=0,num=0;
    map<int,int>cnt;
    int res = P+1;
    for(;;)
    {
        while(t < P && num < n)
        {
            if(cnt[a[t]] == 0)
            {
                num++;
            }
            cnt[a[t]]++;
            t++;
        }
        if(num < n) break;
        res = min(res,t-s);
        if(--cnt[a[s++]] == 0)
        {
            num--;
        }
    }
    printf("%d\n",res);
    return 0;
}

/*5
1 8 8 8 1 */
```

map很好用，记住。











