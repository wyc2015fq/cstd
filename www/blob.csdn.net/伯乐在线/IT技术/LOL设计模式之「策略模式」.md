# LOL设计模式之「策略模式」 - 文章 - 伯乐在线
本文作者： [伯乐在线](http://blog.jobbole.com) - [陈宇明](http://www.jobbole.com/members/Chad) 。未经作者许可，禁止转载！
欢迎加入伯乐在线 [专栏作者](http://blog.jobbole.com/99322)。
之前写过一篇《[什么是「设计模式」？](http://blog.jobbole.com/101076/)》，没有类图，没有代码，有些同学说看不太懂，今天给大家带来策略模式（有图，有码，有真相！）。
**玩过LOL的同学都知道，LOL有上百个英雄，如果用OO技术来设计这些英雄该怎么办？**
小明：简单，先来个父类（Superclass），然后让所有的英雄继承此父类，不同的方法重写父类方法即可。
![](http://ww3.sinaimg.cn/large/7cc829d3gw1f7rq33m361j20yg0i8q8k.jpg)
**每个英雄的QWER技能都是不一样的，重写可以没问题，但是召唤师技能每个英雄都是固定的几个难不成也都要子类重写？**
小明：对哦，召唤师技能如果都让子类重写那么就会产生多个子类代码重复，怎么办呢？
> 
**设计原则：找出应用可能需要变化之处，把它们独立出来，不要和那些不需要变化的代码混在一起。**
小明：变化之处那就是召唤师技能，可以把召唤师技能抽取出来写成一个接口，所有召唤师技能都需要实现这个接口。
![](http://ww2.sinaimg.cn/large/7cc829d3gw1f7rq35qb66j20yg0fjgq3.jpg)
> 
**设计原则：针对接口编程，而不是针对实现编程。**
小明：这样可以把所有固定的召唤师技能先写好，等玩家选择召唤师技能只需要设置具体的召唤师技能即可。就算以后有新的召唤师技能只需要实现这个接口就好了，具体实现类可以互相的替换。
![](http://ww3.sinaimg.cn/large/7cc829d3gw1f7rq34sjl6j20yg0bmwg1.jpg)
> 
**设计原则：多用组合，少用继承。**
小明：思路理清楚了，那就直接上代码。
#### 召唤师技能接口


```
public interface 召唤师技能 { 
public void 技能();
}
```
#### 具体实现


```
public class 治疗术 implements 召唤师技能 {
public void 技能(){
  //为你的英雄和附近的友军回复生命值。
};
}
```
#### 英雄类


```
public class 英雄 {
   public void 召唤师技能(召唤师技能 技能){
      技能变量.技能();
   }
}
```
#### 客户端


```
public class 客户端 { 
public static void main(String[] args) { 
//选择并创建需要使用的策略对象 
召唤师技能 我的治疗术 = new 治疗术(); 
//创建环境 
英雄 我的盖伦 = new 盖伦(); 
//使用策略
我的盖伦.召唤师技能(我的治疗术);
 }
}
```
**这就是所谓的「策略模式」了，定义了算法（召唤师技能接口），分别封装起来（具体的实现类：传送、治疗术），让他们之间可以互相替换，此模式让算法的变化独立于使用算法的客户。**
![](http://ww1.sinaimg.cn/large/7cc829d3gw1f7rq32gdokj20m306xq3o.jpg)
> 
以上代码块用中文编写类名、变量名是为了让大家更好的理解，在实战过程中记得替换成相对应的英文。
> 
**打赏支持我写出更多好文章，谢谢！**
[打赏作者](#rewardbox)
#### 打赏支持我写出更多好文章，谢谢！
![](http://jbcdn2.b0.upaiyun.com/2016/05/bd1a7f8d38ec3d89cf5b239232f8f204.png)
