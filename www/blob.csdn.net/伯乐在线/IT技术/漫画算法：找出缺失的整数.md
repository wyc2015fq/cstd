# 漫画算法：找出缺失的整数 - 文章 - 伯乐在线
本文作者： [伯乐在线](http://blog.jobbole.com) - [玻璃猫](http://www.jobbole.com/members/bjweimengshu) 。未经作者许可，禁止转载！
欢迎加入伯乐在线 [专栏作者](http://blog.jobbole.com/99322)。
![%e5%b0%8f%e4%bb%93%e9%bc%a0%e5%af%92%e6%9a%841](http://jbcdn2.b0.upaiyun.com/2016/10/3c5ae6b774c4b8d4eeb9b1f9974a69f2.jpg)
![%e5%b0%8f%e4%bb%93%e9%bc%a0%e5%af%92%e6%9a%842](http://jbcdn2.b0.upaiyun.com/2016/10/b2afedfd20f7183c4b998acaf630a508.jpg)
![%e5%b0%8f%e4%bb%93%e9%bc%a0%e5%af%92%e6%9a%843](http://jbcdn2.b0.upaiyun.com/2016/10/7b787cd37d93b906a2dbbbd938484f7d.jpg)
![%e5%b0%8f%e4%bb%93%e9%bc%a0%e5%af%92%e6%9a%844](http://jbcdn2.b0.upaiyun.com/2016/10/fdaf868c4495970eb9be29e9f6b5eca5.jpg)
小灰一边回忆一边讲述起当时面试的情景……
![%e5%b0%8f%e4%bb%93%e9%bc%a0%e9%9d%a2%e8%af%951](http://jbcdn2.b0.upaiyun.com/2016/10/18cab3e7797b9a8e0fcf87d0e8eea381.jpg)
![%e5%b0%8f%e4%bb%93%e9%bc%a0%e9%9d%a2%e8%af%952](http://jbcdn2.b0.upaiyun.com/2016/10/49bf2475c6e3f61079917f949e8ba219.jpg)
![%e5%b0%8f%e4%bb%93%e9%bc%a0%e9%9d%a2%e8%af%953](http://jbcdn2.b0.upaiyun.com/2016/10/34ff26664eccd2e32d319be0e8dee8de.jpg)
**题目**：一个无序数组里有99个不重复正整数，范围从1到100，唯独缺少一个整数。如何找出这个缺失的整数？
![%e5%b0%8f%e4%bb%93%e9%bc%a0%e9%9d%a2%e8%af%954](http://jbcdn2.b0.upaiyun.com/2016/10/45dbcae7106a126bd22d611b4babb33f.jpg)
![%e5%b0%8f%e4%bb%93%e9%bc%a0%e9%9d%a2%e8%af%955](http://jbcdn2.b0.upaiyun.com/2016/10/654a314976e49f2242c4a18267a6a8a3.jpg)
**解法一：**
创建一个HashMap，以1到100为键，值都是0 。然后遍历整个数组，每读到一个整数，就找到HashMap当中对应的键，让其值加一。
由于数组中缺少一个整数，最终一定有99个键对应的值等于1, 剩下一个键对应的值等于0。遍历修改后的HashMap，找到这个值为0的键。
假设数组长度是N，那么该解法的时间复杂度是O（1），空间复杂度是O（N）。
![%e5%b0%8f%e4%bb%93%e9%bc%a0%e9%9d%a2%e8%af%956](http://jbcdn2.b0.upaiyun.com/2016/10/2f4e0526dc811d8c94fcfdaa6b642340.jpg)
![%e5%b0%8f%e4%bb%93%e9%bc%a0%e9%9d%a2%e8%af%954](http://jbcdn2.b0.upaiyun.com/2016/10/45dbcae7106a126bd22d611b4babb33f.jpg)
![%e5%b0%8f%e4%bb%93%e9%bc%a0%e9%9d%a2%e8%af%957](http://jbcdn2.b0.upaiyun.com/2016/10/9023351906ee2bfac04704cc60bd629c.jpg)
**解法二：**
先把数组元素进行排序，然后遍历数组，检查任意两个相邻元素数值是否是连续的。如果不连续，则中间缺少的整数就是所要寻找的；如果全都连续，则缺少的整数不是1就是100。
假设数组长度是N，如果用时间复杂度为O（N*LogN）的排序算法进行排序，那么该解法的时间复杂度是O（N*LogN），空间复杂度是O（1）。
![%e5%b0%8f%e4%bb%93%e9%bc%a0%e9%9d%a2%e8%af%958](http://jbcdn2.b0.upaiyun.com/2016/10/929dee844e36a885283bd6de07f5d332.jpg)
![%e5%b0%8f%e4%bb%93%e9%bc%a0%e9%9d%a2%e8%af%954](http://jbcdn2.b0.upaiyun.com/2016/10/45dbcae7106a126bd22d611b4babb33f.jpg)
![%e5%b0%8f%e4%bb%93%e9%bc%a0%e9%9d%a2%e8%af%959](http://jbcdn2.b0.upaiyun.com/2016/10/90c633a0e8989bea7a6640011bf12336.jpg)
**解法三：**
很简单也很高效的方法，先算出1+2+3….+100的和，然后依次减去数组里的元素，最后得到的差，就是唯一缺失的整数。
假设数组长度是N，那么该解法的时间复杂度是O（N），空间复杂度是O（1）。
![%e5%b0%8f%e4%bb%93%e9%bc%a0%e9%9d%a2%e8%af%9510](http://jbcdn2.b0.upaiyun.com/2016/10/cbb16c00953888d72f433dcbe95d7276.jpg)
**题目扩展**：一个无序数组里有若干个正整数，范围从1到100，其中99个整数都出现了偶数次，只有一个整数出现了奇数次（比如1,1,2,2,3,3,4,5,5），如何找到这个出现奇数次的整数？
![%e5%b0%8f%e4%bb%93%e9%bc%a0%e9%9d%a2%e8%af%954](http://jbcdn2.b0.upaiyun.com/2016/10/45dbcae7106a126bd22d611b4babb33f.jpg)
![%e5%b0%8f%e4%bb%93%e9%bc%a0%e9%9d%a2%e8%af%9511](http://jbcdn2.b0.upaiyun.com/2016/10/5992b4dcec2effca50a6b6f50b478db9.jpg)
![%e5%b0%8f%e4%bb%93%e9%bc%a0%e9%9d%a2%e8%af%9512](http://jbcdn2.b0.upaiyun.com/2016/10/a86d31d2f137518360fd98d827f466fa.jpg)
![%e5%b0%8f%e4%bb%93%e9%bc%a0%e9%9d%a2%e8%af%9513](http://jbcdn2.b0.upaiyun.com/2016/10/5b59f8f7605c6cba2fe42edd39547e58.jpg)
![%e5%b0%8f%e4%bb%93%e9%bc%a0%e9%9d%a2%e8%af%9514](http://jbcdn2.b0.upaiyun.com/2016/10/2f9871101bda7c4f36df810cc0cdfc44.jpg)
**解法：**
遍历整个数组，依次做异或运算。由于异或在位运算时相同为0，不同为1，因此所有出现偶数次的整数都会相互抵消变成0，只有唯一出现奇数次的整数会被留下。
假设数组长度是N，那么该解法的时间复杂度是O（N），空间复杂度是O（1）。
![%e5%b0%8f%e4%bb%93%e9%bc%a0%e9%9d%a2%e8%af%9515](http://jbcdn2.b0.upaiyun.com/2016/10/bfc0dadeab93e51d3e8906a04ef5f669.jpg)
**题目第二次扩展**：一个无序数组里有若干个正整数，范围从1到100，其中98个整数都出现了偶数次，只有**两个**整数出现了奇数次（比如1,1,2,2,3,4,5,5），如何找到这个出现奇数次的整数？
![%e5%b0%8f%e4%bb%93%e9%bc%a0%e9%9d%a2%e8%af%9516](http://jbcdn2.b0.upaiyun.com/2016/10/a4e9a17e8177efea6ce4815677390d7e.jpg)
![%e5%b0%8f%e4%bb%93%e9%bc%a0%e9%9d%a2%e8%af%9517](http://jbcdn2.b0.upaiyun.com/2016/10/cf30528d0c495d456a508216485d3c85.jpg)
![%e5%b0%8f%e4%bb%93%e9%bc%a0%e9%9d%a2%e8%af%9518](http://jbcdn2.b0.upaiyun.com/2016/10/6e2983fc16b7882926103f796b2e193d.jpg)
![%e5%b0%8f%e4%bb%93%e9%bc%a0%e9%9d%a2%e8%af%9519](http://jbcdn2.b0.upaiyun.com/2016/10/ba9ff5a18565917d76929ac9d9a1fed4.jpg)
**解法：**
遍历整个数组，依次做异或运算。由于数组存在两个出现奇数次的整数，所以最终异或的结果，等同于这两个整数的异或结果。这个结果中，至少会有一个二进制位是1（如果都是0，说明两个数相等，和题目不符）。
举个例子，如果最终异或的结果是5，转换成二进制是00000101。此时我们可以选择任意一个是1的二进制位来分析，比如末位。把两个奇数次出现的整数命名为A和B，如果末位是1，说明A和B转为二进制的末位不同，必定其中一个整数的末位是1，另一个整数的末位是0。
根据这个结论，我们可以把原数组按照二进制的末位不同，分成两部分，一部分的末位是1，一部分的末位是0。由于A和B的末位不同，所以A在其中一部分，B在其中一部分，绝不会出现A和B在同一部分，另一部分没有的情况。
这样一来就简单了，我们的问题又回归到了上一题的情况，按照原先的异或解法，从每一部分中找出唯一的奇数次整数即可。
假设数组长度是N，那么该解法的时间复杂度是O（N）。把数组分成两部分，并不需要借助额外存储空间，完全可以在按二进制位分组的同时来做异或运算，所以空间复杂度仍然是O（1）。
![%e5%b0%8f%e4%bb%93%e9%bc%a0%e9%9d%a2%e8%af%9520](http://jbcdn2.b0.upaiyun.com/2016/10/c18278d496dc28e1b3f0fd70e2f61f15.jpg)
十分钟后……
![%e5%b0%8f%e4%bb%93%e9%bc%a0%e9%9d%a2%e8%af%9521](http://jbcdn2.b0.upaiyun.com/2016/10/042f70979229c114098c05677c161417.jpg)
以上就是小灰面试的情况……
![%e5%b0%8f%e4%bb%93%e9%bc%a0%e5%af%92%e6%9a%845](http://jbcdn2.b0.upaiyun.com/2016/10/d48781d9993feb7a93e6eb14c9e8ab1e.jpg)
![%e5%b0%8f%e4%bb%93%e9%bc%a0%e5%af%92%e6%9a%846](http://jbcdn2.b0.upaiyun.com/2016/10/7acda31fd9e6946983b0cb8aac7f1164.jpg)
![%e5%b0%8f%e4%bb%93%e9%bc%a0%e5%af%92%e6%9a%847](http://jbcdn2.b0.upaiyun.com/2016/10/1f0f2af289840e5ba118ae7cca6040a4.jpg)
![%e5%b0%8f%e4%bb%93%e9%bc%a0%e5%af%92%e6%9a%848](http://jbcdn2.b0.upaiyun.com/2016/10/979349effee6862ad89fb4a16e0b6b5d.jpg)
> 
**打赏支持我写出更多好文章，谢谢！**
[打赏作者](#rewardbox)
#### 打赏支持我写出更多好文章，谢谢！
![](http://jbcdn2.b0.upaiyun.com/2016/10/2df4a3ede6e684f78858dfde0e7b118f.jpeg)
