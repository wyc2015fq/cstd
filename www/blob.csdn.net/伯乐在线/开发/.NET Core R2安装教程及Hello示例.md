# .NET Core R2安装教程及Hello示例 - 文章 - 伯乐在线
原文出处： [XY.Seay](http://www.cnblogs.com/seayxu/p/5508148.html)
![图片来自网络/图文无关](http://jbcdn2.b0.upaiyun.com/2016/05/5c36b8f9fb155195ddca6a35d49e48d0.png)
# 前言
前几天.NET Core发布了.NET Core 1.0.1 R2 预览版，之前想着有时间尝试下.NET Core。由于各种原因，就没有初试。刚好，前几天看到.NET Core发布新版本了，决定要去一探究竟。于是乎，就立马去官网查找相关的信息，为初探做准备。
下面就开始今天的内容，有两个部分：安装和创建示例程序。
# 安装
> 
本人使用的是**Windows 10** 64位系统，安装过**Visual Studio 2015**，如果没有安装，请先安装。
## 下载安装文件
进入.NET Core官网，[进入下载页面1](https://www.microsoft.com/net/download)，[进入下载页面2](https://www.microsoft.com/net/core#windows)，下载所需的安装文件。
![.NET Core Downloads List](http://jbcdn2.b0.upaiyun.com/2016/05/5a838bf409d36f0ba434981c5a45dd83.png)
需要下载的文件：
- [.NET Core Installer(RC2)](https://download.microsoft.com/download/4/6/1/46116DFF-29F9-4FF8-94BF-F9BE05BE263B/packages/DotNetCore.1.0.0.RC2-Runtime-x64.exe)
- [.NET Core SDK Installer(Preview 1)](https://download.microsoft.com/download/4/6/1/46116DFF-29F9-4FF8-94BF-F9BE05BE263B/packages/DotNetCore.1.0.0.RC2-SDK.Preview1-x64.exe)
- [Windows (Server Hosting)](https://download.microsoft.com/download/4/6/1/46116DFF-29F9-4FF8-94BF-F9BE05BE263B/DotNetCore.1.0.0.RC2-WindowsHosting.exe)
- [DotNetCore.1.0.0.RC2-VS2015Tools](https://download.microsoft.com/download/4/6/1/46116DFF-29F9-4FF8-94BF-F9BE05BE263B/DotNetCore.1.0.0.RC2-VS2015Tools.Preview1.exe)
- [NuGet Manager extension for Visual Studio](https://dist.nuget.org/visualstudio-2015-vsix/v3.5.0-beta/NuGet.Tools.vsix)
> 
Windows系统直接下载安装文件即可。
Windows (Server Hosting)的作用相当于iis，是.NET Core Web项目的服务宿主程序，即可以直接使用Server Hosting运行Web项目。
> 
You probably only need to download one of these:
- .NET Core = Run apps with .NET Core runtime
- .NET Core SDK = Develop apps with .NET Core and the SDK+CLI (Software Development Kit/Command Line Interface) tools
> 
只需要安装下面其中一个就可以:
- .NET Core = .NET Core运行时
- .NET Core SDK = .NET Core运行时 + .NET Core开发套件(oftware Development Kit) + .NET Core 命令行工具(Command Line Interface)
## 安装.NET Core
> 
提示：请先卸载.NET Core之前的版本，否则会报错。
报错信息：
The project is configured to use .NET Core SDK version 1.0.0-preview1-002702 which is not installed or cannot be found under the path C:Program Filesdotnetbin. These components are required to build and run this project. NetCoreR2.Sample.ConsoleApp
双击下载的**DotNetCore.1.0.0.RC2-Runtime-x64.exe**，选择同意协议，然后点击”Install”安装，等待安装结束。
![DotNetCore.1.0.0.RC2-Runtime Install](http://jbcdn2.b0.upaiyun.com/2016/05/80b934c4a8dff5ac1ad09a9f162ce9c0.png)
## 安装.NET Core SDK
双击下载的**DotNetCore.1.0.0.RC2-SDK.Preview1-x64.exe**，选择同意协议，然后点击”Install”安装，等待安装结束。
![DotNetCore.1.0.0.RC2-SDK Install](http://jbcdn2.b0.upaiyun.com/2016/05/d6920b59ef6fd97f9a40ed13c4c8d19d.png)
## 安装Server Hosting
双击下载的**DotNetCore.1.0.0.RC2-WindowsHosting.exe**，选择同意协议，然后点击”Install”安装，等待安装结束。
![DotNetCore.1.0.0.RC2-WindowsHosting Install](http://jbcdn2.b0.upaiyun.com/2016/05/a708549984451b53cc6608af15c19c1d.png)
## 安装.NET Core VS2015Tools
双击下载的**DotNetCore.1.0.0.RC2-VS2015Tools.Preview1.exe**，选择同意协议，然后点击”Install”安装，等待安装结束。
![DotNetCore.1.0.0.RC2-VS2015Tools Install](http://jbcdn2.b0.upaiyun.com/2016/05/5a3193d82e0f88139f1eb69cdc9b2118.png)
## 安装NuGet Manager extension for Visual Studio
双击下载的**NuGet.Tools.vsix**，选择同意协议，然后点击”Install”安装，等待安装结束。
[NuGet Manager extension for Visual Studio Download](https://dist.nuget.org/visualstudio-2015-vsix/v3.5.0-beta/NuGet.Tools.vsix)
# 示例
示例有控制台程序和ASP.NET Core Web程序。
## .NET Core控制台程序
打开Visual Studio 2015，新建一个项目:**文件-新建-项目**
![文件-新建-项目](http://jbcdn2.b0.upaiyun.com/2016/05/675ef6cf2906dedf3a42434220fbb7c2.png)
在左侧模板选择**.NET Core**，右侧选择**控制台应用程序(.NET Core)**。
输入名称`NetCoreR2.Sample.ConsoleApp`，点击”确定”按钮。
OK，.NET Core控制台应用程序创建完成。
![创建控制台应用程序](http://jbcdn2.b0.upaiyun.com/2016/05/20bd30b483483fc3066b9272534f8719.png)
打开**Program.cs**文件，写入代码，运行。

C#
```
using System;
using System.Collections.Generic;
using System.Linq;
using System.Threading.Tasks;
namespace NetCoreR2.Sample.ConsoleApp
{
    public class Program
    {
        public static void Main(string[] args)
        {
            Console.WriteLine("Hello .NET Core 1.0.0 R2 Console App!");
            Console.ReadLine();
        }
    }
}
```
![.NET Core控制台应用程序运行结果](http://jbcdn2.b0.upaiyun.com/2016/05/b20be24ba420a200d74ecb84d5462202.png)
如果在这里提示
## ASP.NET Core Web项目
在上面的解决方案上新建一个ASP.NET Core Web项目：**添加-新建项目**
![新建项目](http://jbcdn2.b0.upaiyun.com/2016/05/da8626cb255e65591caffeae8a785fa5.png)
选择**ASP.NET Core Web Application(.NET Core)**，点击”确定”，创建项目。
![添加ASP.NET Core Web Application](http://jbcdn2.b0.upaiyun.com/2016/05/d3de8cc0c758592c66d4070607f0aa7b.png)
选择**Web 应用程序**
![选择模板-Web 应用程序](http://jbcdn2.b0.upaiyun.com/2016/05/a6772d13521471f70971ff760de56a31.png)
更改身份验证为：不进行身份验证，然后确定。
![更改身份验证:不进行身份验证](http://jbcdn2.b0.upaiyun.com/2016/05/e7e204b7830b83a6dd3d189d7a9ee49d.png)
创建好项目后，等待Neget包还原，然后按”F5″，调试运行。可以选择IIS或WindowsHosting，在这选用后者。
![调试运行](http://jbcdn2.b0.upaiyun.com/2016/05/ed1490b9063900e619ba9ecd39d0ee3a.png)
![调试运行默认效果图](http://jbcdn2.b0.upaiyun.com/2016/05/23543cf42a7133b7379445f5a231abe3.png)
接下来，自己写一个控制器，并显示信息。
![新建HelloController控制器](http://jbcdn2.b0.upaiyun.com/2016/05/bebf90edd57b1d5983e49711103f1e94.png)
创建一个**HelloController**控制器，添加一个**Index**的Action：

C#
```
using System;
using System.Collections.Generic;
using System.Linq;
using System.Threading.Tasks;
using Microsoft.AspNetCore.Mvc;
// For more information on enabling MVC for empty projects, visit http://go.microsoft.com/fwlink/?LinkID=397860
namespace NetCoreR2.Sample.WebApp.Controllers
{
    public class HelloController : Controller
    {
        // GET: //
        public IActionResult Index()
        {
            ViewData["Msg"] = "Hello .NET Core 1.0.0 R2 Asp.Net Core MVC App!";
            return View();
        }
    }
}
```
创建对应的视图文件，写入代码：

C#
```
@{
    ViewData["Title"] = "Hello Index Page";
}
@ViewData["Msg"].ToString()
```
![新建HelloController展示页](http://jbcdn2.b0.upaiyun.com/2016/05/6a6fa940565eab59326b78723503d83d.png)
![WindowsHosting命令行信息](http://jbcdn2.b0.upaiyun.com/2016/05/90bd6197b0d070425c12a8de3cef4b34.png)
