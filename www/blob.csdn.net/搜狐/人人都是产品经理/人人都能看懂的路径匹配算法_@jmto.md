# 人人都能看懂的路径匹配算法_@jmto
原标题：人人都能看懂的路径匹配算法
> 
在实际应用中，导致定位与地图道路存在偏差，其主要的原因还在于GPS数据采集的质量问题。由于这些问题非常普遍，因此我们需要在这种情况下仍然能实现较高的路径匹配准确率。那么，如何通过算法来实现呢？
![](http://5b0988e595225.cdn.sohucs.com/images/20180908/b736f242c1fc400b802248ec9be86fae.jpeg)
试想一下，一辆汽车行驶在道路上，1、2、3这三个点是汽车的GPS定位结果，我们可以看到三个点的定位、形成的轨迹和实际道路有非常明显的偏差。
![](http://5b0988e595225.cdn.sohucs.com/images/20180908/31c50f80397846028b887fea8f546e40.jpeg)
**这就是常见的，定位轨迹与地图道路的匹配问题。**相信大家都有通过饿了么点外卖，或者京东购置大件物品的经历，当我们想要查看外卖骑手和配送员的距离位置，平台往往只是在地图上由配送点到收货地址划一条直线，用户无法看到骑手完整的行驶轨迹，显示的定位与道路也常常有明显的偏移。
![](http://5b0988e595225.cdn.sohucs.com/images/20180908/8625bd3ec5884191ab05a45da5597855.jpeg)
主要的原因可能是因为在外卖和送货上门的场景下，不太需要做精准的轨迹与道路匹配。
路径匹配不准的原因 
在实际应用中，导致定位与地图道路存在偏差，其主要的原因还在于GPS数据采集的质量问题。**GPS采样频率低、定位误差大、GPS信号丢失，都会增加路径匹配的不准确性。**由于这些问题非常普遍，因此我们需要在这种情况下仍然能实现较高的路径匹配准确率。
**那么，如何通过算法来实现呢？**
路径匹配的算法实现 1. 异常点监测 
通过异常值检测算法，检验行车GPS轨迹数据中的错误数据和不合常理的数据，剔除异常值再进行计算分析。
![](http://5b0988e595225.cdn.sohucs.com/images/20180908/07cf0b1400ea4b08b56b3aadfbc16258.jpeg)
2. 观测概率 
观测车辆GPS轨迹点与周围多条道路的距离、以及道路的连续性等因素，计算出车辆行驶的正确道路。
![](http://5b0988e595225.cdn.sohucs.com/images/20180908/200beae9a21d4bce99e4900664cfa15a.jpeg)
我们计算红色的GPS点P1、P2、P3、P4与周围道路C1、C2、C3、C4的距离，根据距离确定GPS点实际位于哪条道路的概率，距离近，概率就高。同时还将考察道路的连续性，例如：两个GPS点P2、P3最为接近的是C2（1）、C3（1）两段道路，但这两段并不是一条连续的道路，这个时候就不能单纯采用最近距离来判断概率。
3. 速度权重 
当GPS点出现在高架路段，通过定位就比较难判断具体的道路。通过车辆速度权重，可以计算出车辆行驶在高架或地面道路的准确位置。
![](http://5b0988e595225.cdn.sohucs.com/images/20180908/444aa4fd6cb64cf2b1bfe239115b1aee.jpeg)
最后在实际的应用中，我们积累完善了丰富详尽的地图道路数据库，建立了数据索引，使得计算效率极大提高，并且采用了效率极高的最短路径算法，计算速度拥有更大提升。
车辆GPS轨迹的地图匹配是交通大数据挖掘中的一项重要的基础性工作，**可靠的轨迹匹配结果对于道路交通运行状态监测、实时交通信息发布、车辆定位与智能调度、出行路径选择行为分析等具有重要意义。**
由于城市道路网络中大量存在高架路、主辅路和立体交叉等复杂的道路场景，对准确的路径匹配提出了更高的要求，相信通过我们对数据算法的持续训练完善，可以不断在各个应用领域发挥价值。
本文由 @ jmto 原创发布于人人都是产品经理。未经许可，禁止转载[返回搜狐，查看更多](//www.sohu.com/?strategyid=00001 )
责任编辑：
